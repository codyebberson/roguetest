{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/wglt/dist/index.js","webpack:///./src/equipment/equipment.ts","webpack:///./src/entities/monster.ts","webpack:///./src/classes/characterclass.ts","webpack:///./src/abilities/leap.ts","webpack:///./src/equipment/weapon.ts","webpack:///./src/races/characterrace.ts","webpack:///./src/abilities/lightning.ts","webpack:///./src/entities/statsactor.ts","webpack:///./src/classes/paladin.ts","webpack:///./src/abilities/flashheal.ts","webpack:///./src/equipment/squiresvest.ts","webpack:///./src/equipment/squirespants.ts","webpack:///./src/equipment/squiresboots.ts","webpack:///./src/abilities/fireball.ts","webpack:///./src/equipment/acolytespants.ts","webpack:///./src/equipment/acolytesrobe.ts","webpack:///./src/equipment/acolytesshoes.ts","webpack:///./src/equipment/bentstaff.ts","webpack:///./src/equipment/initiatesvest.ts","webpack:///./src/equipment/initiatespants.ts","webpack:///./src/equipment/initiatesboots.ts","webpack:///./src/equipment/worndirk.ts","webpack:///./src/items/gateway.ts","webpack:///./src/gui/menuitemrenderer.ts","webpack:///./src/races/human.ts","webpack:///./src/items/portal.ts","webpack:///./src/items/hearthstone.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/classmenu.ts","webpack:///./src/ai/stunned.ts","webpack:///./src/equipment/battlewornhammer.ts","webpack:///./src/classes/priest.ts","webpack:///./src/animations/explosionanimation.ts","webpack:///./src/classes/ranger.ts","webpack:///./src/equipment/weatheredcrossbow.ts","webpack:///./src/abilities/shoot.ts","webpack:///./src/classes/rogue.ts","webpack:///./src/abilities/shadowstrike.ts","webpack:///./src/classes/warlock.ts","webpack:///./src/abilities/curse.ts","webpack:///./src/buffs/curse.ts","webpack:///./src/buffs/buff.ts","webpack:///./src/abilities/demonicgateway.ts","webpack:///./src/classes/warrior.ts","webpack:///./src/equipment/worngreatsword.ts","webpack:///./src/game.ts","webpack:///./src/entities/player.ts","webpack:///./src/gui/bottompanel.ts","webpack:///./src/gui/characterdialog.ts","webpack:///./src/gui/toppanel.ts","webpack:///./src/mapgen.ts","webpack:///./src/abilities/confuse.ts","webpack:///./src/entities/bat.ts","webpack:///./src/entities/griffon.ts","webpack:///./src/entities/shark.ts","webpack:///./src/entities/spider.ts","webpack:///./src/entities/troll.ts","webpack:///./src/items/healthpotion.ts","webpack:///./src/items/scroll.ts","webpack:///./src/entities/reddragon.ts","webpack:///./src/entities/flamecrawler.ts","webpack:///./src/entities/guard.ts","webpack:///./src/dungeon.ts","webpack:///./src/gui/levelupdialog.ts","webpack:///./src/gui/entityframes.ts","webpack:///./src/mainmenu.ts","webpack:///./src/racemenu.ts","webpack:///./src/races/dwarf.ts","webpack:///./src/races/elf.ts","webpack:///./src/races/orc.ts","webpack:///./src/races/undead.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","Vec2","[object Object]","super","this","width","height","x1","x","y1","y","x2","y2","left","top","Rect","VK_CANCEL","VK_HELP","VK_BACK_SPACE","VK_TAB","VK_CLEAR","VK_ENTER","VK_SHIFT","VK_CONTROL","VK_ALT","VK_PAUSE","VK_CAPS_LOCK","VK_ESCAPE","VK_SPACE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_PRINTSCREEN","VK_INSERT","VK_DELETE","VK_0","VK_1","VK_2","VK_3","VK_4","VK_5","VK_6","VK_7","VK_8","VK_9","VK_COLON","VK_SEMICOLON","VK_LESS_THAN","VK_EQUALS","VK_GREATER_THAN","VK_QUESTION_MARK","VK_AT","VK_A","VK_B","VK_C","VK_D","VK_E","VK_F","VK_G","VK_H","VK_I","VK_J","VK_K","VK_L","VK_M","VK_N","VK_O","VK_P","VK_Q","VK_R","VK_S","VK_T","VK_U","VK_V","VK_W","VK_X","VK_Y","VK_Z","VK_CONTEXT_MENU","VK_NUMPAD0","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_MULTIPLY","VK_ADD","VK_SEPARATOR","VK_SUBTRACT","VK_DECIMAL","VK_DIVIDE","VK_F1","VK_F2","VK_F3","VK_F4","VK_F5","VK_F6","VK_F7","VK_F8","VK_F9","VK_F10","VK_F11","VK_F12","VK_F13","VK_F14","VK_F15","VK_F16","VK_F17","VK_F18","VK_F19","VK_F20","VK_F21","VK_F22","VK_F23","VK_F24","VK_NUM_LOCK","VK_SCROLL_LOCK","VK_CIRCUMFLEX","VK_EXCLAMATION","VK_DOUBLE_QUOTE","VK_HASH","VK_DOLLAR","VK_PERCENT","VK_AMPERSAND","VK_UNDERSCORE","VK_OPEN_PAREN","VK_CLOSE_PAREN","VK_ASTERISK","VK_PLUS","VK_PIPE","VK_HYPHEN_MINUS","VK_OPEN_CURLY_BRACKET","VK_CLOSE_CURLY_BRACKET","VK_TILDE","VK_COMMA","VK_PERIOD","VK_SLASH","VK_BACK_QUOTE","VK_OPEN_BRACKET","VK_BACK_SLASH","VK_CLOSE_BRACKET","VK_QUOTE","VK_META","VK_ALTGR","VK_WIN","VK_KANA","VK_HANGUL","VK_EISU","VK_JUNJA","VK_FINAL","VK_HANJA","VK_KANJI","VK_CONVERT","VK_NONCONVERT","VK_ACCEPT","VK_MODECHANGE","VK_SELECT","VK_PRINT","VK_EXECUTE","VK_SLEEP","Keys","Panel","gui","rect","children","ArrayList","modal","visible","length","setGui","parent","add","remove","isDragging","getPanelAt","contains","drawChildren","drawContents","handleChildrenInput","handleInput","dragElement","Animation","promise","AnimationPromise","countdown","blocking","BLACK","fromRgb","WHITE","GRAY","LIGHT_GRAY","DARK_GRAY","YELLOW","BROWN","RED","LIGHT_RED","DARK_RED","GREEN","LIGHT_GREEN","DARK_GREEN","LIGHT_CYAN","DARK_CYAN","BLUE","LIGHT_BLUE","DARK_BLUE","LIGHT_MAGENTA","DARK_MAGENTA","ORANGE","Colors","Dialog","closeButton","renderer","draw","app","isKeyPressed","mouse","isClicked","TalentButton","Button","ability","sprite","talent","shortcut","tooltipMessages","use","cooldown","actor","game","cooldownSprite","Math","round","frames","h","a","drawImage","drawCenteredString","toString","fromHsv","u","elements","splice","push","listeners","onAdd","indexOf","onRemove","ItemShortcutButton","containerItems","shortcutItem","getItem","player","countItems","drawRightString","shortcutKey","onClick","start","startDragging","click","down","messages","ButtonSlot","button","buttonSlotRect","String","fromCharCode","ItemButton","stackItems","SELF","ENTITY","TILE","TargetType","Entity","offset","blocks","zIndex","pixelX","tileSize","pixelY","centerPixelX","centerPixelY","hypot","viewport","AI","alwaysActive","Input","downCount","upCount","Actor","hp","maxHp","ap","maxAp","inventory","talents","visibleDuration","seen","isBlocked","tileMap","animations","SlideAnimation","blocked","move","abs","onAttack","takeDamage","BumpAnimation","min","addFloatingText","onDeath","entities","onPickup","onUse","targetType","cast","startTargeting","FloatingTextAnimation","entity","dx","dy","update","str","color","floor","Keyboard","keys","Array","addEventListener","setKey","stopPropagation","preventDefault","keyCode","Mouse","prev","dragDistance","longPress","canvas","handleEvent","handleTouchEvent","touches","updatePosition","clientX","clientY","type","focus","getBoundingClientRect","size","createShader","shaderSource","compileShader","ExtendedTexture","WebGLTexture","loaded","initShaderProgram","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","loadShader","createTexture","bindTexture","TEXTURE_2D","RGBA","UNSIGNED_BYTE","Uint8Array","texImage2D","Image","onload","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","generateMipmap","src","AppState","GUI","DialogRenderer","rootPanel","dragOffset","updateDragging","onDrop","baseRect","closeButtonRect","g","f","reverse","computePath","grid","RNG","state","nextInt","reduce","nextRange","chooseIndex","loop","ticksPerFrame","colorOverride","animIndex","animDelay","globalAnimIndex","Sprite","Message","text","ShortcutButtonSlot","clone","handlers","BasicMonster","damageFunc","distanceTo","moveToward","attack","ConfusedMonster","numTurns","oldAi","ai","rng","FadeInAnimation","duration","blackoutRect","max","FadeOutAnimation","ProjectileAnimation","position","velocity","w","_","A","v","App","Error","getContext","alpha","antialias","gl","font","FONT_04B03","fillWindow","scaleFactor","center","disable","DEPTH_TEST","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","style","outline","tabIndex","mobile","isMobile","renderSet","RenderSet","imageUrl","keyboard","handleResizeEvent","renderLoop","innerWidth","innerHeight","navigator","userAgent","match","resetGl","flush","requestAnimationFrame","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionArrayIndex","texcoordArrayIndex","colorArrayIndex","drawString","getKey","isKeyArrayPressed","getWidth","charCodeAt","Font","MonospacedFont","glyphSize","widths","offsets","ProportionalFont","program","viewportSizeLocation","getUniformLocation","positionLocation","getAttribLocation","texcoordLocation","colorLocation","positionBuffer","createBuffer","texcoordBuffer","colorBuffer","spriteTexture","positionArray","Float32Array","texcoordArray","colorUint8Array","colorDataView","DataView","buffer","getStringWidth","split","getHeight","isInRange","getOffset","setUint32","useProgram","uniform2f","activeTexture","TEXTURE0","enableVertexAttribArray","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","FLOAT","vertexAttribPointer","TRIANGLES","drawArrays","Game","viewportFocus","turnIndex","cursor","tooltip","TooltipDialog","pathIndex","horizontalViewDistance","viewDistance","verticalViewDistance","messageLog","updateGlobalAnimations","updateTooltip","updateAnimations","updateEntities","onUpdate","updateViewport","drawTileMap","drawTargeting","drawEntities","drawAnimations","tooltipElement","isLongPress","vibrate","showAt","isDone","resolve","handlePlayerInput","doAi","nextTurn","ceil","isTargeting","targetSprite","isVisible","targetAbility","targetCallback","getActorAt","getCell","cancelTargeting","isKeyDown","isDownLeftKeyPressed","isDownKeyPressed","isDownRightKeyPressed","isLeftKeyPressed","isRightKeyPressed","isUpLeftKeyPressed","isUpKeyPressed","isUpRightKeyPressed","endTargeting","targetTile","path","stopAutoWalk","tryMoveOrAttack","isWaitKeyPressed","onBump","endTurn","recomputeFov","recalculateViewportFocus","startTurn","computeFov","ComplexSelectDialog","options","selectedIndex","DefaultSelectOptionRenderer","drawOption","onSelect","onCancel","ImagePanel","srcRect","ItemContainerDialog","capacity","items","addListener","addItem","removeItem","ItemContainerButtonSlot","getExistingButton","getNextFreeSlot","MessageLog","maxItems","MessagePanel","message","SelectDialog","callback","close","ShortcutBar","spacing","containsTalent","getFreeSlot","containsItem","TalentsDialog","Item","Talent","rank","tile","blockedSight","TileMapCell","imageData","dimensions","texture","texSubImage2D","TileMapLayer","TileMap","layers","tileWidth","tileHeight","originX","originY","minX","maxX","minY","maxY","quadVertBuffer","STATIC_DRAW","tilemapShader","positionAttribute","textureAttribute","viewportSizeUniform","viewOffsetUniform","mapSizeUniform","tileSizeUniform","animFrameUniform","tileSamplerUniform","spriteSamplerUniform","initGl","uniform1f","uniform1i","TEXTURE1","isSeen","setAlpha","uniform2fv","updateGl","computeOctantY","computeOctantX","wglt_1","EquipmentSlot","Equipment","slot","bonusArmor","bonusStrength","bonusDexterity","bonusConstitution","bonusIntelligence","equipped","getEquipment","equipment","statsactor_1","START_BLOOD","END_BLOOD","Monster","StatsActor","calculateDamage","log","undefined","sendToBack","xpGain","level","pow","addXp","setTile","attacker","target","statsActor","minDamage","maxDamage","strengthModifier","CharacterClass","icon","description","details","stunned_1","LEAP_RANGE","LEAP_RADIUS","LEAP_COLOR","LEAP_SPRITE","TOOLTIP_MESSAGES","LeapAbility","minRange","maxRange","caster","xSpeed","ySpeed","addAnimation","then","count","Stunned","equipment_1","Weapon","ranged","finesse","CharacterRace","LIGHTNING_RANGE","MANA_COST","LightningAbility","monster","getClosestMonster","damage","intelligenceModifier","explosion","range","minDist","result","dist","distance","mp","maxMp","armor","strength","dexterity","constitution","intelligence","showFrame","buffs","item","calculateModifier","dexterityModifier","constitutionModifier","abilityScore","mainHandWeapon","MAINHAND","weapon","buff","flashheal_1","leap_1","lightning_1","characterclass_1","squiresvest_1","squirespants_1","squiresboots_1","battlewornhammer_1","NAME","ICON","SPRITE","DESC","DETAILS","Paladin","class","FlashHealAbility","SquiresVest","SquiresPants","SquiresBoots","BattlewornHammer","healAmount","takeHeal","TOOLTIPS","CHEST","LEGS","FEET","explosionanimation_1","FIREBALL_RANGE","FIREBALL_RADIUS","FIREBALL_DAMAGE","FIRE_COLOR","FIREBALL_SPRITE","FireballAbility","ExplosionAnimation","AcolytesPants","AcolytesRobe","AcolytesShoes","weapon_1","BentStaff","InitiatesVest","InitiatesPants","InitiatesBoots","WornDirk","Gateway","owner","MenuItemRenderer","expandedHeight","collapsedHeight","point","option","selected","iconColor","titleColor","descColor","j","msg","characterrace_1","Human","race","Portal","fade","Hearthstone","warpToPoint","home","location","hash","startGame","chooseRace","chooseClass","showHighScores","showCredits","showMainMenu","wglt","classmenu_1","game_1","mainmenu_1","racemenu_1","hearthstone_1","document","querySelector","mainMenu","MainMenu","raceMenu","RaceMenu","classMenu","ClassMenu","highScores","credits","playerRace","initPlayer","playerClass","paladin_1","priest_1","ranger_1","rogue_1","warlock_1","warrior_1","menuitemrenderer_1","CLASSES","Priest","Ranger","Rogue","Warlock","Warrior","selectDialog","choice","history","back","turns","fireball_1","acolytespants_1","acolytesrobe_1","acolytesshoes_1","bentstaff_1","radius","sprites","maxRadius","centerX","centerY","angle","cos","sin","animation","initiatesvest_1","initiatespants_1","initiatesboots_1","weatheredcrossbow_1","shoot_1","ShootAbility","WeatheredCrossbow","RANGE","getDamage","shadowstrike_1","worndirk_1","ShadowStrikeAbility","farthestTile","farthestDistance","curse_1","demonicgateway_1","CurseAbility","DemonicGatewayAbility","Curse","buff_1","Buff","gateway_1","gateway1","gateway2","other","worngreatsword_1","WornGreatsword","player_1","bottompanel_1","characterdialog_1","toppanel_1","mapgen_1","levelupdialog_1","entityframes_1","TARGET_SPRITE","mapGen","MapGenerator","Player","topPanel","TopPanel","bottomPanel","BottomPanel","EntityFrames","inventoryButton","inventoryDialog","talentsDialog","characterDialog","inventorySlot","characterButton","characterSlot","talentsButton","talentsSlot","menuButton","menuSlot","CharacterDialog","levelUpDialog","LevelUpDialog","shortcutBar","addTalent","createMap","resetViewport","human_1","monster_1","portal_1","PLAYER_SPRITE","xp","maxXp","remainingAbilityPoints","exit","pickup","levelUp","nextMaxXp","oldMaxXp","MARGIN","BUTTON_SPACING","headSlot","neckSlot","backSlot","chestSlot","handsSlot","legsSlot","feetSlot","ringSlot","mainHandSlot","offHandSlot","getSlot","HEAD","NECK","BACK","HANDS","RING","OFFHAND","containerRect","buttonRect","desc","child","inspectSlot","toUpperCase","confuse_1","bat_1","griffon_1","shark_1","spider_1","troll_1","healthpotion_1","scroll_1","reddragon_1","guard_1","dungeon_1","MAP_WIDTH","MAP_HEIGHT","OVERWORLD_WIDTH","OVERWORLD_HEIGHT","DUNGEON_WIDTH","DUNGEON_HEIGHT","TILE_EMPTY","TILE_SHADOW","getTileId","TILE_WALL","TILE_HALF_WALL","TILE_HALF_WALL2","TILE_HALF_WALL3","TILE_FLOOR","TILE_WATER","TILE_BRIDGE","TILE_COBWEB_NORTHWEST","TILE_COBWEB_NORTHEAST","TILE_COBWEB_SOUTHWEST","TILE_COBWEB_SOUTHEAST","TILE_DOOR","TILE_STAIRS_DOWN","TILE_STAIRS_UP","TILE_BARREL","TILE_STATUE","TILE_GRASS","TILE_TREE","TILE_PATH","tileX","tileY","ROOM_MIN_WIDTH","ROOM_MAX_WIDTH","ROOM_MIN_HEIGHT","ROOM_MAX_HEIGHT","MAX_ROOMS","MAX_ROOM_MONSTERS","MAX_ROOM_ITEMS","MAX_ROOM_OBSTACLES","STAIRS_SPRITE","BOSS_LAYOUTS","bossZone","bossRoom","stairsRoom","map","createOverworld","dungeons","dungeon","Dungeon","createDungeon","portalSprite","portal1","portal2","entrance","touchUp","outerOverworld","overworld","clearMap","setAnimated","createRiver","treeX","treeY","getTile","console","getEntityAt","roll","Spider","Bat","Troll","createCastle","castle","getCenter","moat","walls","floors","waypoints","guard","Guard","bossLayout","rooms","newRoom","failed","intersects","createRoom","createHTunnel","createVTunnel","placeMonsters","placeItems","bossLevel","redDragon","RedDragon","griffon","Griffon","stairsLoc","placeObstacles","z","room","existing","dungeonLevel","numMonsters","numItems","dice","HealthPotion","Scroll","ConfuseAbility","bounds","water","t1","t2","t3","t4","t5","nearBridge","Shark","CONFUSE_RANGE","CONFUSE_SPRITE","DAMAGE","BatAI","GriffonAI","leapTalent","findLeapTarget","aggro","SharkAI","HEAL_AMOUNT","user","flamecrawler_1","RedDragonAI","dragon","FlameCrawler","FlameCrawlerAI","aliveCount","nextX","nextY","index","GuardAI","waypointIndex","waitCount","aggroCount","otherGuard","waypoint","CONSTITUTION_SPRITE","DEXTERITY_SPRITE","INTELLIGENCE_SPRITE","STRENGTH_SPRITE","DESCRIPTIONS","constitutionSlot","constitutionBtn","incConstitution","dexteritySlot","dexterityBtn","incDexterity","intelligenceSlot","intelligenceBtn","incIntelligence","strengthSlot","strengthBtn","incStrength","increaseStat","con","dex","int","bo","healthWidth","levelColor","OPTIONS","display","enabled","time","chooseSprites","random","time2","dwarf_1","elf_1","orc_1","undead_1","RACES","Dwarf","Elf","Orc","Undead"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"wglt\",[],e):\"object\"==typeof exports?exports.wglt=e():t.wglt=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=33)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);class r extends s.Vec2{constructor(t,e,i,s){super(t,e),this.width=i,this.height=s}get x1(){return this.x}get y1(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get left(){return this.x}get top(){return this.y}clone(){return new r(this.x,this.y,this.width,this.height)}getCenter(){return new s.Vec2(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}}e.Rect=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Vec2=class{constructor(t,e){this.x=t,this.y=e}add(t){this.x+=t.x,this.y+=t.y}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{}s.VK_CANCEL=3,s.VK_HELP=6,s.VK_BACK_SPACE=8,s.VK_TAB=9,s.VK_CLEAR=12,s.VK_ENTER=13,s.VK_SHIFT=16,s.VK_CONTROL=17,s.VK_ALT=18,s.VK_PAUSE=19,s.VK_CAPS_LOCK=20,s.VK_ESCAPE=27,s.VK_SPACE=32,s.VK_PAGE_UP=33,s.VK_PAGE_DOWN=34,s.VK_END=35,s.VK_HOME=36,s.VK_LEFT=37,s.VK_UP=38,s.VK_RIGHT=39,s.VK_DOWN=40,s.VK_PRINTSCREEN=44,s.VK_INSERT=45,s.VK_DELETE=46,s.VK_0=48,s.VK_1=49,s.VK_2=50,s.VK_3=51,s.VK_4=52,s.VK_5=53,s.VK_6=54,s.VK_7=55,s.VK_8=56,s.VK_9=57,s.VK_COLON=58,s.VK_SEMICOLON=59,s.VK_LESS_THAN=60,s.VK_EQUALS=61,s.VK_GREATER_THAN=62,s.VK_QUESTION_MARK=63,s.VK_AT=64,s.VK_A=65,s.VK_B=66,s.VK_C=67,s.VK_D=68,s.VK_E=69,s.VK_F=70,s.VK_G=71,s.VK_H=72,s.VK_I=73,s.VK_J=74,s.VK_K=75,s.VK_L=76,s.VK_M=77,s.VK_N=78,s.VK_O=79,s.VK_P=80,s.VK_Q=81,s.VK_R=82,s.VK_S=83,s.VK_T=84,s.VK_U=85,s.VK_V=86,s.VK_W=87,s.VK_X=88,s.VK_Y=89,s.VK_Z=90,s.VK_CONTEXT_MENU=93,s.VK_NUMPAD0=96,s.VK_NUMPAD1=97,s.VK_NUMPAD2=98,s.VK_NUMPAD3=99,s.VK_NUMPAD4=100,s.VK_NUMPAD5=101,s.VK_NUMPAD6=102,s.VK_NUMPAD7=103,s.VK_NUMPAD8=104,s.VK_NUMPAD9=105,s.VK_MULTIPLY=106,s.VK_ADD=107,s.VK_SEPARATOR=108,s.VK_SUBTRACT=109,s.VK_DECIMAL=110,s.VK_DIVIDE=111,s.VK_F1=112,s.VK_F2=113,s.VK_F3=114,s.VK_F4=115,s.VK_F5=116,s.VK_F6=117,s.VK_F7=118,s.VK_F8=119,s.VK_F9=120,s.VK_F10=121,s.VK_F11=122,s.VK_F12=123,s.VK_F13=124,s.VK_F14=125,s.VK_F15=126,s.VK_F16=127,s.VK_F17=128,s.VK_F18=129,s.VK_F19=130,s.VK_F20=131,s.VK_F21=132,s.VK_F22=133,s.VK_F23=134,s.VK_F24=135,s.VK_NUM_LOCK=144,s.VK_SCROLL_LOCK=145,s.VK_CIRCUMFLEX=160,s.VK_EXCLAMATION=161,s.VK_DOUBLE_QUOTE=162,s.VK_HASH=163,s.VK_DOLLAR=164,s.VK_PERCENT=165,s.VK_AMPERSAND=166,s.VK_UNDERSCORE=167,s.VK_OPEN_PAREN=168,s.VK_CLOSE_PAREN=169,s.VK_ASTERISK=170,s.VK_PLUS=171,s.VK_PIPE=172,s.VK_HYPHEN_MINUS=173,s.VK_OPEN_CURLY_BRACKET=174,s.VK_CLOSE_CURLY_BRACKET=175,s.VK_TILDE=176,s.VK_COMMA=188,s.VK_PERIOD=190,s.VK_SLASH=191,s.VK_BACK_QUOTE=192,s.VK_OPEN_BRACKET=219,s.VK_BACK_SLASH=220,s.VK_CLOSE_BRACKET=221,s.VK_QUOTE=222,s.VK_META=224,s.VK_ALTGR=225,s.VK_WIN=91,s.VK_KANA=21,s.VK_HANGUL=21,s.VK_EISU=22,s.VK_JUNJA=23,s.VK_FINAL=24,s.VK_HANJA=25,s.VK_KANJI=25,s.VK_CONVERT=28,s.VK_NONCONVERT=29,s.VK_ACCEPT=30,s.VK_MODECHANGE=31,s.VK_SELECT=41,s.VK_PRINT=42,s.VK_EXECUTE=43,s.VK_SLEEP=95,e.Keys=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(9);e.Panel=class{constructor(t){this.gui=null,this.rect=t,this.children=new s.ArrayList,this.modal=!1,this.visible=!0}setGui(t){if(!this.gui){this.gui=t;for(let e=0;e<this.children.length;e++)this.children.get(e).setGui(t)}}add(t){t.parent=this,t.setGui(this.gui),this.children.add(t)}remove(t){this.children.remove(t)}move(t){this.parent&&this.parent.remove(this),t.add(this)}getPanelAt(t){for(let e=this.children.length-1;e>=0;e--){const i=this.children.get(e);if(!i.visible)continue;if(i.isDragging())continue;const s=i.getPanelAt(t);if(s)return s}if(this.rect.contains(t))return this}drawContents(){this.drawChildren()}drawChildren(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);e.visible&&e.drawContents()}}handleInput(){return this.handleChildrenInput()}handleChildrenInput(){for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(e.visible&&(e.handleInput()||e.modal))return!0}return!1}isDragging(){return this.gui&&this.gui.dragElement===this}onDrop(t){return!1}updateTooltip(t){t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(34);e.Animation=class{constructor(t,e){this.promise=new s.AnimationPromise,this.countdown=t,this.blocking=e}isDone(){return this.countdown<=0}update(){this.countdown--}draw(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(8);class r{}r.BLACK=s.fromRgb(0,0,0),r.WHITE=s.fromRgb(255,255,255),r.GRAY=s.fromRgb(128,128,128),r.LIGHT_GRAY=s.fromRgb(170,170,170),r.DARK_GRAY=s.fromRgb(85,85,85),r.YELLOW=s.fromRgb(255,255,85),r.BROWN=s.fromRgb(170,85,0),r.RED=s.fromRgb(255,0,0),r.LIGHT_RED=s.fromRgb(255,85,85),r.DARK_RED=s.fromRgb(170,0,0),r.GREEN=s.fromRgb(0,255,0),r.LIGHT_GREEN=s.fromRgb(85,255,85),r.DARK_GREEN=s.fromRgb(0,170,0),r.LIGHT_CYAN=s.fromRgb(85,255,255),r.DARK_CYAN=s.fromRgb(0,170,170),r.BLUE=s.fromRgb(0,0,255),r.LIGHT_BLUE=s.fromRgb(85,85,255),r.DARK_BLUE=s.fromRgb(0,0,170),r.LIGHT_MAGENTA=s.fromRgb(255,85,255),r.DARK_MAGENTA=s.fromRgb(170,0,170),r.ORANGE=s.fromRgb(255,136,0),e.Colors=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(3);e.Dialog=class extends r.Panel{constructor(t){super(t),this.closeButton=!1}drawContents(){this.gui&&this.gui.renderer.draw(this.gui.app,this)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.visible=!1,!0;const t=this.gui.app.mouse;return!(!t.isClicked()||this.rect.contains(t)||(this.visible=!1,0))}close(){this.gui&&this.gui.remove(this)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(11);e.TalentButton=class extends r.Button{constructor(t,e,i){super(t,e.ability.sprite),this.talent=e,this.shortcut=!!i,this.tooltipMessages=e.ability.tooltipMessages}click(){this.talent.use()}drawContents(){if(super.drawContents(),this.talent.cooldown>0){const t=this.talent.actor.game,e=t.cooldownSprite;if(e){const i=1-this.talent.cooldown/this.talent.ability.cooldown,r=Math.round(i*e.frames),n=e.x+r*e.width,o=e.y,h=this.rect.x+(this.rect.width-e.width)/2|0,a=this.rect.y+(this.rect.height-e.height)/2|0;t.app.drawImage(h,a,n,o,e.width,e.height);const c=this.rect.x+this.rect.width/2|0,l=this.rect.y+this.rect.height/2|0;t.app.drawCenteredString(this.talent.cooldown.toString(),c+1,l-2,s.Colors.BLACK),t.app.drawCenteredString(this.talent.cooldown.toString(),c,l-3,s.Colors.WHITE)}}}}},function(t,e,i){\"use strict\";function s(t,e,i,s){return void 0===s&&(s=255),(t<<24)+(e<<16)+(i<<8)+s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.fromRgb=s,e.fromHsv=function(t,e,i,r){const n=6*t|0,o=6*t-n,h=i*(1-e),a=i*(1-o*e),c=i*(1-(1-o)*e);let l,d,u;switch(n%6){case 0:l=i,d=c,u=h;break;case 1:l=a,d=i,u=h;break;case 2:l=h,d=i,u=c;break;case 3:l=h,d=a,u=i;break;case 4:l=c,d=h,u=i;break;case 5:l=i,d=h,u=a;break;default:l=0,d=0,u=0}return void 0===r&&(r=1),s(255*l|0,255*d|0,255*u|0,255*r|0)}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.ArrayList=class{constructor(){this.elements=[]}get length(){return this.elements.length}clear(){this.elements.splice(0,this.elements.length)}get(t){return this.elements[t]}add(t){if(this.elements.push(t),this.listeners)for(let e=0;e<this.listeners.length;e++)this.listeners[e].onAdd(this,t)}remove(t){const e=this.elements.indexOf(t);if(e>=0&&(this.elements.splice(e,1),this.listeners))for(let e=0;e<this.listeners.length;e++)this.listeners[e].onRemove(this,t)}contains(t){return this.elements.indexOf(t)>=0}addListener(t){this.listeners||(this.listeners=[]),this.listeners.push(t)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(11);e.ItemShortcutButton=class extends s.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.shortcutItem=i,this.tooltipMessages=i.tooltipMessages}click(){const t=this.getItem();if(t){const e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),!this.isDragging())){const t=this.rect,e=this.countItems();this.gui.app.drawRightString(e.toString(),t.x2-3,t.y2-10)}}getItem(){for(let t=0;t<this.containerItems.length;t++){const e=this.containerItems.get(t);if(e.name===this.shortcutItem.name)return e}}countItems(){let t=0;for(let e=0;e<this.containerItems.length;e++)this.containerItems.get(e).name===this.shortcutItem.name&&t++;return t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.Button=class extends s.Panel{constructor(t,e,i,s){super(t),this.sprite=e,this.shortcutKey=i,this.onClick=s}drawContents(){if(!this.gui)return;const t=this.sprite,e=this.rect,i=(e.width-t.width)/2|0,s=(e.height-t.height)/2|0;t.draw(this.gui.app,e.x+i,e.y+s)}handleInput(){if(!this.gui)return!1;const t=this.gui.app,e=t.mouse;return this.rect.contains(e.start)&&e.isDragging()?(this.gui.startDragging(this),!0):this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked()?(this.click(),!0):e.down&&this.rect.contains(e)}click(){this.onClick&&this.onClick()}updateTooltip(t){this.tooltipMessages?(t.messages=this.tooltipMessages,t.visible=!0):t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.ButtonSlot=class extends s.Panel{constructor(t,e){super(t),this.shortcutKey=e}get button(){return this.children.length>0?this.children.get(0):void 0}drawContents(){if(!this.gui)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;e&&this.gui.app.drawImage(t.x,t.y,e.x,e.y,t.width,t.height);const i=this.button;i&&!i.isDragging()&&(i.rect.x=this.rect.x,i.rect.y=this.rect.y,i.rect.width=this.rect.width,i.rect.height=this.rect.height,this.drawChildren()),this.shortcutKey&&this.gui.app.drawRightString(String.fromCharCode(this.shortcutKey),t.x2-3,t.y+3)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;const t=this.gui.app,e=t.mouse,i=this.button;return i&&(this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked())?(i.click(),!0):e.down&&this.rect.contains(e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(9),r=i(11);e.ItemButton=class extends r.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.stackItems=new s.ArrayList,this.stackItems.add(i),this.tooltipMessages=i.tooltipMessages}click(){if(this.stackItems.length>0){const t=this.stackItems.get(0),e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),this.stackItems.length>1)){const t=this.rect;this.gui.app.drawRightString(this.stackItems.length.toString(),t.x2-3,t.y2-10)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SELF=0]=\"SELF\",t[t.ENTITY=1]=\"ENTITY\",t[t.TILE=2]=\"TILE\"}(e.TargetType||(e.TargetType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);e.Entity=class extends s.Vec2{constructor(t,e,i,r,n,o){super(e,i),this.game=t,this.offset=new s.Vec2(0,0),this.name=r,this.sprite=n,this.blocks=o,this.zIndex=1}get pixelX(){return this.x*this.game.tileSize.width+this.offset.x}get pixelY(){return this.y*this.game.tileSize.height+this.offset.y}get centerPixelX(){return this.pixelX+this.sprite.width/2|0}get centerPixelY(){return this.pixelY+this.sprite.height/2|0}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}distance(t,e){return Math.hypot(t-this.x,e-this.y)}draw(){this.sprite.draw(this.game.app,this.pixelX-this.game.viewport.x,this.pixelY-this.game.viewport.y)}startTurn(){}endTurn(){}sendToBack(){}onBump(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AI=class{constructor(t){this.actor=t,this.alwaysActive=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Input=class{constructor(){this.down=!1,this.downCount=0,this.upCount=0}update(){this.down?(this.downCount++,this.upCount=0):(this.downCount=0,this.upCount++)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(19),n=i(20),o=i(21),h=i(9),a=i(5),c=i(15);e.Actor=class extends c.Entity{constructor(t,e,i,s,r,n){super(t,e,i,s,r,n),this.hp=100,this.maxHp=100,this.ap=1,this.maxAp=1,this.inventory=new h.ArrayList,this.talents=new h.ArrayList,this.visibleDuration=-1,this.seen=!1}startTurn(){this.ap=this.maxAp;for(let t=0;t<this.talents.length;t++){const e=this.talents.get(t);e.cooldown>0&&e.cooldown--}}move(t,e,i){const s=this.x+t,r=this.y+e;if(this.blocks){if(this.game.isBlocked(s,r))return!1}else if(this.game.tileMap&&this.game.tileMap.isBlocked(s,r))return!1;this.x=s,this.y=r,this.ap--,this.offset.x=-t*this.game.tileSize.width,this.offset.y=-e*this.game.tileSize.height;const n=i||4,h=this.game.tileSize.width/n,a=this.game.tileSize.height/n;return this.game.animations.push(new o.SlideAnimation(this,t*h,e*a,n)),this.game.blocked=!0,!0}moveTo(t,e,i){return this.move(t-this.x,e-this.y,i)}moveToward(t,e,i){const s=t-this.x,r=e-this.y;if(s<0&&r<0&&this.move(-1,-1,i))return!0;if(s<0&&r>0&&this.move(-1,1,i))return!0;if(s>0&&r<0&&this.move(1,-1,i))return!0;if(s>0&&r>0&&this.move(1,1,i))return!0;if(Math.abs(s)>Math.abs(r)){if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0;if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0}else{if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0;if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0}return!1}attack(t,e){t!==this&&(this.onAttack(t,e),t.takeDamage(e),this.ap--,this.game.animations.push(new r.BumpAnimation(this,t)),this.game.blocked=!0)}takeHeal(t){this.hp=Math.min(this.hp+t,this.maxHp),this.addFloatingText(t.toString(),a.Colors.LIGHT_GREEN)}takeDamage(t){if(this.hp-=t,this.addFloatingText(t.toString(),a.Colors.RED),this.hp<=0){this.hp=0,this.onDeath&&this.onDeath();const t=this.game.entities.indexOf(this);t>=0&&this.game.entities.splice(t,1)}}pickup(t){t.onPickup(this),this.inventory.add(t);const e=this.game.entities.indexOf(t);e>=0&&this.game.entities.splice(e,1)}use(t){return t.onUse(this)}cast(t,e,i){t.targetType===s.TargetType.SELF||e?t.cast(this,e)&&i&&i():this.game.startTargeting(t,i)}addFloatingText(t,e){this.game.animations.push(new n.FloatingTextAnimation(this,t,e))}onAttack(t,e){}onDeath(){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),r=12;e.BumpAnimation=class extends s.Animation{constructor(t,e){super(r,!0),this.entity=t,this.dx=e.x-t.x,this.dy=e.y-t.y}update(){const t=r-this.countdown;t>=0&&t<4&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),t>=4&&t<8&&(this.entity.offset.x-=this.dx,this.entity.offset.y-=this.dy),super.update()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(4),n=40;e.FloatingTextAnimation=class extends r.Animation{constructor(t,e,i){super(n,!1),this.actor=t,this.str=e,this.color=i||s.Colors.WHITE}draw(t){const e=n-this.countdown,i=this.actor.pixelX+(this.actor.sprite.width/2|0)-t.viewport.x,s=this.actor.pixelY-3-t.viewport.y-Math.min(4,Math.floor(e/2));t.app.drawCenteredString(this.str,i,s,this.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);e.SlideAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.entity=t,this.dx=e,this.dy=i}update(){this.countdown--,this.countdown>=0&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),0===this.countdown&&(this.entity.offset.x=0,this.entity.offset.y=0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=256;e.Keyboard=class{constructor(t){this.keys=new Array(r);for(let t=0;t<r;t++)this.keys[t]=new s.Input;t.addEventListener(\"keydown\",t=>this.setKey(t,!0)),t.addEventListener(\"keyup\",t=>this.setKey(t,!1))}setKey(t,e){t.stopPropagation(),t.preventDefault();const i=t.keyCode;i>=0&&i<r&&(this.keys[i].down=e)}update(){for(let t=0;t<r;t++)this.keys[t].down?this.keys[t].downCount++:this.keys[t].downCount=0}getKey(t){return t>=0&&t<r?this.keys[t]:null}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=i(0),n=i(1),o=4,h=30;e.Mouse=class extends s.Input{constructor(t){super(),this.app=t,this.prev=new n.Vec2(0,0),this.start=new n.Vec2(0,0),this.x=0,this.y=0,this.dx=0,this.dy=0,this.dragDistance=0,this.longPress=!1;const e=t.canvas,i=this.handleEvent.bind(this);e.addEventListener(\"mousedown\",i),e.addEventListener(\"mouseup\",i),e.addEventListener(\"mousemove\",i),e.addEventListener(\"contextmenu\",i);const s=this.handleTouchEvent.bind(this);e.addEventListener(\"touchstart\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s),e.addEventListener(\"touchmove\",s)}handleTouchEvent(t){if(t.stopPropagation(),t.preventDefault(),t.touches.length>0){const e=t.touches[0];this.updatePosition(e.clientX,e.clientY)}\"touchstart\"===t.type&&(this.down=!0,this.prev.x=this.x,this.prev.y=this.y,this.start.x=this.x,this.start.y=this.y,this.dx=0,this.dy=0,this.dragDistance=0),\"touchend\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}handleEvent(t){t.stopPropagation(),t.preventDefault(),this.updatePosition(t.clientX,t.clientY),\"mousedown\"===t.type&&(this.down=!0,this.start.x=this.x,this.start.y=this.y,this.dragDistance=0,this.app.canvas.focus()),\"mouseup\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}updatePosition(t,e){let i=this.app.canvas.getBoundingClientRect();const s=this.app.size.width/this.app.size.height,n=i.width/i.height;if(n-s>.01){const t=s*i.height,e=i.width-t;i=new r.Rect(Math.floor(e/2),0,t,i.height)}if(n-s<-.01){const t=i.width/s,e=i.height-t;i=new r.Rect(0,Math.floor(e/2),i.width,t)}this.x=this.app.size.width*(t-i.left)/i.width|0,this.y=this.app.size.height*(e-i.top)/i.height|0}update(){super.update(),this.dx=this.x-this.prev.x,this.dy=this.y-this.prev.y,this.prev.x=this.x,this.prev.y=this.y,this.down&&(this.dragDistance+=Math.abs(this.dx)+Math.abs(this.dy))}isClicked(){return 1===this.upCount&&this.dragDistance<o&&!this.longPress}isDragging(){return this.down&&this.dragDistance>o}isLongPress(){return this.downCount===h&&!this.isDragging()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function s(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}e.ExtendedTexture=class extends WebGLTexture{constructor(){super(),this.loaded=!1,this.width=0,this.height=0}},e.initShaderProgram=function(t,e,i){const r=s(t,t.VERTEX_SHADER,e),n=s(t,t.FRAGMENT_SHADER,i),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),o},e.loadShader=s,e.createTexture=function(t,e){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.RGBA,r=t.RGBA,n=t.UNSIGNED_BYTE,o=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,0,s,1,1,0,r,n,o);const h=new Image;return h.onload=(()=>{t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,s,r,n,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.generateMipmap(t.TEXTURE_2D),i.loaded=!0,i.width=h.width,i.height=h.height}),h.src=e,i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(26);e.AppState=class{constructor(t){this.app=t,this.gui=new s.GUI(t)}update(){this.gui.handleInput(),this.gui.draw()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(27),r=i(10),n=i(3),o=i(7),h=i(0),a=i(1);e.GUI=class{constructor(t){this.app=t,this.renderer=new s.DialogRenderer(new h.Rect(0,0,1,1)),this.rootPanel=new n.Panel(t.size),this.rootPanel.gui=this}add(t){this.rootPanel.add(t)}remove(t){this.rootPanel.remove(t)}getPanelAt(t){return this.rootPanel.getPanelAt(t)}handleInput(){return this.dragElement&&this.dragOffset?(this.updateDragging(),!0):this.rootPanel.handleInput()}draw(){this.rootPanel.drawContents(),this.dragElement&&this.dragElement.drawContents()}startDragging(t){const e=this.app.mouse;this.dragElement=t,this.dragOffset=new a.Vec2(e.start.x-t.rect.x,e.start.y-t.rect.y)}updateDragging(){const t=this.app.mouse,e=this.dragElement,i=this.dragOffset;if(t.down)e.rect.x=t.x-i.x,e.rect.y=t.y-i.y;else{const s=this.rootPanel.getPanelAt(t);s&&s.onDrop(e)?(e.rect.x=s.rect.x,e.rect.y=s.rect.y,e.move(s)):e instanceof r.ItemShortcutButton&&s===this.rootPanel?e.parent&&e.parent.remove(e):e instanceof o.TalentButton&&e.shortcut&&s===this.rootPanel?e.parent&&e.parent.remove(e):(e.rect.x=t.start.x-i.x,e.rect.y=t.start.y-i.y),this.dragElement=void 0,this.dragOffset=void 0}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.DialogRenderer=class{constructor(t,e){this.baseRect=t,this.closeButtonRect=e}draw(t,e){const i=this.baseRect.x,s=this.baseRect.y,r=this.baseRect.width/3|0,n=this.baseRect.height/3|0,o=i+r,h=s+n,a=i+2*r,c=s+2*r,l=e.rect.x,d=e.rect.y,u=e.rect.width-2*r,p=e.rect.height-2*n,g=l+r,f=d+n,y=g+u,m=f+p;if(t.drawImage(l,d,i,s,r,n,void 0,r,n),t.drawImage(g,d,o,s,r,n,void 0,u,n),t.drawImage(y,d,a,s,r,n,void 0,r,n),t.drawImage(l,f,i,h,r,n,void 0,r,p),t.drawImage(g,f,o,h,r,n,void 0,u,p),t.drawImage(y,f,a,h,r,n,void 0,r,p),t.drawImage(l,m,i,c,r,n,void 0,r,n),t.drawImage(g,m,o,c,r,n,void 0,u,n),t.drawImage(y,m,a,c,r,n,void 0,r,n),this.closeButtonRect&&e.closeButton){const i=this.closeButtonRect.width,s=this.closeButtonRect.height,r=e.rect.x2-i,n=e.rect.y,o=this.closeButtonRect.x,h=this.closeButtonRect.y;t.drawImage(r,n,o,h,i,s)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=[-1,0,1,-1,1,-1,0,1],r=[-1,-1,-1,0,0,1,1,1],n=[1.5,1,1.5,1,1,1.5,1,1.5];function o(t){let e=null,i=-1,s=1/0;for(let r=0;r<t.length;r++){const n=t[r];n.g!==1/0&&n.g+n.h<s&&(e=n,i=r,s=n.g+n.h)}return t.splice(i,1),e}function h(t){const e=[];let i=t;for(;i;)e.push(i),i=i.prev;return e.reverse(),e}e.computePath=function(t,e,i,a){!function(t,e){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const r=t.grid[i][s];r.g=1/0,r.h=Math.min(Math.abs(s-e.x),Math.abs(i-e.y)),r.prev=null}}(t,i);const c=t.grid[e.y][e.x];c.g=0;const l=[c];for(;l.length>0;){const e=o(l);if(e.x===i.x&&e.y===i.y)return h(e);for(let i=0;i<s.length;i++){const o=e.x+s[i],h=e.y+r[i];if(o>=0&&o<t.width&&h>=0&&h<t.height){const s=t.grid[h][o],r=e.g+n[i];r<s.g&&r<=a&&!t.grid[h][o].blocked&&(s.g=r,s.prev=e,l.push(s))}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.RNG=class{constructor(t){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=t||1}setSeed(t){this.state=t}nextInt(){return this.state=(this.a*this.state+this.c)%this.m,this.state}nextFloat(){return this.nextInt()/(this.m-1)}nextRange(t,e){const i=e-t;return t+(this.nextInt()/this.m*i|0)}chooseIndex(t){const e=t.reduce((t,e)=>t+e),i=this.nextRange(1,e+1);let s=0;for(let e=0;e<t.length;e++)if(i<=(s+=t[e]))return e;return t.length-1}chooseKey(t){const e=[],i=[];for(const s in t)t.hasOwnProperty(s)&&(e.push(s),i.push(t[s]));return e[this.chooseIndex(i)]}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=30;class n extends s.Rect{constructor(t,e,i,s,n,o,h,a){super(t,e,i,s),this.frames=n||1,this.loop=!!o,this.ticksPerFrame=h||r,this.colorOverride=a,this.animIndex=0,this.animDelay=0}draw(t,e,i,s){let r=this.animIndex;this.loop&&(r=(n.globalAnimIndex/this.ticksPerFrame|0)%this.frames);const o=this.x+r*this.width,h=this.y,a=s||this.colorOverride;t.drawImage(e,i,o,h,this.width,this.height,a),this.animDelay++,this.animDelay>this.ticksPerFrame&&(this.animDelay=0,this.animIndex++,this.animIndex>=this.frames&&(this.loop?this.animIndex=0:this.animIndex=this.frames-1))}static updateGlobalAnimations(){n.globalAnimIndex++}}n.globalAnimIndex=0,e.Sprite=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Message=class{constructor(t,e){this.text=t,this.color=e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(12),r=i(13),n=i(10),o=i(7);e.ShortcutButtonSlot=class extends s.ButtonSlot{onDrop(t){if(this.children.length>0)return!1;if(t instanceof r.ItemButton){const e=t,i=e.containerItems,s=e.stackItems.get(0);return this.add(new n.ItemShortcutButton(this.rect.clone(),i,s)),!1}return t instanceof o.TalentButton?!!t.shortcut||(this.add(new o.TalentButton(this.rect.clone(),t.talent,!0)),!1):!!(t instanceof n.ItemShortcutButton||t instanceof o.TalentButton&&t.shortcut)}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(14)),s(i(18)),s(i(16)),s(i(35)),s(i(36)),s(i(4)),s(i(19)),s(i(37)),s(i(38)),s(i(20)),s(i(39)),s(i(21)),s(i(40)),s(i(25)),s(i(9)),s(i(8)),s(i(5)),s(i(15)),s(i(43)),s(i(26)),s(i(11)),s(i(12)),s(i(45)),s(i(6)),s(i(27)),s(i(47)),s(i(13)),s(i(48)),s(i(10)),s(i(50)),s(i(51)),s(i(3)),s(i(52)),s(i(53)),s(i(32)),s(i(7)),s(i(54)),s(i(17)),s(i(55)),s(i(22)),s(i(2)),s(i(31)),s(i(23)),s(i(28)),s(i(0)),s(i(29)),s(i(30)),s(i(56)),s(i(57)),s(i(1))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AnimationPromise=class{constructor(){this.handlers=[]}then(t){return this.handlers.push(t),this}resolve(){for(let t=0;t<this.handlers.length;t++)this.handlers[t]()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16),r=1;e.BasicMonster=class extends s.AI{constructor(t,e){super(t),this.damageFunc=e}doAi(){const t=this.actor,e=t.game.player;if(e)if(t.distanceTo(e)>1)t.moveToward(e.x,e.y);else if(e.hp>0){const i=this.damageFunc?this.damageFunc(t,e):r;t.attack(e,i)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16);e.ConfusedMonster=class extends s.AI{constructor(t){super(t),this.numTurns=10,this.oldAi=t.ai}doAi(){if(this.numTurns>0){const t=this.actor.game.rng;this.actor.move(t.nextRange(-1,2),t.nextRange(-1,2)),this.numTurns--}else this.actor.ai=this.oldAi}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(8),r=i(4);e.FadeInAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(8),r=i(4);e.FadeOutAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=1-this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);e.ProjectileAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.sprite=t,this.position=e,this.velocity=i,this.duration=s}update(){super.update(),this.position.add(this.velocity)}draw(t){const e=this.position.x-t.viewport.x,i=this.position.y-t.viewport.y;this.sprite.draw(t.app,e,i)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(41),r=i(22),n=i(23),o=i(0),h=i(42),a=i(1),c=i(2),l=400,d=224,u=!1,p=2,g=[c.Keys.VK_NUMPAD7],f=[c.Keys.VK_NUMPAD9],y=[c.Keys.VK_NUMPAD1],m=[c.Keys.VK_NUMPAD3],x=[c.Keys.VK_UP,c.Keys.VK_NUMPAD8,c.Keys.VK_K,c.Keys.VK_W,c.Keys.VK_Z],w=[c.Keys.VK_LEFT,c.Keys.VK_NUMPAD4,c.Keys.VK_H,c.Keys.VK_A,c.Keys.VK_Q],_=[c.Keys.VK_DOWN,c.Keys.VK_NUMPAD2,c.Keys.VK_J,c.Keys.VK_S],A=[c.Keys.VK_RIGHT,c.Keys.VK_NUMPAD6,c.Keys.VK_L,c.Keys.VK_D],v=[c.Keys.VK_SPACE,c.Keys.VK_NUMPAD5];e.App=class{constructor(t){const e=t.canvas;if(!e)throw new Error(\"Null or missing canvas element\");const i=e.getContext(\"webgl\",{alpha:!1,antialias:!1});if(!i)throw new Error(\"Could not get WebGL context\");this.canvas=e,this.gl=i,this.size=t.size||new o.Rect(0,0,l,d),this.font=t.font||s.FONT_04B03,this.fillWindow=t.fillWindow||u,this.scaleFactor=t.scaleFactor||p,this.center=new a.Vec2(this.size.width/2|0,this.size.height/2|0),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),e.width=this.size.width,e.height=this.size.height,e.style.outline=\"none\",e.tabIndex=0,e.focus(),this.mobile=this.isMobile(),this.renderSet=new h.RenderSet(i,t.imageUrl,this.font),this.keyboard=new r.Keyboard(e),this.mouse=new n.Mouse(this),this.fillWindow&&(window.addEventListener(\"resize\",this.handleResizeEvent.bind(this),!1),this.handleResizeEvent()),this.renderLoop()}handleResizeEvent(){const t=window.innerWidth,e=window.innerHeight,i=this.isMobile(),s=i?320:400,r=i?224:300;this.scaleFactor=1,this.scaleFactor=t>e?Math.max(1,Math.min(Math.round(t/s),Math.round(e/r))):Math.max(1,Math.min(Math.round(t/r),Math.round(e/s))),this.size.width=Math.round(t/this.scaleFactor),this.size.height=Math.round(e/this.scaleFactor),this.center.x=this.size.width/2|0,this.center.y=this.size.height/2|0,this.canvas.width=this.size.width,this.canvas.height=this.size.height,this.canvas.style.left=\"0\",this.canvas.style.top=\"0\",this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"}isMobile(){return!!navigator.userAgent.match(/Android|iPhone|iPod|IEMobile|WPDesktop|Opera Mini/i)}renderLoop(){this.keyboard.update(),this.mouse.update(),this.resetGl(),this.state&&this.state.update(),this.renderSet.flush(this.size.width,this.size.height),requestAnimationFrame(this.renderLoop.bind(this))}resetGl(){const t=this.gl;t.viewport(0,0,this.size.width,this.size.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.renderSet.positionArrayIndex=0,this.renderSet.texcoordArrayIndex=0,this.renderSet.colorArrayIndex=0}drawImage(t,e,i,s,r,n,o,h,a){this.renderSet.drawImage(t,e,i,s,r,n,o,h,a)}drawString(t,e,i,s){this.renderSet.drawString(t,e,i,s)}drawCenteredString(t,e,i,s){this.renderSet.drawCenteredString(t,e,i,s)}drawRightString(t,e,i,s){this.renderSet.drawRightString(t,e,i,s)}isKeyDown(t){const e=this.keyboard.getKey(t);return e&&e.down}isKeyPressed(t){const e=this.keyboard.getKey(t),i=e?e.downCount:0;return 1===i||i>30}isDownLeftKeyPressed(){return this.isKeyArrayPressed(y)}isDownKeyPressed(){return this.isKeyArrayPressed(_)}isDownRightKeyPressed(){return this.isKeyArrayPressed(m)}isLeftKeyPressed(){return this.isKeyArrayPressed(w)}isWaitKeyPressed(){return this.isKeyArrayPressed(v)}isRightKeyPressed(){return this.isKeyArrayPressed(A)}isUpLeftKeyPressed(){return this.isKeyArrayPressed(g)}isUpKeyPressed(){return this.isKeyArrayPressed(x)}isUpRightKeyPressed(){return this.isKeyArrayPressed(f)}isKeyArrayPressed(t){for(let e=0;e<t.length;e++)if(this.isKeyPressed(t[e]))return!0;return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=32,r=126;class n{isInRange(t){return t>=s&&t<=r}getStringWidth(t){let e=0;for(let i=0;i<t.length;i++)e+=this.getWidth(t.charCodeAt(i));return e}}e.Font=n;e.MonospacedFont=class extends n{constructor(t){super(),this.glyphSize=t}getOffset(t){return(t-s)*this.glyphSize.width}getWidth(){return this.glyphSize.width}getHeight(){return this.glyphSize.height}};class o extends n{constructor(t,e){super(),this.height=t,this.widths=e,this.offsets=[0];let i=0;for(let t=0;t<this.widths.length;t++)i+=this.widths[t],this.offsets.push(i)}getOffset(t){return this.offsets[t-s]}getWidth(t){return this.widths[t-s]}getHeight(){return this.height}}e.ProportionalFont=o,e.FONT_04B03=new o(8,[4,2,4,6,5,6,6,2,3,3,4,4,3,4,2,6,5,3,5,5,5,5,5,5,5,5,2,2,4,4,4,5,6,5,5,4,5,4,4,5,5,4,5,5,4,6,5,5,5,5,5,5,4,5,5,6,5,5,4,3,6,3,4,5,3,5,5,4,5,5,4,5,5,2,3,5,2,6,5,5,5,5,4,5,4,5,5,6,4,5,5,4,2,4,5,0])},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=65536,n=\"uniform vec2 u_viewportSize;attribute vec2 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;void main() {vec2 zeroToOne = a_position / u_viewportSize;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;v_color = a_color;}\",o=\"precision highp float;uniform sampler2D u_image;varying vec2 v_texCoord;varying vec4 v_color;void main() {gl_FragColor = texture2D(u_image, v_texCoord);if (gl_FragColor.a < 0.1) discard;if (v_color.a != 0.0) gl_FragColor = v_color;}\";e.RenderSet=class{constructor(t,e,i){this.gl=t,this.font=i;const h=s.initShaderProgram(t,n,o);this.program=h,this.viewportSizeLocation=t.getUniformLocation(h,\"u_viewportSize\"),this.positionLocation=t.getAttribLocation(h,\"a_position\"),this.texcoordLocation=t.getAttribLocation(h,\"a_texCoord\"),this.colorLocation=t.getAttribLocation(h,\"a_color\"),this.positionBuffer=t.createBuffer(),this.texcoordBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.spriteTexture=s.createTexture(t,e),this.positionArray=new Float32Array(r),this.positionArrayIndex=0,this.texcoordArray=new Float32Array(r),this.texcoordArrayIndex=0,this.colorUint8Array=new Uint8Array(r),this.colorDataView=new DataView(this.colorUint8Array.buffer),this.colorArrayIndex=0}drawCenteredString(t,e,i,s){const r=e-this.font.getStringWidth(t)/2|0;this.drawString(t,r,i,s)}drawRightString(t,e,i,s){const r=e-this.font.getStringWidth(t);this.drawString(t,r,i,s)}drawString(t,e,i,s){const r=t.split(\"\\n\"),n=this.font.getHeight();let o=i;for(let t=0;t<r.length;t++){let i=e;for(let e=0;e<r[t].length;e++){const h=r[t].charCodeAt(e);if(this.font.isInRange(h)){const t=this.font.getOffset(h),e=this.font.getWidth(h);this.drawImage(i,o,t,0,e,n,s),i+=e}}o+=n}}drawChar(t,e,i,s){if(this.font.isInRange(t)){const r=this.font.getOffset(t),n=this.font.getWidth(t),o=this.font.getHeight();this.drawImage(e,i,r,0,n,o,s)}}drawImage(t,e,i,s,r,n,o,h,a){const c=this.spriteTexture;if(!c.loaded)return;const l=void 0!==h?h:r,d=void 0!==a?a:n,u=t+Math.abs(l),p=e+d,g=i/c.width,f=s/c.height,y=(i+r)/c.width,m=(s+n)/c.height,x=o||0;this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=m,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=m,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=m;for(let t=0;t<6;t++)this.colorDataView.setUint32(this.colorArrayIndex,x,!1),this.colorArrayIndex+=4}flush(t,e){if(!this.spriteTexture.loaded||0===this.positionArrayIndex)return;const i=this.gl;i.useProgram(this.program),i.uniform2f(this.viewportSizeLocation,t,e),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.spriteTexture);{i.enableVertexAttribArray(this.positionLocation),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,this.positionArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.positionLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.texcoordLocation),i.bindBuffer(i.ARRAY_BUFFER,this.texcoordBuffer),i.bufferData(i.ARRAY_BUFFER,this.texcoordArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.texcoordLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.colorLocation),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),i.bufferData(i.ARRAY_BUFFER,this.colorUint8Array,i.DYNAMIC_DRAW);const t=4,e=i.UNSIGNED_BYTE,s=!0,r=0,n=0;i.vertexAttribPointer(this.colorLocation,t,e,s,r,n)}const s=i.TRIANGLES,r=this.positionArrayIndex/2;i.drawArrays(s,0,r)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(18),n=i(25),o=i(5),h=i(44),a=i(2),c=i(28),l=i(0),d=i(29),u=i(30),p=i(1),g=16,f=16,y=13;e.Game=class extends n.AppState{constructor(t,e){super(t),this.tileSize=e.tileSize||new l.Rect(0,0,g,f),this.viewport=new l.Rect(0,0,t.size.width,t.size.height),this.viewportFocus=new p.Vec2(0,0),this.animations=[],this.entities=[],this.turnIndex=0,this.blocked=!1,this.cursor=new p.Vec2(-1,-1),this.tooltip=new h.TooltipDialog,this.rng=new d.RNG,this.pathIndex=0,this.horizontalViewDistance=e.viewDistance||y,this.verticalViewDistance=e.viewDistance||y,e.horizontalViewDistance&&(this.horizontalViewDistance=e.horizontalViewDistance),e.verticalViewDistance&&(this.verticalViewDistance=e.verticalViewDistance)}log(t,e){this.messageLog&&this.messageLog.add(t,e)}addAnimation(t){return this.animations.push(t),t.promise}update(){u.Sprite.updateGlobalAnimations(),this.updateTooltip(),this.gui.handleInput()||(this.updateAnimations(),this.updateEntities(),this.onUpdate&&this.onUpdate(),this.updateViewport()),this.drawTileMap(),this.drawTargeting(),this.drawEntities(),this.drawAnimations(),this.gui.draw()}updateTooltip(){if(this.gui.dragElement)return void(this.tooltip.visible=!1);this.tooltip.visible||(this.tooltipElement=void 0);const t=this.app.mouse,e=t.isLongPress();if(!t.down&&(0!==t.dx||0!==t.dy)||e){const i=this.gui.getPanelAt(t);this.tooltipElement!==i&&(this.tooltipElement=i,i&&(i.updateTooltip(this.tooltip),e&&window.navigator.vibrate(100))),this.tooltip.visible&&(this.tooltip.gui||this.gui.add(this.tooltip),this.tooltip.showAt(t.x,t.y),this.tooltip.modal=this.app.mobile)}}updateAnimations(){this.blocked=!1;for(let t=0;t<this.animations.length;t++){const e=this.animations[t];e.update(),e.blocking&&(this.blocked=!0)}for(let t=this.animations.length-1;t>=0;t--)this.animations[t].isDone()&&(this.animations[t].promise.resolve(),this.animations.splice(t,1))}updateEntities(){let t=0;for(;0!==this.entities.length&&(this.turnIndex>=this.entities.length&&(this.turnIndex=0),!(t>2*this.entities.length));){const e=this.entities[this.turnIndex];if(e instanceof r.Actor){if(e.ap>0){if(e===this.player){this.blocked||this.handlePlayerInput();break}this.doAi(e)}e.ap<=0&&(e.ap=0,this.nextTurn())}else this.nextTurn();t++}}resetViewport(){this.player&&(this.viewportFocus.x=this.player.centerPixelX,this.viewportFocus.y=this.player.centerPixelY,this.viewport.x=this.viewportFocus.x-(this.app.size.width/2|0),this.viewport.y=this.viewportFocus.y-(this.app.size.height/2|0))}updateViewport(){this.viewport.width=this.app.size.width,this.viewport.height=this.app.size.height;const t=this.app.mouse;if(t.isDragging())this.viewport.x-=t.dx,this.viewport.y-=t.dy,this.viewportFocus.x=this.viewport.x+(this.viewport.width/2|0),this.viewportFocus.y=this.viewport.y+(this.viewport.height/2|0);else{const t=this.viewportFocus.x-(this.app.size.width/2|0);if(t!==this.viewport.x){let e=.1*t-.1*this.viewport.x;e=e<0?Math.floor(e):Math.ceil(e),this.viewport.x+=e}const e=this.viewportFocus.y-(this.app.size.height/2|0);if(e!==this.viewport.y){let t=.1*e-.1*this.viewport.y;t=t<0?Math.floor(t):Math.ceil(t),this.viewport.y+=t}}}drawTileMap(){if(this.app.renderSet.spriteTexture.loaded&&this.tileMap){const t=(u.Sprite.globalAnimIndex/30|0)%2;this.tileMap.draw(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height,t)}}drawTargeting(){if(this.isTargeting()&&this.targetSprite){const t=this.cursor.x*this.tileSize.width-this.viewport.x,e=this.cursor.y*this.tileSize.height-this.viewport.y;this.targetSprite.draw(this.app,t,e)}}drawEntities(){for(let t=0;t<3;t++)for(let e=0;e<this.entities.length;e++){const i=this.entities[e];i.zIndex!==t||this.tileMap&&!this.tileMap.isVisible(i.x,i.y)||i.draw()}}drawAnimations(){let t=0;for(let e=0;e<this.animations.length;e++){const i=this.animations[e];0!==t&&i.blocking||i.draw(this),i.blocking&&t++}}isTargeting(){return!!this.targetAbility}startTargeting(t,e){this.targetAbility=t,this.targetCallback=e,this.player&&(this.cursor.x=this.player.x,this.cursor.y=this.player.y)}endTargeting(){if(this.player&&this.targetAbility){const t=this.targetAbility.targetType;let e=null;t===s.TargetType.ENTITY?e=this.getActorAt(this.cursor.x,this.cursor.y):t===s.TargetType.TILE&&this.tileMap&&(e=this.tileMap.getCell(this.cursor.x,this.cursor.y)),e&&this.targetAbility.cast(this.player,e)&&this.targetCallback&&this.targetCallback()}this.cancelTargeting()}cancelTargeting(){this.targetAbility=void 0,this.targetCallback=void 0}handlePlayerInput(){if(!this.player||this.blocked)return;if(this.player.ai)return this.player.ai.doAi(),void(this.player.ap=0);const t=this.app.mouse;if((t.down||0!==t.dx||0!==t.dy)&&(this.cursor.x=(this.viewport.x+t.x)/this.tileSize.width|0,this.cursor.y=(this.viewport.y+t.y)/this.tileSize.height|0),this.app.isKeyDown(a.Keys.VK_SHIFT)){let t=0,e=0;return this.app.isDownLeftKeyPressed()&&(t=-1,e=1),this.app.isDownKeyPressed()&&(e=1),this.app.isDownRightKeyPressed()&&(t=1,e=1),this.app.isLeftKeyPressed()&&(t=-1),this.app.isRightKeyPressed()&&(t=1),this.app.isUpLeftKeyPressed()&&(t=-1,e=-1),this.app.isUpKeyPressed()&&(e=-1),this.app.isUpRightKeyPressed()&&(t=1,e=-1),this.viewportFocus.x-=t*this.tileSize.height,void(this.viewportFocus.y-=e*this.tileSize.height)}if(this.isTargeting())return(this.app.isKeyPressed(a.Keys.VK_ENTER)||this.app.mouse.isClicked())&&this.endTargeting(),this.app.isKeyPressed(a.Keys.VK_ESCAPE)&&this.cancelTargeting(),this.app.isDownLeftKeyPressed()&&(this.cursor.x--,this.cursor.y++),this.app.isDownKeyPressed()&&this.cursor.y++,this.app.isDownRightKeyPressed()&&(this.cursor.x++,this.cursor.y++),this.app.isLeftKeyPressed()&&this.cursor.x--,this.app.isRightKeyPressed()&&this.cursor.x++,this.app.isUpLeftKeyPressed()&&(this.cursor.x--,this.cursor.y--),this.app.isUpKeyPressed()&&this.cursor.y--,void(this.app.isUpRightKeyPressed()&&(this.cursor.x++,this.cursor.y--));if(t.isClicked()){const e=(this.viewport.x+t.x)/this.tileSize.width|0,i=(this.viewport.y+t.y)/this.tileSize.height|0;if(this.tileMap){const t=this.tileMap.getCell(e,i);t&&t!==this.targetTile&&(this.targetTile=t,this.path=c.computePath(this.tileMap,this.player,this.targetTile,100),this.pathIndex=0)}}let e=null;if(this.path){for(e=this.path[this.pathIndex];e&&e.x===this.player.x&&e.y===this.player.y;)this.pathIndex++,e=this.pathIndex<this.path.length?this.path[this.pathIndex]:null;e||this.stopAutoWalk()}if(e){const t=e.x-this.player.x,i=e.y-this.player.y;this.tryMoveOrAttack(t,i)}else this.app.isDownLeftKeyPressed()&&this.tryMoveOrAttack(-1,1)||this.app.isDownKeyPressed()&&this.tryMoveOrAttack(0,1)||this.app.isDownRightKeyPressed()&&this.tryMoveOrAttack(1,1)||this.app.isLeftKeyPressed()&&this.tryMoveOrAttack(-1,0)||this.app.isRightKeyPressed()&&this.tryMoveOrAttack(1,0)||this.app.isUpLeftKeyPressed()&&this.tryMoveOrAttack(-1,-1)||this.app.isUpKeyPressed()&&this.tryMoveOrAttack(0,-1)||this.app.isUpRightKeyPressed()&&this.tryMoveOrAttack(1,-1)||this.app.isWaitKeyPressed()&&(this.player.ap=0)}tryMoveOrAttack(t,e){const i=this.player;if(!i)return;const s=i.x+t,r=i.y+e;for(let t=0;t<this.entities.length;t++){const e=this.entities[t];if(i!==e&&e.x===s&&e.y===r)return i.onBump&&i.onBump(e),this.stopAutoWalk(),!0}return i.move(t,e)}recalculateViewportFocus(){const t=this.player;if(!t)return;let e=t.x*t.sprite.width,i=t.y*t.sprite.height,s=e+t.sprite.width,n=i+t.sprite.height;if(this.path)for(let t=this.pathIndex;t<this.path.length;t++){const r=this.path[t];e=Math.min(e,r.x*this.tileSize.width),i=Math.min(i,r.y*this.tileSize.height),s=Math.max(s,(r.x+1)*this.tileSize.width),n=Math.max(n,(r.y+1)*this.tileSize.height)}else for(let t=0;t<this.entities.length;t++){const o=this.entities[t];o instanceof r.Actor&&this.tileMap&&this.tileMap.isVisible(o.x,o.y)&&(e=Math.min(e,o.pixelX),i=Math.min(i,o.pixelY),s=Math.max(s,o.pixelX+o.sprite.width),n=Math.max(n,o.pixelY+o.sprite.height))}this.viewportFocus.x=Math.round((e+s)/2),this.viewportFocus.y=Math.round((i+n)/2)}doAi(t){t.ai?((t.visibleDuration>0||t.ai.alwaysActive)&&t.ai.doAi(),t.ap=0):t.ap=0}nextTurn(){if(this.turnIndex<this.entities.length){const t=this.entities[this.turnIndex];t.endTurn(),this.player===t&&(this.recomputeFov(),this.recalculateViewportFocus())}this.turnIndex++,this.turnIndex>=this.entities.length&&(this.turnIndex=0),this.turnIndex>=0&&this.turnIndex<this.entities.length&&this.entities[this.turnIndex].startTurn()}stopAutoWalk(){this.path=void 0,this.targetTile=void 0}isBlocked(t,e){if(this.tileMap&&this.tileMap.isBlocked(t,e))return!0;for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s.blocks&&s.x===t&&s.y===e)return!0}return!1}getEntityAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s.x===t&&s.y===e)return s}}getActorAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s instanceof r.Actor&&s.x===t&&s.y===e)return s}}recomputeFov(){if(this.player&&this.tileMap){this.tileMap.computeFov(this.player.x,this.player.y,this.horizontalViewDistance,this.verticalViewDistance);for(let t=0;t<this.entities.length;t++){const e=this.entities[t];e!==this.player&&e instanceof r.Actor&&(this.tileMap.isVisible(e.x,e.y)?(e.seen||(e.seen=!0,this.player.addFloatingText(\"!\",o.Colors.WHITE),this.stopAutoWalk(),this.viewportFocus.x=(this.player.centerPixelX+e.centerPixelX)/2|0,this.viewportFocus.y=(this.player.centerPixelY+e.centerPixelY)/2|0),e.visibleDuration++):e.visibleDuration=-1)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=i(6),n=100,o=5,h=2;e.TooltipDialog=class extends r.Dialog{constructor(){super(new s.Rect(0,0,n,10)),this.messages=[],this.visible=!1}showAt(t,e){if(!this.gui)return;const i=this.gui.app,s=i.font,r=s.getHeight()+h;this.rect.width=2*o,this.rect.height=2*o+this.messages.length*r;for(let t=0;t<this.messages.length;t++){const e=this.messages[t],i=2*o+s.getStringWidth(e.text);this.rect.width=Math.max(this.rect.width,i)}t+this.rect.width>=i.size.width?this.rect.x=t-this.rect.width-2:this.rect.x=t+2,e-this.rect.height<0?this.rect.y=e+2:this.rect.y=e-this.rect.height-2,this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.visible=!0}drawContents(){if(!this.gui)return;super.drawContents();const t=this.gui.app.font.getHeight()+h,e=this.rect.x+o;let i=this.rect.y+o;for(let s=0;s<this.messages.length;s++){const r=this.messages[s];this.gui.app.drawString(r.text,e,i,r.color),i+=t}}handleInput(){return!!this.gui&&(this.gui.app.mouse.isClicked()&&(this.visible=!1),!1)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(1),n=i(46),o=i(6),h=4;e.ComplexSelectDialog=class extends o.Dialog{constructor(t,e){super(t),this.options=e,this.selectedIndex=0,this.renderer=new n.DefaultSelectOptionRenderer}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect,e=new r.Vec2(t.x+h,t.y+h);for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex;this.renderer.drawOption(this.gui,e,i,s),e.y+=this.renderer.getHeight(i,s)}}handleInput(){if(!this.gui)return!1;const t=this.gui.app;for(let e=0;e<this.options.length;e++)t.isKeyPressed(s.Keys.VK_A+e)&&(this.selectedIndex=e,this.onSelect&&this.onSelect(this.options[e]));t.isKeyPressed(s.Keys.VK_ENTER)&&this.onSelect&&this.onSelect(this.options[this.selectedIndex]),t.isKeyPressed(s.Keys.VK_ESCAPE)&&this.onCancel&&this.onCancel(),t.isKeyPressed(s.Keys.VK_UP)&&this.selectedIndex--,t.isKeyPressed(s.Keys.VK_DOWN)&&this.selectedIndex++,this.selectedIndex<0&&(this.selectedIndex+=this.options.length),this.selectedIndex>=this.options.length&&(this.selectedIndex-=this.options.length);const e=t.mouse,i=this.rect;let r=i.y+h;if(1===e.upCount&&e.x>=i.x1&&e.x<i.x2)for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex,n=this.renderer.getHeight(i,s),o=r,h=r+n;e.y>=o&&e.y<h&&(s?this.onSelect&&this.onSelect(i):this.selectedIndex=t),r+=n}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.DefaultSelectOptionRenderer=class{getHeight(t,e){return 10}drawOption(t,e,i,r){const n=r?s.Colors.YELLOW:s.Colors.WHITE;t.app.drawString(i.name,e.x,e.y,n)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.ImagePanel=class extends s.Panel{constructor(t,e){super(e),this.srcRect=t}drawContents(){if(!this.gui)return;const t=this.srcRect,e=this.rect;this.gui.app.drawImage(e.x,e.y,t.x,t.y,e.width,e.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(6),o=i(13),h=i(49),a=4,c=2;e.ItemContainerDialog=class extends n.Dialog{constructor(t,e,i,n){super(t),this.messages=e,this.capacity=i,this.items=n,this.modal=!0,n.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new h.ItemContainerButtonSlot(new r.Rect(0,0,24,24),n,s.Keys.VK_A+t))}addItem(t){const e=this.getExistingButton(t);if(e)return void e.stackItems.add(t);const i=this.getNextFreeSlot();i&&i.add(new o.ItemButton(i.rect.clone(),this.items,t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof o.ItemButton&&s.stackItems.contains(t)&&(s.stackItems.remove(t),0===s.stackItems.length&&i.remove(s))}}getExistingButton(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e).button;if(i&&i instanceof o.ItemButton&&i.stackItems.get(0).name===t.name)return i}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(12),r=i(13);e.ItemContainerButtonSlot=class extends s.ButtonSlot{constructor(t,e,i){super(t,i),this.items=e}onDrop(t){return t instanceof r.ItemButton}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(31),n=i(3);e.MessageLog=class extends n.Panel{constructor(t,e){super(t),this.messages=[],this.maxItems=e||5}add(t,e){t instanceof n.Panel||(this.messages.push(new r.Message(t,e||s.Colors.WHITE)),this.messages.length>this.maxItems&&this.messages.splice(0,this.messages.length-this.maxItems))}drawContents(){if(!this.gui)return;const t=this.rect.x;let e=this.rect.y;e<0&&(e=this.gui.app.size.height+e+this.rect.height-10*this.messages.length);for(let i=0;i<this.messages.length;i++){const s=this.messages[i];this.gui.app.drawString(s.text,t,e,s.color),e+=10}}handleInput(){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.MessagePanel=class extends s.Panel{constructor(t,e){super(t),this.message=e}drawContents(){if(!this.gui)return;const t=this.message,e=this.rect;this.gui.app.drawString(t.text,e.x,e.y,t.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(6),n=4,o=10;e.SelectDialog=class extends r.Dialog{constructor(t,e,i){super(t),this.options=e,this.callback=i}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect;for(let e=0;e<this.options.length;e++){const i=String.fromCharCode(65+e)+\" - \"+this.options[e].name;this.gui.app.drawString(i,t.x+n,t.y+n+e*o)}}handleInput(){if(!this.gui)return!1;for(let t=0;t<this.options.length;t++)if(this.gui.app.isKeyPressed(s.Keys.VK_A+t))return this.callback(this.options[t]),this.close(),!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.close(),!0;const t=this.gui.app.mouse,e=this.rect;if(t.isClicked()&&t.x>=e.x1&&t.x<e.x2){if(this.closeButton&&t.x>=e.x2-16&&t.y<e.y+16)return this.close(),!0;for(let i=0;i<this.options.length;i++){const s=e.y+n+i*o,r=s+o;t.y>=s&&t.y<r&&(this.callback(this.options[i]),this.close())}}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(10),o=i(3),h=i(32),a=i(7),c=2;e.ShortcutBar=class extends o.Panel{constructor(t,e,i){super(t),this.spacing=void 0!==i?i:c;for(let t=0;t<e;t++){const e=new h.ShortcutButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_1+t);this.add(e)}}addTalent(t,e){if(this.containsTalent(t))return;const i=this.getFreeSlot(!!e);i&&i.add(new a.TalentButton(i.rect.clone(),t,!0))}containsTalent(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof a.TalentButton&&i.button.talent===t)return!0}return!1}addItem(t,e,i){if(this.containsItem(e))return;const s=this.getFreeSlot(!!i);s&&s.add(new n.ItemShortcutButton(s.rect.clone(),t,e))}containsItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof n.ItemShortcutButton&&i.button.shortcutItem.name===t.name)return!0}return!1}drawContents(){if(!this.gui)return;const t=this.gui.renderer.buttonSlotRect;if(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);i.rect.x=this.rect.x+e*(t.width+c),i.rect.y=this.rect.y,i.rect.width=t.width,i.rect.height=t.height}this.drawChildren()}}getFreeSlot(t){if(t)for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(!e.button)return e}else for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(12),o=i(6),h=i(7),a=4,c=2;e.TalentsDialog=class extends o.Dialog{constructor(t,e,i,o){super(t),this.messages=e,this.capacity=i,this.talents=o,this.modal=!0,o.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new n.ButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_A+t))}addItem(t){const e=this.getNextFreeSlot();e&&e.add(new h.TalentButton(e.rect.clone(),t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof h.TalentButton&&s.talent===t&&i.remove(s)}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(15);e.Item=class extends s.Entity{onPickup(t){}onUse(t){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Talent=class{constructor(t,e,i){this.actor=t,this.ability=e,this.rank=i||1,this.cooldown=0}use(t){return!(this.cooldown>0||(this.actor.cast(this.ability,t,()=>{this.cooldown=this.ability.cooldown}),0))}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=i(1),n=\"precision highp float;attribute vec2 position;attribute vec2 texture;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 viewOffset;uniform vec2 viewportSize;uniform vec2 tileSize;uniform vec2 mapSize;void main(void) {   pixelCoord = (texture * viewportSize) + viewOffset;   texCoord = pixelCoord / mapSize / tileSize;   gl_Position = vec4(position, 0.0, 1.0);}\",o=\"precision highp float;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 tileSize;uniform float animFrame;uniform sampler2D tiles;uniform sampler2D sprites;void main(void) {   vec4 tile = texture2D(tiles, texCoord);   if(tile.x == 1.0 && tile.y == 1.0) { discard; }   vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;   if(tile.z != 1.0) spriteOffset.x += animFrame * tileSize.x;   vec2 spriteCoord = mod(pixelCoord, tileSize);   gl_FragColor = texture2D(sprites, (spriteOffset + spriteCoord) / 1024.0);   if (gl_FragColor.a == 0.0) discard;   gl_FragColor.a *= tile.a;}\";class h extends r.Vec2{constructor(t,e,i){super(t,e),this.tile=i,this.blocked=!0,this.blockedSight=!0,this.visible=!1,this.seen=!1,this.g=0,this.h=0,this.prev=null}}e.TileMapCell=h;class a{constructor(t,e){this.width=t,this.height=e,this.imageData=new Uint8Array(4*t*e),this.dimensions=new Float32Array([t,e]),this.texture=null,this.clear()}clear(){for(let t=0;t<this.imageData.length;t++)this.imageData[t]=255}setAlpha(t,e,i){this.imageData[4*(e*this.width+t)+3]=i}initGl(t){this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.imageData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}updateGl(t){t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.imageData)}}e.TileMapLayer=a;e.TileMap=class{constructor(t,e,i,r){this.gl=t,this.width=e,this.height=i,this.grid=new Array(i),this.layers=new Array(r),this.tileWidth=16,this.tileHeight=16,this.originX=0,this.originY=0,this.minX=0,this.maxX=e-1,this.minY=0,this.maxY=i-1;for(let t=0;t<i;t++){this.grid[t]=new Array(e);for(let i=0;i<e;i++)this.grid[t][i]=new h(i,t,0)}for(let t=0;t<r;t++)this.layers[t]=new a(e,i);this.quadVertBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quadVertBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,1,1,1,1,1,0,-1,-1,0,1,1,1,1,0,-1,1,0,0]),t.STATIC_DRAW),this.tilemapShader=s.initShaderProgram(t,n,o),this.positionAttribute=t.getAttribLocation(this.tilemapShader,\"position\"),this.textureAttribute=t.getAttribLocation(this.tilemapShader,\"texture\"),this.viewportSizeUniform=t.getUniformLocation(this.tilemapShader,\"viewportSize\"),this.viewOffsetUniform=t.getUniformLocation(this.tilemapShader,\"viewOffset\"),this.mapSizeUniform=t.getUniformLocation(this.tilemapShader,\"mapSize\"),this.tileSizeUniform=t.getUniformLocation(this.tilemapShader,\"tileSize\"),this.animFrameUniform=t.getUniformLocation(this.tilemapShader,\"animFrame\"),this.tileSamplerUniform=t.getUniformLocation(this.tilemapShader,\"tiles\"),this.spriteSamplerUniform=t.getUniformLocation(this.tilemapShader,\"sprites\");for(let e=0;e<this.layers.length;e++)this.layers[e].initGl(t)}setTile(t,e,i,s,r,n){if(e<0||e>=this.width||i<0||i>=this.height)return;0===t&&(this.grid[i][e].tile=s,this.grid[i][e].blocked=!!r,this.grid[i][e].blockedSight=void 0!==n?n:!!r);const o=this.layers[t],h=4*(i*o.width+e),a=0===s?255:(s-1)%64|0,c=0===s?255:(s-1)/64|0;o.imageData[h+0]=a,o.imageData[h+1]=c}getCell(t,e){return t<0||t>=this.width||e<0||e>=this.height?null:this.grid[e][t]}getTile(t,e){const i=this.getCell(t,e);return i?i.tile:0}isBlocked(t,e){const i=this.getCell(t,e);return!i||i.blocked}isVisible(t,e){return!(t<this.minX||t>this.maxX||e<this.minY||e>this.maxY)&&this.grid[e][t].visible}isSeen(t,e){const i=this.getCell(t,e);return i&&i.seen}setSeen(t,e,i){const s=this.getCell(t,e);s&&(s.seen=i)}isAnimated(t,e,i){if(t<0||t>=this.width||e<0||e>=this.height)return!1;const s=this.layers[i],r=4*(e*s.width+t);return s.imageData[r+2]<255}setAnimated(t,e,i,s){if(t<0||t>=this.width||e<0||e>=this.height)return;const r=this.layers[i],n=4*(e*r.width+t);r.imageData[n+2]=s?1:255}draw(t,e,i,s,r){const n=this.gl;n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.tilemapShader),n.bindBuffer(n.ARRAY_BUFFER,this.quadVertBuffer),n.enableVertexAttribArray(this.positionAttribute),n.enableVertexAttribArray(this.textureAttribute),n.vertexAttribPointer(this.positionAttribute,2,n.FLOAT,!1,16,0),n.vertexAttribPointer(this.textureAttribute,2,n.FLOAT,!1,16,8),n.uniform2f(this.viewOffsetUniform,t,e),n.uniform2f(this.viewportSizeUniform,i,s),n.uniform2f(this.tileSizeUniform,this.tileWidth,this.tileHeight),n.uniform1f(this.animFrameUniform,r||0),n.activeTexture(n.TEXTURE0),n.uniform1i(this.spriteSamplerUniform,0),n.activeTexture(n.TEXTURE1),n.uniform1i(this.tileSamplerUniform,1);const o=t/this.tileWidth|0,h=e/this.tileHeight|0,a=(t+i)/this.tileWidth|0,c=(e+s)/this.tileHeight|0;for(let t=0;t<this.layers.length;t++){const e=this.layers[t];for(let t=h;t<=c;t++)for(let i=o;i<=a;i++){const s=this.isVisible(i,t)?255:this.isSeen(i,t)?144:0;e.setAlpha(i,t,s)}n.uniform2fv(this.mapSizeUniform,e.dimensions),n.bindTexture(n.TEXTURE_2D,e.texture),e.updateGl(n),n.drawArrays(n.TRIANGLES,0,6)}}resetFov(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)this.grid[t][e].seen=!1,this.grid[t][e].visible=!1}computeFov(t,e,i,s){this.originX=t,this.originY=e;const r=i,n=s||i;this.minX=Math.max(0,t-r),this.minY=Math.max(0,e-n),this.maxX=Math.min(this.width-1,t+r),this.maxY=Math.min(this.height-1,e+n);for(let t=this.minY;t<=this.maxY;t++)for(let e=this.minX;e<=this.maxX;e++)this.grid[t][e].seen=this.grid[t][e].seen||this.grid[t][e].visible,this.grid[t][e].visible=!1;this.grid[e][t].visible=!0,this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantY(1,-1),this.computeOctantX(1,-1),this.computeOctantY(-1,1),this.computeOctantX(-1,1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1)}computeOctantY(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,p,g=1,f=0,y=0,m=0;for(n=this.originY+e;n>=this.minY&&n<=this.maxY;n+=e,y=f,++g)for(o=.5/g,p=-1,h=Math.floor(m*g+.5),r=this.originX+h*t;h<=g&&r>=this.minX&&r<=this.maxX;r+=t,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/g)+o,y>0)if(this.grid[n-e][r].visible&&!this.grid[n-e][r].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].blockedSight&&(m>=d?m=u:c||(i[f]=d,s[f++]=u)))}}computeOctantX(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,p,g=1,f=0,y=0,m=0;for(r=this.originX+t;r>=this.minX&&r<=this.maxX;r+=t,y=f,++g)for(o=.5/g,p=-1,h=Math.floor(m*g+.5),n=this.originY+h*e;h<=g&&n>=this.minY&&n<=this.maxY;n+=e,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/g)+o,y>0)if(this.grid[n][r-t].visible&&!this.grid[n][r-t].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].blockedSight&&(m>=d?m=u:c||(i[f]=d,s[f++]=u)))}}}}])});\n//# sourceMappingURL=index.js.map","import {Game, Item, Sprite} from 'wglt';\nimport { Player } from '../entities/player';\n\nexport enum EquipmentSlot {\n  HEAD,\n  NECK,\n  BACK,\n  CHEST,\n  HANDS,\n  LEGS,\n  FEET,\n  RING,\n  MAINHAND,\n  OFFHAND\n}\n\nexport abstract class Equipment extends Item {\n  readonly slot: EquipmentSlot;\n  bonusArmor: number;\n  bonusStrength: number;\n  bonusDexterity: number;\n  bonusConstitution: number;\n  bonusIntelligence: number;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite, slot: EquipmentSlot) {\n    super(game, x, y, name, sprite, false);\n    this.slot = slot;\n    this.bonusArmor = 0;\n    this.bonusStrength = 0;\n    this.bonusDexterity = 0;\n    this.bonusConstitution = 0;\n    this.bonusIntelligence = 0;\n  }\n\n  onUse(player: Player) {\n    const equipped = player.getEquipment(this.slot);\n    if (equipped) {\n      player.equipment.remove(equipped);\n      player.inventory.add(equipped);\n    }\n\n    player.inventory.remove(this);\n    player.equipment.add(this);\n    return false;\n  }\n}\n","import {Actor, BasicMonster, Sprite, TileMap} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Player} from './player';\nimport {StatsActor} from './statsactor';\n\nconst START_BLOOD = 1367;\nconst END_BLOOD = 1371;\n\nexport abstract class Monster extends StatsActor {\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite);\n    this.maxHp = 10;\n    this.hp = 10;\n    this.ai = new BasicMonster(this, this.calculateDamage);\n  }\n\n  onDeath() {\n    this.game.log(this.name + ' is dead');\n    this.blocks = false;\n    this.ai = undefined;\n    this.name = 'remains of ' + this.name;\n    this.sendToBack();\n\n    // Based on DnD xp rules\n    // TODO: Add XP to the attacker, not the player\n    const player = this.game.player as Player;\n    const xpGain = Math.round(10 * player.level * Math.pow(2.0, (this.level - player.level) * 0.5));\n    player.addXp(xpGain);\n\n    // Add blood to the map\n    const map = this.game.tileMap as TileMap;\n    map.setTile(3, this.x, this.y, this.game.rng.nextRange(START_BLOOD, END_BLOOD));\n  }\n\n  private calculateDamage(attacker: Actor, target: Actor) {\n    const statsActor = attacker as StatsActor;\n    const minDamage = statsActor.level;\n    const maxDamage = Math.round(1.5 * statsActor.level);\n    const damage = statsActor.game.rng.nextRange(minDamage, maxDamage + 1);\n    const damageModifier = statsActor.strengthModifier;\n    return damage + damageModifier;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterClass {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, Colors, fromRgb, Message, SlideAnimation, Sprite, TargetType, TileMapCell} from 'wglt';\nimport {Stunned} from '../ai/stunned';\n\nconst LEAP_RANGE = 3;\nconst LEAP_RADIUS = 2;\nconst LEAP_COLOR = fromRgb(0xFF, 0x80, 0x80);\nconst LEAP_SPRITE = new Sprite(720, 336, 16, 24, undefined, undefined, undefined, LEAP_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Heroic Leap', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Stun all enemies within 1 tile.', Colors.YELLOW)\n];\n\nexport class LeapAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = LEAP_SPRITE;\n    this.name = 'leap';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = LEAP_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > LEAP_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && game.tileMap.isBlocked(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target is blocked.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      if (caster === game.player) {\n        game.log('Target is occupied.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = target.x;\n      caster.y = target.y;\n\n      let count = 0;\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities[i];\n        if (entity === caster) {\n          continue;\n        }\n        if (entity instanceof Actor && entity.distanceTo(target) < LEAP_RADIUS) {\n          entity.ai = new Stunned(entity, 3);\n          count++;\n        }\n      }\n\n      if (count > 0) {\n        game.log('Stunned ' + count + ' foes!', LEAP_COLOR);\n      }\n      caster.ap--;\n    });\n\n    return true;\n  }\n}\n","import { Equipment } from \"./equipment\";\r\n\r\nexport class Weapon extends Equipment {\r\n    minDamage: number = 1;\r\n    maxDamage: number = 2;\r\n    ranged: boolean = false;\r\n    finesse: boolean = false;\r\n}\r\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterRace {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, Colors, Entity, Game, Message, ProjectileAnimation, Sprite, TargetType, Vec2} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst LIGHTNING_RANGE = 5;\nconst MANA_COST = 10;\nconst TOOLTIP_MESSAGES = [\n  new Message('Lightning', Colors.WHITE),\n  new Message(MANA_COST + ' mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Hurls a bolt of lightning at the nearest enemy', Colors.YELLOW),\n  new Message('dealing 4 + INT damage.', Colors.YELLOW),\n];\n\nexport class LightningAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = new Sprite(158, 10, 16, 24, undefined, undefined, undefined, 0xFFFF00FF);\n    this.name = 'lightning';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = LIGHTNING_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    const game = caster.game;\n    // Find closest enemy (inside a maximum range) and damage it\n    const monster = this.getClosestMonster(game, caster, caster.x, caster.y, LIGHTNING_RANGE);\n    if (!monster) {\n      game.log('No enemy is close enough to strike.', Colors.LIGHT_RED);\n      return false;\n    }\n\n    // Zap it!\n    game.log('A lightning bolt strikes the ' + monster.name + ' with a loud thunder!', Colors.LIGHT_BLUE);\n\n    // Calculate damage\n    const damage = 4 + caster.intelligenceModifier;\n\n    // Create lightning animation\n    const explosion = new Sprite(256, 408, 16, 24, 2, true, 8, Colors.YELLOW);\n    game.addAnimation(new ProjectileAnimation(explosion, new Vec2(monster.pixelX, monster.pixelY), new Vec2(0, 0), 32)).then(() => {\n      game.log('The damage is ' + damage + ' hit points', Colors.LIGHT_BLUE);\n      monster.takeDamage(damage);\n      caster.ap--;\n    });\n\n    return true;\n  }\n\n  private getClosestMonster(game: Game, player: Entity, x: number, y: number, range: number) {\n    let minDist = range + 1;\n    let result = null;\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities[i];\n      if (entity === player) {\n        continue;\n      }\n      if (!(entity instanceof Actor)) {\n        continue;\n      }\n      if (game.tileMap && !game.tileMap.isVisible(entity.x, entity.y)) {\n        continue;\n      }\n      const dist = entity.distance(x, y);\n      if (dist < minDist) {\n        minDist = dist;\n        result = entity;\n      }\n    }\n    return result;\n  }\n}","import {Actor, ArrayList, Sprite} from 'wglt';\n\nimport {Buff} from '../buffs/buff';\nimport {Equipment, EquipmentSlot} from '../equipment/equipment';\nimport {Game} from '../game';\nimport { Weapon } from '../equipment/weapon';\n\nexport class StatsActor extends Actor {\n  level: number;\n  mp: number;\n  maxMp: number;\n  armor: number;\n  strength: number;\n  dexterity: number;\n  constitution: number;\n  intelligence: number;\n  showFrame: boolean;\n  readonly equipment: ArrayList<Equipment>;\n  readonly buffs: Buff[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, true);\n    this.level = 1;\n    this.mp = 1;\n    this.maxMp = 1;\n    this.armor = 0;\n    this.strength = 10;\n    this.dexterity = 10;\n    this.constitution = 10;\n    this.intelligence = 10;\n    this.showFrame = true;\n    this.equipment = new ArrayList<Equipment>();\n    this.buffs = [];\n\n    this.equipment.addListener({onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get strengthModifier() {\n    return this.calculateModifier(this.strength);\n  }\n\n  get dexterityModifier() {\n    return this.calculateModifier(this.dexterity);\n  }\n\n  get constitutionModifier() {\n    return this.calculateModifier(this.constitution);\n  }\n\n  get intelligenceModifier() {\n    return this.calculateModifier(this.intelligence);\n  }\n\n  private calculateModifier(abilityScore: number) {\n    return Math.floor((abilityScore - 10) / 2);\n  }\n\n  getEquipment(slot: EquipmentSlot) {\n    for (let i = 0; i < this.equipment.length; i++) {\n      const item = this.equipment.get(i);\n      if (item.slot === slot) {\n        return item;\n      }\n    }\n    return undefined;\n  }\n\n  get mainHandWeapon() {\n    return this.getEquipment(EquipmentSlot.MAINHAND) as Weapon | undefined;\n  }\n\n  getDamage() {\n    const weapon = this.mainHandWeapon;\n    const rng = this.game.rng;\n    const damage = weapon ? rng.nextRange(weapon.minDamage, weapon.maxDamage + 1) : 1;\n    const damageModifier = weapon && weapon.finesse ? this.dexterityModifier : this.strengthModifier;\n    return damage + damageModifier;\n  }\n\n  onAttack(target: Actor, damage: number) {\n    if (damage > 0) {\n      this.game.log(this.name + ' attacks ' + target.name + ' for ' + damage + ' hit points.', 0x808080FF);\n    } else {\n      this.game.log(this.name + ' attacks ' + target.name + ' but it has no effect!', 0x808080FF);\n    }\n  }\n\n  startTurn() {\n    super.startTurn();\n    for (let i = this.buffs.length - 1; i >= 0; i--) {\n      const buff = this.buffs[i];\n      buff.update();\n      if (buff.isDone()) {\n        this.buffs.splice(i, 1);\n      }\n    }\n  }\n\n  private addItem(item: Equipment) {\n    this.armor += item.bonusArmor;\n    this.constitution += item.bonusConstitution;\n    this.dexterity += item.bonusDexterity;\n    this.strength += item.bonusStrength;\n    this.intelligence += item.bonusIntelligence;\n  }\n\n  private removeItem(item: Equipment) {\n    this.armor -= item.bonusArmor;\n    this.constitution -= item.bonusConstitution;\n    this.dexterity -= item.bonusDexterity;\n    this.strength -= item.bonusStrength;\n    this.intelligence -= item.bonusIntelligence;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LeapAbility} from '../abilities/leap';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { SquiresVest } from '../equipment/squiresvest';\nimport { SquiresPants } from '../equipment/squirespants';\nimport { SquiresBoots } from '../equipment/squiresboots';\nimport { BattlewornHammer } from '../equipment/battlewornhammer';\n\nconst NAME = 'Paladin';\nconst ICON = new Sprite(504, 700, 24, 26, undefined, undefined, undefined, 0xFF8080FF);\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0xFF8080FF);\nconst DESC = 'Holy warriors commanding the power of the light';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Paladin extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.equipment.add(new SquiresVest(game));\n    player.equipment.add(new SquiresPants(game));\n    player.equipment.add(new SquiresBoots(game));\n    player.equipment.add(new BattlewornHammer(game));\n    player.strength += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\n\nconst SPRITE = new Sprite(672, 144, 16, 24, 1, false, undefined, 0xFFD0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Flash Heal', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('A fast spell that heals an ally', Colors.YELLOW),\n  new Message('for 1d8 + INT points.', Colors.YELLOW),\n];\n\nexport class FlashHealAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Flash Heal';\n    this.targetType = TargetType.SELF;\n    this.minRange = 0;\n    this.maxRange = 0;\n    this.cooldown = 5;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    if (caster.hp === caster.maxHp) {\n      if (caster === caster.game.player) {\n        caster.game.log('You are already at full health.', Colors.DARK_RED);\n      }\n      return false;\n    }\n\n    const healAmount = caster.game.rng.nextRange(1, 8) + caster.intelligenceModifier;\n    caster.takeHeal(healAmount);\n    caster.ap--;\n    return true;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Vest';\nconst SPRITE = new Sprite(608, 288, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Chest, Plate', Colors.WHITE),\n  new Message('7 Armor', Colors.WHITE)\n];\n\nexport class SquiresVest extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.CHEST);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 7;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Pants';\nconst SPRITE = new Sprite(656, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Legs, Plate', Colors.WHITE),\n  new Message('6 Armor', Colors.WHITE)\n];\n\nexport class SquiresPants extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.LEGS);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 6;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Boots';\nconst SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Feet, Plate', Colors.WHITE),\n  new Message('5 Armor', Colors.WHITE)\n];\n\nexport class SquiresBoots extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.FEET);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 5;\n  }\n}","import {Ability, Actor, Colors, Message, ProjectileAnimation, Sprite, TargetType, TileMapCell, Vec2} from 'wglt';\n\nimport {ExplosionAnimation} from '../animations/explosionanimation';\n\nconst FIREBALL_RANGE = 10;\nconst FIREBALL_RADIUS = 3;\nconst FIREBALL_DAMAGE = 12;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\nconst FIRE_COLOR = Colors.ORANGE;\nconst FIREBALL_SPRITE = new Sprite(512, 336, SPRITE_WIDTH, SPRITE_HEIGHT, undefined, undefined, undefined, FIRE_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Fireball', Colors.WHITE),\n  new Message('2% of base mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Throws a fiery ball causing 10 damage', Colors.YELLOW),\n  new Message('to all enemies within 3 tiles.', Colors.YELLOW),\n];\n\nexport class FireballAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = FIREBALL_SPRITE;\n    this.name = 'fireball';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = FIREBALL_RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > FIREBALL_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const speed = 8;\n    const count = distance * (game.tileSize.width / speed);\n    const dx = (target.x * game.tileSize.width - caster.pixelX) / count;\n    const dy = (target.y * game.tileSize.height - caster.pixelY) / count;\n\n    caster.ap--;\n\n    game.addAnimation(new ProjectileAnimation(FIREBALL_SPRITE, new Vec2(caster.pixelX, caster.pixelY), new Vec2(dx, dy), count)).then(() => {\n      game.addAnimation(new ExplosionAnimation(game, target, FIREBALL_RADIUS, 30)).then(() => {\n        game.log('The fireball explodes, burning everything within ' + FIREBALL_RADIUS + ' tiles!', Colors.ORANGE);\n\n        for (let i = game.entities.length - 1; i >= 0; i--) {\n          const entity = game.entities[i];\n          if (entity instanceof Actor && entity.distanceTo(target) <= FIREBALL_RADIUS) {\n            game.log('The ' + entity.name + ' gets burned for ' + FIREBALL_DAMAGE + ' hit points.', Colors.ORANGE);\n            entity.takeDamage(FIREBALL_DAMAGE);\n          }\n        }\n      });\n    });\n\n    return true;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Pants';\nconst SPRITE = new Sprite(656, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Legs, Cloth', Colors.WHITE),\n  new Message('2 Armor', Colors.WHITE)\n];\n\nexport class AcolytesPants extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.LEGS);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 2;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Robe';\nconst SPRITE = new Sprite(608, 288, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Chest, Cloth', Colors.WHITE),\n  new Message('2 Armor', Colors.WHITE)\n];\n\nexport class AcolytesRobe extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.CHEST);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 2;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Shoes';\nconst SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Feet, Cloth', Colors.WHITE),\n  new Message('1 Armor', Colors.WHITE)\n];\n\nexport class AcolytesShoes extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.FEET);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 1;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {EquipmentSlot} from './equipment';\nimport { Weapon } from './weapon';\n\nconst NAME = 'Bent Staff';\nconst SPRITE = new Sprite(640, 120, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Two-Hand Staff', Colors.WHITE),\n  new Message('1-2 Damage', Colors.WHITE)\n];\n\nexport class BentStaff extends Weapon {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Initiate\\'s Vest';\nconst SPRITE = new Sprite(608, 288, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Chest, Leather', Colors.WHITE),\n  new Message('5 Armor', Colors.WHITE)\n];\n\nexport class InitiatesVest extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.CHEST);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 5;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Initiate\\'s Pants';\nconst SPRITE = new Sprite(656, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Legs, Leather', Colors.WHITE),\n  new Message('4 Armor', Colors.WHITE)\n];\n\nexport class InitiatesPants extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.LEGS);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 4;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Initiate\\'s Boots';\nconst SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Feet, Leather', Colors.WHITE),\n  new Message('3 Armor', Colors.WHITE)\n];\n\nexport class InitiatesBoots extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.FEET);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 3;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {EquipmentSlot} from './equipment';\nimport { Weapon } from './weapon';\n\nconst NAME = 'Worn Dirk';\nconst SPRITE = new Sprite(672, 96, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('One-Hand Dagger', Colors.WHITE),\n  new Message('1-2 Damage', Colors.WHITE)\n];\n\nexport class WornDirk extends Weapon {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n    this.finesse = true;\n    this.bonusDexterity = 10;\n  }\n}","import { Game, Item, Sprite } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\n\nexport class Gateway extends Item {\n  readonly owner: StatsActor;\n  other?: Gateway;\n\n  constructor(game: Game, x: number, y: number, owner: StatsActor) {\n    super(game, x, y, 'gateway', SPRITE, false);\n    this.owner = owner;\n    this.zIndex = 0;\n  }\n}\n","import {Color, Colors, GUI, SelectOption, SelectOptionRenderer, Vec2} from 'wglt';\n\n\nexport class MenuItemRenderer implements SelectOptionRenderer {\n  readonly expandedHeight: number;\n  readonly collapsedHeight: number;\n\n  constructor(expandedHeight: number, collapsedHeight: number) {\n    this.expandedHeight = expandedHeight;\n    this.collapsedHeight = collapsedHeight;\n  }\n\n  drawOption(gui: GUI, point: Vec2, option: SelectOption, selected?: boolean) {\n    const app = gui.app;\n    let x = point.x;\n    const y = point.y;\n    let iconColor: Color|undefined = Colors.GRAY;\n    let titleColor = Colors.GRAY;\n    let descColor = Colors.GRAY;\n\n    if (selected) {\n      iconColor = undefined;\n      titleColor = Colors.YELLOW;\n      descColor = Colors.WHITE;\n    }\n\n    if (option.icon) {\n      option.icon.draw(app, x, y, iconColor);\n      x += option.icon.width + 2;\n    }\n\n    app.drawString(option.name, x, y, titleColor);\n\n    if (option.description) {\n      app.drawString(option.description, x + 3, y + 10, descColor);\n    }\n\n    if (selected && option.details) {\n      for (let j = 0; j < option.details.length; j++) {\n        const msg = option.details[j];\n        const color = selected ? msg.color : Colors.LIGHT_GRAY;\n        app.drawString(msg.text, x + 3, y + 20 + j * 10, color);\n      }\n    }\n  }\n\n  getHeight(_: SelectOption, selected: boolean) {\n    return selected ? this.expandedHeight : this.collapsedHeight;\n  }\n}","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Human';\nconst ICON = new Sprite(0, 730, 34, 34, undefined, undefined, undefined, 0xddae62FF);\nconst DESC = 'Young race with lust for power';\nconst DETAILS = [\n  new Message('+1 all attributes', Colors.LIGHT_GREEN),\n  new Message('Reduced stun times', Colors.YELLOW),\n  new Message('Hustle - when active, double actions', Colors.YELLOW),\n];\n\nexport class Human extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution++;\n    player.strength++;\n    player.dexterity++;\n    player.intelligence++;\n  }\n}\n","import { Game, Item, Sprite } from 'wglt';\n\nexport class Portal extends Item {\n  other?: Portal;\n  fade: boolean;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, false);\n    this.zIndex = 0;\n    this.fade = false;\n  }\n}\n","import { Colors, Item, Message, Sprite } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\nconst SPRITE = new Sprite(848, 168, 16, 24, 1, true, undefined, 0x80C0C0FF);\n\nconst TOOLTIPS = [\n  new Message('Hearthstone', Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Use: Returns you to your home.', Colors.LIGHT_GREEN),\n  new Message('Speak to an Innkeeper in a different', Colors.LIGHT_GREEN),\n  new Message('place to change your home location.', Colors.LIGHT_GREEN),\n];\n\nexport class Hearthstone extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'Hearthstone', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onUse(player: Player) {\n    const game = player.game as Game;\n    game.warpToPoint(player.home);\n    return true;\n  }\n}\n","import {App} from './app';\n\nconst app = new App();\n\n// Clear the window hash on load\n// Always start at the root\nif (window.location.hash && window.location.hash !== '#') {\n  window.location.hash = '';\n}\n\n// Subscribe to future window hash change events\nwindow.addEventListener('hashchange', handleHashChange);\n\nfunction handleHashChange() {\n  const hash = window.location.hash;\n\n  if (hash === '#game') {\n    app.startGame();\n\n  } else if (hash === '#chooserace') {\n    app.chooseRace();\n\n  } else if (hash === '#chooseclass') {\n    app.chooseClass();\n\n  } else if (hash === '#highscores') {\n    app.showHighScores();\n\n  } else if (hash === '#credits') {\n    app.showCredits();\n\n  } else {\n    app.showMainMenu();\n  }\n}\n","\nimport * as wglt from 'wglt';\nimport {AppState, Rect, FadeInAnimation} from 'wglt';\n\nimport {CharacterClass} from './classes/characterclass';\nimport {ClassMenu} from './classmenu';\nimport {Player} from './entities/player';\nimport {Game} from './game';\nimport {MainMenu} from './mainmenu';\nimport {RaceMenu} from './racemenu';\nimport {CharacterRace} from './races/characterrace';\nimport { Hearthstone } from './items/hearthstone';\n\nexport class App extends wglt.App {\n  readonly mainMenu: MainMenu;\n  readonly raceMenu: RaceMenu;\n  readonly classMenu: ClassMenu;\n  readonly highScores: AppState;\n  readonly credits: AppState;\n  game: Game;\n  playerRace?: CharacterRace;\n  playerClass?: CharacterClass;\n\n  constructor() {\n    super({\n      canvas: document.querySelector('canvas') as HTMLCanvasElement,\n      imageUrl: 'graphics.png',\n      size: new Rect(0, 0, 224, 400),\n      fillWindow: true\n    });\n\n    this.mainMenu = new MainMenu(this);\n    this.raceMenu = new RaceMenu(this);\n    this.classMenu = new ClassMenu(this);\n    this.highScores = new AppState(this);\n    this.credits = new AppState(this);\n    this.game = new Game(this);\n    this.showMainMenu();\n  }\n\n  showMainMenu() {\n    this.state = this.mainMenu;\n  }\n\n  chooseRace() {\n    this.state = this.raceMenu;\n  }\n\n  chooseClass() {\n    this.state = this.classMenu;\n  }\n\n  startGame() {\n    this.state = this.game;\n\n    // TODO: Where to put this logic?  Game constructor?\n    (this.game.player as Player).inventory.add(new Hearthstone(this.game));\n\n    if (this.playerRace) {\n      this.playerRace.initPlayer(this.game.player as Player);\n    }\n\n    if (this.playerClass) {\n      this.playerClass.initPlayer(this.game.player as Player);\n    }\n\n    this.game.addAnimation(new FadeInAnimation(30));\n  }\n\n  showHighScores() {\n    this.state = this.highScores;\n  }\n\n  showCredits() {\n    this.state = this.credits;\n  }\n}","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {CharacterClass} from './classes/characterclass';\nimport {Paladin} from './classes/paladin';\nimport {Priest} from './classes/priest';\nimport {Ranger} from './classes/ranger';\nimport {Rogue} from './classes/rogue';\nimport {Warlock} from './classes/warlock';\nimport {Warrior} from './classes/warrior';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\n\nconst CLASSES = [new Paladin(), new Priest(), new Ranger(), new Rogue(), new Warlock(), new Warrior()];\n\nexport class ClassMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your class', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), CLASSES);\n    selectDialog.renderer = new MenuItemRenderer(60, 30);\n\n    selectDialog.onSelect = (choice: CharacterClass) => {\n      (this.app as App).playerClass = choice;\n      window.location.hash = 'game';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Actor, AI, Colors} from 'wglt';\n\nexport class Stunned extends AI {\n  numTurns: number;\n  oldAi?: AI;\n\n  constructor(actor: Actor, turns: number) {\n    super(actor);\n    this.numTurns = turns;\n    this.oldAi = actor.ai;\n  }\n\n  doAi() {\n    if (this.numTurns > 0) {\n      // Stunned.  Sit still.\n      this.numTurns--;\n    } else {\n      this.actor.ai = this.oldAi;\n    }\n  }\n}\n","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport { EquipmentSlot} from './equipment';\nimport { Weapon } from './weapon';\n\nconst NAME = 'Battleworn Hammer';\nconst SPRITE = new Sprite(640, 96, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Two-Hand Mace', Colors.WHITE),\n  new Message('1-2 Damage', Colors.WHITE)\n];\n\nexport class BattlewornHammer extends Weapon {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n  }\n}","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FireballAbility} from '../abilities/fireball';\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport {AcolytesPants} from '../equipment/acolytespants';\nimport {AcolytesRobe} from '../equipment/acolytesrobe';\nimport {AcolytesShoes} from '../equipment/acolytesshoes';\nimport {BentStaff} from '../equipment/bentstaff';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Priest';\nconst ICON = new Sprite(0, 700, 24, 26, undefined, undefined, undefined, 0xFFFFFFFF);\nconst SPRITE = new Sprite(384, 96, 16, 24, 2, true, undefined, 0xf8f8f8ff);\nconst DESC = 'Devoted to the spiritual, powerful healing magic';\nconst DETAILS = [\n  new Message('+5 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Priest extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new FireballAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.equipment.add(new AcolytesRobe(game));\n    player.equipment.add(new AcolytesPants(game));\n    player.equipment.add(new AcolytesShoes(game));\n    player.equipment.add(new BentStaff(game));\n    player.intelligence += 5;\n  }\n}\n","import {Colors, Animation, Game, ProjectileAnimation, Sprite, Vec2} from 'wglt';\n\nexport class ExplosionAnimation extends Animation {\n  readonly game: Game;\n  readonly center: Vec2;\n  readonly radius: number;\n  readonly duration: number;\n  readonly sprites: Sprite[];\n\n  constructor(game: Game, center: Vec2, radius: number, duration: number) {\n    super(duration, true);\n    this.game = game;\n    this.center = center;\n    this.radius = radius;\n    this.duration = duration;\n    this.sprites = [];\n  }\n\n  update() {\n    super.update();\n\n    const game = this.game;\n    const maxRadius = this.radius * (1.0 - (this.countdown + 1) / (this.duration + 1));\n    const centerX = (this.center.x) * game.tileSize.width;\n    const centerY = (this.center.y) * game.tileSize.height;\n\n    for (let i = 0; i < 3; i++) {\n      const radius = maxRadius;\n      const angle = this.countdown + i;\n      const x = centerX + game.tileSize.width * radius * Math.cos(angle);\n      const y = centerY + game.tileSize.height * radius * Math.sin(angle);\n      const explosion = new Sprite(512, 336, 16, 24, 4, false, 4, Colors.ORANGE);\n      const animation = new ProjectileAnimation(explosion, new Vec2(x, y), new Vec2(0, 0), 16);\n      animation.blocking = false;\n      game.animations.push(animation);\n    }\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { InitiatesVest } from '../equipment/initiatesvest';\nimport { InitiatesPants } from '../equipment/initiatespants';\nimport { InitiatesBoots } from '../equipment/initiatesboots';\nimport { WeatheredCrossbow } from '../equipment/weatheredcrossbow';\nimport { ShootAbility } from '../abilities/shoot';\n\nconst NAME = 'Ranger';\nconst ICON = new Sprite(168, 700, 24, 26, undefined, undefined, undefined, 0x80FF80FF);\nconst SPRITE = new Sprite(64, 120, 16, 24, 2, true, undefined, 0x80FF80FF);\nconst DESC = 'Strategy and finesse, attacking from a distance';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Ranger extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new ShootAbility()));\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.equipment.add(new InitiatesVest(game));\n    player.equipment.add(new InitiatesPants(game));\n    player.equipment.add(new InitiatesBoots(game));\n    player.equipment.add(new WeatheredCrossbow(game));\n    player.strength += 2;\n    player.dexterity += 2;\n  }\n}\n","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {EquipmentSlot} from './equipment';\nimport { Weapon } from './weapon';\n\nconst NAME = 'Weathered Crossbow';\nconst SPRITE = new Sprite(896, 96, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Ranged Crossbow', Colors.WHITE),\n  new Message('1-2 Damage', Colors.WHITE)\n];\n\nexport class WeatheredCrossbow extends Weapon {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n    this.ranged = true;\n    this.finesse = true;\n  }\n}","import { Ability, Actor, Colors, Message, Sprite, TargetType } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(896, 96, 16, 24, 1, false, undefined, 0x40D0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shoot', Colors.WHITE),\n  new Message('30 yard range', Colors.WHITE),\n  new Message('Requires a ranged weapon.', Colors.WHITE)\n];\n\nexport class ShootAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'shoot';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: Actor) {\n    const game = caster.game;\n\n    const weapon = caster.mainHandWeapon;\n    if (!weapon || !weapon.ranged) {\n      if (caster === game.player) {\n        game.log('Shoot requires a ranged weapon.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const damage = caster.getDamage();\n    target.takeDamage(damage);\n    caster.ap--;\n    return true;\n  }\n}","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {ShadowStrikeAbility} from '../abilities/shadowstrike';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { InitiatesVest } from '../equipment/initiatesvest';\nimport { InitiatesPants } from '../equipment/initiatespants';\nimport { InitiatesBoots } from '../equipment/initiatesboots';\nimport { WornDirk } from '../equipment/worndirk';\n\nconst NAME = 'Rogue';\nconst ICON = new Sprite(144, 700, 24, 26, undefined, undefined, undefined, 0xA00000FF);\nconst SPRITE = new Sprite(192, 96, 16, 24, 2, true, undefined, 0xA00000FF);\nconst DESC = 'Lethal assasins and masters of stealth';\nconst DETAILS = [\n  new Message('+5 Dexterity', Colors.LIGHT_GREEN), new Message('Stealth - go invisible for 10 turns', Colors.YELLOW),\n  new Message('Shadow Strike - sneak attack from a distance', Colors.YELLOW)\n];\n\nexport class Rogue extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new ShadowStrikeAbility()));\n    player.equipment.add(new InitiatesVest(game));\n    player.equipment.add(new InitiatesPants(game));\n    player.equipment.add(new InitiatesBoots(game));\n    player.equipment.add(new WornDirk(game));\n    player.dexterity += 5;\n  }\n}\n","import {Ability, Actor, Colors, Message, SlideAnimation, Sprite, TargetType, Vec2} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xc4c4c4ff);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shadow Strike', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Appear behind your target up to 25 yards away,', Colors.YELLOW),\n  new Message('dealing double damage.', Colors.YELLOW)\n];\n\nexport class ShadowStrikeAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Shadow Strike';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: Actor) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    let farthestTile: Vec2 | null = null;\n    let farthestDistance = 0.0;\n\n    for (let y = target.y - 1; y <= target.y + 1; y++) {\n      for (let x = target.x - 1; x <= target.x + 1; x++) {\n        if (Math.hypot(x - target.x, y - target.y) > 1.001) {\n          // Too far away from the target\n          continue;\n        }\n        if (game.isBlocked(x, y)) {\n          // Blocked or occupied\n          continue;\n        }\n        const distance = caster.distance(x, y);\n        if (distance > farthestDistance) {\n          farthestTile = new Vec2(x, y);\n          farthestDistance = distance;\n        }\n      }\n    }\n\n    if (!farthestTile) {\n      if (caster === game.player) {\n        game.log('No free spaces available.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (farthestTile.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (farthestTile.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = (farthestTile as Vec2).x;\n      caster.y = (farthestTile as Vec2).y;\n      caster.attack(target, caster.getDamage() * 2);\n      caster.ap--;\n    });\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {CurseAbility} from '../abilities/curse';\nimport {DemonicGatewayAbility} from '../abilities/demonicgateway';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport {AcolytesPants} from '../equipment/acolytespants';\nimport {AcolytesRobe} from '../equipment/acolytesrobe';\nimport {AcolytesShoes} from '../equipment/acolytesshoes';\nimport {BentStaff} from '../equipment/bentstaff';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Warlock';\nconst ICON = new Sprite(24, 700, 24, 26, undefined, undefined, undefined, 0xA020A0FF);\nconst SPRITE = new Sprite(416, 96, 16, 24, 2, true, undefined, 0xA020A0FF);\nconst DESC = 'Practitioners of the dark arts';\nconst DETAILS = [\n  new Message('+2 Constitution, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Demonic Gateway - teleport by dark magic', Colors.YELLOW)\n];\n\nexport class Warlock extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new CurseAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new DemonicGatewayAbility()));\n    player.equipment.add(new AcolytesRobe(game));\n    player.equipment.add(new AcolytesPants(game));\n    player.equipment.add(new AcolytesShoes(game));\n    player.equipment.add(new BentStaff(game));\n    player.constitution += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\n\nimport {Curse} from '../buffs/curse';\nimport {StatsActor} from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(880, 144, 16, 24, 1, false, undefined, 0xC040C0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Curse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Corrupts the target, causing (1 + INT) / 4', Colors.YELLOW),\n  new Message('damage per turn for 8 turns.', Colors.YELLOW),\n];\n\nexport class CurseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Curse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const damage = Math.round((1 + caster.intelligenceModifier) / 4);\n    target.buffs.push(new Curse(target, damage, 8));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\n\nexport class Curse extends Buff {\n  damage: number;\n  countdown: number;\n\n  constructor(actor: StatsActor, damage: number, duration: number) {\n    super(actor);\n    this.damage = damage;\n    this.countdown = duration;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.actor.takeDamage(this.damage);\n      this.countdown--;\n    }\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nexport abstract class Buff {\n  readonly actor: StatsActor;\n\n  constructor(actor: StatsActor) {\n    this.actor = actor;\n  }\n\n  update() {}\n\n  isDone() {\n    return false;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, TileMapCell} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport {Gateway} from '../items/gateway';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Demonic Gateway', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Creates a demonic gateway between two', Colors.YELLOW),\n  new Message('locations. User can transport to the other gateway.', Colors.YELLOW),\n];\n\nexport class DemonicGatewayAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Demonic Gateway';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const gateway1 = new Gateway(game, caster.x, caster.y, caster);\n    const gateway2 = new Gateway(game, target.x, target.y, caster);\n    gateway1.other = gateway2;\n    gateway2.other = gateway1;\n    game.entities.push(gateway1);\n    game.entities.push(gateway2);\n    caster.move(target.x - caster.x, target.y - caster.y, 16);\n    caster.ap--;\n    return true;\n  }\n}","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { SquiresVest } from '../equipment/squiresvest';\nimport { SquiresPants } from '../equipment/squirespants';\nimport { SquiresBoots } from '../equipment/squiresboots';\nimport { WornGreatsword } from '../equipment/worngreatsword';\nimport { WornDirk } from '../equipment/worndirk';\n\nconst NAME = 'Warrior';\nconst ICON = new Sprite(216, 700, 24, 26, undefined, undefined, undefined, 0x804000FF);\nconst SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\nconst DESC = 'Lords of war, strength, and combat';\nconst DETAILS = [\n  new Message('+5 Strength, +2 Constitution', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Warrior extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.equipment.add(new SquiresVest(game));\n    player.equipment.add(new SquiresPants(game));\n    player.equipment.add(new SquiresBoots(game));\n    player.equipment.add(new WornGreatsword(game));\n    player.inventory.add(new WornDirk(game));\n    player.constitution += 2;\n    player.strength += 5;\n  }\n}\n","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {EquipmentSlot} from './equipment';\nimport { Weapon } from './weapon';\n\nconst NAME = 'Worn Greatsword';\nconst SPRITE = new Sprite(624, 96, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Two-Hand Sword', Colors.WHITE),\n  new Message('1-2 Damage', Colors.WHITE)\n];\n\nexport class WornGreatsword extends Weapon {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n  }\n}","import * as wglt from 'wglt';\nimport {Actor, App, Button, Colors, Entity, FadeInAnimation, FadeOutAnimation, Item, ItemContainerDialog, Message, MessageLog, Rect, Sprite, TalentsDialog, Vec2} from 'wglt';\n\nimport {CatEscapeAnimation} from './animations/catescapeanimation';\nimport {Cat} from './entities/cat';\nimport {Player} from './entities/player';\nimport {BottomPanel} from './gui/bottompanel';\nimport {CharacterDialog} from './gui/characterdialog';\nimport {TopPanel} from './gui/toppanel';\nimport {MapGenerator} from './mapgen';\nimport {Gateway} from './items/gateway';\nimport { LevelUpDialog } from './gui/levelupdialog';\nimport { EntityFrames } from './gui/entityframes';\nimport { Hearthstone } from './items/hearthstone';\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst TARGET_SPRITE = new Sprite(16, 40, SPRITE_WIDTH, SPRITE_HEIGHT);\n\nexport class Game extends wglt.Game {\n  private readonly mapGen: MapGenerator;\n  cat?: Cat;\n  levelUpDialog: LevelUpDialog;\n\n  constructor(app: App) {\n    super(app, {\n      tileSize: new Rect(0, 0, 16, 24),\n      horizontalViewDistance: 8,\n      verticalViewDistance: 6\n    });\n\n    this.targetSprite = TARGET_SPRITE;\n    this.cooldownSprite = new Sprite(192, 16, 16, 24, 24);\n    this.blackoutRect = new Rect(0, 40, 16, 16);\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.mapGen = new MapGenerator(this);\n\n    const player = new Player(this, 30, 20);\n    this.player = player;\n    this.entities.push(player);\n    this.gui.renderer.baseRect = new Rect(0, 16, 24, 24);\n    this.gui.renderer.buttonSlotRect = new Rect(64, 16, 20, 28);\n    this.messageLog = new MessageLog(new Rect(1, -84, 100, 50));\n    this.gui.add(this.messageLog);\n    this.log('Welcome stranger! Prepare to perish!', Colors.DARK_RED);\n\n    const topPanel = new TopPanel(player);\n    this.gui.add(topPanel);\n\n    const bottomPanel = new BottomPanel();\n    this.gui.add(bottomPanel);\n\n    this.gui.add(new EntityFrames(this));\n\n    const inventoryButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(832, 168, 16, 24, 1, true, 30, 0xe08020ff),\n        undefined,\n        () => {\n          inventoryDialog.visible = !inventoryDialog.visible;\n          talentsDialog.visible = false;\n          characterDialog.visible = false;\n        });\n    inventoryButton.tooltipMessages = [\n      new Message('Traveler\\'s Backpack', Colors.GREEN),\n      new Message('Item Level 55', Colors.YELLOW),\n      new Message('16 Slot Bag', Colors.WHITE),\n      new Message('Sell Price: 87 coins', Colors.WHITE)\n    ];\n    bottomPanel.inventorySlot.add(inventoryButton);\n\n    const characterButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(640, 240, 16, 24, undefined, undefined, undefined, 0xffcf5cff),\n        undefined,\n        () => {\n          characterDialog.visible = !characterDialog.visible;\n          inventoryDialog.visible = false;\n          talentsDialog.visible = false;\n        });\n    characterButton.tooltipMessages = [\n      new Message('Character', Colors.WHITE),\n      new Message('Currently equipped items,', Colors.YELLOW),\n      new Message('stats and abilities.', Colors.YELLOW)\n    ];\n    topPanel.characterSlot.add(characterButton);\n\n    const talentsButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(656, 360, 16, 24, undefined, undefined, undefined, Colors.LIGHT_BLUE),\n        undefined, () => {\n          talentsDialog.visible = !talentsDialog.visible;\n          inventoryDialog.visible = false;\n          characterDialog.visible = false;\n        });\n    talentsButton.tooltipMessages = [\n      new Message('Talents', Colors.WHITE),\n      new Message('A list of all of your', Colors.YELLOW),\n      new Message('character\\'s talents.', Colors.YELLOW)\n    ];\n    topPanel.talentsSlot.add(talentsButton);\n\n    const menuButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(352, 672, 16, 24, undefined, undefined, undefined, Colors.LIGHT_GRAY),\n        undefined,\n        () => {\n          window.location.hash = 'menu';\n        });\n    menuButton.tooltipMessages = [new Message('Main Menu', Colors.WHITE)];\n    topPanel.menuSlot.add(menuButton);\n\n    const inventoryDialog = new ItemContainerDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Traveler\\'s Backpack', Colors.GREEN),\n          new Message('Click an item to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.inventory);\n    inventoryDialog.visible = false;\n    this.gui.add(inventoryDialog);\n\n    const characterDialog = new CharacterDialog(new Rect(4, 38, 120, 126), player);\n    characterDialog.visible = false;\n    this.gui.add(characterDialog);\n\n    const talentsDialog = new TalentsDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Talents', Colors.GREEN),\n          new Message('Click an ability to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.talents);\n    talentsDialog.visible = false;\n    this.gui.add(talentsDialog);\n\n    const levelUpDialog = new LevelUpDialog(new Rect(4, 38, 140, 126), player);\n    levelUpDialog.visible = false;\n    this.gui.add(levelUpDialog);\n    this.levelUpDialog = levelUpDialog;\n\n    player.inventory.addListener({\n      onAdd: (_, item) => {\n        if (item instanceof Hearthstone) {\n          // Don't add hearthstone to shortcut bar\n          return;\n        }\n        bottomPanel.shortcutBar.addItem(player.inventory, item, true);\n      },\n      onRemove: () => {}\n    });\n\n    player.talents.addListener({\n      onAdd: (_, talent) => {\n        bottomPanel.shortcutBar.addTalent(talent);\n      },\n      onRemove: () => {}\n    });\n\n    // Generate the map\n    this.mapGen.createMap();\n  }\n\n  warpToPoint(point: Vec2) {\n    this.addAnimation(new FadeOutAnimation(30)).then(() => {\n      if (this.player) {\n        this.player.x = point.x;\n        this.player.y = point.y;\n      }\n      this.stopAutoWalk();\n      this.resetViewport();\n      this.recomputeFov();\n      this.addAnimation(new FadeInAnimation(30));\n    });\n  }\n}\n","import { Colors, Sprite, Entity, Item, Vec2 } from 'wglt';\n\nimport { CharacterClass } from '../classes/characterclass';\nimport { Paladin } from '../classes/paladin';\nimport { Game } from '../game';\nimport { CharacterRace } from '../races/characterrace';\nimport { Human } from '../races/human';\n\nimport { StatsActor } from './statsactor';\nimport { Gateway } from '../items/gateway';\nimport { Monster } from './monster';\nimport { Portal } from '../items/portal';\n\nconst PLAYER_SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\n\nexport class Player extends StatsActor {\n  xp: number;\n  maxXp: number;\n  race: CharacterRace;\n  class: CharacterClass;\n  remainingAbilityPoints: number;\n  home: Vec2;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Player', PLAYER_SPRITE);\n    this.level = 1;\n    this.hp = 10;\n    this.maxHp = 10;\n    this.xp = 0;\n    this.maxXp = 20;\n    this.race = new Human();\n    this.class = new Paladin();\n    this.remainingAbilityPoints = 0;\n    this.home = new Vec2(x, y);\n  }\n\n  onBump(other: Entity) {\n    if (other instanceof Gateway) {\n      if (other.other) {\n        const exit = other.other;\n        this.move(exit.x - this.x, exit.y - this.y, 16);\n      }\n      return;\n    }\n    if (other instanceof Portal) {\n      const exit = other.other;\n      if (exit) {\n        (this.game as Game).warpToPoint(exit);\n      }\n      return;\n    }\n    if (other instanceof Item) {\n      this.moveToward(other.x, other.y);\n      this.pickup(other);\n      return true;\n    }\n    if (other instanceof Monster) {\n      this.attack(other, this.getDamage());\n      return true;\n    }\n    return false;\n  }\n\n  onDeath() {\n    this.game.log('You died!');\n  }\n\n  addXp(xpGain: number) {\n    this.xp += xpGain;\n    this.addFloatingText('+' + xpGain, Colors.LIGHT_MAGENTA);\n\n    let levelUp = false;\n    while (this.xp >= this.maxXp) {\n      this.level++;\n      this.maxHp += 2;\n      this.hp = this.maxHp;\n      this.xp = 0;\n      this.maxXp = this.nextMaxXp(this.maxXp);\n      this.remainingAbilityPoints += 2;\n      this.game.log('You reached level ' + this.level, Colors.LIGHT_MAGENTA);\n      levelUp = true;\n    }\n\n    if (levelUp) {\n      (this.game as Game).levelUpDialog.visible = true;\n    }\n  }\n\n  private nextMaxXp(oldMaxXp: number) {\n    return Math.round(oldMaxXp * 1.5 / 10.0) * 10.0;\n  }\n}\n","import {ButtonSlot, Keys, Panel, Rect, ShortcutBar} from 'wglt';\n\nexport class BottomPanel extends Panel {\n  constructor() {\n    super(new Rect(0, -43, 400, 43));\n\n    // Create 6 slots for the action bar\n    this.add(new ShortcutBar(new Rect(0, 0, 6 * 24, 28), 6));\n\n    // Create a slot for the inventory button\n    this.add(new ButtonSlot(new Rect(100, 0, 20, 28), Keys.VK_I));\n  }\n\n  get shortcutBar(): ShortcutBar {\n    return this.children.get(0) as ShortcutBar;\n  }\n\n  get inventorySlot(): ButtonSlot {\n    return this.children.get(this.children.length - 1) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const y = app.size.height - 43;\n    app.drawImage(0, y, 48, 16, 16, 48, undefined, app.size.width, 48);\n\n    // Update button y-positions\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.y = app.size.height - 31;\n    }\n\n    // Update inventory button to be right-aligned\n    this.inventorySlot.rect.x = app.size.width - 22;\n\n    this.drawChildren();\n  }\n}\n","import {ButtonSlot, Colors, Dialog, ItemButton, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport {Equipment, EquipmentSlot} from '../equipment/equipment';\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\n\nexport class CharacterDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const capacity = 10;\n    for (let i = 0; i < capacity; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24)));\n    }\n\n    player.equipment.addListener(\n        {onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get headSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get neckSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get backSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get chestSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  get handsSlot(): ButtonSlot {\n    return this.children.get(4) as ButtonSlot;\n  }\n\n  get legsSlot(): ButtonSlot {\n    return this.children.get(5) as ButtonSlot;\n  }\n\n  get feetSlot(): ButtonSlot {\n    return this.children.get(6) as ButtonSlot;\n  }\n\n  get ringSlot(): ButtonSlot {\n    return this.children.get(7) as ButtonSlot;\n  }\n\n  get mainHandSlot(): ButtonSlot {\n    return this.children.get(8) as ButtonSlot;\n  }\n\n  get offHandSlot(): ButtonSlot {\n    return this.children.get(9) as ButtonSlot;\n  }\n\n  private addItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      slot.add(new ItemButton(slot.rect.clone(), this.player.inventory, item));\n    }\n  }\n\n  private removeItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      const button = slot.button;\n      if (button) {\n        slot.remove(button);\n      }\n    }\n  }\n\n  private getSlot(item: Equipment) {\n    switch (item.slot) {\n      case EquipmentSlot.HEAD:\n        return this.headSlot;\n      case EquipmentSlot.NECK:\n        return this.neckSlot;\n      case EquipmentSlot.BACK:\n        return this.backSlot;\n      case EquipmentSlot.CHEST:\n        return this.chestSlot;\n      case EquipmentSlot.HANDS:\n        return this.handsSlot;\n      case EquipmentSlot.LEGS:\n        return this.legsSlot;\n      case EquipmentSlot.FEET:\n        return this.feetSlot;\n      case EquipmentSlot.RING:\n        return this.ringSlot;\n      case EquipmentSlot.MAINHAND:\n        return this.mainHandSlot;\n      case EquipmentSlot.OFFHAND:\n        return this.offHandSlot;\n      default:\n        return undefined;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawCenteredString('ORYX THE BRAVE', centerX, y, Colors.WHITE);\n    y += 10;\n\n    const desc = 'Level ' + this.player.level + ' ' + this.player.race.name + ' ' + this.player.class.name;\n\n    this.gui.app.drawCenteredString(desc, centerX, y, Colors.WHITE);\n    y += 10;\n\n    // Draw the player sprite at 2x\n    this.player.sprite.draw(this.gui.app, centerX - 8, y + 32);\n\n    // Left column:  head, neck, back, chest\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    // Right column: hands, legs, ring1, ring2\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(4 + i);\n      child.rect.x = containerRect.x2 - MARGIN - buttonRect.width;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    this.mainHandSlot.rect.x = centerX - buttonRect.width - 1;\n    this.mainHandSlot.rect.y = y + 90;\n    this.mainHandSlot.rect.width = buttonRect.width;\n    this.mainHandSlot.rect.height = buttonRect.height;\n\n    this.offHandSlot.rect.x = centerX + 1;\n    this.offHandSlot.rect.y = y + 90;\n    this.offHandSlot.rect.width = buttonRect.width;\n    this.offHandSlot.rect.height = buttonRect.height;\n\n    y += 4 * (buttonRect.height + BUTTON_SPACING) + MARGIN;\n\n    this.gui.app.drawString('Armor', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.armor.toString(), x + 85, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Constitution', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.constitution.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.constitutionModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Strength', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.strength.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.strengthModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Dexterity', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.dexterity.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.dexterityModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Intelligence', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.intelligence.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.intelligenceModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import {ButtonSlot, Colors, Keys, Panel, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport class TopPanel extends Panel {\n  readonly player: Player;\n\n  constructor(player: Player) {\n    super(new Rect(0, 0, 400, 42));\n    this.player = player;\n\n    // Character / inventory\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_C));\n\n    // Talents / abilities\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_N));\n\n    // Inspect\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_QUESTION_MARK));\n\n    // Main menu\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_Q));\n  }\n\n  get characterSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get talentsSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get inspectSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get menuSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n\n    app.drawImage(0, 0, 32, 22, 16, 42, undefined, app.size.width, 42);\n    app.drawString('Oryx the Brave'.toUpperCase(), 1, 1, Colors.WHITE);\n\n    // Health\n    app.drawImage(2, 12, 128, 16, 12, 12);\n    app.drawString(this.player.hp.toString(), 16, 15);\n\n    // Mana\n    app.drawImage(38, 12, 144, 16, 12, 12);\n    app.drawString('88', 52, 15);\n\n    // Energy\n    app.drawImage(74, 12, 160, 16, 12, 12);\n    app.drawString('88', 88, 15);\n\n    // Update button x-positions to right align\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.x = app.size.width - 24 * (4 - i);\n    }\n\n    this.drawChildren();\n  }\n}\n","import { Rect, Sprite, TileMap, Vec2, computePath } from 'wglt';\n\nimport { ConfuseAbility } from './abilities/confuse';\nimport { FireballAbility } from './abilities/fireball';\nimport { LightningAbility } from './abilities/lightning';\nimport { Bat } from './entities/bat';\nimport { Griffon } from './entities/griffon';\nimport { Player } from './entities/player';\nimport { Shark } from './entities/shark';\nimport { Spider } from './entities/spider';\nimport { Troll } from './entities/troll';\nimport { Game } from './game';\nimport { HealthPotion } from './items/healthpotion';\nimport { Scroll } from './items/scroll';\nimport { RedDragon } from './entities/reddragon';\nimport { Guard } from './entities/guard';\nimport { Portal } from './items/portal';\nimport { Dungeon } from './dungeon';\n\n// Size of the map\nconst MAP_WIDTH = 512;\nconst MAP_HEIGHT = 512;\n\nconst OVERWORLD_WIDTH = 256;\nconst OVERWORLD_HEIGHT = 256;\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\nconst TILE_EMPTY = 0;\nconst TILE_SHADOW = getTileId(0, 3);\nconst TILE_WALL = getTileId(0, 19);\nconst TILE_HALF_WALL = getTileId(0, 20);\nconst TILE_HALF_WALL2 = getTileId(1, 20);\nconst TILE_HALF_WALL3 = getTileId(2, 20);\nconst TILE_FLOOR = getTileId(13, 17);\nconst TILE_WATER = getTileId(0, 18);\nconst TILE_BRIDGE = getTileId(15, 27);\nconst TILE_COBWEB_NORTHWEST = getTileId(28, 22);\nconst TILE_COBWEB_NORTHEAST = getTileId(29, 22);\nconst TILE_COBWEB_SOUTHWEST = getTileId(30, 22);\nconst TILE_COBWEB_SOUTHEAST = getTileId(31, 22);\nconst TILE_DOOR = getTileId(7, 19);\nconst TILE_STAIRS_DOWN = getTileId(14, 18);\nconst TILE_STAIRS_UP = getTileId(15, 18);\nconst TILE_BARREL = getTileId(24, 19);\nconst TILE_STATUE = getTileId(16, 20);\nconst TILE_GRASS = getTileId(0, 17);\nconst TILE_TREE = getTileId(22, 23);\nconst TILE_PATH = getTileId(18, 17);\n\nfunction getTileId(tileX: number, tileY: number) {\n  return 1 + tileY * 64 + tileX;\n}\n\n// Parameters for dungeon generator\nconst ROOM_MIN_WIDTH = 6;\nconst ROOM_MAX_WIDTH = 10;\nconst ROOM_MIN_HEIGHT = 4;\nconst ROOM_MAX_HEIGHT = 8;\nconst MAX_ROOMS = 10;\nconst MAX_ROOM_MONSTERS = 3;\nconst MAX_ROOM_ITEMS = 2;\nconst MAX_ROOM_OBSTACLES = 4;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst STAIRS_SPRITE = new Sprite(700, 500, SPRITE_WIDTH, SPRITE_HEIGHT, 1);\n\nconst BOSS_ZONE_HEIGHT = 10;\nconst BOSS_LAYOUTS = [\n  {\n    // Top left\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, 2, 14, 8),\n    stairsRoom: new Rect(2, 4, 4, 4)\n  },\n  {\n    // Top right\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, 2, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, 4, 4, 4)\n  },\n  {\n    // Bottom left\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(2, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n  {\n    // Bottom right\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n];\n\nexport class MapGenerator {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    this.game = game;\n\n    const map = new TileMap(game.app.gl, MAP_WIDTH, MAP_HEIGHT, 4);\n    map.tileWidth = 16;\n    map.tileHeight = 24;\n    game.tileMap = map;\n  }\n\n  createMap() {\n    this.createOverworld();\n\n    const dungeons = [];\n    for (let i = 0; i < 10; i++) {\n      const x = MAP_WIDTH - DUNGEON_WIDTH;\n      const y = i * DUNGEON_HEIGHT;\n      const dungeon = new Dungeon(new Rect(x, y, DUNGEON_WIDTH, DUNGEON_HEIGHT), i);\n      this.createDungeon(dungeon);\n      dungeons.push(dungeon);\n    }\n\n    // Create portal entrance\n    const game = this.game;\n    const player = game.player as Player;\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0x00FFFFFF);\n    const portal1 = new Portal(game, player.x + 4, player.y, 'portal', portalSprite);\n    const portal2 = dungeons[0].entrance as Portal;\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.push(portal1);\n    game.entities.push(portal2);\n\n    // Connect all of the dungeon floors to each other\n    for (let i = 1; i < 10; i++) {\n      const exit = dungeons[i - 1].exit as Portal;\n      const entrance = dungeons[i].entrance as Portal;\n      exit.other = entrance;\n      entrance.other = exit;\n    }\n\n    // Touch-up (add shadows, other ambient effects)\n    this.touchUp(this.game.tileMap as TileMap);\n  }\n\n  createOverworld() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    const player = game.player as Player;\n    const rng = game.rng;\n\n    const outerOverworld = new Rect(0, 0, OVERWORLD_WIDTH, OVERWORLD_HEIGHT);\n    const overworld = new Rect(4, 4, OVERWORLD_WIDTH - 8, OVERWORLD_HEIGHT - 8);\n\n    this.clearMap(map, outerOverworld, TILE_WATER, true, false);\n    this.clearMap(map, overworld, TILE_GRASS, false, false);\n\n    player.x = (OVERWORLD_WIDTH / 2) | 0;\n    player.y = (OVERWORLD_HEIGHT / 2) | 0;\n    player.home.x = player.x;\n    player.home.y = player.y;\n\n    // Make sure there's a ring of water around the map\n    const point = new Vec2(0, 0);\n    for (point.y = outerOverworld.y1; point.y < outerOverworld.y2; point.y++) {\n      for (point.x = outerOverworld.x1; point.x < outerOverworld.x2; point.x++) {\n        if (!overworld.contains(point)) {\n          map.setAnimated(point.x, point.y, 0, true);\n        }\n      }\n    }\n\n    // Create a river\n    this.createRiver(map, overworld, 5000);\n\n    // Make sure the player starts on ground\n    for (let y = player.y - 4; y <= player.y + 4; y++) {\n      for (let x = player.x - 4; x <= player.x + 4; x++) {\n        map.setTile(0, x, y, TILE_GRASS, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create trees\n    for (let i = 0; i < 1000; i++) {\n      const treeX = rng.nextRange(overworld.x1, overworld.x2);\n      const treeY = rng.nextRange(overworld.y1, overworld.y2);\n      if ((treeX !== player.x || treeY !== player.y) && map.getTile(treeX, treeY) === TILE_GRASS) {\n        map.setTile(0, treeX, treeY, TILE_GRASS, true);\n        map.setTile(1, treeX, treeY, TILE_TREE);\n      }\n    }\n\n    // Create a road from the player to the castle\n    const path = computePath(map, player, new Vec2(35, 40), 10000);\n    if (path) {\n      for (let i = 0; i < path.length; i++) {\n        map.setTile(1, path[i].x, path[i].y, TILE_PATH);\n      }\n    } else {\n      console.log('eek! no path!');\n    }\n\n    // Create baddies\n    for (let i = 0; i < 500; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(overworld.x1 + 1, overworld.x2 - 2);\n      const y = rng.nextRange(overworld.y1 + 1, overworld.y2 - 2);\n\n      if (map.getTile(x, y) !== TILE_GRASS || map.isBlocked(x, y)) {\n        // Not grass, ignore\n        continue;\n      }\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const distance = Math.hypot(x - player.x, y - player.y);\n      if (distance < 20) {\n        // Too close to start location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = Math.round((distance - 20) / 10) + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.push(monster);\n    }\n\n    this.createCastle(map, new Rect(20, 30, 30, 20));\n\n    // Create portal entrance\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0xFF00FFFF);\n    const portal1 = new Portal(game, player.x + 2, player.y, 'portal', portalSprite);\n    const portal2 = new Portal(game, 35, 35, 'portal', portalSprite);\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.push(portal1);\n    game.entities.push(portal2);\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  createCastle(map: TileMap, castle: Rect) {\n    const center = castle.getCenter();\n    const moat = castle;\n    const walls = new Rect(castle.x + 2, castle.y + 2, castle.width - 4, castle.height - 4);\n    const floors = new Rect(walls.x + 1, walls.y + 1, walls.width - 2, walls.height - 2);\n    const game = this.game;\n    const rng = game.rng;\n\n    // Create moat\n    for (let y = moat.y1; y < moat.y2; y++) {\n      for (let x = moat.x1; x < moat.x2; x++) {\n        map.setTile(0, x, y, TILE_WATER, true, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, true);\n      }\n    }\n\n    // Create castle\n    for (let y = walls.y1; y < walls.y2; y++) {\n      for (let x = walls.x1; x < walls.x2; x++) {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create castle walls\n    for (let x = walls.x1; x < walls.x2; x++) {\n      map.setTile(0, x, walls.y1, TILE_WALL, true);\n      map.setTile(0, x, walls.y2 - 1, TILE_WALL, true);\n    }\n    for (let y = walls.y1; y < walls.y2; y++) {\n      map.setTile(0, walls.x1, y, TILE_WALL, true);\n      map.setTile(0, walls.x2 - 1, y, TILE_WALL, true);\n    }\n\n    // Create draw bridges\n    for (let y = moat.y1 - 1; y < moat.y1 + 3; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = moat.y2 - 3; y < moat.y2 + 1; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x1 - 1; x < moat.x1 + 3; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x2 - 3; x < moat.x2 + 1; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create guards\n    for (let i = 0; i < 10; i++) {\n      const waypoints = [new Vec2(rng.nextRange(floors.x1, floors.x2), rng.nextRange(floors.y1, floors.y2))];\n      for (let j = 1; j < 4; j++) {\n        const prev = waypoints[j - 1];\n        if (rng.nextRange(0, 2) === 0) {\n          waypoints.push(new Vec2(prev.x, rng.nextRange(floors.y1, floors.y2)));\n        } else {\n          waypoints.push(new Vec2(rng.nextRange(floors.x1, floors.x2), prev.y));\n        }\n      }\n      const guard = new Guard(game, waypoints[0].x, waypoints[0].y, waypoints);\n      game.entities.push(guard);\n    }\n\n  }\n\n  createDungeon(dungeon: Dungeon) {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    const rng = game.rng;\n\n    // Clear the map to all walls\n    this.clearMap(map, dungeon.rect, TILE_WALL, true, true);\n\n    // Create bodies of water\n    this.createRiver(map, dungeon.rect, 200);\n\n    // Make sure there's a ring of \"empty\" all around\n    for (let x = dungeon.rect.x1; x < dungeon.rect.x2; x++) {\n      map.setTile(0, x, dungeon.rect.y1, TILE_EMPTY, true);\n      map.setAnimated(x, dungeon.rect.y1, 0, false);\n\n      map.setTile(0, x, dungeon.rect.y2 - 1, TILE_EMPTY, true);\n      map.setAnimated(x, dungeon.rect.y2 - 1, 0, false);\n    }\n    for (let y = dungeon.rect.y1; y < dungeon.rect.y2; y++) {\n      map.setTile(0, dungeon.rect.x1, y, TILE_EMPTY, true);\n      map.setAnimated(dungeon.rect.x1, y, 0, false);\n\n      map.setTile(0, dungeon.rect.x2 - 1, y, TILE_EMPTY, true);\n      map.setAnimated(dungeon.rect.x2 - 1, y, 0, false);\n    }\n\n    const bossLayout = BOSS_LAYOUTS[rng.nextRange(0, BOSS_LAYOUTS.length)];\n\n    const bossZone = new Rect(\n      bossLayout.bossZone.x + dungeon.rect.x,\n      bossLayout.bossZone.y + dungeon.rect.y,\n      bossLayout.bossZone.width,\n      bossLayout.bossZone.height);\n\n    const bossRoom = new Rect(\n      bossLayout.bossRoom.x + dungeon.rect.x,\n      bossLayout.bossRoom.y + dungeon.rect.y,\n      bossLayout.bossRoom.width,\n      bossLayout.bossRoom.height);\n\n    const stairsRoom = new Rect(\n      bossLayout.stairsRoom.x + dungeon.rect.x,\n      bossLayout.stairsRoom.y + dungeon.rect.y,\n      bossLayout.stairsRoom.width,\n      bossLayout.stairsRoom.height);\n\n    while (dungeon.rooms.length < MAX_ROOMS) {\n      // Random width and height\n      const w = rng.nextRange(ROOM_MIN_WIDTH, ROOM_MAX_WIDTH);\n      const h = rng.nextRange(ROOM_MIN_HEIGHT, ROOM_MAX_HEIGHT);\n\n      // Random position without going out of the boundaries of the map\n      const x = rng.nextRange(dungeon.rect.x1 + 2, dungeon.rect.x2 - w - 3);\n      const y = rng.nextRange(dungeon.rect.y1 + 2, dungeon.rect.y2 - h - 3);\n\n      // \"Rect\" class makes rectangles easier to work with\n      const newRoom = new Rect(x, y, w, h);\n\n      // Run through the other rooms and see if they intersect with this one\n      let failed = newRoom.intersects(bossZone);\n      for (let j = 0; j < dungeon.rooms.length; j++) {\n        if (newRoom.intersects(dungeon.rooms[j])) {\n          failed = true;\n          break;\n        }\n      }\n\n      if (failed) {\n        continue;\n      }\n\n      // This means there are no intersections, so this room is valid\n\n      // \"paint\" it to the map's tiles\n      this.createRoom(map, newRoom);\n\n      // Center coordinates of new room, will be useful later\n      const center = newRoom.getCenter();\n\n      if (dungeon.rooms.length === 0) {\n        // This is the first room, where the player starts at\n        dungeon.entrance = new Portal(game, center.x, center.y, 'stairs', STAIRS_SPRITE);\n        game.entities.push(dungeon.entrance);\n        map.setTile(0, center.x, center.y, TILE_STAIRS_UP);\n\n      } else {\n        // All rooms after the first:\n        // Connect it to the previous room with a tunnel\n\n        // Center coordinates of previous room\n        const prev = dungeon.rooms[dungeon.rooms.length - 1].getCenter();\n\n        // Draw a coin (random number that is either 0 or 1)\n        if (rng.nextRange(0, 1) === 1) {\n          // First move horizontally, then vertically\n          this.createHTunnel(map, prev.x, center.x, prev.y);\n          this.createVTunnel(map, prev.y, center.y, center.x);\n        } else {\n          // First move vertically, then horizontally\n          this.createVTunnel(map, prev.y, center.y, prev.x);\n          this.createHTunnel(map, prev.x, center.x, center.y);\n        }\n\n        this.placeMonsters(newRoom, dungeon.level);\n      }\n\n      // Add items (scrolls and health potions)\n      this.placeItems(newRoom);\n\n      // Finally, append the new room to the list\n      dungeon.rooms.push(newRoom);\n    }\n\n    {\n      // Create boss room\n      this.createRoom(map, bossRoom);\n\n      // Connect boss room to previous room\n      const prev = dungeon.rooms[dungeon.rooms.length - 1].getCenter();\n      const center = bossRoom.getCenter();\n      this.createHTunnel(map, prev.x, center.x, prev.y);\n      this.createVTunnel(map, prev.y, center.y, center.x);\n\n      // Create a door to boss room\n      if (center.y > prev.y) {\n        map.setTile(0, center.x, bossRoom.y1, TILE_DOOR, false, true);\n      } else {\n        map.setTile(0, center.x, bossRoom.y2, TILE_DOOR, false, true);\n      }\n\n      // Create boss\n      const bossLevel = dungeon.level * 3 + 5;\n      const dice = rng.nextRange(0, 1000);\n      if (dice !== 0) {\n        const redDragon = new RedDragon(game, center.x, center.y, bossLevel, bossRoom);\n        game.entities.push(redDragon);\n\n      } else {\n        const griffon = new Griffon(game, center.x, center.y, bossLevel);\n        game.entities.push(griffon);\n      }\n\n      // Create stairs room\n      this.createRoom(map, stairsRoom);\n\n      // Create stairs\n      const stairsLoc = stairsRoom.getCenter();\n      this.createHTunnel(map, center.x, stairsLoc.x, stairsLoc.y);\n      map.setTile(0, stairsLoc.x, stairsLoc.y, TILE_STAIRS_DOWN);\n      dungeon.exit = new Portal(game, stairsLoc.x, stairsLoc.y, 'stairs', STAIRS_SPRITE);\n      game.entities.push(dungeon.exit);\n    }\n\n    // Place obstacles after all rooms have been connected\n    for (let i = 0; i < dungeon.rooms.length; i++) {\n      this.placeObstacles(dungeon.rooms[i]);\n    }\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  private clearMap(map: TileMap, rect: Rect, tile: number, blocked: boolean, blockedSight: boolean) {\n    for (let y = rect.y1; y < rect.y2; y++) {\n      for (let x = rect.x1; x < rect.x2; x++) {\n        map.setTile(0, x, y, tile, blocked, blockedSight);\n        map.setAnimated(x, y, 0, false);\n        for (let z = 1; z < 4; z++) {\n          map.setTile(z, x, y, TILE_EMPTY);\n          map.setAnimated(x, y, z, false);\n        }\n      }\n    }\n  }\n\n  private createRoom(map: TileMap, room: Rect) {\n    for (let y = room.y1 + 1; y < room.y2; y++) {\n      for (let x = room.x1 + 1; x < room.x2; x++) {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n  }\n\n  private createHTunnel(map: TileMap, x1: number, x2: number, y: number) {\n    for (let x = Math.min(x1, x2); x <= Math.max(x1, x2); x++) {\n      const existing = map.getTile(x, y);\n      if (existing === TILE_STAIRS_UP || existing === TILE_STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n      map.setAnimated(x, y, 0, false);\n    }\n  }\n\n  private createVTunnel(map: TileMap, y1: number, y2: number, x: number) {\n    for (let y = Math.min(y1, y2); y <= Math.max(y1, y2); y++) {\n      const existing = map.getTile(x, y);\n      if (existing === TILE_STAIRS_UP || existing === TILE_STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n      map.setAnimated(x, y, 0, false);\n    }\n  }\n\n  private placeMonsters(room: Rect, dungeonLevel: number) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of monsters\n    const numMonsters = rng.nextRange(0, MAX_ROOM_MONSTERS);\n\n    for (let i = 0; i < numMonsters; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = dungeonLevel * 2 + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.push(monster);\n    }\n  }\n\n  private placeItems(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of items\n    const numItems = rng.nextRange(0, MAX_ROOM_ITEMS);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n      let item = null;\n\n      if (dice < 50) {\n        // Create a healing potion (50% chance)\n        item = new HealthPotion(game, x, y);\n\n      } else if (dice < 50 + 20) {\n        // Create a lightning bolt scroll (20% chance)\n        item = new Scroll(game, x, y, new LightningAbility());\n\n      } else if (dice < 50 + 20 + 15) {\n        // Create a fireball scroll (15% chance)\n        item = new Scroll(game, x, y, new FireballAbility());\n\n      } else {\n        // Create a confuse scroll (15% chance)\n        item = new Scroll(game, x, y, new ConfuseAbility());\n      }\n\n      game.entities.push(item);\n    }\n  }\n\n  private placeObstacles(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n    const map = game.tileMap as TileMap;\n\n    // Choose random number of obstacles\n    const numItems = rng.nextRange(0, MAX_ROOM_OBSTACLES + 1);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 2, room.x2 - 3);\n      const y = rng.nextRange(room.y1 + 2, room.y2 - 3);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n\n      if (dice < 80) {\n        // Create a barrel\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_BARREL);\n      } else {\n        // Create a statue\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_STATUE);\n      }\n    }\n  }\n\n  private createRiver(map: TileMap, bounds: Rect, length: number) {\n    const rng = this.game.rng;\n    const water = bounds.getCenter();\n    for (let i = 0; i < length; i++) {\n      map.setTile(0, water.x, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x - 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x + 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y - 1, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y + 1, TILE_WATER, true, false);\n      map.setAnimated(water.x, water.y, 0, true);\n      map.setAnimated(water.x - 1, water.y, 0, true);\n      map.setAnimated(water.x + 1, water.y, 0, true);\n      map.setAnimated(water.x, water.y - 1, 0, true);\n      map.setAnimated(water.x, water.y + 1, 0, true);\n      water.x += rng.nextRange(-1, 2);\n      water.y += rng.nextRange(-1, 2);\n      if (!bounds.contains(water)) {\n        return;\n      }\n    }\n  }\n\n  private touchUp(map: TileMap) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Touch up walls / half walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        const t1 = map.getTile(x, y);\n        const t2 = map.getTile(x, y + 1);\n        const t3 = map.getTile(x - 1, y);\n        const t4 = map.getTile(x + 1, y);\n        const t5 = map.getTile(x, y - 1);\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHEAST);\n        }\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHEAST);\n        }\n\n        if (t1 === TILE_DOOR) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 === TILE_WALL && t2 !== TILE_WALL) {\n          const r = rng.nextRange(0, 20);\n          if (r === 0) {\n            map.setTile(0, x, y, TILE_HALF_WALL2, true);\n          } else if (r === 1) {\n            map.setTile(0, x, y, TILE_HALF_WALL3, true);\n          } else {\n            map.setTile(0, x, y, TILE_HALF_WALL, true);\n          }\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 !== TILE_WATER && t2 === TILE_WATER) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        const nearBridge = t2 === TILE_BRIDGE || t3 === TILE_BRIDGE || t4 === TILE_BRIDGE || t5 === TILE_BRIDGE;\n        if (t1 === TILE_WATER && nearBridge && rng.nextRange(0, 20) === 1) {\n          game.entities.push(new Shark(game, x, y));\n        }\n      }\n    }\n  }\n}\n","import {Ability, Actor, Colors, ConfusedMonster, Message, Sprite, TargetType} from 'wglt';\n\nconst CONFUSE_RANGE = 8;\nconst CONFUSE_SPRITE = new Sprite(128, 32, 16, 24, 3, false);\nconst TOOLTIP_MESSAGES = [\n  new Message('Confuse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Befuddles an enemy into a random', Colors.YELLOW),\n  new Message('stupor for 10 turns.', Colors.YELLOW),\n];\n\nexport class ConfuseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = CONFUSE_SPRITE;\n    this.name = 'confuse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = CONFUSE_RANGE;\n    this.cooldown = 1;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > CONFUSE_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.ai = new ConfusedMonster(target);\n    game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    caster.ap--;\n    return true;\n  }\n}","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(192, 144, 16, 24, 2, true, undefined, 0x6757d9FF);\nconst DAMAGE = 8;\n\nclass BatAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    if (monster.distanceTo(player) < 3 && rng.nextRange(0, 100) < 33) {\n      monster.attack(player, DAMAGE);\n    } else {\n      this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n    }\n  }\n}\n\nexport class Bat extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Bat', SPRITE);\n    this.ai = new BatAI(this);\n    this.level = level;\n    this.strength = 10 + 2 * level;\n    this.maxHp = 10 + 2 * level;\n    this.hp = this.maxHp;\n  }\n}","import {AI, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\n\nconst SPRITE = new Sprite(448, 144, 16, 24, 2, true, undefined, 0xf2f261ff);\nconst DAMAGE = 10;\n\nclass GriffonAI extends AI {\n  doAi() {\n    const griffon = this.actor as Griffon;\n    const game = griffon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    const talent = griffon.leapTalent;\n    if (talent.cooldown === 0) {\n      const target = this.findLeapTarget(game, griffon, player);\n      if (target && talent.use(target)) {\n        return;\n      }\n    }\n\n    const dist = griffon.distanceTo(player);\n    if (dist <= 2) {\n      griffon.attack(player, DAMAGE);\n    } else if (griffon.aggro) {\n      griffon.moveToward(player.x, player.y);\n    } else {\n      const rng = player.game.rng;\n      griffon.move(rng.nextRange(-1, 2), rng.nextRange(-1, 2));\n    }\n  }\n\n  private findLeapTarget(game: Game, griffon: Griffon, player: Player) {\n    for (let y = player.y - 1; y <= player.y + 1; y++) {\n      for (let x = player.x - 1; x <= player.x + 1; x++) {\n        const tile = game.tileMap && game.tileMap.getCell(x, y);\n        if (!tile || tile.blocked) {\n          // Tile blocked\n          continue;\n        }\n        if (griffon.distanceTo(tile) > 3) {\n          // Too far away\n          continue;\n        }\n        if (game.getActorAt(x, y)) {\n          // Tile occupied\n          continue;\n        }\n        return tile;\n      }\n    }\n    return undefined;\n  }\n}\n\nexport class Griffon extends Monster {\n  aggro = false;\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Griffon', SPRITE);\n    this.level = level;\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new GriffonAI(this);\n    this.talents.add(new Talent(this, new LeapAbility()));\n  }\n\n  get leapTalent() {\n    return this.talents.get(0);\n  }\n\n  takeDamage(damage: number) {\n    super.takeDamage(damage);\n    this.aggro = true;\n  }\n}\n","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(0, 168, 16, 24, 2, true, undefined, 0x5790b7FF);\nconst DAMAGE = 10;\n\nclass SharkAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (monster.distanceTo(player) < 2) {\n      monster.attack(player, DAMAGE);\n    }\n  }\n}\n\nexport class Shark extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Shark', SPRITE);\n    this.ai = new SharkAI(this);\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 144, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Spider extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Spider', SPRITE);\n    this.level = level;\n    this.strength = 10 + 2 * level;\n    this.maxHp = 10 + 2 * level;\n    this.hp = this.maxHp;\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 216, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Troll extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Troll', SPRITE);\n    this.level = level;\n    this.strength = 10 + 2 * level;\n    this.maxHp = 10 + 2 * level;\n    this.hp = this.maxHp;\n  }\n}","import {Actor, Colors, Game, Item, Message, Sprite} from 'wglt';\n\nconst HEAL_AMOUNT = 4;\n\nconst SPRITE = new Sprite(656, 168, 16, 24, 1, true, undefined, 0xFF0000FF);\n\nconst TOOLTIPS = [\n  new Message('Ancient Healing Potion', Colors.LIGHT_BLUE),\n  new Message('Item Level 5', Colors.YELLOW),\n  new Message('Use: Restore 10 health', Colors.LIGHT_GREEN),\n];\n\nexport class HealthPotion extends Item {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'health potion', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import {Ability, Actor, Colors, Game, Item, Sprite, TargetType} from 'wglt';\n\nconst SPRITE = new Sprite(736, 168, 16, 24, 1, true, undefined, 0xF0F0E0FF);\n\nexport class Scroll extends Item {\n  readonly ability: Ability;\n\n  constructor(game: Game, x: number, y: number, ability: Ability) {\n    super(game, x, y, 'scroll of ' + ability.name, SPRITE, false);\n    this.ability = ability;\n    this.tooltipMessages = ability.tooltipMessages;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    const ability = this.ability;\n    if (ability.targetType === TargetType.SELF) {\n      if (ability.cast(user)) {\n        user.inventory.remove(this);\n      }\n    } else {\n      this.game.startTargeting(ability, () => {\n        user.inventory.remove(this);\n      });\n    }\n    return true;\n  }\n}","import {AI, Sprite, Rect} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { FlameCrawler } from './flamecrawler';\n\nconst SPRITE = new Sprite(576, 312, 16, 24, 2, true, undefined, 0xd51111ff);\nconst DAMAGE = 10;\n\nclass RedDragonAI extends AI {\n  doAi() {\n    const dragon = this.actor as RedDragon;\n    const game = dragon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (dragon.aggro && dragon.cooldown === 0) {\n      const room = dragon.room;\n      const rng = game.rng;\n\n      // Top and bottom edges\n      for (let x = room.x1 + 1; x < room.x2 - 1; x++) {\n        if (rng.nextRange(0, 2) === 0) {\n          game.entities.push(new FlameCrawler(game, x, room.y1 + 1, 0, 1));\n        } else {\n          game.entities.push(new FlameCrawler(game, x, room.y2 - 1, 0, -1));\n        }\n      }\n\n      // Left and right edges\n      for (let y = room.y1 + 1; y < room.y2 - 1; y++) {\n        if (rng.nextRange(0, 2) === 0) {\n          game.entities.push(new FlameCrawler(game, room.x1 + 1, y, 1, 0));\n        } else {\n          game.entities.push(new FlameCrawler(game, room.x2 - 1, y, -1, 0));\n        }\n      }\n\n      dragon.cooldown = 10;\n      return;\n    }\n\n    if (dragon.cooldown > 0) {\n      dragon.cooldown--;\n    }\n\n    const dist = dragon.distanceTo(player);\n    if (dist <= 2) {\n      dragon.attack(player, DAMAGE);\n    }\n  }\n}\n\nexport class RedDragon extends Monster {\n  readonly room: Rect;\n  aggro = false;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Dragon', SPRITE);\n    this.room = room;\n    this.level = level;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new RedDragonAI(this);\n  }\n\n  takeDamage(damage: number) {\n    super.takeDamage(damage);\n    this.aggro = true;\n  }\n}\n","import {AI, Sprite, Vec2} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(256, 312, 16, 24, 2, true, undefined, 0xd51111ff);\nconst DAMAGE = 8;\n\nclass FlameCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: FlameCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as FlameCrawler;\n    const player = monster.game.player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, DAMAGE);\n    } else {\n      if (!monster.move(monster.dx, monster.dy)) {\n        const index = monster.game.entities.indexOf(monster);\n        if (index >= 0) {\n          monster.game.entities.splice(index, 1);\n        }\n      }\n    }\n  }\n}\n\nexport class FlameCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number) {\n    super(game, x, y, 'Flame Crawler', SPRITE);\n    this.ai = new FlameCrawlerAI(this);\n    this.hp = this.maxHp = 5;\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import { AI, Sprite, Vec2, Colors } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0x5790b7FF);\n\nclass GuardAI extends AI {\n  readonly waypoints: Vec2[];\n  waypointIndex: number;\n  waitCount: number;\n  aggroCount: number;\n\n  constructor(actor: Guard, waypoints: Vec2[]) {\n    super(actor);\n    this.waypoints = waypoints;\n    this.waypointIndex = 0;\n    this.waitCount = 0;\n    this.aggroCount = 0;\n  }\n\n  doAi() {\n    const guard = this.actor as Guard;\n    const game = guard.game as Game;\n    const player = game.player as Player;\n\n    if (guard.aggro) {\n      this.aggroCount++;\n\n      if (this.aggroCount === 1) {\n        // First attack\n        const game = guard.game as Game;\n        game.log('Guard shouts for help!', Colors.LIGHT_BLUE);\n        for (let i = 0; i < game.entities.length; i++) {\n          if (game.entities[i] instanceof Guard) {\n            const otherGuard = game.entities[i] as Guard;\n            if (guard.distanceTo(otherGuard) < 6) {\n              otherGuard.aggro = true;\n            }\n          }\n        }\n      } else {\n        if (guard.distanceTo(player) > 1.0) {\n          // Move towards player if far away\n          guard.moveToward(player.x, player.y);\n\n        } else if (player.hp > 0) {\n          // Close enough, attack! (if the player is still alive.)\n          const damage = 10;\n          guard.attack(player, damage);\n        }\n      }\n\n      return;\n    }\n\n    if (this.waitCount > 0) {\n      this.waitCount--;\n      return;\n    }\n\n    const waypoint = this.waypoints[this.waypointIndex];\n    if (guard.x === waypoint.x && guard.y === waypoint.y) {\n      this.waypointIndex = (this.waypointIndex + 1) % this.waypoints.length;\n      this.waitCount = guard.game.rng.nextRange(5, 15);\n      return;\n    }\n\n    guard.moveToward(waypoint.x, waypoint.y);\n  }\n}\n\nexport class Guard extends Monster {\n  aggro = false;\n\n  constructor(game: Game, x: number, y: number, waypoints: Vec2[]) {\n    super(game, x, y, 'Guard', SPRITE);\n    this.ai = new GuardAI(this, waypoints);\n    this.seen = true;\n    this.level = 10;\n    this.strength = 10 + 2 * this.level;\n    this.maxHp = 10 + 2 * this.level;\n    this.hp = this.maxHp;\n  }\n\n  takeDamage(damage: number) {\n    super.takeDamage(damage);\n    this.aggro = true;\n  }\n}","import { Rect } from \"wglt\";\nimport { Portal } from \"./items/portal\";\n\nexport class Dungeon {\n  readonly rect: Rect;\n  readonly level: number;\n  readonly rooms: Rect[];\n  entrance?: Portal;\n  exit?: Portal;\n\n  constructor(rect: Rect, level: number) {\n    this.rect = rect;\n    this.level = level;\n    this.rooms = [];\n  }\n}\n","import {ButtonSlot, Colors, Dialog, Rect, Button, Keys, Sprite, Message} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nconst MARGIN = 5;\nconst BUTTON_SPACING = 2;\n\nconst CONSTITUTION_SPRITE = new Sprite(688, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst DEXTERITY_SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst INTELLIGENCE_SPRITE = new Sprite(688, 168, 16, 24, 1, false, undefined, 0xC04020FF);\nconst STRENGTH_SPRITE = new Sprite(608, 312, 16, 24, 1, false, undefined, 0xC04020FF);\n\nconst DESCRIPTIONS = [\n  [\n    new Message('Constitution', Colors.YELLOW),\n    new Message('Health, staminal,', Colors.WHITE),\n    new Message('and vital force', Colors.WHITE)\n  ],\n  [\n    new Message('Dexterity', Colors.YELLOW),\n    new Message('Physical agility, reflexes,', Colors.WHITE),\n    new Message('balance, and poise', Colors.WHITE)\n  ],\n  [\n    new Message('Intelligence', Colors.YELLOW),\n    new Message('Mental acuity, recall,', Colors.WHITE),\n    new Message('and analytical skill', Colors.WHITE)\n  ],\n  [\n    new Message('Strength', Colors.YELLOW),\n    new Message('Natural athleticism,', Colors.WHITE),\n    new Message('and bodily power', Colors.WHITE)\n  ],\n];\n\nexport class LevelUpDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const constitutionSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_1);\n    const constitutionBtn = new Button(new Rect(0, 0, 16, 24), CONSTITUTION_SPRITE, undefined, () => this.incConstitution());\n    constitutionSlot.add(constitutionBtn);\n    this.add(constitutionSlot);\n\n    const dexteritySlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_2);\n    const dexterityBtn = new Button(new Rect(0, 0, 16, 24), DEXTERITY_SPRITE, undefined, () => this.incDexterity());\n    dexteritySlot.add(dexterityBtn);\n    this.add(dexteritySlot);\n\n    const intelligenceSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_3);\n    const intelligenceBtn = new Button(new Rect(0, 0, 16, 24), INTELLIGENCE_SPRITE, undefined, () => this.incIntelligence());\n    intelligenceSlot.add(intelligenceBtn);\n    this.add(intelligenceSlot);\n\n    const strengthSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_4);\n    const strengthBtn = new Button(new Rect(0, 0, 16, 24), STRENGTH_SPRITE, undefined, () => this.incStrength());\n    strengthSlot.add(strengthBtn);\n    this.add(strengthSlot);\n  }\n\n  private incConstitution() {\n    this.increaseStat(1, 0, 0, 0);\n  }\n\n  private incDexterity() {\n    this.increaseStat(0, 1, 0, 0);\n  }\n\n  private incIntelligence() {\n    this.increaseStat(0, 0, 1, 0);\n  }\n\n  private incStrength() {\n    this.increaseStat(0, 0, 0, 1);\n  }\n\n  private increaseStat(con: number, dex: number, int: number, str: number) {\n    this.player.constitution += con;\n    this.player.dexterity += dex;\n    this.player.intelligence += int;\n    this.player.strength += str;\n    this.player.remainingAbilityPoints--;\n    if (this.player.remainingAbilityPoints === 0) {\n      this.visible = false;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawString('Leveled up!', x, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Choose ' + this.player.remainingAbilityPoints + ' stats to increase:', x, y, Colors.WHITE);\n    y += 10;\n\n    for (let i = 0; i < 4; i++) {\n      const desc = DESCRIPTIONS[i];\n      for (let j = 0; j < desc.length; j++) {\n        this.gui.app.drawString(desc[j].text, x + 25, y + 1 + j * 8, desc[j].color);\n      }\n\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y;\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Panel, Rect, Colors } from \"wglt\";\nimport { Game } from \"../game\";\nimport { StatsActor } from \"../entities/statsactor\";\nimport { Monster } from \"../entities/monster\";\n\nexport class EntityFrames extends Panel {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    super(new Rect(0, 40, 40, 200));\n    this.game = game;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const entities = this.game.entities;\n    const x = 2;\n    let y = 40;\n\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities[i];\n      if (entity === this.game.player || !(entity instanceof StatsActor)) {\n        continue;\n      }\n      const actor = entity as StatsActor;\n      if (!actor.showFrame || actor.visibleDuration < 0) {\n        continue;\n      }\n\n      // Draw the frame\n      app.drawImage(2, y, 64, 48, 54, 18);\n\n      // Draw the name\n      const color = actor instanceof Monster ? Colors.DARK_RED : Colors.DARK_GREEN;\n      app.drawImage(x + 1, y + 1, bo.x, bo.y, bo.width, bo.height, color, 38, 7);\n      app.drawCenteredString(actor.name, x + 20, y + 1, Colors.YELLOW);\n\n      // Draw the health\n      const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n      app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n      app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n      // Draw the level\n      const levelColor = Colors.RED;\n      app.drawCenteredString(actor.level.toString(), x + 47, y + 5, levelColor);\n\n      y += 24;\n    }\n  }\n}\n","import {App, AppState, Colors, fromHsv, Keys, Sprite} from 'wglt';\n\nconst OPTIONS = [\n  {display: 'NEW GAME', hash: 'chooserace', enabled: true},\n  {display: 'CONTINUE', hash: 'game', enabled: false},\n  {display: 'ENTER SEED', hash: 'seed', enabled: true},\n  {display: 'TUTORIAL', hash: 'tutorial', enabled: true},\n  {display: 'HIGH SCORES', hash: 'highscores', enabled: true},\n  {display: 'CREDITS', hash: 'credits', enabled: true},\n];\n\nexport class MainMenu extends AppState {\n  private time: number;\n  private sprites: Sprite[];\n  private selectedIndex = 0;\n\n  constructor(app: App) {\n    super(app);\n    this.time = 0;\n    this.sprites = [];\n    this.chooseSprites();\n  }\n\n  private chooseSprites() {\n    this.sprites = [];\n\n    for (let i = 0; i < 4; i++) {\n      const x = 32 * Math.floor(Math.random() * 19);\n      const y = 96 + 24 * Math.floor(Math.random() * 13);\n      const color = fromHsv(Math.random(), 0.9, 0.5);\n      this.sprites.push(new Sprite(x, y, 16, 24, 2, true, undefined, color));\n    }\n  }\n\n  update() {\n    Sprite.updateGlobalAnimations();\n\n    const time2 = this.time % 300;\n    if (time2 < 80 && time2 % 8 === 0) {\n      this.chooseSprites();\n    }\n\n    // Draw the gradient background image\n    this.app.drawImage(this.app.center.x - 128, 0, 0, 800, 256, 128);\n\n    // Draw the title text\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x + 1, 33, Colors.BLACK);\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x, 32);\n\n    // Draw the sprites\n    for (let i = 0; i < 4; i++) {\n      const x = this.app.center.x - 56 + i * 32;\n      const y = 52;\n      this.sprites[i].draw(this.app, x, y);\n    }\n\n    // Draw the menu options\n    const mouse = this.app.mouse;\n    for (let i = 0; i < OPTIONS.length; i++) {\n      const option = OPTIONS[i];\n      const x = this.app.center.x;\n      const y = 90 + 15 * i;\n      let color = Colors.WHITE;\n      if (!option.enabled) {\n        color = Colors.GRAY;\n      } else if (i === this.selectedIndex) {\n        color = Colors.YELLOW;\n      }\n      this.app.drawCenteredString(option.display, x + 1, y + 1, Colors.BLACK);\n      this.app.drawCenteredString(option.display, x, y, color);\n\n      if (mouse.y >= y && mouse.y < y + 14 && mouse.isClicked()) {\n        window.location.hash = option.hash;\n      }\n\n      if (i === this.selectedIndex && this.app.isKeyPressed(Keys.VK_ENTER)) {\n        window.location.hash = option.hash;\n      }\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_UP)) {\n      this.selectedIndex--;\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_DOWN)) {\n      this.selectedIndex++;\n    }\n\n    if (this.selectedIndex < 0) {\n      this.selectedIndex += OPTIONS.length;\n    }\n\n    if (this.selectedIndex >= OPTIONS.length) {\n      this.selectedIndex -= OPTIONS.length;\n    }\n\n    this.time++;\n  }\n}\n","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport {Dwarf} from './races/dwarf';\nimport {Elf} from './races/elf';\nimport {Human} from './races/human';\nimport {Orc} from './races/orc';\nimport {Undead} from './races/undead';\n\nconst RACES = [new Human(), new Dwarf(), new Elf(), new Orc(), new Undead()];\n\nexport class RaceMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your race', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), RACES);\n    selectDialog.renderer = new MenuItemRenderer(60, 40);\n\n    selectDialog.onSelect = (choice: CharacterRace) => {\n      (this.app as App).playerRace = choice;\n      window.location.hash = 'chooseclass';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Dwarf';\nconst ICON = new Sprite(510, 730, 34, 34, undefined, undefined, undefined, 0x4080C0FF);\nconst DESC = 'Bold and hardy, skilled warriors';\nconst DETAILS = [\n  new Message('+4 Constitution, +2 Strength', Colors.LIGHT_GREEN), new Message('Critical strike bonus', Colors.YELLOW),\n  new Message('Stoneform - Removes all curses', Colors.YELLOW)\n];\n\nexport class Dwarf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 4;\n    player.strength += 2;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Elf';\nconst ICON = new Sprite(238, 730, 34, 34, undefined, undefined, undefined, 0xFF8080FF);\nconst DESC = 'Magical people of otherworldly grace';\nconst DETAILS = [\n  new Message('+3 Dexterity, +3 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Shadowmeld - slip into the shadows', Colors.YELLOW)\n];\n\nexport class Elf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 3;\n    player.intelligence += 3;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Orc';\nconst ICON = new Sprite(442, 730, 34, 34, undefined, undefined, undefined, 0x20B020FF);\nconst DESC = 'Noble savages of shamanistic roots';\nconst DETAILS = [\n  new Message('+2 Constitution, +4 Strength', Colors.LIGHT_GREEN),\n  new Message('War Shout - Boost all stats by +1 for 5 turns', Colors.YELLOW)\n];\n\nexport class Orc extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 2;\n    player.strength += 4;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Undead';\nconst ICON = new Sprite(578, 730, 34, 34, undefined, undefined, undefined, 0xD040D0FF);\nconst DESC = 'Cursed to wander for eternity';\nconst DETAILS = [\n  new Message('+2 Dexterity, +4 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Cannibalize - 10% of damage returns as health', Colors.YELLOW)\n];\n\nexport class Undead extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 2;\n    player.intelligence += 4;\n  }\n}\n"],"sourceRoot":""}