{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/wglt/dist/index.js","webpack:///./src/equipment/equipment.ts","webpack:///./src/classes/characterclass.ts","webpack:///./src/entities/monster.ts","webpack:///./src/abilities/leap.ts","webpack:///./src/races/characterrace.ts","webpack:///./src/abilities/lightning.ts","webpack:///./src/classes/paladin.ts","webpack:///./src/abilities/flashheal.ts","webpack:///./src/equipment/squiresvest.ts","webpack:///./src/equipment/squirespants.ts","webpack:///./src/equipment/squiresboots.ts","webpack:///./src/equipment/battlewornhammer.ts","webpack:///./src/abilities/fireball.ts","webpack:///./src/equipment/acolytespants.ts","webpack:///./src/equipment/acolytesrobe.ts","webpack:///./src/equipment/acolytesshoes.ts","webpack:///./src/equipment/bentstaff.ts","webpack:///./src/items/gateway.ts","webpack:///./src/gui/menuitemrenderer.ts","webpack:///./src/races/human.ts","webpack:///./src/entities/statsactor.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/classmenu.ts","webpack:///./src/ai/stunned.ts","webpack:///./src/classes/priest.ts","webpack:///./src/effects/explosioneffect.ts","webpack:///./src/classes/ranger.ts","webpack:///./src/classes/rogue.ts","webpack:///./src/abilities/shadowstrike.ts","webpack:///./src/classes/warlock.ts","webpack:///./src/abilities/curse.ts","webpack:///./src/buffs/curse.ts","webpack:///./src/buffs/buff.ts","webpack:///./src/abilities/demonicgateway.ts","webpack:///./src/classes/warrior.ts","webpack:///./src/game.ts","webpack:///./src/effects/catescapeeffect.ts","webpack:///./src/entities/player.ts","webpack:///./src/gui/bottompanel.ts","webpack:///./src/gui/characterdialog.ts","webpack:///./src/gui/toppanel.ts","webpack:///./src/mapgen.ts","webpack:///./src/abilities/confuse.ts","webpack:///./src/entities/bat.ts","webpack:///./src/entities/cat.ts","webpack:///./src/entities/griffon.ts","webpack:///./src/entities/shark.ts","webpack:///./src/entities/spider.ts","webpack:///./src/entities/troll.ts","webpack:///./src/items/healthpotion.ts","webpack:///./src/items/scroll.ts","webpack:///./src/mainmenu.ts","webpack:///./src/racemenu.ts","webpack:///./src/races/dwarf.ts","webpack:///./src/races/elf.ts","webpack:///./src/races/orc.ts","webpack:///./src/races/undead.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","Vec2","[object Object]","super","this","width","height","x1","x","y1","y","x2","y2","left","top","Rect","Panel","gui","rect","children","ArrayList","modal","visible","length","setGui","parent","add","remove","isDragging","getPanelAt","contains","drawChildren","drawContents","handleChildrenInput","handleInput","dragElement","VK_CANCEL","VK_HELP","VK_BACK_SPACE","VK_TAB","VK_CLEAR","VK_ENTER","VK_SHIFT","VK_CONTROL","VK_ALT","VK_PAUSE","VK_CAPS_LOCK","VK_ESCAPE","VK_SPACE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_PRINTSCREEN","VK_INSERT","VK_DELETE","VK_0","VK_1","VK_2","VK_3","VK_4","VK_5","VK_6","VK_7","VK_8","VK_9","VK_COLON","VK_SEMICOLON","VK_LESS_THAN","VK_EQUALS","VK_GREATER_THAN","VK_QUESTION_MARK","VK_AT","VK_A","VK_B","VK_C","VK_D","VK_E","VK_F","VK_G","VK_H","VK_I","VK_J","VK_K","VK_L","VK_M","VK_N","VK_O","VK_P","VK_Q","VK_R","VK_S","VK_T","VK_U","VK_V","VK_W","VK_X","VK_Y","VK_Z","VK_CONTEXT_MENU","VK_NUMPAD0","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_MULTIPLY","VK_ADD","VK_SEPARATOR","VK_SUBTRACT","VK_DECIMAL","VK_DIVIDE","VK_F1","VK_F2","VK_F3","VK_F4","VK_F5","VK_F6","VK_F7","VK_F8","VK_F9","VK_F10","VK_F11","VK_F12","VK_F13","VK_F14","VK_F15","VK_F16","VK_F17","VK_F18","VK_F19","VK_F20","VK_F21","VK_F22","VK_F23","VK_F24","VK_NUM_LOCK","VK_SCROLL_LOCK","VK_CIRCUMFLEX","VK_EXCLAMATION","VK_DOUBLE_QUOTE","VK_HASH","VK_DOLLAR","VK_PERCENT","VK_AMPERSAND","VK_UNDERSCORE","VK_OPEN_PAREN","VK_CLOSE_PAREN","VK_ASTERISK","VK_PLUS","VK_PIPE","VK_HYPHEN_MINUS","VK_OPEN_CURLY_BRACKET","VK_CLOSE_CURLY_BRACKET","VK_TILDE","VK_COMMA","VK_PERIOD","VK_SLASH","VK_BACK_QUOTE","VK_OPEN_BRACKET","VK_BACK_SLASH","VK_CLOSE_BRACKET","VK_QUOTE","VK_META","VK_ALTGR","VK_WIN","VK_KANA","VK_HANGUL","VK_EISU","VK_JUNJA","VK_FINAL","VK_HANJA","VK_KANJI","VK_CONVERT","VK_NONCONVERT","VK_ACCEPT","VK_MODECHANGE","VK_SELECT","VK_PRINT","VK_EXECUTE","VK_SLEEP","Keys","BLACK","fromRgb","WHITE","GRAY","LIGHT_GRAY","DARK_GRAY","YELLOW","BROWN","RED","LIGHT_RED","DARK_RED","GREEN","LIGHT_GREEN","DARK_GREEN","LIGHT_CYAN","DARK_CYAN","BLUE","LIGHT_BLUE","DARK_BLUE","LIGHT_MAGENTA","DARK_MAGENTA","ORANGE","Colors","Effect","countdown","blocking","Dialog","closeButton","renderer","draw","app","isKeyPressed","mouse","isClicked","TalentButton","Button","ability","sprite","talent","shortcut","tooltipMessages","use","cooldown","actor","game","cooldownSprite","Math","round","frames","h","a","drawImage","drawCenteredString","toString","elements","splice","push","listeners","onAdd","indexOf","onRemove","fromHsv","u","ItemShortcutButton","containerItems","shortcutItem","getItem","player","countItems","drawRightString","shortcutKey","onClick","start","startDragging","click","down","messages","ButtonSlot","button","buttonSlotRect","String","fromCharCode","ItemButton","stackItems","SELF","ENTITY","TILE","TargetType","Entity","offset","blocks","zIndex","pixelX","tileSize","pixelY","centerPixelX","centerPixelY","hypot","viewport","AI","Input","downCount","upCount","Actor","hp","maxHp","ap","maxAp","inventory","talents","activatedCount","seen","isBlocked","effects","SlideEffect","blocked","move","abs","onAttack","takeDamage","BumpEffect","min","addFloatingText","onDeath","entities","onPickup","onUse","targetType","cast","startTargeting","FloatingTextEffect","entity","dx","dy","update","str","color","floor","Keyboard","keys","Array","addEventListener","setKey","stopPropagation","preventDefault","keyCode","Mouse","prev","dragDistance","longPress","canvas","handleEvent","handleTouchEvent","touches","updatePosition","clientX","clientY","type","focus","getBoundingClientRect","size","createShader","shaderSource","compileShader","ExtendedTexture","WebGLTexture","loaded","initShaderProgram","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","loadShader","createTexture","bindTexture","TEXTURE_2D","RGBA","UNSIGNED_BYTE","Uint8Array","texImage2D","Image","onload","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","generateMipmap","src","AppState","GUI","DialogRenderer","rootPanel","dragOffset","updateDragging","onDrop","baseRect","closeButtonRect","g","f","reverse","computePath","grid","RNG","state","nextInt","reduce","nextRange","chooseIndex","loop","ticksPerFrame","colorOverride","animIndex","animDelay","globalAnimIndex","Sprite","Message","text","ShortcutButtonSlot","clone","BasicMonster","damageFunc","distanceTo","moveToward","attack","ConfusedMonster","numTurns","oldAi","ai","rng","App","Error","getContext","alpha","antialias","gl","font","FONT_04B03","fillWindow","scaleFactor","center","disable","DEPTH_TEST","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","style","outline","tabIndex","mobile","isMobile","renderSet","RenderSet","imageUrl","keyboard","handleResizeEvent","renderLoop","innerWidth","innerHeight","max","navigator","userAgent","match","resetGl","flush","requestAnimationFrame","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionArrayIndex","texcoordArrayIndex","colorArrayIndex","drawString","getKey","getWidth","charCodeAt","Font","MonospacedFont","glyphSize","widths","offsets","ProportionalFont","program","viewportSizeLocation","getUniformLocation","positionLocation","getAttribLocation","texcoordLocation","colorLocation","positionBuffer","createBuffer","texcoordBuffer","colorBuffer","spriteTexture","positionArray","Float32Array","texcoordArray","colorUint8Array","colorDataView","DataView","buffer","getStringWidth","split","getHeight","isInRange","getOffset","setUint32","useProgram","uniform2f","activeTexture","TEXTURE0","enableVertexAttribArray","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","FLOAT","vertexAttribPointer","TRIANGLES","drawArrays","FadeInEffect","duration","blackoutRect","FadeOutEffect","ProjectileEffect","position","velocity","_","w","v","Game","viewportFocus","turnIndex","cursor","tooltip","TooltipDialog","pathIndex","viewDistance","messageLog","updateGlobalAnimations","updateTooltip","updateEffects","updateEntities","onUpdate","updateViewport","drawTileMap","drawTargeting","drawEntities","drawEffects","tooltipElement","isLongPress","vibrate","showAt","isDone","onDone","handlePlayerInput","doAi","nextTurn","ceil","tileMap","isTargeting","targetSprite","isVisible","targetAbility","targetCallback","getActorAt","getCell","cancelTargeting","isKeyDown","endTargeting","targetTile","path","stopAutoWalk","tryMoveOrAttack","onBump","endTurn","recomputeFov","recalculateViewportFocus","startTurn","computeFov","ComplexSelectDialog","options","selectedIndex","DefaultSelectOptionRenderer","drawOption","onSelect","onCancel","ItemContainerDialog","capacity","items","addListener","addItem","removeItem","ItemContainerButtonSlot","getExistingButton","getNextFreeSlot","ImagePanel","srcRect","MessageLog","maxItems","MessagePanel","message","SelectDialog","callback","close","ShortcutBar","spacing","containsTalent","getFreeSlot","containsItem","TalentsDialog","Item","Talent","rank","tile","blockedSight","TileMapCell","imageData","dimensions","texture","texSubImage2D","TileMapLayer","TileMap","layers","tileWidth","tileHeight","originX","originY","minX","maxX","minY","maxY","quadVertBuffer","STATIC_DRAW","tilemapShader","positionAttribute","textureAttribute","viewportSizeUniform","viewOffsetUniform","mapSizeUniform","tileSizeUniform","tileSamplerUniform","spriteSamplerUniform","initGl","uniform1i","TEXTURE1","isSeen","setAlpha","uniform2fv","updateGl","computeOctantY","computeOctantX","wglt_1","EquipmentSlot","Equipment","slot","bonusArmor","bonusStrength","bonusDexterity","bonusConstitution","bonusIntelligence","CharacterClass","icon","description","details","statsactor_1","START_BLOOD","END_BLOOD","Monster","StatsActor","calculateDamage","log","undefined","sendToBack","addXp","setTile","attacker","target","stunned_1","LEAP_RANGE","LEAP_RADIUS","LEAP_COLOR","LEAP_SPRITE","TOOLTIP_MESSAGES","LeapAbility","minRange","maxRange","caster","xSpeed","ySpeed","slideEffect","count","Stunned","CharacterRace","LIGHTNING_DAMAGE","LIGHTNING_RANGE","MANA_COST","LightningAbility","monster","getClosestMonster","explosion","effect","range","minDist","result","dist","distance","flashheal_1","leap_1","lightning_1","characterclass_1","squiresvest_1","squirespants_1","squiresboots_1","battlewornhammer_1","NAME","ICON","SPRITE","DESC","DETAILS","Paladin","class","FlashHealAbility","equipment","SquiresVest","SquiresPants","SquiresBoots","BattlewornHammer","strength","intelligence","healAmount","intelligenceModifier","takeHeal","equipment_1","TOOLTIPS","CHEST","LEGS","FEET","MAINHAND","explosioneffect_1","FIREBALL_RANGE","FIREBALL_RADIUS","FIREBALL_DAMAGE","FIRE_COLOR","FIREBALL_SPRITE","FireballAbility","explosionEffect","ExplosionEffect","AcolytesPants","AcolytesRobe","AcolytesShoes","BentStaff","HEAL_AMOUNT","Gateway","owner","user","MenuItemRenderer","expandedHeight","collapsedHeight","point","option","selected","iconColor","titleColor","descColor","j","msg","characterrace_1","Human","race","constitution","dexterity","level","mp","maxMp","armor","buffs","item","strengthModifier","calculateModifier","dexterityModifier","constitutionModifier","abilityScore","damage","buff","location","hash","startGame","chooseRace","chooseClass","showHighScores","showCredits","showMainMenu","wglt","classmenu_1","game_1","mainmenu_1","racemenu_1","document","querySelector","mainMenu","MainMenu","raceMenu","RaceMenu","classMenu","ClassMenu","highScores","credits","playerRace","initPlayer","playerClass","nextLevel","paladin_1","priest_1","ranger_1","rogue_1","warlock_1","warrior_1","menuitemrenderer_1","CLASSES","Priest","Ranger","Rogue","Warlock","Warrior","selectDialog","choice","history","back","turns","fireball_1","acolytespants_1","acolytesrobe_1","acolytesshoes_1","bentstaff_1","radius","sprites","maxRadius","centerX","centerY","angle","cos","sin","shadowstrike_1","ShadowStrikeAbility","RANGE","farthestTile","farthestDistance","curse_1","demonicgateway_1","CurseAbility","DemonicGatewayAbility","Curse","buff_1","Buff","gateway_1","gateway1","gateway2","other","catescapeeffect_1","player_1","bottompanel_1","characterdialog_1","toppanel_1","mapgen_1","TARGET_SPRITE","mapGen","MapGenerator","Player","xp","maxXp","pickup","endLevel","exit","topPanel","TopPanel","bottomPanel","BottomPanel","inventoryButton","inventoryDialog","talentsDialog","characterDialog","inventorySlot","characterButton","characterSlot","talentsButton","talentsSlot","menuButton","menuSlot","CharacterDialog","shortcutBar","addTalent","createMap","fadeOut","fadeIn","CatEscapeEffect","cat","destination","endEffect","nextStep","unshift","index","human_1","PLAYER_SPRITE","xpGain","MARGIN","BUTTON_SPACING","headSlot","neckSlot","backSlot","chestSlot","handsSlot","legsSlot","feetSlot","ringSlot","mainHandSlot","offHandSlot","getSlot","HEAD","NECK","BACK","HANDS","RING","OFFHAND","containerRect","buttonRect","desc","child","inspectSlot","toUpperCase","confuse_1","bat_1","cat_1","griffon_1","shark_1","spider_1","troll_1","healthpotion_1","scroll_1","MAP_WIDTH","MAP_HEIGHT","TILE_EMPTY","TILE_SHADOW","getTileId","TILE_WALL","TILE_HALF_WALL","TILE_HALF_WALL2","TILE_HALF_WALL3","TILE_FLOOR","TILE_WATER","TILE_BRIDGE","TILE_COBWEB_NORTHWEST","TILE_COBWEB_NORTHEAST","TILE_COBWEB_SOUTHWEST","TILE_COBWEB_SOUTHEAST","TILE_DOOR","TILE_STAIRS","TILE_BARREL","TILE_STATUE","tileX","tileY","ROOM_MIN_WIDTH","ROOM_MAX_WIDTH","ROOM_MIN_HEIGHT","ROOM_MAX_HEIGHT","MAX_ROOMS","MAX_ROOM_MONSTERS","MAX_ROOM_ITEMS","MAX_ROOM_OBSTACLES","STAIRS_SPRITE","BOSS_LAYOUTS","bossZone","bossRoom","stairsRoom","map","water","resetFov","bossLayout","rooms","newRoom","failed","intersects","createRoom","getCenter","Cat","createHTunnel","createVTunnel","placeMonsters","placeItems","griffon","Griffon","stairsLoc","stairs","t1","getTile","t2","t3","t4","t5","nearBridge","Shark","placeObstacles","resetViewport","room","numMonsters","getEntityAt","roll","Spider","Bat","Troll","numItems","dice","HealthPotion","Scroll","ConfuseAbility","CONFUSE_RANGE","CONFUSE_SPRITE","monster_1","DAMAGE","BatAI","CatAI","GriffonAI","leapTalent","findLeapTarget","aggro","SharkAI","OPTIONS","display","enabled","time","chooseSprites","random","time2","dwarf_1","elf_1","orc_1","undead_1","RACES","Dwarf","Elf","Orc","Undead"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,sBClFmMC,OAAnIjC,EAAAD,QAAsJ,SAAAoB,GAAmB,IAAAe,EAAA,GAAS,SAAAjC,EAAA+B,GAAc,GAAAE,EAAAF,GAAA,OAAAE,EAAAF,GAAAjC,QAA4B,IAAAgB,EAAAmB,EAAAF,GAAA,CAAY/B,EAAA+B,EAAA9B,GAAA,EAAAH,QAAA,IAAqB,OAAAoB,EAAAa,GAAA5B,KAAAW,EAAAhB,QAAAgB,IAAAhB,QAAAE,GAAAc,EAAAb,GAAA,EAAAa,EAAAhB,QAA2D,OAAAE,EAAAI,EAAAc,EAAAlB,EAAAK,EAAA4B,EAAAjC,EAAAM,EAAA,SAAAY,EAAAe,EAAAF,GAAuC/B,EAAAS,EAAAS,EAAAe,IAAAvB,OAAAC,eAAAO,EAAAe,EAAA,CAAqCrB,YAAA,EAAAC,IAAAkB,KAAsB/B,EAAAc,EAAA,SAAAI,GAAiB,oBAAAH,eAAAC,aAAAN,OAAAC,eAAAO,EAAAH,OAAAC,YAAA,CAA4FC,MAAA,WAAeP,OAAAC,eAAAO,EAAA,cAAwCD,OAAA,KAAWjB,EAAAkB,EAAA,SAAAA,EAAAe,GAAmB,KAAAA,IAAAf,EAAAlB,EAAAkB,IAAA,EAAAe,EAAA,OAAAf,EAA8B,KAAAe,GAAA,iBAAAf,QAAAE,WAAA,OAAAF,EAAqD,IAAAa,EAAArB,OAAAY,OAAA,MAA0B,GAAAtB,EAAAc,EAAAiB,GAAArB,OAAAC,eAAAoB,EAAA,WAA6CnB,YAAA,EAAAK,MAAAC,IAAsB,EAAAe,GAAA,iBAAAf,EAAA,QAAAJ,KAAAI,EAAAlB,EAAAM,EAAAyB,EAAAjB,EAAA,SAAAmB,GAA6D,OAAAf,EAAAe,IAAYT,KAAA,KAAAV,IAAe,OAAAiB,GAAS/B,EAAAyB,EAAA,SAAAP,GAAiB,IAAAe,EAAAf,KAAAE,WAAA,WAAiC,OAAAF,EAAAgB,SAAiB,WAAY,OAAAhB,GAAU,OAAAlB,EAAAM,EAAA2B,EAAA,IAAAA,MAAsBjC,EAAAS,EAAA,SAAAS,EAAAe,GAAmB,OAAAvB,OAAAkB,UAAAC,eAAA1B,KAAAe,EAAAe,IAAiDjC,EAAA8B,EAAA,GAAA9B,IAAA+B,EAAA,IAA14B,CAA45B,UAAAb,EAAAe,EAAAjC,GAAkB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAa,MAAAc,UAAAiB,EAAAI,KAAuBC,YAAAlB,EAAAe,EAAAjC,EAAA+B,GAAqBM,MAAAnB,EAAAe,GAAAK,KAAAC,MAAAvC,EAAAsC,KAAAE,OAAAT,EAAsCU,SAAS,OAAAH,KAAAI,EAAcC,SAAS,OAAAL,KAAAM,EAAcC,SAAS,OAAAP,KAAAI,EAAAJ,KAAAC,MAAyBO,SAAS,OAAAR,KAAAM,EAAAN,KAAAE,OAA0BO,WAAW,OAAAT,KAAAI,EAAcM,UAAU,OAAAV,KAAAM,EAAcR,QAAQ,WAAAtB,EAAAwB,KAAAI,EAAAJ,KAAAM,EAAAN,KAAAC,MAAAD,KAAAE,QAAmDJ,YAAY,WAAAL,EAAAI,KAAAG,KAAAI,EAAAJ,KAAAC,MAAA,IAAAD,KAAAM,EAAAN,KAAAE,OAAA,KAAgEJ,WAAAlB,GAAc,OAAAoB,KAAAI,GAAAxB,EAAA2B,IAAAP,KAAAO,IAAA3B,EAAAwB,GAAAJ,KAAAM,GAAA1B,EAAA4B,IAAAR,KAAAQ,IAAA5B,EAAA0B,EAA8DR,SAAAlB,GAAY,OAAAA,EAAAwB,GAAAJ,KAAAI,GAAAxB,EAAAwB,GAAAJ,KAAAO,IAAA3B,EAAA0B,GAAAN,KAAAM,GAAA1B,EAAA0B,GAAAN,KAAAQ,IAA6Db,EAAAgB,KAAAnC,GAAS,SAAAI,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAE,KAAA,MAAaC,YAAAlB,EAAAe,GAAiBK,KAAAI,EAAAxB,EAAAoB,KAAAM,EAAAX,EAAkBG,IAAAlB,GAAOoB,KAAAI,GAAAxB,EAAAwB,EAAAJ,KAAAM,GAAA1B,EAAA0B,KAA0B,SAAA1B,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAiB,MAAA,MAAcd,YAAAlB,GAAeoB,KAAAa,IAAA,KAAAb,KAAAc,KAAAlC,EAAAoB,KAAAe,SAAA,IAAAtB,EAAAuB,UAAAhB,KAAAiB,OAAA,EAAAjB,KAAAkB,SAAA,EAAsFpB,OAAAlB,GAAU,IAAAoB,KAAAa,IAAA,CAAcb,KAAAa,IAAAjC,EAAW,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAAK,KAAAe,SAAAxC,IAAAoB,GAAAyB,OAAAxC,IAAoCkB,IAAAlB,GAAOA,EAAAyC,OAAArB,KAAApB,EAAAwC,OAAApB,KAAAa,KAAAb,KAAAe,SAAAO,IAAA1C,GAAsDkB,OAAAlB,GAAUoB,KAAAe,SAAAQ,OAAA3C,GAAwBkB,KAAAlB,GAAQoB,KAAAqB,QAAArB,KAAAqB,OAAAE,OAAAvB,MAAApB,EAAA0C,IAAAtB,MAAkDF,WAAAlB,GAAc,QAAAe,EAAAK,KAAAe,SAAAI,OAAA,EAAiCxB,GAAA,EAAKA,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAA6B,IAAAjC,EAAAwD,QAAA,SAAuB,GAAAxD,EAAA8D,aAAA,SAA2B,MAAA/B,EAAA/B,EAAA+D,WAAA7C,GAAwB,GAAAa,EAAA,OAAAA,EAAc,GAAAO,KAAAc,KAAAY,SAAA9C,GAAA,OAAAoB,KAAqCF,eAAeE,KAAA2B,eAAoB7B,eAAe,QAAAlB,EAAA,EAAYA,EAAAoB,KAAAe,SAAAI,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6Be,EAAAuB,SAAAvB,EAAAiC,gBAA6B9B,cAAc,OAAAE,KAAA6B,sBAAkC/B,sBAAsB,QAAAlB,EAAAoB,KAAAe,SAAAI,OAAA,EAAiCvC,GAAA,EAAKA,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6B,GAAAe,EAAAuB,UAAAvB,EAAAmC,eAAAnC,EAAAsB,OAAA,SAAkD,SAASnB,aAAa,OAAAE,KAAAa,KAAAb,KAAAa,IAAAkB,cAAA/B,KAA6CF,OAAAlB,GAAU,SAASkB,cAAAlB,GAAiBA,EAAAsC,SAAA,KAAe,SAAAtC,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,GAASA,EAAAuC,UAAA,EAAAvC,EAAAwC,QAAA,EAAAxC,EAAAyC,cAAA,EAAAzC,EAAA0C,OAAA,EAAA1C,EAAA2C,SAAA,GAAA3C,EAAA4C,SAAA,GAAA5C,EAAA6C,SAAA,GAAA7C,EAAA8C,WAAA,GAAA9C,EAAA+C,OAAA,GAAA/C,EAAAgD,SAAA,GAAAhD,EAAAiD,aAAA,GAAAjD,EAAAkD,UAAA,GAAAlD,EAAAmD,SAAA,GAAAnD,EAAAoD,WAAA,GAAApD,EAAAqD,aAAA,GAAArD,EAAAsD,OAAA,GAAAtD,EAAAuD,QAAA,GAAAvD,EAAAwD,QAAA,GAAAxD,EAAAyD,MAAA,GAAAzD,EAAA0D,SAAA,GAAA1D,EAAA2D,QAAA,GAAA3D,EAAA4D,eAAA,GAAA5D,EAAA6D,UAAA,GAAA7D,EAAA8D,UAAA,GAAA9D,EAAA+D,KAAA,GAAA/D,EAAAgE,KAAA,GAAAhE,EAAAiE,KAAA,GAAAjE,EAAAkE,KAAA,GAAAlE,EAAAmE,KAAA,GAAAnE,EAAAoE,KAAA,GAAApE,EAAAqE,KAAA,GAAArE,EAAAsE,KAAA,GAAAtE,EAAAuE,KAAA,GAAAvE,EAAAwE,KAAA,GAAAxE,EAAAyE,SAAA,GAAAzE,EAAA0E,aAAA,GAAA1E,EAAA2E,aAAA,GAAA3E,EAAA4E,UAAA,GAAA5E,EAAA6E,gBAAA,GAAA7E,EAAA8E,iBAAA,GAAA9E,EAAA+E,MAAA,GAAA/E,EAAAgF,KAAA,GAAAhF,EAAAiF,KAAA,GAAAjF,EAAAkF,KAAA,GAAAlF,EAAAmF,KAAA,GAAAnF,EAAAoF,KAAA,GAAApF,EAAAqF,KAAA,GAAArF,EAAAsF,KAAA,GAAAtF,EAAAuF,KAAA,GAAAvF,EAAAwF,KAAA,GAAAxF,EAAAyF,KAAA,GAAAzF,EAAA0F,KAAA,GAAA1F,EAAA2F,KAAA,GAAA3F,EAAA4F,KAAA,GAAA5F,EAAA6F,KAAA,GAAA7F,EAAA8F,KAAA,GAAA9F,EAAA+F,KAAA,GAAA/F,EAAAgG,KAAA,GAAAhG,EAAAiG,KAAA,GAAAjG,EAAAkG,KAAA,GAAAlG,EAAAmG,KAAA,GAAAnG,EAAAoG,KAAA,GAAApG,EAAAqG,KAAA,GAAArG,EAAAsG,KAAA,GAAAtG,EAAAuG,KAAA,GAAAvG,EAAAwG,KAAA,GAAAxG,EAAAyG,KAAA,GAAAzG,EAAA0G,gBAAA,GAAA1G,EAAA2G,WAAA,GAAA3G,EAAA4G,WAAA,GAAA5G,EAAA6G,WAAA,GAAA7G,EAAA8G,WAAA,GAAA9G,EAAA+G,WAAA,IAAA/G,EAAAgH,WAAA,IAAAhH,EAAAiH,WAAA,IAAAjH,EAAAkH,WAAA,IAAAlH,EAAAmH,WAAA,IAAAnH,EAAAoH,WAAA,IAAApH,EAAAqH,YAAA,IAAArH,EAAAsH,OAAA,IAAAtH,EAAAuH,aAAA,IAAAvH,EAAAwH,YAAA,IAAAxH,EAAAyH,WAAA,IAAAzH,EAAA0H,UAAA,IAAA1H,EAAA2H,MAAA,IAAA3H,EAAA4H,MAAA,IAAA5H,EAAA6H,MAAA,IAAA7H,EAAA8H,MAAA,IAAA9H,EAAA+H,MAAA,IAAA/H,EAAAgI,MAAA,IAAAhI,EAAAiI,MAAA,IAAAjI,EAAAkI,MAAA,IAAAlI,EAAAmI,MAAA,IAAAnI,EAAAoI,OAAA,IAAApI,EAAAqI,OAAA,IAAArI,EAAAsI,OAAA,IAAAtI,EAAAuI,OAAA,IAAAvI,EAAAwI,OAAA,IAAAxI,EAAAyI,OAAA,IAAAzI,EAAA0I,OAAA,IAAA1I,EAAA2I,OAAA,IAAA3I,EAAA4I,OAAA,IAAA5I,EAAA6I,OAAA,IAAA7I,EAAA8I,OAAA,IAAA9I,EAAA+I,OAAA,IAAA/I,EAAAgJ,OAAA,IAAAhJ,EAAAiJ,OAAA,IAAAjJ,EAAAkJ,OAAA,IAAAlJ,EAAAmJ,YAAA,IAAAnJ,EAAAoJ,eAAA,IAAApJ,EAAAqJ,cAAA,IAAArJ,EAAAsJ,eAAA,IAAAtJ,EAAAuJ,gBAAA,IAAAvJ,EAAAwJ,QAAA,IAAAxJ,EAAAyJ,UAAA,IAAAzJ,EAAA0J,WAAA,IAAA1J,EAAA2J,aAAA,IAAA3J,EAAA4J,cAAA,IAAA5J,EAAA6J,cAAA,IAAA7J,EAAA8J,eAAA,IAAA9J,EAAA+J,YAAA,IAAA/J,EAAAgK,QAAA,IAAAhK,EAAAiK,QAAA,IAAAjK,EAAAkK,gBAAA,IAAAlK,EAAAmK,sBAAA,IAAAnK,EAAAoK,uBAAA,IAAApK,EAAAqK,SAAA,IAAArK,EAAAsK,SAAA,IAAAtK,EAAAuK,UAAA,IAAAvK,EAAAwK,SAAA,IAAAxK,EAAAyK,cAAA,IAAAzK,EAAA0K,gBAAA,IAAA1K,EAAA2K,cAAA,IAAA3K,EAAA4K,iBAAA,IAAA5K,EAAA6K,SAAA,IAAA7K,EAAA8K,QAAA,IAAA9K,EAAA+K,SAAA,IAAA/K,EAAAgL,OAAA,GAAAhL,EAAAiL,QAAA,GAAAjL,EAAAkL,UAAA,GAAAlL,EAAAmL,QAAA,GAAAnL,EAAAoL,SAAA,GAAApL,EAAAqL,SAAA,GAAArL,EAAAsL,SAAA,GAAAtL,EAAAuL,SAAA,GAAAvL,EAAAwL,WAAA,GAAAxL,EAAAyL,cAAA,GAAAzL,EAAA0L,UAAA,GAAA1L,EAAA2L,cAAA,GAAA3L,EAAA4L,UAAA,GAAA5L,EAAA6L,SAAA,GAAA7L,EAAA8L,WAAA,GAAA9L,EAAA+L,SAAA,GAAA7L,EAAA8L,KAAAhM,GAA8pE,SAAAb,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAa,MAAAc,GAASA,EAAAkN,MAAAjM,EAAAkM,QAAA,OAAAnN,EAAAoN,MAAAnM,EAAAkM,QAAA,aAAAnN,EAAAqN,KAAApM,EAAAkM,QAAA,aAAAnN,EAAAsN,WAAArM,EAAAkM,QAAA,aAAAnN,EAAAuN,UAAAtM,EAAAkM,QAAA,UAAAnN,EAAAwN,OAAAvM,EAAAkM,QAAA,YAAAnN,EAAAyN,MAAAxM,EAAAkM,QAAA,UAAAnN,EAAA0N,IAAAzM,EAAAkM,QAAA,SAAAnN,EAAA2N,UAAA1M,EAAAkM,QAAA,WAAAnN,EAAA4N,SAAA3M,EAAAkM,QAAA,SAAAnN,EAAA6N,MAAA5M,EAAAkM,QAAA,SAAAnN,EAAA8N,YAAA7M,EAAAkM,QAAA,WAAAnN,EAAA+N,WAAA9M,EAAAkM,QAAA,SAAAnN,EAAAgO,WAAA/M,EAAAkM,QAAA,YAAAnN,EAAAiO,UAAAhN,EAAAkM,QAAA,WAAAnN,EAAAkO,KAAAjN,EAAAkM,QAAA,SAAAnN,EAAAmO,WAAAlN,EAAAkM,QAAA,WAAAnN,EAAAoO,UAAAnN,EAAAkM,QAAA,SAAAnN,EAAAqO,cAAApN,EAAAkM,QAAA,YAAAnN,EAAAsO,aAAArN,EAAAkM,QAAA,WAAAnN,EAAAuO,OAAAtN,EAAAkM,QAAA,WAAAhM,EAAAqN,OAAAxO,GAA6pB,SAAAI,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAsN,OAAA,MAAenN,YAAAlB,EAAAe,GAAiBK,KAAAkN,UAAAtO,EAAAoB,KAAAmN,SAAAxN,EAAiCG,SAAS,OAAAE,KAAAkN,WAAA,EAAyBpN,SAASE,KAAAkN,YAAiBpN,KAAAlB,OAAW,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAoBiC,EAAAyN,OAAA,cAAA5O,EAAAoC,MAA+Bd,YAAAlB,GAAemB,MAAAnB,GAAAoB,KAAAqN,aAAA,EAA6BvN,eAAeE,KAAAa,KAAAb,KAAAa,IAAAyM,SAAAC,KAAAvN,KAAAa,IAAA2M,IAAAxN,MAAoDF,cAAc,IAAAE,KAAAa,IAAA,SAAsB,GAAAb,KAAA6B,sBAAA,SAAuC,GAAA7B,KAAAa,IAAA2M,IAAAC,aAAAhO,EAAAgM,KAAA9I,WAAA,OAAA3C,KAAAkB,SAAA,KAAyE,MAAAtC,EAAAoB,KAAAa,IAAA2M,IAAAE,MAA2B,SAAA9O,EAAA+O,aAAA3N,KAAAc,KAAAY,SAAA9C,KAAAoB,KAAAkB,SAAA,MAAoEpB,QAAQE,KAAAa,KAAAb,KAAAa,IAAAU,OAAAvB,SAAkC,SAAApB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,IAAqBiC,EAAAiO,aAAA,cAAApP,EAAAqP,OAAsC/N,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,EAAAe,EAAAmO,QAAAC,QAAA/N,KAAAgO,OAAArO,EAAAK,KAAAiO,WAAAvQ,EAAAsC,KAAAkO,gBAAAvO,EAAAmO,QAAAI,gBAAyGpO,QAAQE,KAAAgO,OAAAG,MAAkBrO,eAAe,GAAAC,MAAA6B,eAAA5B,KAAAgO,OAAAI,SAAA,GAAgD,MAAAxP,EAAAoB,KAAAgO,OAAAK,MAAAC,KAAA3O,EAAAf,EAAA2P,eAAkD,GAAA5O,EAAA,CAAM,MAAAjC,EAAA,EAAAsC,KAAAgO,OAAAI,SAAApO,KAAAgO,OAAAF,QAAAM,SAAA5P,EAAAgQ,KAAAC,MAAA/Q,EAAAiC,EAAA+O,QAAAvP,EAAAQ,EAAAS,EAAA5B,EAAAmB,EAAAM,MAAA9B,EAAAwB,EAAAW,EAAAqO,EAAA3O,KAAAc,KAAAV,GAAAJ,KAAAc,KAAAb,MAAAN,EAAAM,OAAA,IAAA2O,EAAA5O,KAAAc,KAAAR,GAAAN,KAAAc,KAAAZ,OAAAP,EAAAO,QAAA,IAAqMtB,EAAA4O,IAAAqB,UAAAF,EAAAC,EAAAzP,EAAAhB,EAAAwB,EAAAM,MAAAN,EAAAO,QAA0C,MAAAnC,EAAAiC,KAAAc,KAAAV,EAAAJ,KAAAc,KAAAb,MAAA,IAAAtC,EAAAqC,KAAAc,KAAAR,EAAAN,KAAAc,KAAAZ,OAAA,IAA2EtB,EAAA4O,IAAAsB,mBAAA9O,KAAAgO,OAAAI,SAAAW,WAAAhR,EAAA,EAAAJ,EAAA,EAAA8B,EAAAuN,OAAAtB,OAAA9M,EAAA4O,IAAAsB,mBAAA9O,KAAAgO,OAAAI,SAAAW,WAAAhR,EAAAJ,EAAA,EAAA8B,EAAAuN,OAAApB,YAAoK,SAAAhN,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAqB,UAAA,MAAkBlB,cAAcE,KAAAgP,SAAA,GAAiB7N,aAAa,OAAAnB,KAAAgP,SAAA7N,OAA4BrB,QAAQE,KAAAgP,SAAAC,OAAA,EAAAjP,KAAAgP,SAAA7N,QAA6CrB,IAAAlB,GAAO,OAAAoB,KAAAgP,SAAApQ,GAAwBkB,IAAAlB,GAAO,GAAAoB,KAAAgP,SAAAE,KAAAtQ,GAAAoB,KAAAmP,UAAA,QAAAxP,EAAA,EAAoDA,EAAAK,KAAAmP,UAAAhO,OAAwBxB,IAAAK,KAAAmP,UAAAxP,GAAAyP,MAAApP,KAAApB,GAAoCkB,OAAAlB,GAAU,MAAAe,EAAAK,KAAAgP,SAAAK,QAAAzQ,GAAiC,GAAAe,GAAA,IAAAK,KAAAgP,SAAAC,OAAAtP,EAAA,GAAAK,KAAAmP,WAAA,QAAAxP,EAAA,EAAgEA,EAAAK,KAAAmP,UAAAhO,OAAwBxB,IAAAK,KAAAmP,UAAAxP,GAAA2P,SAAAtP,KAAApB,GAAuCkB,SAAAlB,GAAY,OAAAoB,KAAAgP,SAAAK,QAAAzQ,IAAA,EAAmCkB,YAAAlB,GAAeoB,KAAAmP,YAAAnP,KAAAmP,UAAA,IAAAnP,KAAAmP,UAAAD,KAAAtQ,MAA6D,SAAAA,EAAAe,EAAAjC,GAAiB,aAAa,SAAA+B,EAAAb,EAAAe,EAAAjC,EAAA+B,GAAoB,gBAAAA,MAAA,MAAAb,GAAA,KAAAe,GAAA,KAAAjC,GAAA,GAAA+B,EAAoDrB,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAASgB,EAAAgM,QAAAlM,EAAAE,EAAA4P,QAAA,SAAA3Q,EAAAe,EAAAjC,EAAAc,GAA0C,MAAAW,EAAA,EAAAP,EAAA,EAAAT,EAAA,EAAAS,EAAAO,EAAAwP,EAAAjR,GAAA,EAAAiC,GAAAiP,EAAAlR,GAAA,EAAAS,EAAAwB,GAAA5B,EAAAL,GAAA,KAAAS,GAAAwB,GAA4D,IAAAhC,EAAAK,EAAAwR,EAAU,OAAArQ,EAAA,GAAY,OAAAxB,EAAAD,EAAAM,EAAAD,EAAAyR,EAAAb,EAAmB,MAAM,OAAAhR,EAAAiR,EAAA5Q,EAAAN,EAAA8R,EAAAb,EAAmB,MAAM,OAAAhR,EAAAgR,EAAA3Q,EAAAN,EAAA8R,EAAAzR,EAAmB,MAAM,OAAAJ,EAAAgR,EAAA3Q,EAAA4Q,EAAAY,EAAA9R,EAAmB,MAAM,OAAAC,EAAAI,EAAAC,EAAA2Q,EAAAa,EAAA9R,EAAmB,MAAM,OAAAC,EAAAD,EAAAM,EAAA2Q,EAAAa,EAAAZ,EAAmB,MAAM,QAAAjR,EAAA,EAAAK,EAAA,EAAAwR,EAAA,EAAoB,gBAAAhR,MAAA,GAAAiB,EAAA,IAAA9B,EAAA,MAAAK,EAAA,MAAAwR,EAAA,MAAAhR,EAAA,KAA6D,SAAAI,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAciC,EAAA8P,mBAAA,cAAAhQ,EAAAoO,OAA4C/N,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,EAAAlB,EAAAqQ,QAAA/N,KAAA0P,eAAA/P,EAAAK,KAAA2P,aAAAjS,EAAAsC,KAAAkO,gBAAAxQ,EAAAwQ,gBAAmGpO,QAAQ,MAAAlB,EAAAoB,KAAA4P,UAAuB,GAAAhR,EAAA,CAAM,MAAAe,EAAAf,EAAA0P,KAAAuB,OAAsBlQ,KAAAwO,IAAAvP,IAAakB,eAAe,GAAAE,KAAAa,MAAAd,MAAA6B,gBAAA5B,KAAAwB,cAAA,CAAwD,MAAA5C,EAAAoB,KAAAc,KAAAnB,EAAAK,KAAA8P,aAAsC9P,KAAAa,IAAA2M,IAAAuC,gBAAApQ,EAAAoP,WAAAnQ,EAAA2B,GAAA,EAAA3B,EAAA4B,GAAA,KAA2DV,UAAU,QAAAlB,EAAA,EAAYA,EAAAoB,KAAA0P,eAAAvO,OAA6BvC,IAAA,CAAK,MAAAe,EAAAK,KAAA0P,eAAAnR,IAAAK,GAAmC,GAAAe,EAAA1B,OAAA+B,KAAA2P,aAAA1R,KAAA,OAAA0B,GAA6CG,aAAa,IAAAlB,EAAA,EAAQ,QAAAe,EAAA,EAAYA,EAAAK,KAAA0P,eAAAvO,OAA6BxB,IAAAK,KAAA0P,eAAAnR,IAAAoB,GAAA1B,OAAA+B,KAAA2P,aAAA1R,MAAAW,IAAkE,OAAAA,KAAW,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAkO,OAAA,cAAApO,EAAAmB,MAA+Bd,YAAAlB,EAAAe,EAAAjC,EAAA+B,GAAqBM,MAAAnB,GAAAoB,KAAA+N,OAAApO,EAAAK,KAAAgQ,YAAAtS,EAAAsC,KAAAiQ,QAAAxQ,EAAyDK,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAA+N,OAAApO,EAAAK,KAAAc,KAAApD,GAAAiC,EAAAM,MAAArB,EAAAqB,OAAA,IAAAR,GAAAE,EAAAO,OAAAtB,EAAAsB,QAAA,IAAkFtB,EAAA2O,KAAAvN,KAAAa,IAAA2M,IAAA7N,EAAAS,EAAA1C,EAAAiC,EAAAW,EAAAb,GAAiCK,cAAc,IAAAE,KAAAa,IAAA,SAAsB,MAAAjC,EAAAoB,KAAAa,IAAA2M,IAAA7N,EAAAf,EAAA8O,MAA+B,OAAA1N,KAAAc,KAAAY,SAAA/B,EAAAuQ,QAAAvQ,EAAA6B,cAAAxB,KAAAa,IAAAsP,cAAAnQ,OAAA,GAAAA,KAAAgQ,aAAApR,EAAA6O,aAAAzN,KAAAgQ,cAAAhQ,KAAAc,KAAAY,SAAA/B,MAAAgO,aAAA3N,KAAAoQ,SAAA,GAAAzQ,EAAA0Q,MAAArQ,KAAAc,KAAAY,SAAA/B,GAA8NG,QAAQE,KAAAiQ,SAAAjQ,KAAAiQ,UAA6BnQ,cAAAlB,GAAiBoB,KAAAkO,iBAAAtP,EAAA0R,SAAAtQ,KAAAkO,gBAAAtP,EAAAsC,SAAA,GAAAtC,EAAAsC,SAAA,KAAmF,SAAAtC,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAA4Q,WAAA,cAAA9Q,EAAAmB,MAAmCd,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAAgQ,YAAArQ,EAA4B6Q,aAAa,OAAAxQ,KAAAe,SAAAI,OAAA,EAAAnB,KAAAe,SAAAxC,IAAA,UAA0DuB,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAAc,KAAAnB,EAAAK,KAAAa,IAAAyM,SAAAmD,eAAqD9Q,GAAAK,KAAAa,IAAA2M,IAAAqB,UAAAjQ,EAAAwB,EAAAxB,EAAA0B,EAAAX,EAAAS,EAAAT,EAAAW,EAAA1B,EAAAqB,MAAArB,EAAAsB,QAA4D,MAAAxC,EAAAsC,KAAAwQ,OAAoB9S,MAAA8D,eAAA9D,EAAAoD,KAAAV,EAAAJ,KAAAc,KAAAV,EAAA1C,EAAAoD,KAAAR,EAAAN,KAAAc,KAAAR,EAAA5C,EAAAoD,KAAAb,MAAAD,KAAAc,KAAAb,MAAAvC,EAAAoD,KAAAZ,OAAAF,KAAAc,KAAAZ,OAAAF,KAAA2B,gBAAA3B,KAAAgQ,aAAAhQ,KAAAa,IAAA2M,IAAAuC,gBAAAW,OAAAC,aAAA3Q,KAAAgQ,aAAApR,EAAA2B,GAAA,EAAA3B,EAAA0B,EAAA,GAAmPR,cAAc,IAAAE,KAAAa,IAAA,SAAsB,GAAAb,KAAA6B,sBAAA,SAAuC,MAAAjD,EAAAoB,KAAAa,IAAA2M,IAAA7N,EAAAf,EAAA8O,MAAAhQ,EAAAsC,KAAAwQ,OAA6C,OAAA9S,IAAAsC,KAAAgQ,aAAApR,EAAA6O,aAAAzN,KAAAgQ,cAAAhQ,KAAAc,KAAAY,SAAA/B,MAAAgO,cAAAjQ,EAAA0S,SAAA,GAAAzQ,EAAA0Q,MAAArQ,KAAAc,KAAAY,SAAA/B,MAAoJ,SAAAf,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,IAAqBiC,EAAAiR,WAAA,cAAApS,EAAAqP,OAAoC/N,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,EAAAlB,EAAAqQ,QAAA/N,KAAA0P,eAAA/P,EAAAK,KAAA6Q,WAAA,IAAApR,EAAAuB,UAAAhB,KAAA6Q,WAAAvP,IAAA5D,GAAAsC,KAAAkO,gBAAAxQ,EAAAwQ,gBAAsIpO,QAAQ,GAAAE,KAAA6Q,WAAA1P,OAAA,GAA6B,MAAAvC,EAAAoB,KAAA6Q,WAAAtS,IAAA,GAAAoB,EAAAf,EAAA0P,KAAAuB,OAA+ClQ,KAAAwO,IAAAvP,IAAakB,eAAe,GAAAE,KAAAa,MAAAd,MAAA6B,eAAA5B,KAAA6Q,WAAA1P,OAAA,IAA8D,MAAAvC,EAAAoB,KAAAc,KAAkBd,KAAAa,IAAA2M,IAAAuC,gBAAA/P,KAAA6Q,WAAA1P,OAAA4N,WAAAnQ,EAAA2B,GAAA,EAAA3B,EAAA4B,GAAA,QAAkF,SAAA5B,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAS,SAAAC,GAAcA,IAAAkS,KAAA,UAAAlS,IAAAmS,OAAA,YAAAnS,IAAAoS,KAAA,UAAd,CAA2ErR,EAAAsR,aAAAtR,EAAAsR,WAAA,MAAkC,SAAArS,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAuR,OAAA,cAAAzR,EAAAI,KAA8BC,YAAAlB,EAAAe,EAAAjC,EAAAc,EAAAW,EAAAhB,GAAyB4B,MAAAJ,EAAAjC,GAAAsC,KAAAsO,KAAA1P,EAAAoB,KAAAmR,OAAA,IAAA1R,EAAAI,KAAA,KAAAG,KAAA/B,KAAAO,EAAAwB,KAAA+N,OAAA5O,EAAAa,KAAAoR,OAAAjT,EAAA6B,KAAAqR,OAAA,EAAyGC,aAAa,OAAAtR,KAAAI,EAAAJ,KAAAsO,KAAAiD,SAAAtR,MAAAD,KAAAmR,OAAA/Q,EAAqDoR,aAAa,OAAAxR,KAAAM,EAAAN,KAAAsO,KAAAiD,SAAArR,OAAAF,KAAAmR,OAAA7Q,EAAsDmR,mBAAmB,OAAAzR,KAAAsR,OAAAtR,KAAA+N,OAAA9N,MAAA,IAAyCyR,mBAAmB,OAAA1R,KAAAwR,OAAAxR,KAAA+N,OAAA7N,OAAA,IAA0CJ,WAAAlB,GAAc,OAAA4P,KAAAmD,MAAA/S,EAAAwB,EAAAJ,KAAAI,EAAAxB,EAAA0B,EAAAN,KAAAM,GAAyCR,SAAAlB,EAAAe,GAAc,OAAA6O,KAAAmD,MAAA/S,EAAAoB,KAAAI,EAAAT,EAAAK,KAAAM,GAAqCR,OAAOE,KAAA+N,OAAAR,KAAAvN,KAAAsO,KAAAd,IAAAxN,KAAAsR,OAAAtR,KAAAsO,KAAAsD,SAAAxR,EAAAJ,KAAAwR,OAAAxR,KAAAsO,KAAAsD,SAAAtR,GAAkGR,aAAaA,WAAWA,cAAcA,OAAAlB,OAAa,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAkS,GAAA,MAAW/R,YAAAlB,GAAeoB,KAAAqO,MAAAzP,KAAe,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAmS,MAAA,MAAchS,cAAcE,KAAAqQ,MAAA,EAAArQ,KAAA+R,UAAA,EAAA/R,KAAAgS,QAAA,EAA6ClS,SAASE,KAAAqQ,MAAArQ,KAAA+R,YAAA/R,KAAAgS,QAAA,IAAAhS,KAAA+R,UAAA,EAAA/R,KAAAgS,cAAgF,SAAApT,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,GAAAS,EAAAT,EAAA,IAAAiR,EAAAjR,EAAA,IAAAkR,EAAAlR,EAAA,IAAAK,EAAAL,EAAA,IAA4DiC,EAAAsS,MAAA,cAAAlU,EAAAmT,OAA+BpR,YAAAlB,EAAAe,EAAAjC,EAAA+B,EAAAN,EAAAhB,GAAyB4B,MAAAnB,EAAAe,EAAAjC,EAAA+B,EAAAN,EAAAhB,GAAA6B,KAAAkS,GAAA,IAAAlS,KAAAmS,MAAA,IAAAnS,KAAAoS,GAAA,EAAApS,KAAAqS,MAAA,EAAArS,KAAAsS,UAAA,IAAA9T,EAAAwC,UAAAhB,KAAAuS,QAAA,IAAA/T,EAAAwC,UAAAhB,KAAAwS,gBAAA,EAAAxS,KAAAyS,MAAA,EAAqK3S,YAAYE,KAAAoS,GAAApS,KAAAqS,MAAmB,QAAAzT,EAAA,EAAYA,EAAAoB,KAAAuS,QAAApR,OAAsBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAuS,QAAAhU,IAAAK,GAA4Be,EAAAyO,SAAA,GAAAzO,EAAAyO,YAA4BtO,KAAAlB,EAAAe,EAAAjC,GAAY,MAAA+B,EAAAO,KAAAI,EAAAxB,EAAAJ,EAAAwB,KAAAM,EAAAX,EAA4B,GAAAK,KAAAsO,KAAAoE,UAAAjT,EAAAjB,GAAA,SAAqC,MAAAW,EAAAzB,GAAA,EAAAS,EAAA6B,KAAAsO,KAAAiD,SAAAtR,MAAAd,EAAAwP,EAAA3O,KAAAsO,KAAAiD,SAAArR,OAAAf,EAAwE,OAAAa,KAAAsO,KAAAqE,QAAAzD,KAAA,IAAAN,EAAAgE,YAAA5S,KAAApB,EAAAT,EAAAwB,EAAAgP,EAAAxP,IAAAa,KAAAsO,KAAAuE,SAAA,EAAA7S,KAAAoS,MAAA,EAAmGtS,OAAAlB,EAAAe,EAAAjC,GAAc,OAAAsC,KAAA8S,KAAAlU,EAAAoB,KAAAI,EAAAT,EAAAK,KAAAM,EAAA5C,GAAsCoC,WAAAlB,EAAAe,EAAAjC,GAAkB,MAAA+B,EAAAb,EAAAoB,KAAAI,EAAA5B,EAAAmB,EAAAK,KAAAM,EAA4B,GAAAkO,KAAAuE,IAAAtT,GAAA+O,KAAAuE,IAAAvU,GAAA,CAA4B,GAAAiB,EAAA,GAAAO,KAAA8S,MAAA,IAAApV,GAAA,SAAmC,GAAA+B,EAAA,GAAAO,KAAA8S,KAAA,IAAApV,GAAA,SAAkC,GAAAc,EAAA,GAAAwB,KAAA8S,KAAA,KAAApV,GAAA,SAAmC,GAAAc,EAAA,GAAAwB,KAAA8S,KAAA,IAAApV,GAAA,aAAkC,CAAK,GAAAc,EAAA,GAAAwB,KAAA8S,KAAA,KAAApV,GAAA,SAAmC,GAAAc,EAAA,GAAAwB,KAAA8S,KAAA,IAAApV,GAAA,SAAkC,GAAA+B,EAAA,GAAAO,KAAA8S,MAAA,IAAApV,GAAA,SAAmC,GAAA+B,EAAA,GAAAO,KAAA8S,KAAA,IAAApV,GAAA,SAAkC,SAASoC,OAAAlB,EAAAe,GAAYf,IAAAoB,YAAAgT,SAAApU,EAAAe,GAAAf,EAAAqU,WAAAtT,GAAAK,KAAAoS,KAAApS,KAAAsO,KAAAqE,QAAAzD,KAAA,IAAA/Q,EAAA+U,WAAAlT,KAAApB,IAAAoB,KAAAsO,KAAAuE,SAAA,GAA+H/S,SAAAlB,GAAYoB,KAAAkS,GAAA1D,KAAA2E,IAAAnT,KAAAkS,GAAAtT,EAAAoB,KAAAmS,OAAAnS,KAAAoT,gBAAAxU,EAAAmQ,WAAA5P,EAAA6N,OAAAV,aAA+FxM,WAAAlB,GAAc,GAAAoB,KAAAkS,IAAAtT,EAAAoB,KAAAoT,gBAAAxU,EAAAmQ,WAAA5P,EAAA6N,OAAAd,KAAAlM,KAAAkS,IAAA,GAA0ElS,KAAAkS,GAAA,EAAAlS,KAAAqT,SAAArT,KAAAqT,UAAuC,MAAAzU,EAAAoB,KAAAsO,KAAAgF,SAAAjE,QAAArP,MAAyCpB,GAAA,GAAAoB,KAAAsO,KAAAgF,SAAArE,OAAArQ,EAAA,IAAsCkB,OAAAlB,GAAUA,EAAA2U,SAAAvT,WAAAsS,UAAAhR,IAAA1C,GAAuC,MAAAe,EAAAK,KAAAsO,KAAAgF,SAAAjE,QAAAzQ,GAAsCe,GAAA,GAAAK,KAAAsO,KAAAgF,SAAArE,OAAAtP,EAAA,GAAqCG,IAAAlB,GAAO,OAAAA,EAAA4U,MAAAxT,MAAqBF,KAAAlB,EAAAe,EAAAjC,GAAYkB,EAAA6U,aAAAhU,EAAAwR,WAAAH,MAAAnR,EAAAf,EAAA8U,KAAA1T,KAAAL,IAAAjC,OAAAsC,KAAAsO,KAAAqF,eAAA/U,EAAAlB,GAAyFoC,gBAAAlB,EAAAe,GAAqBK,KAAAsO,KAAAqE,QAAAzD,KAAA,IAAAP,EAAAiF,mBAAA5T,KAAApB,EAAAe,IAA2DG,SAAAlB,EAAAe,IAAeG,cAAa,SAAAlB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAkBiC,EAAAuT,WAAA,cAAAzT,EAAAwN,OAAoCnN,YAAAlB,EAAAe,GAAiBI,MAAvE,IAAuE,GAAAC,KAAA6T,OAAAjV,EAAAoB,KAAA8T,GAAAnU,EAAAS,EAAAxB,EAAAwB,EAAAJ,KAAA+T,GAAApU,EAAAW,EAAA1B,EAAA0B,EAA0DR,SAAS,MAAAlB,EAA1I,GAA0IoB,KAAAkN,UAAyBtO,GAAA,GAAAA,EAAA,IAAAoB,KAAA6T,OAAA1C,OAAA/Q,GAAAJ,KAAA8T,GAAA9T,KAAA6T,OAAA1C,OAAA7Q,GAAAN,KAAA+T,IAAAnV,GAAA,GAAAA,EAAA,IAAAoB,KAAA6T,OAAA1C,OAAA/Q,GAAAJ,KAAA8T,GAAA9T,KAAA6T,OAAA1C,OAAA7Q,GAAAN,KAAA+T,IAAAhU,MAAAiU,YAAmK,SAAApV,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAoBiC,EAAAiU,mBAAA,cAAApV,EAAAyO,OAA4CnN,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAA,OAAAC,KAAAqO,MAAAzP,EAAAoB,KAAAiU,IAAAtU,EAAAK,KAAAkU,MAAAxW,GAAA+B,EAAAuN,OAAApB,MAAkE9L,KAAAlB,GAAQ,MAAAe,EAAA,GAAAK,KAAAkN,UAAAxP,EAAAsC,KAAAqO,MAAAiD,QAAAtR,KAAAqO,MAAAN,OAAA9N,MAAA,KAAArB,EAAAgT,SAAAxR,EAAAX,EAAAO,KAAAqO,MAAAmD,OAAA,EAAA5S,EAAAgT,SAAAtR,EAAAkO,KAAA2E,IAAA,EAAA3E,KAAA2F,MAAAxU,EAAA,IAAwJf,EAAA4O,IAAAsB,mBAAA9O,KAAAiU,IAAAvW,EAAA+B,EAAAO,KAAAkU,UAAoD,SAAAtV,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAiT,YAAA,cAAAnT,EAAAwN,OAAqCnN,YAAAlB,EAAAe,EAAAjC,EAAA+B,GAAqBM,MAAAN,GAAA,GAAAO,KAAA6T,OAAAjV,EAAAoB,KAAA8T,GAAAnU,EAAAK,KAAA+T,GAAArW,EAA8CoC,SAASE,KAAAkN,YAAAlN,KAAAkN,WAAA,IAAAlN,KAAA6T,OAAA1C,OAAA/Q,GAAAJ,KAAA8T,GAAA9T,KAAA6T,OAAA1C,OAAA7Q,GAAAN,KAAA+T,IAAA,IAAA/T,KAAAkN,YAAAlN,KAAA6T,OAAAzT,GAAAJ,KAAA6T,OAAA1C,OAAA/Q,EAAAJ,KAAA6T,OAAAvF,KAAAiD,SAAAtR,MAAAD,KAAA6T,OAAAvT,GAAAN,KAAA6T,OAAA1C,OAAA7Q,EAAAN,KAAA6T,OAAAvF,KAAAiD,SAAArR,OAAAF,KAAA6T,OAAA1C,OAAA/Q,EAAA,EAAAJ,KAAA6T,OAAA1C,OAAA7Q,EAAA,MAAiT,SAAA1B,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAA,IAAoBmB,EAAAyU,SAAA,MAAiBtU,YAAAlB,GAAeoB,KAAAqU,KAAA,IAAAC,MAAA9V,GAAuB,QAAAI,EAAA,EAAYA,EAAAJ,EAAII,IAAAoB,KAAAqU,KAAAzV,GAAA,IAAAa,EAAAqS,MAA6BlT,EAAA2V,iBAAA,UAAA3V,GAAAoB,KAAAwU,OAAA5V,GAAA,IAAAA,EAAA2V,iBAAA,QAAA3V,GAAAoB,KAAAwU,OAAA5V,GAAA,IAAoGkB,OAAAlB,EAAAe,GAAYf,EAAA6V,kBAAA7V,EAAA8V,iBAAuC,MAAAhX,EAAAkB,EAAA+V,QAAkBjX,GAAA,GAAAA,EAAAc,IAAAwB,KAAAqU,KAAA3W,GAAA2S,KAAA1Q,GAAiCG,SAAS,QAAAlB,EAAA,EAAYA,EAAAJ,EAAII,IAAAoB,KAAAqU,KAAAzV,GAAAyR,KAAArQ,KAAAqU,KAAAzV,GAAAmT,YAAA/R,KAAAqU,KAAAzV,GAAAmT,UAAA,EAAwEjS,OAAAlB,GAAU,OAAAA,GAAA,GAAAA,EAAAJ,EAAAwB,KAAAqU,KAAAzV,GAAA,QAAqC,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,GAAqCiC,EAAAiV,MAAA,cAAAnV,EAAAqS,MAA8BhS,YAAAlB,GAAemB,QAAAC,KAAAwN,IAAA5O,EAAAoB,KAAA6U,KAAA,IAAA1V,EAAAU,KAAA,KAAAG,KAAAkQ,MAAA,IAAA/Q,EAAAU,KAAA,KAAAG,KAAAI,EAAA,EAAAJ,KAAAM,EAAA,EAAAN,KAAA8T,GAAA,EAAA9T,KAAA+T,GAAA,EAAA/T,KAAA8U,aAAA,EAAA9U,KAAA+U,WAAA,EAAoJ,MAAApV,EAAAf,EAAAoW,OAAAtX,EAAAsC,KAAAiV,YAAA/V,KAAAc,MAA+CL,EAAA4U,iBAAA,YAAA7W,GAAAiC,EAAA4U,iBAAA,UAAA7W,GAAAiC,EAAA4U,iBAAA,YAAA7W,GAAAiC,EAAA4U,iBAAA,cAAA7W,GAAwI,MAAA+B,EAAAO,KAAAkV,iBAAAhW,KAAAc,MAAyCL,EAAA4U,iBAAA,aAAA9U,GAAAE,EAAA4U,iBAAA,WAAA9U,GAAAE,EAAA4U,iBAAA,cAAA9U,GAAAE,EAAA4U,iBAAA,YAAA9U,GAA0IK,iBAAAlB,GAAoB,GAAAA,EAAA6V,kBAAA7V,EAAA8V,iBAAA9V,EAAAuW,QAAAhU,OAAA,GAA8D,MAAAxB,EAAAf,EAAAuW,QAAA,GAAqBnV,KAAAoV,eAAAzV,EAAA0V,QAAA1V,EAAA2V,SAAyC,eAAA1W,EAAA2W,OAAAvV,KAAAqQ,MAAA,EAAArQ,KAAA6U,KAAAzU,EAAAJ,KAAAI,EAAAJ,KAAA6U,KAAAvU,EAAAN,KAAAM,EAAAN,KAAAkQ,MAAA9P,EAAAJ,KAAAI,EAAAJ,KAAAkQ,MAAA5P,EAAAN,KAAAM,EAAAN,KAAA8T,GAAA,EAAA9T,KAAA+T,GAAA,EAAA/T,KAAA8U,aAAA,gBAAAlW,EAAA2W,OAAAvV,KAAAqQ,MAAA,EAAArQ,KAAA+U,UAAA/U,KAAA+R,WAAhuB,IAAi8BjS,YAAAlB,GAAeA,EAAA6V,kBAAA7V,EAAA8V,iBAAA1U,KAAAoV,eAAAxW,EAAAyW,QAAAzW,EAAA0W,SAAA,cAAA1W,EAAA2W,OAAAvV,KAAAqQ,MAAA,EAAArQ,KAAAkQ,MAAA9P,EAAAJ,KAAAI,EAAAJ,KAAAkQ,MAAA5P,EAAAN,KAAAM,EAAAN,KAAA8U,aAAA,EAAA9U,KAAAwN,IAAAwH,OAAAQ,SAAA,YAAA5W,EAAA2W,OAAAvV,KAAAqQ,MAAA,EAAArQ,KAAA+U,UAAA/U,KAAA+R,WAAh9B,IAA6tCjS,eAAAlB,EAAAe,GAAoB,IAAAjC,EAAAsC,KAAAwN,IAAAwH,OAAAS,wBAA8C,MAAAhW,EAAAO,KAAAwN,IAAAkI,KAAAzV,MAAAD,KAAAwN,IAAAkI,KAAAxV,OAAAf,EAAAzB,EAAAuC,MAAAvC,EAAAwC,OAAoE,GAAAf,EAAAM,EAAA,KAAY,MAAAb,EAAAa,EAAA/B,EAAAwC,OAAAP,EAAAjC,EAAAuC,MAAArB,EAA+BlB,EAAA,IAAAc,EAAAmC,KAAA6N,KAAA2F,MAAAxU,EAAA,KAAAf,EAAAlB,EAAAwC,QAA2C,GAAAf,EAAAM,GAAA,KAAa,MAAAb,EAAAlB,EAAAuC,MAAAR,EAAAE,EAAAjC,EAAAwC,OAAAtB,EAA+BlB,EAAA,IAAAc,EAAAmC,KAAA,EAAA6N,KAAA2F,MAAAxU,EAAA,GAAAjC,EAAAuC,MAAArB,GAA0CoB,KAAAI,EAAAJ,KAAAwN,IAAAkI,KAAAzV,OAAArB,EAAAlB,EAAA+C,MAAA/C,EAAAuC,MAAA,EAAAD,KAAAM,EAAAN,KAAAwN,IAAAkI,KAAAxV,QAAAP,EAAAjC,EAAAgD,KAAAhD,EAAAwC,OAAA,EAAiGJ,SAASC,MAAAiU,SAAAhU,KAAA8T,GAAA9T,KAAAI,EAAAJ,KAAA6U,KAAAzU,EAAAJ,KAAA+T,GAAA/T,KAAAM,EAAAN,KAAA6U,KAAAvU,EAAAN,KAAA6U,KAAAzU,EAAAJ,KAAAI,EAAAJ,KAAA6U,KAAAvU,EAAAN,KAAAM,EAAAN,KAAAqQ,OAAArQ,KAAA8U,cAAAtG,KAAAuE,IAAA/S,KAAA8T,IAAAtF,KAAAuE,IAAA/S,KAAA+T,KAA+KjU,YAAY,WAAAE,KAAAgS,SAAAhS,KAAA8U,aAApzD,IAAozD9U,KAAA+U,UAA8DjV,aAAa,OAAAE,KAAAqQ,MAAArQ,KAAA8U,aAA/3D,EAAq6DhV,cAAc,OAAn7D,KAAm7DE,KAAA+R,YAAA/R,KAAAwB,gBAAgD,SAAA5C,EAAAe,EAAAjC,GAAiB,aAA8D,SAAA+B,EAAAb,EAAAe,EAAAjC,GAAkB,MAAA+B,EAAAb,EAAA+W,aAAAhW,GAA0B,OAAAf,EAAAgX,aAAAnW,EAAA/B,GAAAkB,EAAAiX,cAAApW,KAA7FrB,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAuGgB,EAAAmW,gBAAA,cAAAC,aAA6CjW,cAAcC,QAAAC,KAAAgW,QAAA,EAAAhW,KAAAC,MAAA,EAAAD,KAAAE,OAAA,IAAmDP,EAAAsW,kBAAA,SAAArX,EAAAe,EAAAjC,GAAqC,MAAAc,EAAAiB,EAAAb,IAAAsX,cAAAvW,GAAAR,EAAAM,EAAAb,IAAAuX,gBAAAzY,GAAAS,EAAAS,EAAAwX,gBAA8E,OAAAxX,EAAAyX,aAAAlY,EAAAK,GAAAI,EAAAyX,aAAAlY,EAAAgB,GAAAP,EAAA0X,YAAAnY,MAAkEwB,EAAA4W,WAAA9W,EAAAE,EAAA6W,cAAA,SAAA5X,EAAAe,GAA8C,MAAAjC,EAAAkB,EAAA4X,gBAA0B5X,EAAA6X,YAAA7X,EAAA8X,WAAAhZ,GAA8B,MAAA+B,EAAAb,EAAA+X,KAAAnY,EAAAI,EAAA+X,KAAAxX,EAAAP,EAAAgY,cAAAzY,EAAA,IAAA0Y,WAAA,aAAwEjY,EAAAkY,WAAAlY,EAAA8X,WAAA,EAAAjX,EAAA,MAAAjB,EAAAW,EAAAhB,GAA2C,MAAAwQ,EAAA,IAAAoI,MAAkB,OAAApI,EAAAqI,OAAA,MAAsBpY,EAAA6X,YAAA7X,EAAA8X,WAAAhZ,GAAAkB,EAAAkY,WAAAlY,EAAA8X,WAAA,EAAAjX,EAAAjB,EAAAW,EAAAwP,GAAA/P,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAsY,eAAAtY,EAAAuY,eAAAvY,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAwY,eAAAxY,EAAAuY,eAAAvY,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAyY,mBAAAzY,EAAA0Y,SAAA1Y,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAA2Y,mBAAA3Y,EAAA0Y,SAAA1Y,EAAA4Y,eAAA5Y,EAAA8X,YAAAhZ,EAAAsY,QAAA,EAAAtY,EAAAuC,MAAA0O,EAAA1O,MAAAvC,EAAAwC,OAAAyO,EAAAzO,SAAwYyO,EAAA8I,IAAA9X,EAAAjC,IAAa,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAciC,EAAA+X,SAAA,MAAiB5X,YAAAlB,GAAeoB,KAAAwN,IAAA5O,EAAAoB,KAAAa,IAAA,IAAApB,EAAAkY,IAAA/Y,GAAiCkB,SAASE,KAAAa,IAAAiB,cAAA9B,KAAAa,IAAA0M,UAAyC,SAAA3O,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,IAAAyB,EAAAzB,EAAA,GAAAS,EAAAT,EAAA,GAAAiR,EAAAjR,EAAA,GAAAkR,EAAAlR,EAAA,GAAkDiC,EAAAgY,IAAA,MAAY7X,YAAAlB,GAAeoB,KAAAwN,IAAA5O,EAAAoB,KAAAsN,SAAA,IAAA7N,EAAAmY,eAAA,IAAAjJ,EAAAhO,KAAA,UAAAX,KAAA6X,UAAA,IAAA1Y,EAAAyB,MAAAhC,EAAA8W,MAAA1V,KAAA6X,UAAAhX,IAAAb,KAA8HF,IAAAlB,GAAOoB,KAAA6X,UAAAvW,IAAA1C,GAAsBkB,OAAAlB,GAAUoB,KAAA6X,UAAAtW,OAAA3C,GAAyBkB,WAAAlB,GAAc,OAAAoB,KAAA6X,UAAApW,WAAA7C,GAAoCkB,cAAc,OAAAE,KAAA+B,aAAA/B,KAAA8X,YAAA9X,KAAA+X,kBAAA,GAAA/X,KAAA6X,UAAA/V,cAAiGhC,OAAOE,KAAA6X,UAAAjW,eAAA5B,KAAA+B,aAAA/B,KAAA+B,YAAAH,eAAgF9B,cAAAlB,GAAiB,MAAAe,EAAAK,KAAAwN,IAAAE,MAAuB1N,KAAA+B,YAAAnD,EAAAoB,KAAA8X,WAAA,IAAAlJ,EAAA/O,KAAAF,EAAAuQ,MAAA9P,EAAAxB,EAAAkC,KAAAV,EAAAT,EAAAuQ,MAAA5P,EAAA1B,EAAAkC,KAAAR,GAAqFR,iBAAiB,MAAAlB,EAAAoB,KAAAwN,IAAAE,MAAA/N,EAAAK,KAAA+B,YAAArE,EAAAsC,KAAA8X,WAA4D,GAAAlZ,EAAAyR,KAAA1Q,EAAAmB,KAAAV,EAAAxB,EAAAwB,EAAA1C,EAAA0C,EAAAT,EAAAmB,KAAAR,EAAA1B,EAAA0B,EAAA5C,EAAA4C,MAA4C,CAAK,MAAAb,EAAAO,KAAA6X,UAAApW,WAAA7C,GAAqCa,KAAAuY,OAAArY,MAAAmB,KAAAV,EAAAX,EAAAqB,KAAAV,EAAAT,EAAAmB,KAAAR,EAAAb,EAAAqB,KAAAR,EAAAX,EAAAmT,KAAArT,IAAAE,aAAAnB,EAAAiR,oBAAAhQ,IAAAO,KAAA6X,UAAAlY,EAAA0B,QAAA1B,EAAA0B,OAAAE,OAAA5B,gBAAAxB,EAAAyP,cAAAjO,EAAAsO,UAAAxO,IAAAO,KAAA6X,UAAAlY,EAAA0B,QAAA1B,EAAA0B,OAAAE,OAAA5B,MAAAmB,KAAAV,EAAAxB,EAAAsR,MAAA9P,EAAA1C,EAAA0C,EAAAT,EAAAmB,KAAAR,EAAA1B,EAAAsR,MAAA5P,EAAA5C,EAAA4C,GAAAN,KAAA+B,iBAAA,EAAA/B,KAAA8X,gBAAA,MAA6U,SAAAlZ,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAiY,eAAA,MAAuB9X,YAAAlB,EAAAe,GAAiBK,KAAAiY,SAAArZ,EAAAoB,KAAAkY,gBAAAvY,EAAuCG,KAAAlB,EAAAe,GAAU,MAAAjC,EAAAsC,KAAAiY,SAAA7X,EAAAX,EAAAO,KAAAiY,SAAA3X,EAAA9B,EAAAwB,KAAAiY,SAAAhY,MAAA,IAAAd,EAAAa,KAAAiY,SAAA/X,OAAA,IAAA/B,EAAAT,EAAAc,EAAAmQ,EAAAlP,EAAAN,EAAAyP,EAAAlR,EAAA,EAAAc,EAAAT,EAAA0B,EAAA,EAAAjB,EAAAb,EAAAgC,EAAAmB,KAAAV,EAAApC,EAAA2B,EAAAmB,KAAAR,EAAAkP,EAAA7P,EAAAmB,KAAAb,MAAA,EAAAzB,EAAA2Z,EAAAxY,EAAAmB,KAAAZ,OAAA,EAAAf,EAAAK,EAAA7B,EAAAa,EAAA4Z,EAAApa,EAAAmB,EAAAmB,EAAAd,EAAAgQ,EAAApP,EAAAgY,EAAAD,EAAgN,GAAAvZ,EAAAiQ,UAAAlR,EAAAK,EAAAN,EAAA+B,EAAAjB,EAAAW,OAAA,EAAAX,EAAAW,GAAAP,EAAAiQ,UAAArP,EAAAxB,EAAAG,EAAAsB,EAAAjB,EAAAW,OAAA,EAAAqQ,EAAArQ,GAAAP,EAAAiQ,UAAAvO,EAAAtC,EAAA4Q,EAAAnP,EAAAjB,EAAAW,OAAA,EAAAX,EAAAW,GAAAP,EAAAiQ,UAAAlR,EAAAya,EAAA1a,EAAAiR,EAAAnQ,EAAAW,OAAA,EAAAX,EAAA2Z,GAAAvZ,EAAAiQ,UAAArP,EAAA4Y,EAAAja,EAAAwQ,EAAAnQ,EAAAW,OAAA,EAAAqQ,EAAA2I,GAAAvZ,EAAAiQ,UAAAvO,EAAA8X,EAAAxJ,EAAAD,EAAAnQ,EAAAW,OAAA,EAAAX,EAAA2Z,GAAAvZ,EAAAiQ,UAAAlR,EAAAyC,EAAA1C,EAAAK,EAAAS,EAAAW,OAAA,EAAAX,EAAAW,GAAAP,EAAAiQ,UAAArP,EAAAY,EAAAjC,EAAAJ,EAAAS,EAAAW,OAAA,EAAAqQ,EAAArQ,GAAAP,EAAAiQ,UAAAvO,EAAAF,EAAAwO,EAAA7Q,EAAAS,EAAAW,OAAA,EAAAX,EAAAW,GAAAa,KAAAkY,iBAAAvY,EAAA0N,YAAA,CAA4W,MAAA3P,EAAAsC,KAAAkY,gBAAAjY,MAAAR,EAAAO,KAAAkY,gBAAAhY,OAAA1B,EAAAmB,EAAAmB,KAAAP,GAAA7C,EAAAyB,EAAAQ,EAAAmB,KAAAR,EAAAnC,EAAA6B,KAAAkY,gBAAA9X,EAAAuO,EAAA3O,KAAAkY,gBAAA5X,EAA4I1B,EAAAiQ,UAAArQ,EAAAW,EAAAhB,EAAAwQ,EAAAjR,EAAA+B,OAA4B,SAAAb,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA,WAAAjB,EAAA,WAAAW,EAAA,UAA4C,SAAAhB,EAAAS,GAAc,IAAAe,EAAA,KAAAjC,GAAA,EAAA+B,EAAA,IAAsB,QAAAjB,EAAA,EAAYA,EAAAI,EAAAuC,OAAW3C,IAAA,CAAK,MAAAW,EAAAP,EAAAJ,GAAaW,EAAAgZ,IAAA,KAAAhZ,EAAAgZ,EAAAhZ,EAAAwP,EAAAlP,IAAAE,EAAAR,EAAAzB,EAAAc,EAAAiB,EAAAN,EAAAgZ,EAAAhZ,EAAAwP,GAA0C,OAAA/P,EAAAqQ,OAAAvR,EAAA,GAAAiC,EAAuB,SAAAgP,EAAA/P,GAAc,MAAAe,EAAA,GAAW,IAAAjC,EAAAkB,EAAQ,KAAKlB,GAAEiC,EAAAuP,KAAAxR,OAAAmX,KAAoB,OAAAlV,EAAA0Y,UAAA1Y,EAAqBA,EAAA2Y,YAAA,SAAA1Z,EAAAe,EAAAjC,EAAAkR,IAAgC,SAAAhQ,EAAAe,GAAe,QAAAjC,EAAA,EAAYA,EAAAkB,EAAAsB,OAAWxC,IAAA,QAAA+B,EAAA,EAAgBA,EAAAb,EAAAqB,MAAUR,IAAA,CAAK,MAAAjB,EAAAI,EAAA2Z,KAAA7a,GAAA+B,GAAqBjB,EAAA2Z,EAAA,IAAA3Z,EAAAmQ,EAAAH,KAAA2E,IAAA3E,KAAAuE,IAAAtT,EAAAE,EAAAS,GAAAoO,KAAAuE,IAAArV,EAAAiC,EAAAW,IAAA9B,EAAAqW,KAAA,MAA1F,CAA6JjW,EAAAlB,GAAM,MAAAK,EAAAa,EAAA2Z,KAAA5Y,EAAAW,GAAAX,EAAAS,GAAyBrC,EAAAoa,EAAA,EAAM,MAAAxa,EAAA,CAAAI,GAAY,KAAKJ,EAAAwD,OAAA,GAAW,CAAE,MAAAxB,EAAAxB,EAAAR,GAAa,GAAAgC,EAAAS,IAAA1C,EAAA0C,GAAAT,EAAAW,IAAA5C,EAAA4C,EAAA,OAAAqO,EAAAhP,GAAoC,QAAAjC,EAAA,EAAYA,EAAA+B,EAAA0B,OAAWzD,IAAA,CAAK,MAAAS,EAAAwB,EAAAS,EAAAX,EAAA/B,GAAAiR,EAAAhP,EAAAW,EAAA9B,EAAAd,GAA4B,GAAAS,GAAA,GAAAA,EAAAS,EAAAqB,OAAA0O,GAAA,GAAAA,EAAA/P,EAAAsB,OAAA,CAAsC,MAAAT,EAAAb,EAAA2Z,KAAA5J,GAAAxQ,GAAAK,EAAAmB,EAAAwY,EAAAhZ,EAAAzB,GAAgCc,EAAAiB,EAAA0Y,GAAA3Z,GAAAoQ,IAAAhQ,EAAA2Z,KAAA5J,GAAAxQ,GAAA0U,UAAApT,EAAA0Y,EAAA3Z,EAAAiB,EAAAoV,KAAAlV,EAAAhC,EAAAuR,KAAAzP,SAAmE,SAAAb,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAA6Y,IAAA,MAAY1Y,YAAAlB,GAAeoB,KAAAlC,EAAA,WAAAkC,KAAA4O,EAAA,WAAA5O,KAAAjC,EAAA,MAAAiC,KAAAyY,MAAA7Z,GAAA,EAAiEkB,QAAAlB,GAAWoB,KAAAyY,MAAA7Z,EAAakB,UAAU,OAAAE,KAAAyY,OAAAzY,KAAA4O,EAAA5O,KAAAyY,MAAAzY,KAAAjC,GAAAiC,KAAAlC,EAAAkC,KAAAyY,MAA+D3Y,YAAY,OAAAE,KAAA0Y,WAAA1Y,KAAAlC,EAAA,GAAiCgC,UAAAlB,EAAAe,GAAe,MAAAjC,EAAAiC,EAAAf,EAAY,OAAAA,GAAAoB,KAAA0Y,UAAA1Y,KAAAlC,EAAAJ,EAAA,GAAqCoC,YAAAlB,GAAe,MAAAe,EAAAf,EAAA+Z,OAAA,CAAA/Z,EAAAe,IAAAf,EAAAe,GAAAjC,EAAAsC,KAAA4Y,UAAA,EAAAjZ,EAAA,GAAqD,IAAAF,EAAA,EAAQ,QAAAE,EAAA,EAAYA,EAAAf,EAAAuC,OAAWxB,IAAA,GAAAjC,IAAA+B,GAAAb,EAAAe,IAAA,OAAAA,EAA6B,OAAAf,EAAAuC,OAAA,EAAkBrB,UAAAlB,GAAa,MAAAe,EAAA,GAAAjC,EAAA,GAAgB,UAAA+B,KAAAb,IAAAW,eAAAE,KAAAE,EAAAuP,KAAAzP,GAAA/B,EAAAwR,KAAAtQ,EAAAa,KAA+D,OAAAE,EAAAK,KAAA6Y,YAAAnb,OAAgC,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAA,GAAkB,MAAAW,UAAAM,EAAAkB,KAAuBb,YAAAlB,EAAAe,EAAAjC,EAAA+B,EAAAN,EAAAhB,EAAAwQ,EAAAC,GAA6B7O,MAAAnB,EAAAe,EAAAjC,EAAA+B,GAAAO,KAAA0O,OAAAvP,GAAA,EAAAa,KAAA8Y,OAAA3a,EAAA6B,KAAA+Y,cAAApK,GAAAnQ,EAAAwB,KAAAgZ,cAAApK,EAAA5O,KAAAiZ,UAAA,EAAAjZ,KAAAkZ,UAAA,EAA6HpZ,KAAAlB,EAAAe,EAAAjC,EAAA+B,GAAc,IAAAjB,EAAAwB,KAAAiZ,UAAqBjZ,KAAA8Y,OAAAta,GAAAW,EAAAga,gBAAAnZ,KAAA+Y,cAAA,GAAA/Y,KAAA0O,QAAoE,MAAAvQ,EAAA6B,KAAAI,EAAA5B,EAAAwB,KAAAC,MAAA0O,EAAA3O,KAAAM,EAAAsO,EAAAnP,GAAAO,KAAAgZ,cAA6Dpa,EAAAiQ,UAAAlP,EAAAjC,EAAAS,EAAAwQ,EAAA3O,KAAAC,MAAAD,KAAAE,OAAA0O,GAAA5O,KAAAkZ,YAAAlZ,KAAAkZ,UAAAlZ,KAAA+Y,gBAAA/Y,KAAAkZ,UAAA,EAAAlZ,KAAAiZ,YAAAjZ,KAAAiZ,WAAAjZ,KAAA0O,SAAA1O,KAAA8Y,KAAA9Y,KAAAiZ,UAAA,EAAAjZ,KAAAiZ,UAAAjZ,KAAA0O,OAAA,IAA6N5O,gCAAgCX,EAAAga,mBAAqBha,EAAAga,gBAAA,EAAAxZ,EAAAyZ,OAAAja,GAA+B,SAAAP,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAA0Z,QAAA,MAAgBvZ,YAAAlB,EAAAe,GAAiBK,KAAAsZ,KAAA1a,EAAAoB,KAAAkU,MAAAvU,KAA2B,SAAAf,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,IAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAqCiC,EAAA4Z,mBAAA,cAAA9Z,EAAA8Q,WAAgDzQ,OAAAlB,GAAU,GAAAoB,KAAAe,SAAAI,OAAA,WAAmC,GAAAvC,aAAAJ,EAAAoS,WAAA,CAA8B,MAAAjR,EAAAf,EAAAlB,EAAAiC,EAAA+P,eAAAjQ,EAAAE,EAAAkR,WAAAtS,IAAA,GAAmD,OAAAyB,KAAAsB,IAAA,IAAAnC,EAAAsQ,mBAAAzP,KAAAc,KAAA0Y,QAAA9b,EAAA+B,KAAA,EAAoE,OAAAb,aAAAT,EAAAyP,eAAAhP,EAAAqP,WAAAjO,KAAAsB,IAAA,IAAAnD,EAAAyP,aAAA5N,KAAAc,KAAA0Y,QAAA5a,EAAAoP,QAAA,WAAApP,aAAAO,EAAAsQ,oBAAA7Q,aAAAT,EAAAyP,cAAAhP,EAAAqP,aAAmM,SAAArP,EAAAe,EAAAjC,GAAiB,aAAa,SAAA+B,EAAAb,GAAc,QAAAlB,KAAAkB,EAAAe,EAAAJ,eAAA7B,KAAAiC,EAAAjC,GAAAkB,EAAAlB,IAAgDU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAASc,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,IAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,KAAA+B,EAAA/B,EAAA,MAA0b,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAkBiC,EAAA8Z,aAAA,cAAAha,EAAAoS,GAAkC/R,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAA0Z,WAAA/Z,EAA2BG,OAAO,MAAAlB,EAAAoB,KAAAqO,MAAA1O,EAAAf,EAAA0P,KAAAuB,OAAmC,GAAAlQ,EAAA,GAAAf,EAAA+a,WAAAha,GAAA,EAAAf,EAAAgb,WAAAja,EAAAS,EAAAT,EAAAW,QAAgD,GAAAX,EAAAuS,GAAA,GAAgB,MAAAxU,EAAAsC,KAAA0Z,WAAA1Z,KAAA0Z,WAAA9a,EAAAe,GAA1M,EAAyPf,EAAAib,OAAAla,EAAAjC,OAAiB,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAciC,EAAAma,gBAAA,cAAAra,EAAAoS,GAAqC/R,YAAAlB,GAAemB,MAAAnB,GAAAoB,KAAA+Z,SAAA,GAAA/Z,KAAAga,MAAApb,EAAAqb,GAA0Cna,OAAO,GAAAE,KAAA+Z,SAAA,GAAoB,MAAAnb,EAAAoB,KAAAqO,MAAAC,KAAA4L,IAA4Bla,KAAAqO,MAAAyE,KAAAlU,EAAAga,WAAA,KAAAha,EAAAga,WAAA,MAAA5Y,KAAA+Z,gBAAqE/Z,KAAAqO,MAAA4L,GAAAja,KAAAga,SAAgC,SAAApb,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,IAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAAiR,EAAAjR,EAAA,IAAAkR,EAAAlR,EAAA,GAAyEiC,EAAAwa,IAAA,MAAYra,YAAAlB,GAAe,MAAAe,EAAAf,EAAAoW,OAAiB,IAAArV,EAAA,UAAAya,MAAA,kCAAwD,MAAA1c,EAAAiC,EAAA0a,WAAA,SAA8BC,OAAA,EAAAC,WAAA,IAAwB,IAAA7c,EAAA,UAAA0c,MAAA,+BAAqDpa,KAAAgV,OAAArV,EAAAK,KAAAwa,GAAA9c,EAAAsC,KAAA0V,KAAA9W,EAAA8W,MAAA,IAAAvX,EAAAwC,KAAA,IAAxR,SAAwRX,KAAAya,KAAA7b,EAAA6b,MAAAhb,EAAAib,WAAA1a,KAAA2a,WAAA/b,EAAA+b,aAAxR,EAAwR3a,KAAA4a,YAAAhc,EAAAgc,aAAxR,EAAwR5a,KAAA6a,OAAA,IAAAjM,EAAA/O,KAAAG,KAAA0V,KAAAzV,MAAA,IAAAD,KAAA0V,KAAAxV,OAAA,KAAAxC,EAAAod,QAAApd,EAAAqd,YAAArd,EAAAsd,OAAAtd,EAAAud,OAAAvd,EAAAwd,UAAAxd,EAAAyd,UAAAzd,EAAA0d,qBAAAzb,EAAAM,MAAAD,KAAA0V,KAAAzV,MAAAN,EAAAO,OAAAF,KAAA0V,KAAAxV,OAAAP,EAAA0b,MAAAC,QAAA,OAAA3b,EAAA4b,SAAA,EAAA5b,EAAA6V,QAAAxV,KAAAwb,OAAAxb,KAAAyb,WAAAzb,KAAA0b,UAAA,IAAA/M,EAAAgN,UAAAje,EAAAkB,EAAAgd,SAAA5b,KAAAya,MAAAza,KAAA6b,SAAA,IAAArd,EAAA4V,SAAAzU,GAAAK,KAAA0N,MAAA,IAAAvO,EAAAyV,MAAA5U,WAAA2a,aAAAjb,OAAA6U,iBAAA,SAAAvU,KAAA8b,kBAAA5c,KAAAc,OAAA,GAAAA,KAAA8b,qBAAA9b,KAAA+b,aAA8qBjc,oBAAoB,MAAAlB,EAAAc,OAAAsc,WAAArc,EAAAD,OAAAuc,YAAAve,EAAAsC,KAAAyb,WAAAhc,EAAA/B,EAAA,QAAAc,EAAAd,EAAA,QAAyFsC,KAAA4a,YAAA,EAAA5a,KAAA4a,YAAAhc,EAAAe,EAAA6O,KAAA0N,IAAA,EAAA1N,KAAA2E,IAAA3E,KAAAC,MAAA7P,EAAAa,GAAA+O,KAAAC,MAAA9O,EAAAnB,KAAAgQ,KAAA0N,IAAA,EAAA1N,KAAA2E,IAAA3E,KAAAC,MAAA7P,EAAAJ,GAAAgQ,KAAAC,MAAA9O,EAAAF,KAAAO,KAAA0V,KAAAzV,MAAAuO,KAAAC,MAAA7P,EAAAoB,KAAA4a,aAAA5a,KAAA0V,KAAAxV,OAAAsO,KAAAC,MAAA9O,EAAAK,KAAA4a,aAAA5a,KAAA6a,OAAAza,EAAAJ,KAAA0V,KAAAzV,MAAA,IAAAD,KAAA6a,OAAAva,EAAAN,KAAA0V,KAAAxV,OAAA,IAAAF,KAAAgV,OAAA/U,MAAAD,KAAA0V,KAAAzV,MAAAD,KAAAgV,OAAA9U,OAAAF,KAAA0V,KAAAxV,OAAAF,KAAAgV,OAAAqG,MAAA5a,KAAA,IAAAT,KAAAgV,OAAAqG,MAAA3a,IAAA,IAAAV,KAAAgV,OAAAqG,MAAApb,MAAArB,EAAA,KAAAoB,KAAAgV,OAAAqG,MAAAnb,OAAAP,EAAA,KAAkfG,WAAW,QAAAqc,UAAAC,UAAAC,MAAA,sDAAwFvc,aAAaE,KAAA6b,SAAA7H,SAAAhU,KAAA0N,MAAAsG,SAAAhU,KAAAsc,UAAAtc,KAAAyY,OAAAzY,KAAAyY,MAAAzE,SAAAhU,KAAA0b,UAAAa,MAAAvc,KAAA0V,KAAAzV,MAAAD,KAAA0V,KAAAxV,QAAAsc,sBAAAxc,KAAA+b,WAAA7c,KAAAc,OAAmMF,UAAU,MAAAlB,EAAAoB,KAAAwa,GAAgB5b,EAAAgT,SAAA,IAAA5R,KAAA0V,KAAAzV,MAAAD,KAAA0V,KAAAxV,QAAAtB,EAAA6d,WAAA,SAAA7d,EAAA8d,MAAA9d,EAAA+d,iBAAA/d,EAAAge,kBAAA5c,KAAA0b,UAAAmB,mBAAA,EAAA7c,KAAA0b,UAAAoB,mBAAA,EAAA9c,KAAA0b,UAAAqB,gBAAA,EAA+Njd,UAAAlB,EAAAe,EAAAjC,EAAA+B,EAAAjB,EAAAW,EAAAhB,EAAAwQ,EAAAC,GAA6B5O,KAAA0b,UAAA7M,UAAAjQ,EAAAe,EAAAjC,EAAA+B,EAAAjB,EAAAW,EAAAhB,EAAAwQ,EAAAC,GAA4C9O,WAAAlB,EAAAe,EAAAjC,EAAA+B,GAAoBO,KAAA0b,UAAAsB,WAAApe,EAAAe,EAAAjC,EAAA+B,GAAmCK,mBAAAlB,EAAAe,EAAAjC,EAAA+B,GAA4BO,KAAA0b,UAAA5M,mBAAAlQ,EAAAe,EAAAjC,EAAA+B,GAA2CK,gBAAAlB,EAAAe,EAAAjC,EAAA+B,GAAyBO,KAAA0b,UAAA3L,gBAAAnR,EAAAe,EAAAjC,EAAA+B,GAAwCK,UAAAlB,GAAa,MAAAe,EAAAK,KAAA6b,SAAAoB,OAAAre,GAAgC,OAAAe,KAAA0Q,KAAiBvQ,aAAAlB,GAAgB,MAAAe,EAAAK,KAAA6b,SAAAoB,OAAAre,GAAAlB,EAAAiC,IAAAoS,UAAA,EAAkD,WAAArU,KAAA,MAAqB,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA,GAAAjB,EAAA,IAAiB,MAAAW,EAAQW,UAAAlB,GAAa,OAAAA,GAAAa,GAAAb,GAAAJ,EAAkBsB,eAAAlB,GAAkB,IAAAe,EAAA,EAAQ,QAAAjC,EAAA,EAAYA,EAAAkB,EAAAuC,OAAWzD,IAAAiC,GAAAK,KAAAkd,SAAAte,EAAAue,WAAAzf,IAAsC,OAAAiC,GAAUA,EAAAyd,KAAAje,EAASQ,EAAA0d,eAAA,cAAAle,EAAiCW,YAAAlB,GAAemB,QAAAC,KAAAsd,UAAA1e,EAAyBkB,UAAAlB,GAAa,OAAAA,EAAAa,GAAAO,KAAAsd,UAAArd,MAAiCH,WAAW,OAAAE,KAAAsd,UAAArd,MAA4BH,YAAY,OAAAE,KAAAsd,UAAApd,SAA+B,MAAA/B,UAAAgB,EAAkBW,YAAAlB,EAAAe,GAAiBI,QAAAC,KAAAE,OAAAtB,EAAAoB,KAAAud,OAAA5d,EAAAK,KAAAwd,QAAA,IAAqD,IAAA9f,EAAA,EAAQ,QAAAkB,EAAA,EAAYA,EAAAoB,KAAAud,OAAApc,OAAqBvC,IAAAlB,GAAAsC,KAAAud,OAAA3e,GAAAoB,KAAAwd,QAAAtO,KAAAxR,GAA2CoC,UAAAlB,GAAa,OAAAoB,KAAAwd,QAAA5e,EAAAa,GAAyBK,SAAAlB,GAAY,OAAAoB,KAAAud,OAAA3e,EAAAa,GAAwBK,YAAY,OAAAE,KAAAE,QAAoBP,EAAA8d,iBAAAtf,EAAAwB,EAAA+a,WAAA,IAAAvc,EAAA,sMAA6O,SAAAS,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAA,MAAqnBmB,EAAAgc,UAAA,MAAkB7b,YAAAlB,EAAAe,EAAAjC,GAAmBsC,KAAAwa,GAAA5b,EAAAoB,KAAAya,KAAA/c,EAAsB,MAAAiR,EAAAlP,EAAAwW,kBAAArX,EAAhrB,gXAAsY,4OAA6UoB,KAAA0d,QAAA/O,EAAA3O,KAAA2d,qBAAA/e,EAAAgf,mBAAAjP,EAAA,kBAAA3O,KAAA6d,iBAAAjf,EAAAkf,kBAAAnP,EAAA,cAAA3O,KAAA+d,iBAAAnf,EAAAkf,kBAAAnP,EAAA,cAAA3O,KAAAge,cAAApf,EAAAkf,kBAAAnP,EAAA,WAAA3O,KAAAie,eAAArf,EAAAsf,eAAAle,KAAAme,eAAAvf,EAAAsf,eAAAle,KAAAoe,YAAAxf,EAAAsf,eAAAle,KAAAqe,cAAA5e,EAAA+W,cAAA5X,EAAAe,GAAAK,KAAAse,cAAA,IAAAC,aAAA/f,GAAAwB,KAAA6c,mBAAA,EAAA7c,KAAAwe,cAAA,IAAAD,aAAA/f,GAAAwB,KAAA8c,mBAAA,EAAA9c,KAAAye,gBAAA,IAAA5H,WAAArY,GAAAwB,KAAA0e,cAAA,IAAAC,SAAA3e,KAAAye,gBAAAG,QAAA5e,KAAA+c,gBAAA,EAA2oBjd,mBAAAlB,EAAAe,EAAAjC,EAAA+B,GAA4B,MAAAjB,EAAAmB,EAAAK,KAAAya,KAAAoE,eAAAjgB,GAAA,IAA0CoB,KAAAgd,WAAApe,EAAAJ,EAAAd,EAAA+B,GAAyBK,gBAAAlB,EAAAe,EAAAjC,EAAA+B,GAAyB,MAAAjB,EAAAmB,EAAAK,KAAAya,KAAAoE,eAAAjgB,GAAsCoB,KAAAgd,WAAApe,EAAAJ,EAAAd,EAAA+B,GAAyBK,WAAAlB,EAAAe,EAAAjC,EAAA+B,GAAoB,MAAAjB,EAAAI,EAAAkgB,MAAA,MAAA3f,EAAAa,KAAAya,KAAAsE,YAA8C,IAAA5gB,EAAAT,EAAQ,QAAAkB,EAAA,EAAYA,EAAAJ,EAAA2C,OAAWvC,IAAA,CAAK,IAAAlB,EAAAiC,EAAQ,QAAAA,EAAA,EAAYA,EAAAnB,EAAAI,GAAAuC,OAAcxB,IAAA,CAAK,MAAAgP,EAAAnQ,EAAAI,GAAAue,WAAAxd,GAA2B,GAAAK,KAAAya,KAAAuE,UAAArQ,GAAA,CAA2B,MAAA/P,EAAAoB,KAAAya,KAAAwE,UAAAtQ,GAAAhP,EAAAK,KAAAya,KAAAyC,SAAAvO,GAAuD3O,KAAA6O,UAAAnR,EAAAS,EAAAS,EAAA,EAAAe,EAAAR,EAAAM,GAAA/B,GAAAiC,GAAoCxB,GAAAgB,GAAMW,SAAAlB,EAAAe,EAAAjC,EAAA+B,GAAkB,GAAAO,KAAAya,KAAAuE,UAAApgB,GAAA,CAA2B,MAAAJ,EAAAwB,KAAAya,KAAAwE,UAAArgB,GAAAO,EAAAa,KAAAya,KAAAyC,SAAAte,GAAAT,EAAA6B,KAAAya,KAAAsE,YAA+E/e,KAAA6O,UAAAlP,EAAAjC,EAAAc,EAAA,EAAAW,EAAAhB,EAAAsB,IAA+BK,UAAAlB,EAAAe,EAAAjC,EAAA+B,EAAAjB,EAAAW,EAAAhB,EAAAwQ,EAAAC,GAA6B,MAAA7Q,EAAAiC,KAAAqe,cAA2B,IAAAtgB,EAAAiY,OAAA,OAAoB,MAAArY,OAAA,IAAAgR,IAAAnQ,EAAAR,OAAA,IAAA4Q,IAAAzP,EAAAqQ,EAAA5Q,EAAA4P,KAAAuE,IAAApV,GAAAwa,EAAAxY,EAAA3B,EAAAwB,EAAA9B,EAAAK,EAAAkC,MAAAmY,EAAA3Y,EAAA1B,EAAAmC,OAAAI,GAAA5C,EAAAc,GAAAT,EAAAkC,MAAAG,GAAAX,EAAAN,GAAApB,EAAAmC,OAAApC,EAAAK,GAAA,EAA+H6B,KAAAse,cAAAte,KAAA6c,sBAAAje,EAAAoB,KAAAse,cAAAte,KAAA6c,sBAAAld,EAAAK,KAAAse,cAAAte,KAAA6c,sBAAArN,EAAAxP,KAAAse,cAAAte,KAAA6c,sBAAAld,EAAAK,KAAAse,cAAAte,KAAA6c,sBAAAje,EAAAoB,KAAAse,cAAAte,KAAA6c,sBAAA1E,EAAAnY,KAAAwe,cAAAxe,KAAA8c,sBAAAtd,EAAAQ,KAAAwe,cAAAxe,KAAA8c,sBAAA1E,EAAApY,KAAAwe,cAAAxe,KAAA8c,sBAAAxc,EAAAN,KAAAwe,cAAAxe,KAAA8c,sBAAA1E,EAAApY,KAAAwe,cAAAxe,KAAA8c,sBAAAtd,EAAAQ,KAAAwe,cAAAxe,KAAA8c,sBAAA1c,EAAAJ,KAAAse,cAAAte,KAAA6c,sBAAAje,EAAAoB,KAAAse,cAAAte,KAAA6c,sBAAA1E,EAAAnY,KAAAse,cAAAte,KAAA6c,sBAAArN,EAAAxP,KAAAse,cAAAte,KAAA6c,sBAAAld,EAAAK,KAAAse,cAAAte,KAAA6c,sBAAArN,EAAAxP,KAAAse,cAAAte,KAAA6c,sBAAA1E,EAAAnY,KAAAwe,cAAAxe,KAAA8c,sBAAAtd,EAAAQ,KAAAwe,cAAAxe,KAAA8c,sBAAA1c,EAAAJ,KAAAwe,cAAAxe,KAAA8c,sBAAAxc,EAAAN,KAAAwe,cAAAxe,KAAA8c,sBAAA1E,EAAApY,KAAAwe,cAAAxe,KAAA8c,sBAAAxc,EAAAN,KAAAwe,cAAAxe,KAAA8c,sBAAA1c,EAAgoC,QAAAxB,EAAA,EAAYA,EAAA,EAAIA,IAAAoB,KAAA0e,cAAAQ,UAAAlf,KAAA+c,gBAAAjf,GAAA,GAAAkC,KAAA+c,iBAAA,EAAoFjd,MAAAlB,EAAAe,GAAW,IAAAK,KAAAqe,cAAArI,QAAA,IAAAhW,KAAA6c,mBAAA,OAAkE,MAAAnf,EAAAsC,KAAAwa,GAAgB9c,EAAAyhB,WAAAnf,KAAA0d,SAAAhgB,EAAA0hB,UAAApf,KAAA2d,qBAAA/e,EAAAe,GAAAjC,EAAA2hB,cAAA3hB,EAAA4hB,UAAA5hB,EAAA+Y,YAAA/Y,EAAAgZ,WAAA1W,KAAAqe,eAAA,CAAkJ3gB,EAAA6hB,wBAAAvf,KAAA6d,kBAAAngB,EAAA8hB,WAAA9hB,EAAA+hB,aAAAzf,KAAAie,gBAAAvgB,EAAAgiB,WAAAhiB,EAAA+hB,aAAAzf,KAAAse,cAAA5gB,EAAAiiB,cAAiK,MAAA/gB,EAAA,EAAAe,EAAAjC,EAAAkiB,MAAAngB,GAAA,EAAAjB,EAAA,EAAAW,EAAA,EAAiCzB,EAAAmiB,oBAAA7f,KAAA6d,iBAAAjf,EAAAe,EAAAF,EAAAjB,EAAAW,GAAA,CAAwDzB,EAAA6hB,wBAAAvf,KAAA+d,kBAAArgB,EAAA8hB,WAAA9hB,EAAA+hB,aAAAzf,KAAAme,gBAAAzgB,EAAAgiB,WAAAhiB,EAAA+hB,aAAAzf,KAAAwe,cAAA9gB,EAAAiiB,cAAiK,MAAA/gB,EAAA,EAAAe,EAAAjC,EAAAkiB,MAAAngB,GAAA,EAAAjB,EAAA,EAAAW,EAAA,EAAiCzB,EAAAmiB,oBAAA7f,KAAA+d,iBAAAnf,EAAAe,EAAAF,EAAAjB,EAAAW,GAAA,CAAwDzB,EAAA6hB,wBAAAvf,KAAAge,eAAAtgB,EAAA8hB,WAAA9hB,EAAA+hB,aAAAzf,KAAAoe,aAAA1gB,EAAAgiB,WAAAhiB,EAAA+hB,aAAAzf,KAAAye,gBAAA/gB,EAAAiiB,cAA6J,MAAA/gB,EAAA,EAAAe,EAAAjC,EAAAkZ,cAAAnX,GAAA,EAAAjB,EAAA,EAAAW,EAAA,EAAyCzB,EAAAmiB,oBAAA7f,KAAAge,cAAApf,EAAAe,EAAAF,EAAAjB,EAAAW,GAAoD,MAAAM,EAAA/B,EAAAoiB,UAAAthB,EAAAwB,KAAA6c,mBAAA,EAAgDnf,EAAAqiB,WAAAtgB,EAAA,EAAAjB,MAAsB,SAAAI,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAoBiC,EAAAqgB,aAAA,cAAAxhB,EAAAyO,OAAsCnN,YAAAlB,GAAemB,MAAAnB,GAAA,GAAAoB,KAAAigB,SAAArhB,EAA4BkB,KAAAlB,GAAQ,MAAAe,EAAAf,EAAAshB,aAAuB,IAAAvgB,EAAA,OAAa,MAAAjC,EAAAsC,KAAAkN,UAAAlN,KAAAigB,SAAAzhB,EAAAgQ,KAAA0N,IAAA,EAAA1N,KAAA2E,IAAA,QAAAzV,EAAA,IAAAyB,EAAAM,EAAAkM,QAAA,MAAAnN,GAA8FI,EAAA4O,IAAAqB,UAAA,IAAAlP,EAAAS,EAAAT,EAAAW,EAAAX,EAAAM,MAAAN,EAAAO,OAAAf,EAAAP,EAAA4O,IAAAkI,KAAAzV,MAAArB,EAAA4O,IAAAkI,KAAAxV,WAAqF,SAAAtB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAoBiC,EAAAwgB,cAAA,cAAA3hB,EAAAyO,OAAuCnN,YAAAlB,GAAemB,MAAAnB,GAAA,GAAAoB,KAAAigB,SAAArhB,EAA4BkB,KAAAlB,GAAQ,MAAAe,EAAAf,EAAAshB,aAAuB,IAAAvgB,EAAA,OAAa,MAAAjC,EAAA,EAAAsC,KAAAkN,UAAAlN,KAAAigB,SAAAzhB,EAAAgQ,KAAA0N,IAAA,EAAA1N,KAAA2E,IAAA,QAAAzV,EAAA,IAAAyB,EAAAM,EAAAkM,QAAA,MAAAnN,GAAgGI,EAAA4O,IAAAqB,UAAA,IAAAlP,EAAAS,EAAAT,EAAAW,EAAAX,EAAAM,MAAAN,EAAAO,OAAAf,EAAAP,EAAA4O,IAAAkI,KAAAzV,MAAArB,EAAA4O,IAAAkI,KAAAxV,WAAqF,SAAAtB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAygB,iBAAA,cAAA3gB,EAAAwN,OAA0CnN,YAAAlB,EAAAe,EAAAjC,EAAA+B,GAAqBM,MAAAN,GAAA,GAAAO,KAAA+N,OAAAnP,EAAAoB,KAAAqgB,SAAA1gB,EAAAK,KAAAsgB,SAAA5iB,EAAAsC,KAAAigB,SAAAxgB,EAA0EK,SAASC,MAAAiU,SAAAhU,KAAAqgB,SAAA/e,IAAAtB,KAAAsgB,UAAgDxgB,KAAAlB,GAAQ,MAAAe,EAAAK,KAAAqgB,SAAAjgB,EAAAxB,EAAAgT,SAAAxR,EAAA1C,EAAAsC,KAAAqgB,SAAA/f,EAAA1B,EAAAgT,SAAAtR,EAAoEN,KAAA+N,OAAAR,KAAA3O,EAAA4O,IAAA7N,EAAAjC,MAA8B,SAAAkB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,IAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAAiR,EAAAjR,EAAA,IAAAkR,EAAAlR,EAAA,GAAAK,EAAAL,EAAA,IAAAC,EAAAD,EAAA,GAAAM,EAAAN,EAAA,IAAA8R,EAAA9R,EAAA,IAAAya,EAAAza,EAAA,GAAA0C,EAAA,CAAAwO,EAAAnD,KAAAvI,MAAA0L,EAAAnD,KAAA7E,WAAAgI,EAAAnD,KAAAtG,KAAAyJ,EAAAnD,KAAA1F,KAAA6I,EAAAnD,KAAAvF,MAAApI,EAAA,CAAA8Q,EAAAnD,KAAAxI,QAAA2L,EAAAnD,KAAAjF,WAAAoI,EAAAnD,KAAAzG,KAAA4J,EAAAnD,KAAAhH,KAAAmK,EAAAnD,KAAAhG,MAAA8a,EAAA,CAAA3R,EAAAnD,KAAArI,QAAAwL,EAAAnD,KAAAnF,WAAAsI,EAAAnD,KAAAvG,KAAA0J,EAAAnD,KAAA9F,MAAA6a,EAAA,CAAA5R,EAAAnD,KAAAtI,SAAAyL,EAAAnD,KAAA/E,WAAAkI,EAAAnD,KAAArG,KAAAwJ,EAAAnD,KAAA7G,MAAA6b,EAAA,CAAA7R,EAAAnD,KAAA7I,SAAAgM,EAAAnD,KAAAhF,YAA0Z9G,EAAA+gB,KAAA,cAAAvhB,EAAAuY,SAAgC5X,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAAuR,SAAA5R,EAAA4R,UAAA,IAAA5T,EAAAgD,KAAA,IAA3c,OAA2cX,KAAA4R,SAAA,IAAAjU,EAAAgD,KAAA,IAAA/B,EAAA8W,KAAAzV,MAAArB,EAAA8W,KAAAxV,QAAAF,KAAA2gB,cAAA,IAAAxI,EAAAtY,KAAA,KAAAG,KAAA2S,QAAA,GAAA3S,KAAAsT,SAAA,GAAAtT,KAAA4gB,UAAA,EAAA5gB,KAAA6S,SAAA,EAAA7S,KAAA6gB,OAAA,IAAA1I,EAAAtY,MAAA,MAAAG,KAAA8gB,QAAA,IAAAnS,EAAAoS,cAAA/gB,KAAAka,IAAA,IAAAlc,EAAAwa,IAAAxY,KAAAghB,UAAA,EAAAhhB,KAAAihB,aAAAthB,EAAAshB,cAA3c,GAAuyBnhB,IAAAlB,EAAAe,GAASK,KAAAkhB,YAAAlhB,KAAAkhB,WAAA5f,IAAA1C,EAAAe,GAA0CG,SAAS0P,EAAA4J,OAAA+H,yBAAAnhB,KAAAohB,gBAAAphB,KAAAa,IAAAiB,gBAAA9B,KAAAqhB,gBAAArhB,KAAAshB,iBAAAthB,KAAAuhB,UAAAvhB,KAAAuhB,WAAAvhB,KAAAwhB,kBAAAxhB,KAAAyhB,cAAAzhB,KAAA0hB,gBAAA1hB,KAAA2hB,eAAA3hB,KAAA4hB,cAAA5hB,KAAAa,IAAA0M,OAAgRzN,gBAAgB,GAAAE,KAAAa,IAAAkB,YAAA,YAAA/B,KAAA8gB,QAAA5f,SAAA,GAA6DlB,KAAA8gB,QAAA5f,UAAAlB,KAAA6hB,oBAAA,GAAmD,MAAAjjB,EAAAoB,KAAAwN,IAAAE,MAAA/N,EAAAf,EAAAkjB,cAAyC,IAAAljB,EAAAyR,OAAA,IAAAzR,EAAAkV,IAAA,IAAAlV,EAAAmV,KAAApU,EAAA,CAAqC,MAAAjC,EAAAsC,KAAAa,IAAAY,WAAA7C,GAA+BoB,KAAA6hB,iBAAAnkB,IAAAsC,KAAA6hB,eAAAnkB,QAAA0jB,cAAAphB,KAAA8gB,SAAAnhB,GAAAD,OAAAyc,UAAA4F,QAAA,OAAA/hB,KAAA8gB,QAAA5f,UAAAlB,KAAA8gB,QAAAjgB,KAAAb,KAAAa,IAAAS,IAAAtB,KAAA8gB,SAAA9gB,KAAA8gB,QAAAkB,OAAApjB,EAAAwB,EAAAxB,EAAA0B,GAAAN,KAAA8gB,QAAA7f,MAAAjB,KAAAwN,IAAAgO,SAA2P1b,gBAAgBE,KAAA6S,SAAA,EAAgB,QAAAjU,EAAA,EAAYA,EAAAoB,KAAA2S,QAAAxR,OAAsBvC,IAAA,CAAK,MAAAe,EAAAK,KAAA2S,QAAA/T,GAAwBe,EAAAwN,UAAAnN,KAAA6S,UAAAlT,EAAAqU,SAAArU,EAAAwN,WAAAnN,KAAA6S,SAAA,IAAqE,QAAAjU,EAAAoB,KAAA2S,QAAAxR,OAAA,EAAgCvC,GAAA,EAAKA,IAAA,GAAAoB,KAAA2S,QAAA/T,GAAAqjB,SAAA,CAAiC,MAAAtiB,EAAAK,KAAA2S,QAAA/T,GAAwBe,EAAAuiB,QAAAviB,EAAAuiB,SAAAliB,KAAA2S,QAAA1D,OAAArQ,EAAA,IAA+CkB,iBAAiB,IAAAlB,EAAA,EAAQ,KAAK,IAAAoB,KAAAsT,SAAAnS,SAAAnB,KAAA4gB,WAAA5gB,KAAAsT,SAAAnS,SAAAnB,KAAA4gB,UAAA,KAAAhiB,EAAA,EAAAoB,KAAAsT,SAAAnS,UAAiH,CAAE,MAAAxB,EAAAK,KAAAsT,SAAAtT,KAAA4gB,WAAsC,GAAAjhB,aAAAnB,EAAAyT,MAAA,CAAyB,GAAAtS,EAAAyS,GAAA,GAAW,GAAAzS,IAAAK,KAAA6P,OAAA,CAAoB7P,KAAAmiB,oBAAyB,MAAMniB,KAAAoiB,KAAAziB,IAAaK,KAAA6S,SAAAlT,EAAAyS,IAAA,IAAAzS,EAAAyS,GAAA,EAAApS,KAAAqiB,iBAAiDriB,KAAAqiB,WAAqB,GAAAriB,KAAA6S,QAAA,MAAsBjU,KAAKkB,gBAAgBE,KAAA6P,SAAA7P,KAAA2gB,cAAAvgB,EAAAJ,KAAA6P,OAAA4B,aAAAzR,KAAA2gB,cAAArgB,EAAAN,KAAA6P,OAAA6B,aAAA1R,KAAA4R,SAAAxR,EAAAJ,KAAA2gB,cAAAvgB,GAAAJ,KAAAwN,IAAAkI,KAAAzV,MAAA,KAAAD,KAAA4R,SAAAtR,EAAAN,KAAA2gB,cAAArgB,GAAAN,KAAAwN,IAAAkI,KAAAxV,OAAA,MAA0OJ,iBAAiBE,KAAA4R,SAAA3R,MAAAD,KAAAwN,IAAAkI,KAAAzV,MAAAD,KAAA4R,SAAA1R,OAAAF,KAAAwN,IAAAkI,KAAAxV,OAAkF,MAAAtB,EAAAoB,KAAAwN,IAAAE,MAAuB,GAAA9O,EAAA4C,aAAAxB,KAAA4R,SAAAxR,GAAAxB,EAAAkV,GAAA9T,KAAA4R,SAAAtR,GAAA1B,EAAAmV,GAAA/T,KAAA2gB,cAAAvgB,EAAAJ,KAAA4R,SAAAxR,GAAAJ,KAAA4R,SAAA3R,MAAA,KAAAD,KAAA2gB,cAAArgB,EAAAN,KAAA4R,SAAAtR,GAAAN,KAAA4R,SAAA1R,OAAA,SAA6L,CAAK,MAAAtB,EAAAoB,KAAA2gB,cAAAvgB,GAAAJ,KAAAwN,IAAAkI,KAAAzV,MAAA,KAAuD,GAAArB,IAAAoB,KAAA4R,SAAAxR,EAAA,CAAwB,IAAAT,EAAA,GAAAf,EAAA,GAAAoB,KAAA4R,SAAAxR,EAA8BT,IAAA,EAAA6O,KAAA2F,MAAAxU,GAAA6O,KAAA8T,KAAA3iB,GAAAK,KAAA4R,SAAAxR,GAAAT,EAAoD,MAAAA,EAAAK,KAAA2gB,cAAArgB,GAAAN,KAAAwN,IAAAkI,KAAAxV,OAAA,KAAwD,GAAAP,IAAAK,KAAA4R,SAAAtR,EAAA,CAAwB,IAAA1B,EAAA,GAAAe,EAAA,GAAAK,KAAA4R,SAAAtR,EAA8B1B,IAAA,EAAA4P,KAAA2F,MAAAvV,GAAA4P,KAAA8T,KAAA1jB,GAAAoB,KAAA4R,SAAAtR,GAAA1B,IAAsDkB,cAAcE,KAAAwN,IAAAkO,UAAA2C,cAAArI,QAAAhW,KAAAuiB,SAAAviB,KAAAuiB,QAAAhV,KAAAvN,KAAA4R,SAAAxR,EAAAJ,KAAA4R,SAAAtR,EAAAN,KAAA4R,SAAA3R,MAAAD,KAAA4R,SAAA1R,QAAmJJ,gBAAgB,GAAAE,KAAAwiB,eAAAxiB,KAAAyiB,aAAA,CAA0C,MAAA7jB,EAAAoB,KAAA6gB,OAAAzgB,EAAAJ,KAAAuR,SAAAtR,MAAAD,KAAA4R,SAAAxR,EAAAT,EAAAK,KAAA6gB,OAAAvgB,EAAAN,KAAAuR,SAAArR,OAAAF,KAAA4R,SAAAtR,EAA+GN,KAAAyiB,aAAAlV,KAAAvN,KAAAwN,IAAA5O,EAAAe,IAAsCG,eAAe,QAAAlB,EAAA,EAAYA,EAAA,EAAIA,IAAA,QAAAe,EAAA,EAAgBA,EAAAK,KAAAsT,SAAAnS,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAsT,SAAA3T,GAAyBjC,EAAA2T,SAAAzS,GAAAoB,KAAAuiB,UAAAviB,KAAAuiB,QAAAG,UAAAhlB,EAAA0C,EAAA1C,EAAA4C,IAAA5C,EAAA6P,QAAwEzN,cAAc,IAAAlB,EAAA,EAAQ,QAAAe,EAAA,EAAYA,EAAAK,KAAA2S,QAAAxR,OAAsBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAA2S,QAAAhT,GAAwB,IAAAf,GAAAlB,EAAAyP,UAAAzP,EAAA6P,KAAAvN,MAAAtC,EAAAyP,UAAAvO,KAAiDkB,cAAc,QAAAE,KAAA2iB,cAA2B7iB,eAAAlB,EAAAe,GAAoBK,KAAA2iB,cAAA/jB,EAAAoB,KAAA4iB,eAAAjjB,EAAAK,KAAA6P,SAAA7P,KAAA6gB,OAAAzgB,EAAAJ,KAAA6P,OAAAzP,EAAAJ,KAAA6gB,OAAAvgB,EAAAN,KAAA6P,OAAAvP,GAAkHR,eAAe,GAAAE,KAAA6P,QAAA7P,KAAA2iB,cAAA,CAAoC,MAAA/jB,EAAAoB,KAAA2iB,cAAAlP,WAAsC,IAAA9T,EAAA,KAAWf,IAAAa,EAAAwR,WAAAF,OAAApR,EAAAK,KAAA6iB,WAAA7iB,KAAA6gB,OAAAzgB,EAAAJ,KAAA6gB,OAAAvgB,GAAA1B,IAAAa,EAAAwR,WAAAD,MAAAhR,KAAAuiB,UAAA5iB,EAAAK,KAAAuiB,QAAAO,QAAA9iB,KAAA6gB,OAAAzgB,EAAAJ,KAAA6gB,OAAAvgB,IAAAX,GAAAK,KAAA2iB,cAAAjP,KAAA1T,KAAA6P,OAAAlQ,IAAAK,KAAA4iB,gBAAA5iB,KAAA4iB,iBAAwP5iB,KAAA+iB,kBAAuBjjB,kBAAkBE,KAAA2iB,mBAAA,EAAA3iB,KAAA4iB,oBAAA,EAAqD9iB,oBAAoB,IAAAE,KAAA6P,QAAA7P,KAAA6S,QAAA,OAAqC,GAAA7S,KAAA6P,OAAAoK,GAAA,OAAAja,KAAA6P,OAAAoK,GAAAmI,YAAApiB,KAAA6P,OAAAuC,GAAA,GAAsE,MAAAxT,EAAAoB,KAAAwN,IAAAE,MAAuB,IAAA9O,EAAAyR,MAAA,IAAAzR,EAAAkV,IAAA,IAAAlV,EAAAmV,MAAA/T,KAAA6gB,OAAAzgB,GAAAJ,KAAA4R,SAAAxR,EAAAxB,EAAAwB,GAAAJ,KAAAuR,SAAAtR,MAAA,EAAAD,KAAA6gB,OAAAvgB,GAAAN,KAAA4R,SAAAtR,EAAA1B,EAAA0B,GAAAN,KAAAuR,SAAArR,OAAA,GAAAF,KAAAwN,IAAAwV,UAAApU,EAAAnD,KAAAnJ,UAAA,OAAAtC,KAAAyN,aAAArN,KAAAJ,KAAA2gB,cAAArgB,GAAA,EAAAN,KAAAuR,SAAArR,QAAAF,KAAAyN,aAAA3P,KAAAkC,KAAA2gB,cAAAvgB,GAAA,EAAAJ,KAAAuR,SAAAtR,OAAAD,KAAAyN,aAAA+S,KAAAxgB,KAAA2gB,cAAAvgB,GAAA,EAAAJ,KAAAuR,SAAAtR,YAAAD,KAAAyN,aAAA8S,KAAAvgB,KAAA2gB,cAAArgB,GAAA,EAAAN,KAAAuR,SAAArR,SAA2d,GAAAF,KAAAwiB,cAAA,OAAAxiB,KAAAwN,IAAAC,aAAAmB,EAAAnD,KAAApJ,WAAArC,KAAAwN,IAAAE,MAAAC,cAAA3N,KAAAijB,eAAAjjB,KAAAwN,IAAAC,aAAAmB,EAAAnD,KAAA9I,YAAA3C,KAAA+iB,kBAAA/iB,KAAAyN,aAAArN,IAAAJ,KAAA6gB,OAAAvgB,IAAAN,KAAAyN,aAAA3P,IAAAkC,KAAA6gB,OAAAzgB,IAAAJ,KAAAyN,aAAA+S,IAAAxgB,KAAA6gB,OAAAzgB,SAAAJ,KAAAyN,aAAA8S,IAAAvgB,KAAA6gB,OAAAvgB,KAAoV,GAAA1B,EAAA+O,YAAA,CAAkB,MAAAhO,GAAAK,KAAA4R,SAAAxR,EAAAxB,EAAAwB,GAAAJ,KAAAuR,SAAAtR,MAAA,EAAAvC,GAAAsC,KAAA4R,SAAAtR,EAAA1B,EAAA0B,GAAAN,KAAAuR,SAAArR,OAAA,EAAmG,GAAAF,KAAAuiB,QAAA,CAAiB,MAAA3jB,EAAAoB,KAAAuiB,QAAAO,QAAAnjB,EAAAjC,GAAkCkB,OAAAoB,KAAAkjB,aAAAljB,KAAAkjB,WAAAtkB,EAAAoB,KAAAmjB,KAAAplB,EAAAua,YAAAtY,KAAAuiB,QAAAviB,KAAA6P,OAAA7P,KAAAkjB,WAAA,KAAAljB,KAAAghB,UAAA,IAAoI,IAAArhB,EAAA,KAAW,GAAAK,KAAAmjB,KAAA,CAAc,IAAAxjB,EAAAK,KAAAmjB,KAAAnjB,KAAAghB,WAAgCrhB,KAAAS,IAAAJ,KAAA6P,OAAAzP,GAAAT,EAAAW,IAAAN,KAAA6P,OAAAvP,GAA4CN,KAAAghB,YAAArhB,EAAAK,KAAAghB,UAAAhhB,KAAAmjB,KAAAhiB,OAAAnB,KAAAmjB,KAAAnjB,KAAAghB,WAAA,KAAmFrhB,GAAAK,KAAAojB,eAAuB,MAAA1lB,EAAAsC,KAAAyN,aAAA8S,IAAA5gB,KAAAW,EAAAN,KAAA6P,OAAAvP,EAAAb,EAAAO,KAAAyN,aAAA3P,IAAA6B,KAAAS,EAAAJ,KAAA6P,OAAAzP,EAAA5B,EAAAwB,KAAAyN,aAAA+S,IAAA7gB,KAAAS,EAAAJ,KAAA6P,OAAAzP,EAAAjB,EAAAa,KAAAyN,aAAArN,IAAAT,KAAAW,EAAAN,KAAA6P,OAAAvP,EAAAnC,EAAA6B,KAAAyN,aAAAgT,GAAiNthB,GAAAa,KAAAqjB,gBAAA,MAAA5jB,GAAAO,KAAAqjB,iBAAA,KAAA7kB,GAAAwB,KAAAqjB,gBAAA,KAAA3lB,GAAAsC,KAAAqjB,gBAAA,KAAAllB,IAAA6B,KAAA6P,OAAAuC,GAAA,GAA4ItS,aAAAlB,GAAgB,QAAAe,EAAA,EAAYA,EAAAf,EAAAuC,OAAWxB,IAAA,GAAAK,KAAAwN,IAAAC,aAAA7O,EAAAe,IAAA,SAA4C,SAASG,gBAAAlB,EAAAe,GAAqB,MAAAjC,EAAAsC,KAAA6P,OAAoB,IAAAnS,EAAA,OAAa,MAAA+B,EAAA/B,EAAA0C,EAAAxB,EAAAJ,EAAAd,EAAA4C,EAAAX,EAAsB,QAAAf,EAAA,EAAYA,EAAAoB,KAAAsT,SAAAnS,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAsT,SAAA1U,GAAyB,GAAAlB,IAAAiC,KAAAS,IAAAX,GAAAE,EAAAW,IAAA9B,EAAA,OAAAd,EAAA4lB,QAAA5lB,EAAA4lB,OAAA3jB,GAAAK,KAAAojB,gBAAA,EAA+E,OAAA1lB,EAAAoV,KAAAlU,EAAAe,GAAmBG,2BAA2B,MAAAlB,EAAAoB,KAAA6P,OAAoB,IAAAjR,EAAA,OAAa,IAAAe,EAAAf,EAAA0S,OAAA5T,EAAAkB,EAAA4S,OAAA/R,EAAAE,EAAAf,EAAAmP,OAAA9N,MAAAd,EAAAzB,EAAAkB,EAAAmP,OAAA7N,OAAiE,GAAAF,KAAAmjB,KAAA,QAAAvkB,EAAAoB,KAAAghB,UAAsCpiB,EAAAoB,KAAAmjB,KAAAhiB,OAAmBvC,IAAA,CAAK,MAAAJ,EAAAwB,KAAAmjB,KAAAvkB,GAAqBe,EAAA6O,KAAA2E,IAAAxT,EAAAnB,EAAA4B,EAAAJ,KAAAuR,SAAAtR,OAAAvC,EAAA8Q,KAAA2E,IAAAzV,EAAAc,EAAA8B,EAAAN,KAAAuR,SAAArR,QAAAT,EAAA+O,KAAA0N,IAAAzc,GAAAjB,EAAA4B,EAAA,GAAAJ,KAAAuR,SAAAtR,OAAAd,EAAAqP,KAAA0N,IAAA/c,GAAAX,EAAA8B,EAAA,GAAAN,KAAAuR,SAAArR,aAAkK,QAAAtB,EAAA,EAAiBA,EAAAoB,KAAAsT,SAAAnS,OAAuBvC,IAAA,CAAK,MAAAT,EAAA6B,KAAAsT,SAAA1U,GAAyBT,aAAAK,EAAAyT,OAAAjS,KAAAuiB,SAAAviB,KAAAuiB,QAAAG,UAAAvkB,EAAAiC,EAAAjC,EAAAmC,KAAAX,EAAA6O,KAAA2E,IAAAxT,EAAAxB,EAAAmT,QAAA5T,EAAA8Q,KAAA2E,IAAAzV,EAAAS,EAAAqT,QAAA/R,EAAA+O,KAAA0N,IAAAzc,EAAAtB,EAAAmT,OAAAnT,EAAA4P,OAAA9N,OAAAd,EAAAqP,KAAA0N,IAAA/c,EAAAhB,EAAAqT,OAAArT,EAAA4P,OAAA7N,SAAkMF,KAAA2gB,cAAAvgB,EAAAoO,KAAAC,OAAA9O,EAAAF,GAAA,GAAAO,KAAA2gB,cAAArgB,EAAAkO,KAAAC,OAAA/Q,EAAAyB,GAAA,GAAkFW,KAAAlB,GAAQA,EAAAqb,MAAAja,KAAAuiB,SAAAviB,KAAAuiB,QAAAG,UAAA9jB,EAAAwB,EAAAxB,EAAA0B,IAAA1B,EAAA4T,eAAA,IAAA5T,EAAAqb,GAAAmI,OAAAxjB,EAAAwT,GAAA,EAA+FtS,WAAW,MAAAlB,EAAAoB,KAAAsT,SAAAtT,KAAA4gB,WAAsChiB,EAAA2kB,UAAAvjB,KAAA6P,QAAA7P,KAAA6P,SAAAjR,IAAAoB,KAAAwjB,eAAAxjB,KAAAyjB,4BAAAzjB,KAAA4gB,YAAA5gB,KAAA4gB,WAAA5gB,KAAAsT,SAAAnS,SAAAnB,KAAA4gB,UAAA,GAAA5gB,KAAAsT,SAAAtT,KAAA4gB,WAAA8C,YAAoN5jB,eAAeE,KAAAmjB,UAAA,EAAAnjB,KAAAkjB,gBAAA,EAAwCpjB,UAAAlB,EAAAe,GAAe,GAAAK,KAAAuiB,SAAAviB,KAAAuiB,QAAA7P,UAAA9T,EAAAe,GAAA,SAAsD,QAAAjC,EAAA,EAAYA,EAAAsC,KAAAsT,SAAAnS,OAAuBzD,IAAA,CAAK,MAAA+B,EAAAO,KAAAsT,SAAA5V,GAAyB,GAAA+B,EAAA2R,QAAA3R,EAAAW,IAAAxB,GAAAa,EAAAa,IAAAX,EAAA,SAAuC,SAASG,YAAAlB,EAAAe,GAAiB,QAAAjC,EAAA,EAAYA,EAAAsC,KAAAsT,SAAAnS,OAAuBzD,IAAA,CAAK,MAAA+B,EAAAO,KAAAsT,SAAA5V,GAAyB,GAAA+B,EAAAW,IAAAxB,GAAAa,EAAAa,IAAAX,EAAA,OAAAF,GAA8BK,WAAAlB,EAAAe,GAAgB,QAAAjC,EAAA,EAAYA,EAAAsC,KAAAsT,SAAAnS,OAAuBzD,IAAA,CAAK,MAAA+B,EAAAO,KAAAsT,SAAA5V,GAAyB,GAAA+B,aAAAjB,EAAAyT,OAAAxS,EAAAW,IAAAxB,GAAAa,EAAAa,IAAAX,EAAA,OAAAF,GAAoDK,eAAe,GAAAE,KAAA6P,QAAA7P,KAAAuiB,QAAA,CAA8BviB,KAAAuiB,QAAAoB,WAAA3jB,KAAA6P,OAAAzP,EAAAJ,KAAA6P,OAAAvP,EAAAN,KAAAihB,cAAuE,QAAAriB,EAAA,EAAYA,EAAAoB,KAAAsT,SAAAnS,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAsT,SAAA1U,GAAyBe,IAAAK,KAAA6P,QAAAlQ,aAAAnB,EAAAyT,QAAAjS,KAAAuiB,QAAAG,UAAA/iB,EAAAS,EAAAT,EAAAW,IAAAX,EAAA8S,OAAA9S,EAAA8S,MAAA,EAAAzS,KAAA6P,OAAAuD,gBAAA,IAAAjV,EAAA6O,OAAApB,OAAA5L,KAAAojB,eAAApjB,KAAA2gB,cAAAvgB,GAAAJ,KAAA6P,OAAA4B,aAAA9R,EAAA8R,cAAA,IAAAzR,KAAA2gB,cAAArgB,GAAAN,KAAA6P,OAAA6B,aAAA/R,EAAA+R,cAAA,KAAA/R,EAAA6S,kBAAA7S,EAAA6S,gBAAA,QAAoV,SAAA5T,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAkCiC,EAAAohB,cAAA,cAAAviB,EAAA4O,OAAuCtN,cAAcC,MAAA,IAAAN,EAAAkB,KAAA,IAAvF,IAAuF,KAAAX,KAAAsQ,SAAA,GAAAtQ,KAAAkB,SAAA,EAA6DpB,OAAAlB,EAAAe,GAAY,IAAAK,KAAAa,IAAA,OAAoB,MAAAnD,EAAAsC,KAAAa,IAAA2M,IAAA/N,EAAA/B,EAAA+c,KAAAjc,EAAAiB,EAAAsf,YAApL,EAAoO/e,KAAAc,KAAAb,MAAA,GAAAD,KAAAc,KAAAZ,OAAA,GAAAF,KAAAsQ,SAAAnP,OAAA3C,EAAgE,QAAAI,EAAA,EAAYA,EAAAoB,KAAAsQ,SAAAnP,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAsQ,SAAA1R,GAAAlB,EAAA,GAAA+B,EAAAof,eAAAlf,EAAA2Z,MAAwDtZ,KAAAc,KAAAb,MAAAuO,KAAA0N,IAAAlc,KAAAc,KAAAb,MAAAvC,GAA4CkB,EAAAoB,KAAAc,KAAAb,OAAAvC,EAAAgY,KAAAzV,MAAAD,KAAAc,KAAAV,EAAAxB,EAAAoB,KAAAc,KAAAb,MAAA,EAAAD,KAAAc,KAAAV,EAAAxB,EAAA,EAAAe,EAAAK,KAAAc,KAAAZ,OAAA,EAAAF,KAAAc,KAAAR,EAAAX,EAAA,EAAAK,KAAAc,KAAAR,EAAAX,EAAAK,KAAAc,KAAAZ,OAAA,EAAAF,KAAAc,KAAAV,EAAA,IAAAJ,KAAAc,KAAAV,EAAA,GAAAJ,KAAAc,KAAAR,EAAA,IAAAN,KAAAc,KAAAR,EAAA,GAAAN,KAAAkB,SAAA,EAAoOpB,eAAe,IAAAE,KAAAa,IAAA,OAAoBd,MAAA6B,eAAqB,MAAAhD,EAAAoB,KAAAa,IAAA2M,IAAAiN,KAAAsE,YAA5sB,EAA4sBpf,EAAAK,KAAAc,KAAAV,EAA5sB,EAAowB,IAAA1C,EAAAsC,KAAAc,KAAAR,EAApwB,EAAwxB,QAAAb,EAAA,EAAYA,EAAAO,KAAAsQ,SAAAnP,OAAuB1B,IAAA,CAAK,MAAAjB,EAAAwB,KAAAsQ,SAAA7Q,GAAyBO,KAAAa,IAAA2M,IAAAwP,WAAAxe,EAAA8a,KAAA3Z,EAAAjC,EAAAc,EAAA0V,OAAAxW,GAAAkB,GAAkDkB,cAAc,QAAAE,KAAAa,MAAAb,KAAAa,IAAA2M,IAAAE,MAAAC,cAAA3N,KAAAkB,SAAA,UAA2E,SAAAtC,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAuCiC,EAAAikB,oBAAA,cAAAzlB,EAAAiP,OAA6CtN,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAA6jB,QAAAlkB,EAAAK,KAAA8jB,cAAA,EAAA9jB,KAAAsN,SAAA,IAAAnO,EAAA4kB,4BAA6FjkB,eAAe,IAAAE,KAAAa,IAAA,OAAoBd,MAAA6B,eAAqB,MAAAhD,EAAAoB,KAAAc,KAAAnB,EAAA,IAAAnB,EAAAqB,KAAAjB,EAAAwB,EAA1P,EAA0PxB,EAAA0B,EAA1P,GAAsS,QAAA1B,EAAA,EAAYA,EAAAoB,KAAA6jB,QAAA1iB,OAAsBvC,IAAA,CAAK,MAAAlB,EAAAsC,KAAA6jB,QAAAjlB,GAAAa,EAAAb,IAAAoB,KAAA8jB,cAAiD9jB,KAAAsN,SAAA0W,WAAAhkB,KAAAa,IAAAlB,EAAAjC,EAAA+B,GAAAE,EAAAW,GAAAN,KAAAsN,SAAAyR,UAAArhB,EAAA+B,IAA4EK,cAAc,IAAAE,KAAAa,IAAA,SAAsB,MAAAjC,EAAAoB,KAAAa,IAAA2M,IAAqB,QAAA7N,EAAA,EAAYA,EAAAK,KAAA6jB,QAAA1iB,OAAsBxB,IAAAf,EAAA6O,aAAAhO,EAAAgM,KAAAhH,KAAA9E,KAAAK,KAAA8jB,cAAAnkB,EAAAK,KAAAikB,UAAAjkB,KAAAikB,SAAAjkB,KAAA6jB,QAAAlkB,KAAwGf,EAAA6O,aAAAhO,EAAAgM,KAAApJ,WAAArC,KAAAikB,UAAAjkB,KAAAikB,SAAAjkB,KAAA6jB,QAAA7jB,KAAA8jB,gBAAAllB,EAAA6O,aAAAhO,EAAAgM,KAAA9I,YAAA3C,KAAAkkB,UAAAlkB,KAAAkkB,WAAAtlB,EAAA6O,aAAAhO,EAAAgM,KAAAvI,QAAAlD,KAAA8jB,gBAAAllB,EAAA6O,aAAAhO,EAAAgM,KAAArI,UAAApD,KAAA8jB,gBAAA9jB,KAAA8jB,cAAA,IAAA9jB,KAAA8jB,eAAA9jB,KAAA6jB,QAAA1iB,QAAAnB,KAAA8jB,eAAA9jB,KAAA6jB,QAAA1iB,SAAAnB,KAAA8jB,eAAA9jB,KAAA6jB,QAAA1iB,QAA4Z,MAAAxB,EAAAf,EAAA8O,MAAAhQ,EAAAsC,KAAAc,KAA4B,IAAAtC,EAAAd,EAAA4C,EAArkC,EAAilC,OAAAX,EAAAqS,SAAArS,EAAAS,GAAA1C,EAAAyC,IAAAR,EAAAS,EAAA1C,EAAA6C,GAAA,QAAA3B,EAAA,EAAkDA,EAAAoB,KAAA6jB,QAAA1iB,OAAsBvC,IAAA,CAAK,MAAAlB,EAAAsC,KAAA6jB,QAAAjlB,GAAAa,EAAAb,IAAAoB,KAAA8jB,cAAA3kB,EAAAa,KAAAsN,SAAAyR,UAAArhB,EAAA+B,GAAAtB,EAAAK,EAAAmQ,EAAAnQ,EAAAW,EAA0FQ,EAAAW,GAAAnC,GAAAwB,EAAAW,EAAAqO,IAAAlP,EAAAO,KAAAikB,UAAAjkB,KAAAikB,SAAAvmB,GAAAsC,KAAA8jB,cAAAllB,GAAAJ,GAAAW,EAA6E,YAAW,SAAAP,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAokB,4BAAA,MAAoCjkB,UAAAlB,EAAAe,GAAe,UAAUG,WAAAlB,EAAAe,EAAAjC,EAAAc,GAAoB,MAAAW,EAAAX,EAAAiB,EAAAuN,OAAAhB,OAAAvM,EAAAuN,OAAApB,MAAyChN,EAAA4O,IAAAwP,WAAAtf,EAAAO,KAAA0B,EAAAS,EAAAT,EAAAW,EAAAnB,MAAqC,SAAAP,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,GAAAS,EAAAT,EAAA,IAAAiR,EAAAjR,EAAA,IAAmDiC,EAAAwkB,oBAAA,cAAAhlB,EAAAiO,OAA6CtN,YAAAlB,EAAAe,EAAAjC,EAAAyB,GAAqBY,MAAAnB,GAAAoB,KAAAsQ,SAAA3Q,EAAAK,KAAAokB,SAAA1mB,EAAAsC,KAAAqkB,MAAAllB,EAAAa,KAAAiB,OAAA,EAAA9B,EAAAmlB,YAAA,CAAmFlV,MAAA,CAAAxQ,EAAAe,IAAAK,KAAAukB,QAAA5kB,GAAA2P,SAAA,CAAA1Q,EAAAe,IAAAK,KAAAwkB,WAAA7kB,KAAkE,QAAAf,EAAA,EAAYA,EAAAlB,EAAIkB,IAAAoB,KAAAsB,IAAA,IAAAqN,EAAA8V,wBAAA,IAAAjmB,EAAAmC,KAAA,WAAAxB,EAAAM,EAAAgM,KAAAhH,KAAA7F,IAAmFkB,QAAAlB,GAAW,MAAAe,EAAAK,KAAA0kB,kBAAA9lB,GAAkC,GAAAe,EAAA,YAAAA,EAAAkR,WAAAvP,IAAA1C,GAAqC,MAAAlB,EAAAsC,KAAA2kB,kBAA+BjnB,KAAA4D,IAAA,IAAAnD,EAAAyS,WAAAlT,EAAAoD,KAAA0Y,QAAAxZ,KAAAqkB,MAAAzlB,IAAwDkB,WAAAlB,GAAc,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAAAF,EAAA/B,EAAA8S,OAAwC/Q,gBAAAtB,EAAAyS,YAAAnR,EAAAoR,WAAAnP,SAAA9C,KAAAa,EAAAoR,WAAAtP,OAAA3C,GAAA,IAAAa,EAAAoR,WAAA1P,QAAAzD,EAAA6D,OAAA9B,KAAuHK,kBAAAlB,GAAqB,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAAA6Q,OAAoC,GAAA9S,gBAAAS,EAAAyS,YAAAlT,EAAAmT,WAAAtS,IAAA,GAAAN,OAAAW,EAAAX,KAAA,OAAAP,GAA6EoC,kBAAkB,QAAAlB,EAAA,EAAYA,EAAAoB,KAAAe,SAAAI,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6B,IAAAe,EAAA6Q,OAAA,OAAA7Q,GAAuBG,eAAe,GAAAC,MAAA6B,gBAAA5B,KAAAa,MAAAb,KAAAa,IAAAyM,SAAAmD,eAAA,OAA4E,MAAA7R,EAAAoB,KAAAc,KAAAnB,EAAAK,KAAAa,IAAAyM,SAAAmD,eAAqD,IAAA/S,EAAAkB,EAAAwB,EAAvpC,EAAupCX,EAAAb,EAAA0B,EAAvpC,EAA2qC,QAAA1B,EAAA,EAAYA,EAAAoB,KAAAsQ,SAAAnP,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAsQ,SAAA1R,GAAyBoB,KAAAa,IAAA2M,IAAAwP,WAAArd,EAAA2Z,KAAA5b,EAAA+B,EAAAE,EAAAuU,OAAAzU,GAAA,GAAkD,QAAAjB,EAAA,EAAYA,EAAAwB,KAAAokB,SAAgB5lB,IAAA,CAAK,MAAAW,EAAAa,KAAAe,SAAAxC,IAAAC,GAA6BW,EAAA2B,KAAAV,EAAA1C,EAAAyB,EAAA2B,KAAAR,EAAAb,EAAAN,EAAA2B,KAAAb,MAAAN,EAAAM,MAAAd,EAAA2B,KAAAZ,OAAAP,EAAAO,QAAAxC,GAAAiC,EAAAM,MAA51C,GAA41CrB,EAAA2B,GAAAZ,EAAAM,MAA51C,IAA41CvC,EAAAkB,EAAAwB,EAA51C,EAA41CX,GAAAE,EAAAO,OAA51C,GAAq9CF,KAAAc,KAAAZ,OAAAT,EAAr9C,EAAq9Cb,EAAA0B,EAAAN,KAAA2B,kBAA+C,SAAA/C,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,IAAsBiC,EAAA8kB,wBAAA,cAAAhlB,EAAA8Q,WAAqDzQ,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,EAAAlB,GAAAsC,KAAAqkB,MAAA1kB,EAAwBG,OAAAlB,GAAU,OAAAA,aAAAJ,EAAAoS,cAAmC,SAAAhS,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAilB,WAAA,cAAAnlB,EAAAmB,MAAmCd,YAAAlB,EAAAe,GAAiBI,MAAAJ,GAAAK,KAAA6kB,QAAAjmB,EAAwBkB,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAA6kB,QAAAllB,EAAAK,KAAAc,KAAiCd,KAAAa,IAAA2M,IAAAqB,UAAAlP,EAAAS,EAAAT,EAAAW,EAAA1B,EAAAwB,EAAAxB,EAAA0B,EAAAX,EAAAM,MAAAN,EAAAO,WAA2D,SAAAtB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,IAAAyB,EAAAzB,EAAA,GAA4BiC,EAAAmlB,WAAA,cAAA3lB,EAAAyB,MAAmCd,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAAsQ,SAAA,GAAAtQ,KAAA+kB,SAAAplB,GAAA,EAA6CG,IAAAlB,EAAAe,GAASf,aAAAO,EAAAyB,QAAAZ,KAAAsQ,SAAApB,KAAA,IAAA1Q,EAAA6a,QAAAza,EAAAe,GAAAF,EAAAuN,OAAApB,QAAA5L,KAAAsQ,SAAAnP,OAAAnB,KAAA+kB,UAAA/kB,KAAAsQ,SAAArB,OAAA,EAAAjP,KAAAsQ,SAAAnP,OAAAnB,KAAA+kB,WAA8KjlB,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAAc,KAAAV,EAAoB,IAAAT,EAAAK,KAAAc,KAAAR,EAAkBX,EAAA,IAAAA,EAAAK,KAAAa,IAAA2M,IAAAkI,KAAAxV,OAAAP,EAAAK,KAAAc,KAAAZ,OAAA,GAAAF,KAAAsQ,SAAAnP,QAA6E,QAAAzD,EAAA,EAAYA,EAAAsC,KAAAsQ,SAAAnP,OAAuBzD,IAAA,CAAK,MAAA+B,EAAAO,KAAAsQ,SAAA5S,GAAyBsC,KAAAa,IAAA2M,IAAAwP,WAAAvd,EAAA6Z,KAAA1a,EAAAe,EAAAF,EAAAyU,OAAAvU,GAAA,IAAmDG,cAAc,YAAW,SAAAlB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAaiC,EAAAqlB,aAAA,cAAAvlB,EAAAmB,MAAqCd,YAAAlB,EAAAe,GAAiBI,MAAAnB,GAAAoB,KAAAilB,QAAAtlB,EAAwBG,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAAilB,QAAAtlB,EAAAK,KAAAc,KAAiCd,KAAAa,IAAA2M,IAAAwP,WAAApe,EAAA0a,KAAA3Z,EAAAS,EAAAT,EAAAW,EAAA1B,EAAAsV,UAAkD,SAAAtV,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAA6BiC,EAAAulB,aAAA,cAAA1mB,EAAA4O,OAAsCtN,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,GAAAoB,KAAA6jB,QAAAlkB,EAAAK,KAAAmlB,SAAAznB,EAAwCoC,eAAe,IAAAE,KAAAa,IAAA,OAAoBd,MAAA6B,eAAqB,MAAAhD,EAAAoB,KAAAc,KAAkB,QAAAnB,EAAA,EAAYA,EAAAK,KAAA6jB,QAAA1iB,OAAsBxB,IAAA,CAAK,MAAAjC,EAAAgT,OAAAC,aAAA,GAAAhR,GAAA,MAAAK,KAAA6jB,QAAAlkB,GAAA1B,KAA6D+B,KAAAa,IAAA2M,IAAAwP,WAAAtf,EAAAkB,EAAAwB,EAA5S,EAA4SxB,EAAA0B,EAA5S,KAA4SX,IAA4CG,cAAc,IAAAE,KAAAa,IAAA,SAAsB,QAAAjC,EAAA,EAAYA,EAAAoB,KAAA6jB,QAAA1iB,OAAsBvC,IAAA,GAAAoB,KAAAa,IAAA2M,IAAAC,aAAAhO,EAAAgM,KAAAhH,KAAA7F,GAAA,OAAAoB,KAAAmlB,SAAAnlB,KAAA6jB,QAAAjlB,IAAAoB,KAAAolB,SAAA,EAAsG,GAAAplB,KAAAa,IAAA2M,IAAAC,aAAAhO,EAAAgM,KAAA9I,WAAA,OAAA3C,KAAAolB,SAAA,EAAsE,MAAAxmB,EAAAoB,KAAAa,IAAA2M,IAAAE,MAAA/N,EAAAK,KAAAc,KAAuC,GAAAlC,EAAA+O,aAAA/O,EAAAwB,GAAAT,EAAAQ,IAAAvB,EAAAwB,EAAAT,EAAAY,GAAA,CAAuC,GAAAP,KAAAqN,aAAAzO,EAAAwB,GAAAT,EAAAY,GAAA,IAAA3B,EAAA0B,EAAAX,EAAAW,EAAA,UAAAN,KAAAolB,SAAA,EAAqE,QAAA1nB,EAAA,EAAYA,EAAAsC,KAAA6jB,QAAA1iB,OAAsBzD,IAAA,CAAK,MAAA+B,EAAAE,EAAAW,EAApwB,KAAowB5C,EAAAc,EAAAiB,EAApwB,GAA4xBb,EAAA0B,GAAAb,GAAAb,EAAA0B,EAAA9B,IAAAwB,KAAAmlB,SAAAnlB,KAAA6jB,QAAAnmB,IAAAsC,KAAAolB,UAA8D,YAAW,SAAAxmB,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAAiR,EAAAjR,EAAA,IAAAkR,EAAAlR,EAAA,GAAsDiC,EAAA0lB,YAAA,cAAAlnB,EAAAyC,MAAoCd,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,GAAAoB,KAAAslB,aAAA,IAAA5nB,IAA7G,EAAkJ,QAAAkB,EAAA,EAAYA,EAAAe,EAAIf,IAAA,CAAK,MAAAe,EAAA,IAAAgP,EAAA4K,mBAAA,IAAA/a,EAAAmC,KAAA,WAAAlB,EAAAgM,KAAAhI,KAAA7E,GAAsEoB,KAAAsB,IAAA3B,IAAaG,UAAAlB,EAAAe,GAAe,GAAAK,KAAAulB,eAAA3mB,GAAA,OAAiC,MAAAlB,EAAAsC,KAAAwlB,cAAA7lB,GAA8BjC,KAAA4D,IAAA,IAAAsN,EAAAhB,aAAAlQ,EAAAoD,KAAA0Y,QAAA5a,GAAA,IAAkDkB,eAAAlB,GAAkB,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAA6B,GAAAjC,EAAA8S,QAAA9S,EAAA8S,kBAAA5B,EAAAhB,cAAAlQ,EAAA8S,OAAAxC,SAAApP,EAAA,SAA8E,SAASkB,QAAAlB,EAAAe,EAAAjC,GAAe,GAAAsC,KAAAylB,aAAA9lB,GAAA,OAA+B,MAAAF,EAAAO,KAAAwlB,cAAA9nB,GAA8B+B,KAAA6B,IAAA,IAAAnC,EAAAsQ,mBAAAhQ,EAAAqB,KAAA0Y,QAAA5a,EAAAe,IAAuDG,aAAAlB,GAAgB,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAA6B,GAAAjC,EAAA8S,QAAA9S,EAAA8S,kBAAArR,EAAAsQ,oBAAA/R,EAAA8S,OAAAb,aAAA1R,OAAAW,EAAAX,KAAA,SAAoG,SAAS6B,eAAe,IAAAE,KAAAa,IAAA,OAAoB,MAAAjC,EAAAoB,KAAAa,IAAAyM,SAAAmD,eAAyC,GAAA7R,EAAA,CAAM,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAA6BjC,EAAAoD,KAAAV,EAAAJ,KAAAc,KAAAV,EAAAT,GAAAf,EAAAqB,MAApgC,GAAogCvC,EAAAoD,KAAAR,EAAAN,KAAAc,KAAAR,EAAA5C,EAAAoD,KAAAb,MAAArB,EAAAqB,MAAAvC,EAAAoD,KAAAZ,OAAAtB,EAAAsB,OAAoGF,KAAA2B,gBAAqB7B,YAAAlB,GAAe,GAAAA,EAAA,QAAAA,EAAAoB,KAAAe,SAAAI,OAAA,EAAsCvC,GAAA,EAAKA,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6B,IAAAe,EAAA6Q,OAAA,OAAA7Q,OAAsB,QAAAf,EAAA,EAAiBA,EAAAoB,KAAAe,SAAAI,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6B,IAAAe,EAAA6Q,OAAA,OAAA7Q,MAAyB,SAAAf,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,GAAAc,EAAAd,EAAA,GAAAyB,EAAAzB,EAAA,IAAAS,EAAAT,EAAA,GAAAiR,EAAAjR,EAAA,GAAkDiC,EAAA+lB,cAAA,cAAAvnB,EAAAiP,OAAuCtN,YAAAlB,EAAAe,EAAAjC,EAAAS,GAAqB4B,MAAAnB,GAAAoB,KAAAsQ,SAAA3Q,EAAAK,KAAAokB,SAAA1mB,EAAAsC,KAAAuS,QAAApU,EAAA6B,KAAAiB,OAAA,EAAA9C,EAAAmmB,YAAA,CAAqFlV,MAAA,CAAAxQ,EAAAe,IAAAK,KAAAukB,QAAA5kB,GAAA2P,SAAA,CAAA1Q,EAAAe,IAAAK,KAAAwkB,WAAA7kB,KAAkE,QAAAf,EAAA,EAAYA,EAAAlB,EAAIkB,IAAAoB,KAAAsB,IAAA,IAAAnC,EAAAoR,WAAA,IAAA/R,EAAAmC,KAAA,WAAAlB,EAAAgM,KAAAhH,KAAA7F,IAAoEkB,QAAAlB,GAAW,MAAAe,EAAAK,KAAA2kB,kBAA+BhlB,KAAA2B,IAAA,IAAAqN,EAAAf,aAAAjO,EAAAmB,KAAA0Y,QAAA5a,IAA+CkB,WAAAlB,GAAc,QAAAe,EAAA,EAAYA,EAAAK,KAAAe,SAAAI,OAAuBxB,IAAA,CAAK,MAAAjC,EAAAsC,KAAAe,SAAAxC,IAAAoB,GAAAF,EAAA/B,EAAA8S,OAAwC/Q,gBAAAkP,EAAAf,cAAAnO,EAAAuO,SAAApP,GAAAlB,EAAA6D,OAAA9B,IAA2DK,kBAAkB,QAAAlB,EAAA,EAAYA,EAAAoB,KAAAe,SAAAI,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAe,SAAAxC,IAAAK,GAA6B,IAAAe,EAAA6Q,OAAA,OAAA7Q,GAAuBG,eAAe,GAAAC,MAAA6B,gBAAA5B,KAAAa,MAAAb,KAAAa,IAAAyM,SAAAmD,eAAA,OAA4E,MAAA7R,EAAAoB,KAAAc,KAAAnB,EAAAK,KAAAa,IAAAyM,SAAAmD,eAAqD,IAAA/S,EAAAkB,EAAAwB,EAAz0B,EAAy0BX,EAAAb,EAAA0B,EAAz0B,EAA61B,QAAA1B,EAAA,EAAYA,EAAAoB,KAAAsQ,SAAAnP,OAAuBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAsQ,SAAA1R,GAAyBoB,KAAAa,IAAA2M,IAAAwP,WAAArd,EAAA2Z,KAAA5b,EAAA+B,EAAAE,EAAAuU,OAAAzU,GAAA,GAAkD,QAAAjB,EAAA,EAAYA,EAAAwB,KAAAokB,SAAgB5lB,IAAA,CAAK,MAAAW,EAAAa,KAAAe,SAAAxC,IAAAC,GAA6BW,EAAA2B,KAAAV,EAAA1C,EAAAyB,EAAA2B,KAAAR,EAAAb,EAAAN,EAAA2B,KAAAb,MAAAN,EAAAM,MAAAd,EAAA2B,KAAAZ,OAAAP,EAAAO,QAAAxC,GAAAiC,EAAAM,MAA9gC,GAA8gCrB,EAAA2B,GAAAZ,EAAAM,MAA9gC,IAA8gCvC,EAAAkB,EAAAwB,EAA9gC,EAA8gCX,GAAAE,EAAAO,OAA9gC,GAAuoCF,KAAAc,KAAAZ,OAAAT,EAAvoC,EAAuoCb,EAAA0B,EAAAN,KAAA2B,kBAA+C,SAAA/C,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAciC,EAAAgmB,KAAA,cAAAlmB,EAAAyR,OAA8BpR,SAAAlB,IAAakB,MAAAlB,GAAS,YAAW,SAAAA,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAWgB,EAAAimB,OAAA,MAAe9lB,YAAAlB,EAAAe,EAAAjC,GAAmBsC,KAAAqO,MAAAzP,EAAAoB,KAAA8N,QAAAnO,EAAAK,KAAA6lB,KAAAnoB,GAAA,EAAAsC,KAAAoO,SAAA,EAA2DtO,IAAAlB,GAAO,QAAAoB,KAAAoO,SAAA,IAAApO,KAAAqO,MAAAqF,KAAA1T,KAAA8N,QAAAlP,EAAA,KAA8DoB,KAAAoO,SAAApO,KAAA8N,QAAAM,WAAoC,OAAQ,SAAAxP,EAAAe,EAAAjC,GAAiB,aAAaU,OAAAC,eAAAsB,EAAA,cAAsChB,OAAA,IAAW,MAAAc,EAAA/B,EAAA,IAAAc,EAAAd,EAAA,GAAg4B,MAAAiR,UAAAnQ,EAAAqB,KAAuBC,YAAAlB,EAAAe,EAAAjC,GAAmBqC,MAAAnB,EAAAe,GAAAK,KAAA8lB,KAAApoB,EAAAsC,KAAA6S,SAAA,EAAA7S,KAAA+lB,cAAA,EAAA/lB,KAAAkB,SAAA,EAAAlB,KAAAyS,MAAA,EAAAzS,KAAAmY,EAAA,EAAAnY,KAAA2O,EAAA,EAAA3O,KAAA6U,KAAA,MAA2HlV,EAAAqmB,YAAArX,EAAgB,MAAAC,EAAQ9O,YAAAlB,EAAAe,GAAiBK,KAAAC,MAAArB,EAAAoB,KAAAE,OAAAP,EAAAK,KAAAimB,UAAA,IAAApP,WAAA,EAAAjY,EAAAe,GAAAK,KAAAkmB,WAAA,IAAA3H,aAAA,CAAA3f,EAAAe,IAAAK,KAAAmmB,QAAA,KAAAnmB,KAAA0c,QAAuI5c,QAAQ,QAAAlB,EAAA,EAAYA,EAAAoB,KAAAimB,UAAA9kB,OAAwBvC,IAAAoB,KAAAimB,UAAArnB,GAAA,IAA0BkB,SAAAlB,EAAAe,EAAAjC,GAAgBsC,KAAAimB,UAAA,GAAAtmB,EAAAK,KAAAC,MAAArB,GAAA,GAAAlB,EAAuCoC,OAAAlB,GAAUoB,KAAAmmB,QAAAvnB,EAAA4X,gBAAA5X,EAAA6X,YAAA7X,EAAA8X,WAAA1W,KAAAmmB,SAAAvnB,EAAAkY,WAAAlY,EAAA8X,WAAA,EAAA9X,EAAA+X,KAAA3W,KAAAC,MAAAD,KAAAE,OAAA,EAAAtB,EAAA+X,KAAA/X,EAAAgY,cAAA5W,KAAAimB,WAAArnB,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAyY,mBAAAzY,EAAA0Y,SAAA1Y,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAA2Y,mBAAA3Y,EAAA0Y,SAAA1Y,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAsY,eAAAtY,EAAAuY,eAAAvY,EAAAqY,cAAArY,EAAA8X,WAAA9X,EAAAwY,eAAAxY,EAAAuY,eAAmarX,SAAAlB,GAAYA,EAAAwnB,cAAAxnB,EAAA8X,WAAA,MAAA1W,KAAAC,MAAAD,KAAAE,OAAAtB,EAAA+X,KAAA/X,EAAAgY,cAAA5W,KAAAimB,YAAkGtmB,EAAA0mB,aAAAzX,EAAiBjP,EAAA2mB,QAAA,MAAgBxmB,YAAAlB,EAAAe,EAAAjC,EAAAc,GAAqBwB,KAAAwa,GAAA5b,EAAAoB,KAAAC,MAAAN,EAAAK,KAAAE,OAAAxC,EAAAsC,KAAAuY,KAAA,IAAAjE,MAAA5W,GAAAsC,KAAAumB,OAAA,IAAAjS,MAAA9V,GAAAwB,KAAAwmB,UAAA,GAAAxmB,KAAAymB,WAAA,GAAAzmB,KAAA0mB,QAAA,EAAA1mB,KAAA2mB,QAAA,EAAA3mB,KAAA4mB,KAAA,EAAA5mB,KAAA6mB,KAAAlnB,EAAA,EAAAK,KAAA8mB,KAAA,EAAA9mB,KAAA+mB,KAAArpB,EAAA,EAA4M,QAAAkB,EAAA,EAAYA,EAAAlB,EAAIkB,IAAA,CAAKoB,KAAAuY,KAAA3Z,GAAA,IAAA0V,MAAA3U,GAA0B,QAAAjC,EAAA,EAAYA,EAAAiC,EAAIjC,IAAAsC,KAAAuY,KAAA3Z,GAAAlB,GAAA,IAAAiR,EAAAjR,EAAAkB,EAAA,GAAiC,QAAAA,EAAA,EAAYA,EAAAJ,EAAII,IAAAoB,KAAAumB,OAAA3nB,GAAA,IAAAgQ,EAAAjP,EAAAjC,GAA8BsC,KAAAgnB,eAAApoB,EAAAsf,eAAAtf,EAAA4gB,WAAA5gB,EAAA6gB,aAAAzf,KAAAgnB,gBAAApoB,EAAA8gB,WAAA9gB,EAAA6gB,aAAA,IAAAlB,aAAA,yDAAA3f,EAAAqoB,aAAAjnB,KAAAknB,cAAAznB,EAAAwW,kBAAArX,EAA7vE,mXAAwY,qfAAq3DoB,KAAAmnB,kBAAAvoB,EAAAkf,kBAAA9d,KAAAknB,cAAA,YAAAlnB,KAAAonB,iBAAAxoB,EAAAkf,kBAAA9d,KAAAknB,cAAA,WAAAlnB,KAAAqnB,oBAAAzoB,EAAAgf,mBAAA5d,KAAAknB,cAAA,gBAAAlnB,KAAAsnB,kBAAA1oB,EAAAgf,mBAAA5d,KAAAknB,cAAA,cAAAlnB,KAAAunB,eAAA3oB,EAAAgf,mBAAA5d,KAAAknB,cAAA,WAAAlnB,KAAAwnB,gBAAA5oB,EAAAgf,mBAAA5d,KAAAknB,cAAA,YAAAlnB,KAAAynB,mBAAA7oB,EAAAgf,mBAAA5d,KAAAknB,cAAA,SAAAlnB,KAAA0nB,qBAAA9oB,EAAAgf,mBAAA5d,KAAAknB,cAAA,WAA+0B,QAAAvnB,EAAA,EAAYA,EAAAK,KAAAumB,OAAAplB,OAAqBxB,IAAAK,KAAAumB,OAAA5mB,GAAAgoB,OAAA/oB,GAA6BkB,QAAAlB,EAAAe,EAAAjC,EAAA+B,EAAAjB,EAAAW,GAAqB,GAAAQ,EAAA,GAAAA,GAAAK,KAAAC,OAAAvC,EAAA,GAAAA,GAAAsC,KAAAE,OAAA,OAAkD,IAAAtB,IAAAoB,KAAAuY,KAAA7a,GAAAiC,GAAAmmB,KAAArmB,EAAAO,KAAAuY,KAAA7a,GAAAiC,GAAAkT,UAAArU,EAAAwB,KAAAuY,KAAA7a,GAAAiC,GAAAomB,kBAAA,IAAA5mB,MAAAX,GAA0G,MAAAL,EAAA6B,KAAAumB,OAAA3nB,GAAA+P,EAAA,GAAAjR,EAAAS,EAAA8B,MAAAN,GAAAiP,EAAA,IAAAnP,EAAA,KAAAA,EAAA,QAAA1B,EAAA,IAAA0B,EAAA,KAAAA,EAAA,QAAuFtB,EAAA8nB,UAAAtX,EAAA,GAAAC,EAAAzQ,EAAA8nB,UAAAtX,EAAA,GAAA5Q,EAAsC+B,QAAAlB,EAAAe,GAAa,OAAAf,EAAA,GAAAA,GAAAoB,KAAAC,OAAAN,EAAA,GAAAA,GAAAK,KAAAE,OAAA,KAAAF,KAAAuY,KAAA5Y,GAAAf,GAAoEkB,QAAAlB,EAAAe,GAAa,MAAAjC,EAAAsC,KAAA8iB,QAAAlkB,EAAAe,GAA0B,OAAAjC,IAAAooB,KAAA,EAAkBhmB,UAAAlB,EAAAe,GAAe,MAAAjC,EAAAsC,KAAA8iB,QAAAlkB,EAAAe,GAA0B,OAAAjC,KAAAmV,QAAoB/S,UAAAlB,EAAAe,GAAe,QAAAf,EAAAoB,KAAA4mB,MAAAhoB,EAAAoB,KAAA6mB,MAAAlnB,EAAAK,KAAA8mB,MAAAnnB,EAAAK,KAAA+mB,OAAA/mB,KAAAuY,KAAA5Y,GAAAf,GAAAsC,QAAqFpB,OAAAlB,EAAAe,GAAY,MAAAjC,EAAAsC,KAAA8iB,QAAAlkB,EAAAe,GAA0B,OAAAjC,KAAA+U,KAAiB3S,QAAAlB,EAAAe,EAAAjC,GAAe,MAAA+B,EAAAO,KAAA8iB,QAAAlkB,EAAAe,GAA0BF,MAAAgT,KAAA/U,GAAcoC,KAAAlB,EAAAe,EAAAjC,EAAA+B,GAAc,MAAAjB,EAAAwB,KAAAwa,GAAgBhc,EAAAwc,OAAAxc,EAAAyc,OAAAzc,EAAA0c,UAAA1c,EAAA2c,UAAA3c,EAAA4c,qBAAA5c,EAAA2gB,WAAAnf,KAAAknB,eAAA1oB,EAAAghB,WAAAhhB,EAAAihB,aAAAzf,KAAAgnB,gBAAAxoB,EAAA+gB,wBAAAvf,KAAAmnB,mBAAA3oB,EAAA+gB,wBAAAvf,KAAAonB,kBAAA5oB,EAAAqhB,oBAAA7f,KAAAmnB,kBAAA,EAAA3oB,EAAAohB,OAAA,QAAAphB,EAAAqhB,oBAAA7f,KAAAonB,iBAAA,EAAA5oB,EAAAohB,OAAA,QAAAphB,EAAA4gB,UAAApf,KAAAsnB,kBAAA1oB,EAAAe,GAAAnB,EAAA4gB,UAAApf,KAAAqnB,oBAAA3pB,EAAA+B,GAAAjB,EAAA4gB,UAAApf,KAAAwnB,gBAAAxnB,KAAAwmB,UAAAxmB,KAAAymB,YAAAjoB,EAAA6gB,cAAA7gB,EAAA8gB,UAAA9gB,EAAAopB,UAAA5nB,KAAA0nB,qBAAA,GAAAlpB,EAAA6gB,cAAA7gB,EAAAqpB,UAAArpB,EAAAopB,UAAA5nB,KAAAynB,mBAAA,GAAgpB,MAAAtoB,EAAAP,EAAAoB,KAAAwmB,UAAA,EAAAroB,EAAAwB,EAAAK,KAAAymB,WAAA,EAAA9X,GAAA/P,EAAAlB,GAAAsC,KAAAwmB,UAAA,EAAA5X,GAAAjP,EAAAF,GAAAO,KAAAymB,WAAA,EAAoG,QAAA7nB,EAAA,EAAYA,EAAAoB,KAAAumB,OAAAplB,OAAqBvC,IAAA,CAAK,MAAAe,EAAAK,KAAAumB,OAAA3nB,GAAuB,QAAAA,EAAAT,EAAYS,GAAAgQ,EAAKhQ,IAAA,QAAAlB,EAAAyB,EAAgBzB,GAAAiR,EAAKjR,IAAA,CAAK,MAAA+B,EAAAO,KAAA0iB,UAAAhlB,EAAAkB,GAAA,IAAAoB,KAAA8nB,OAAApqB,EAAAkB,GAAA,MAAuDe,EAAAooB,SAAArqB,EAAAkB,EAAAa,GAAkBjB,EAAAwpB,WAAAhoB,KAAAunB,eAAA5nB,EAAAumB,YAAA1nB,EAAAiY,YAAAjY,EAAAkY,WAAA/W,EAAAwmB,SAAAxmB,EAAAsoB,SAAAzpB,KAAAuhB,WAAAvhB,EAAAshB,UAAA,MAAkIhgB,WAAW,QAAAlB,EAAA,EAAYA,EAAAoB,KAAAE,OAActB,IAAA,QAAAe,EAAA,EAAgBA,EAAAK,KAAAC,MAAaN,IAAAK,KAAAuY,KAAA3Z,GAAAe,GAAA8S,MAAA,EAAAzS,KAAAuY,KAAA3Z,GAAAe,GAAAuB,SAAA,EAAuDpB,WAAAlB,EAAAe,EAAAjC,GAAkBsC,KAAA0mB,QAAA9nB,EAAAoB,KAAA2mB,QAAAhnB,EAAAK,KAAA4mB,KAAApY,KAAA0N,IAAA,EAAAtd,EAAAlB,GAAAsC,KAAA8mB,KAAAtY,KAAA0N,IAAA,EAAAvc,EAAAjC,GAAAsC,KAAA6mB,KAAArY,KAAA2E,IAAAnT,KAAAC,MAAA,EAAArB,EAAAlB,GAAAsC,KAAA+mB,KAAAvY,KAAA2E,IAAAnT,KAAAE,OAAA,EAAAP,EAAAjC,GAA6J,QAAAkB,EAAAoB,KAAA8mB,KAAoBloB,GAAAoB,KAAA+mB,KAAanoB,IAAA,QAAAe,EAAAK,KAAA4mB,KAAwBjnB,GAAAK,KAAA6mB,KAAalnB,IAAAK,KAAAuY,KAAA3Z,GAAAe,GAAA8S,KAAAzS,KAAAuY,KAAA3Z,GAAAe,GAAA8S,MAAAzS,KAAAuY,KAAA3Z,GAAAe,GAAAuB,QAAAlB,KAAAuY,KAAA3Z,GAAAe,GAAAuB,SAAA,EAAkGlB,KAAAuY,KAAA5Y,GAAAf,GAAAsC,SAAA,EAAAlB,KAAAkoB,eAAA,KAAAloB,KAAAmoB,eAAA,KAAAnoB,KAAAkoB,eAAA,MAAAloB,KAAAmoB,eAAA,MAAAnoB,KAAAkoB,gBAAA,KAAAloB,KAAAmoB,gBAAA,KAAAnoB,KAAAkoB,gBAAA,MAAAloB,KAAAmoB,gBAAA,MAA2OroB,eAAAlB,EAAAe,GAAoB,MAAAjC,EAAA,GAAA+B,EAAA,GAAgB,IAAAjB,EAAAW,EAAAhB,EAAAwQ,EAAAC,EAAA7Q,EAAAJ,EAAAK,EAAAwR,EAAA2I,EAAA3Y,EAAA,EAAA4Y,EAAA,EAAA9X,EAAA,EAAAF,EAAA,EAAwC,IAAAjB,EAAAa,KAAA2mB,QAAAhnB,EAAqBR,GAAAa,KAAA8mB,MAAA3nB,GAAAa,KAAA+mB,KAA2B5nB,GAAAQ,EAAAW,EAAA8X,IAAA5Y,EAAA,IAAArB,EAAA,GAAAqB,EAAA2Y,GAAA,EAAAxJ,EAAAH,KAAA2F,MAAA/T,EAAAZ,EAAA,IAAAhB,EAAAwB,KAAA0mB,QAAA/X,EAAA/P,EAAqE+P,GAAAnP,GAAAhB,GAAAwB,KAAA4mB,MAAApoB,GAAAwB,KAAA6mB,KAAiCroB,GAAAI,IAAA+P,EAAAwJ,EAAA3I,EAAA,CAAc,GAAAZ,GAAA,EAAA7Q,GAAA,EAAAC,EAAAma,EAAA3I,GAAA7R,EAAAgR,EAAAnP,GAAArB,EAAAmC,EAAA,KAAAN,KAAAuY,KAAApZ,EAAAQ,GAAAnB,GAAA0C,UAAAlB,KAAAuY,KAAApZ,EAAAQ,GAAAnB,GAAAunB,cAAA/lB,KAAAuY,KAAApZ,EAAAQ,GAAAnB,EAAAI,GAAAsC,UAAAlB,KAAAuY,KAAApZ,EAAAQ,GAAAnB,EAAAI,GAAAmnB,cAAgK,QAAAnnB,EAAA,EAAYA,EAAA0B,GAAAsO,IAAOhQ,EAAA,GAAAZ,GAAAyB,EAAAb,IAAA4Q,GAAA9R,EAAAkB,GAAA,GAAAoB,KAAAuY,KAAApZ,GAAAX,GAAAunB,aAAA,CAAyD,GAAA/nB,GAAAN,EAAAkB,IAAA4Q,GAAA/P,EAAAb,GAAA,CAAqBgQ,GAAA,EAAK,MAAMlR,EAAAkB,GAAA4P,KAAA2E,IAAAzV,EAAAkB,GAAAZ,GAAAyB,EAAAb,GAAA4P,KAAA0N,IAAAzc,EAAAb,GAAA4Q,GAAAzR,GAAA,OAAiD,GAAAJ,EAAAD,EAAAkB,IAAAjB,EAAA8B,EAAAb,GAAA,CAAwBgQ,GAAA,EAAK,YAAOA,GAAA,EAAUA,IAAA5O,KAAAuY,KAAApZ,GAAAX,GAAA0C,SAAA,EAAAlB,KAAAuY,KAAApZ,GAAAX,GAAAunB,eAAA3lB,GAAApC,EAAAoC,EAAAoP,EAAAzR,IAAAL,EAAA0a,GAAApa,EAAAyB,EAAA2Y,KAAA5I,MAA+F1P,eAAAlB,EAAAe,GAAoB,MAAAjC,EAAA,GAAA+B,EAAA,GAAgB,IAAAjB,EAAAW,EAAAhB,EAAAwQ,EAAAC,EAAA7Q,EAAAJ,EAAAK,EAAAwR,EAAA2I,EAAA3Y,EAAA,EAAA4Y,EAAA,EAAA9X,EAAA,EAAAF,EAAA,EAAwC,IAAA5B,EAAAwB,KAAA0mB,QAAA9nB,EAAqBJ,GAAAwB,KAAA4mB,MAAApoB,GAAAwB,KAAA6mB,KAA2BroB,GAAAI,EAAA0B,EAAA8X,IAAA5Y,EAAA,IAAArB,EAAA,GAAAqB,EAAA2Y,GAAA,EAAAxJ,EAAAH,KAAA2F,MAAA/T,EAAAZ,EAAA,IAAAL,EAAAa,KAAA2mB,QAAAhY,EAAAhP,EAAqEgP,GAAAnP,GAAAL,GAAAa,KAAA8mB,MAAA3nB,GAAAa,KAAA+mB,KAAiC5nB,GAAAQ,IAAAgP,EAAAwJ,EAAA3I,EAAA,CAAc,GAAAZ,GAAA,EAAA7Q,GAAA,EAAAC,EAAAma,EAAA3I,GAAA7R,EAAAgR,EAAAnP,GAAArB,EAAAmC,EAAA,KAAAN,KAAAuY,KAAApZ,GAAAX,EAAAI,GAAAsC,UAAAlB,KAAAuY,KAAApZ,GAAAX,EAAAI,GAAAmnB,cAAA/lB,KAAAuY,KAAApZ,EAAAQ,GAAAnB,EAAAI,GAAAsC,UAAAlB,KAAAuY,KAAApZ,EAAAQ,GAAAnB,EAAAI,GAAAmnB,cAAgK,QAAAnnB,EAAA,EAAYA,EAAA0B,GAAAsO,IAAOhQ,EAAA,GAAAZ,GAAAyB,EAAAb,IAAA4Q,GAAA9R,EAAAkB,GAAA,GAAAoB,KAAAuY,KAAApZ,GAAAX,GAAAunB,aAAA,CAAyD,GAAA/nB,GAAAN,EAAAkB,IAAA4Q,GAAA/P,EAAAb,GAAA,CAAqBgQ,GAAA,EAAK,MAAMlR,EAAAkB,GAAA4P,KAAA2E,IAAAzV,EAAAkB,GAAAZ,GAAAyB,EAAAb,GAAA4P,KAAA0N,IAAAzc,EAAAb,GAAA4Q,GAAAzR,GAAA,OAAiD,GAAAJ,EAAAD,EAAAkB,IAAAjB,EAAA8B,EAAAb,GAAA,CAAwBgQ,GAAA,EAAK,YAAOA,GAAA,EAAUA,IAAA5O,KAAAuY,KAAApZ,GAAAX,GAAA0C,SAAA,EAAAlB,KAAAuY,KAAApZ,GAAAX,GAAAunB,eAAA3lB,GAAApC,EAAAoC,EAAAoP,EAAAzR,IAAAL,EAAA0a,GAAApa,EAAAyB,EAAA2Y,KAAA5I,0FCAjt5D,MAAA4Y,EAAA9qB,EAAA,IAEA,SAAY+qB,GACVA,IAAA,eACAA,IAAA,eACAA,IAAA,eACAA,IAAA,iBACAA,IAAA,iBACAA,IAAA,eACAA,IAAA,eACAA,IAAA,eACAA,IAAA,uBACAA,IAAA,qBAVF,CAAY7qB,EAAA6qB,gBAAA7qB,EAAA6qB,cAAa,KAazB7qB,EAAA8qB,UAAA,cAAwCF,EAAAzC,KAQtC7lB,YAAYwO,EAAYlO,EAAWE,EAAWrC,EAAc8P,EAAgBwa,GAC1ExoB,MAAMuO,EAAMlO,EAAGE,EAAGrC,EAAM8P,GAAQ,GAChC/N,KAAKuoB,KAAOA,EACZvoB,KAAKwoB,WAAa,EAClBxoB,KAAKyoB,cAAgB,EACrBzoB,KAAK0oB,eAAiB,EACtB1oB,KAAK2oB,kBAAoB,EACzB3oB,KAAK4oB,kBAAoB,mFC1B7BprB,EAAAqrB,eAAA,MAME/oB,YAAY7B,EAAc6qB,EAAcC,EAAqBC,GAC3DhpB,KAAK/B,KAAOA,EACZ+B,KAAK8oB,KAAOA,EACZ9oB,KAAK+oB,YAAcA,EACnB/oB,KAAKgpB,QAAUA,mFCdnB,MAAAZ,EAAA9qB,EAAA,GAKA2rB,EAAA3rB,EAAA,IAEM4rB,EAAc,KACdC,EAAY,KAElB3rB,EAAA4rB,QAAA,cAAsCH,EAAAI,WACpCvpB,YAAYwO,EAAYlO,EAAWE,EAAWrC,EAAc8P,GAC1DhO,MAAMuO,EAAMlO,EAAGE,EAAGrC,EAAM8P,GACxB/N,KAAKkS,GAAK,GACVlS,KAAKia,GAAK,IAAImO,EAAA3O,aAAazZ,KAAMA,KAAKspB,iBAGxCxpB,UACEE,KAAKsO,KAAKib,IAAIvpB,KAAK/B,KAAO,YAC1B+B,KAAKoR,QAAS,EACdpR,KAAKia,QAAKuP,EACVxpB,KAAK/B,KAAO,cAAgB+B,KAAK/B,KACjC+B,KAAKypB,aAMJzpB,KAAKsO,KAAKuB,OAAkB6Z,MAHd,IAMH1pB,KAAKsO,KAAKiU,QAClBoH,QAAQ,EAAG3pB,KAAKI,EAAGJ,KAAKM,EAAGN,KAAKsO,KAAK4L,IAAItB,UAAUsQ,EAAaC,IAG9DrpB,gBAAgB8pB,EAAiBC,GACvC,OAAO,oFCpCX,MAAAzB,EAAA9qB,EAAA,GACAwsB,EAAAxsB,EAAA,IAEMysB,EAAa,EACbC,EAAc,EACdC,EAAa7B,EAAAzc,QAAQ,IAAM,IAAM,KACjCue,EAAc,IAAI9B,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAWS,GAC5EE,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,kCAAmC+O,EAAApb,OAAOhB,SAGxDxO,EAAA4sB,YAAA,MASEtqB,cACEE,KAAK+N,OAASmc,EACdlqB,KAAK/B,KAAO,OACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWD,KAC7BhR,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAWP,EAChB/pB,KAAKoO,SAAW,GAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAeV,GAClB,MAAMvb,EAAOic,EAAOjc,KAEpB,GADiBic,EAAO5Q,WAAWkQ,GACpBE,EAIb,OAHIQ,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,EAGT,GAAIwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,GAI3D,OAHIiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,EAIT,GADiBwC,EAAKuU,WAAWgH,EAAOzpB,EAAGypB,EAAOvpB,GAKhD,OAHIiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,EAGT,MACM0e,GAAUX,EAAOzpB,EAAImqB,EAAOnqB,GAAKkO,EAAKiD,SAAStR,MADvC,EAERwqB,GAAUZ,EAAOvpB,EAAIiqB,EAAOjqB,GAAKgO,EAAKiD,SAASrR,OAFvC,EAGRwqB,EAAc,IAAItC,EAAAxV,YAAY2X,EAAQC,EAAQC,EAHtC,GAwBd,OApBAC,EAAYxI,OAAS,MACnB,IAAIyI,EAAQ,EACZ,IAAK,IAAIjtB,EAAI4Q,EAAKgF,SAASnS,OAAS,EAAGzD,GAAK,EAAGA,IAAK,CAClD,MAAMmW,EAASvF,EAAKgF,SAAS5V,GACzBmW,IAAW0W,GAGX1W,aAAkBuU,EAAAnW,OAAS4B,EAAO8F,WAAWkQ,GAAUG,IACzDnW,EAAOoG,GAAK,IAAI6P,EAAAc,QAAQ/W,EAAQ,GAChC8W,KAIAA,EAAQ,GACVrc,EAAKib,IAAI,WAAaoB,EAAQ,SAAUV,GAE1CM,EAAOnY,OAGT9D,EAAKqE,QAAQzD,KAAKwb,IACX,mFC7EXltB,EAAAqtB,cAAA,MAME/qB,YAAY7B,EAAc6qB,EAAcC,EAAqBC,GAC3DhpB,KAAK/B,KAAOA,EACZ+B,KAAK8oB,KAAOA,EACZ9oB,KAAK+oB,YAAcA,EACnB/oB,KAAKgpB,QAAUA,mFCdnB,MAAAZ,EAAA9qB,EAAA,GAEMwtB,EAAmB,GACnBC,EAAkB,EAElBZ,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,YAAa+O,EAAApb,OAAOpB,OAChC,IAAIwc,EAAA/O,QAAQ2R,UAAqB5C,EAAApb,OAAOpB,OACxC,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,iDAAkD+O,EAAApb,OAAOhB,QACrE,IAAIoc,EAAA/O,QAAQ,WAAayR,EAAmB,WAAY1C,EAAApb,OAAOhB,SAGjExO,EAAAytB,iBAAA,MASEnrB,cACEE,KAAK+N,OAAS,IAAIqa,EAAAhP,OAAO,IAAK,GAAI,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YAC3ExpB,KAAK/B,KAAO,YACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWH,KAC7B9Q,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAWS,EAChB/qB,KAAKoO,SAAW,GAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,GACH,MAAMjc,EAAOic,EAAOjc,KAEd4c,EAAUlrB,KAAKmrB,kBAAkB7c,EAAMic,EAAQA,EAAOnqB,EAAGmqB,EAAOjqB,EAAGyqB,GACzE,IAAKG,EAEH,OADA5c,EAAKib,IAAI,sCAAuCnB,EAAApb,OAAOb,YAChD,EAITmC,EAAKib,IAAI,gCAAkC2B,EAAQjtB,KAAO,wBAAyBmqB,EAAApb,OAAOL,YAG1F,MAAMye,EAAY,IAAIhD,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,EAAM,EAAGgP,EAAApb,OAAOhB,QAC5Dqf,EAAS,IAAIjD,EAAAhI,iBAAiBgL,EAAW,IAAIhD,EAAAvoB,KAAKqrB,EAAQ5Z,OAAQ4Z,EAAQ1Z,QAAS,IAAI4W,EAAAvoB,KAAK,EAAG,GAAI,IAQzG,OAPAwrB,EAAOnJ,OAAS,MACd5T,EAAKib,IAAI,iBAAmBuB,EAAmB,cAAe1C,EAAApb,OAAOL,YACrEue,EAAQjY,WAAW6X,GACnBP,EAAOnY,OAET9D,EAAKqE,QAAQzD,KAAKmc,IAEX,EAGDvrB,kBAAkBwO,EAAYuB,EAAgBzP,EAAWE,EAAWgrB,GAC1E,IAAIC,EAAUD,EAAQ,EAClBE,EAAS,KACb,IAAK,IAAI9tB,EAAI,EAAGA,EAAI4Q,EAAKgF,SAASnS,OAAQzD,IAAK,CAC7C,MAAMmW,EAASvF,EAAKgF,SAAS5V,GAC7B,GAAImW,IAAWhE,EACb,SAEF,KAAMgE,aAAkBuU,EAAAnW,OACtB,SAEF,GAAI3D,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAU7O,EAAOzT,EAAGyT,EAAOvT,GAC3D,SAEF,MAAMmrB,EAAO5X,EAAO6X,SAAStrB,EAAGE,GAC5BmrB,EAAOF,IACTA,EAAUE,EACVD,EAAS3X,GAGb,OAAO2X,mFC7EX,MAAApD,EAAA9qB,EAAA,GAEAquB,EAAAruB,EAAA,GACAsuB,EAAAtuB,EAAA,GACAuuB,EAAAvuB,EAAA,GAGAwuB,EAAAxuB,EAAA,GACAyuB,EAAAzuB,EAAA,GACA0uB,EAAA1uB,EAAA,IACA2uB,EAAA3uB,EAAA,IACA4uB,EAAA5uB,EAAA,IAEM6uB,EAAO,UACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE6C,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACzD8C,EAAO,kDACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,+BAAgC+O,EAAApb,OAAOV,aACnD,IAAI8b,EAAA/O,QAAQ,oDAAqD+O,EAAApb,OAAOhB,SAG1ExO,EAAAgvB,QAAA,cAA6BV,EAAAjD,eAC3B/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACT,MAAMvB,EAAOuB,EAAOvB,KAEpBuB,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI+b,EAAAxB,cAC1Cva,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAIgc,EAAAZ,mBAC1Cpb,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI8b,EAAAe,mBAC1C7c,EAAO8c,UAAUrrB,IAAI,IAAIyqB,EAAAa,YAAYte,IACrCuB,EAAO8c,UAAUrrB,IAAI,IAAI0qB,EAAAa,aAAave,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAI2qB,EAAAa,aAAaxe,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAI4qB,EAAAa,iBAAiBze,IAC1CuB,EAAOmd,UAAY,EACnBnd,EAAOod,cAAgB,mFCxC3B,MAAA7E,EAAA9qB,EAAA,GAGM+uB,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3DW,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,aAAc+O,EAAApb,OAAOpB,OACjC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,kCAAmC+O,EAAApb,OAAOhB,QACtD,IAAIoc,EAAA/O,QAAQ,wBAAyB+O,EAAApb,OAAOhB,SAG9CxO,EAAAkvB,iBAAA,MASE5sB,cACEE,KAAK+N,OAASse,EACdrsB,KAAK/B,KAAO,aACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWH,KAC7B9Q,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAW,EAChBtqB,KAAKoO,SAAW,EAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,GACH,GAAIA,EAAOrY,KAAOqY,EAAOpY,MAIvB,OAHIoY,IAAWA,EAAOjc,KAAKuB,QACzB0a,EAAOjc,KAAKib,IAAI,kCAAmCnB,EAAApb,OAAOZ,WAErD,EAGT,MAAM8gB,EAAa3C,EAAOjc,KAAK4L,IAAItB,UAAU,EAAG,GAAK2R,EAAO4C,qBAG5D,OAFA5C,EAAO6C,SAASF,GAChB3C,EAAOnY,MACA,mFCzCX,MAAAgW,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,gBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAAovB,YAAA,cAAiCS,EAAA/E,UAC/BxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAckF,OACxDvtB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,iBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAAqvB,aAAA,cAAkCQ,EAAA/E,UAChCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcmF,MACxDxtB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,iBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAAsvB,aAAA,cAAkCO,EAAA/E,UAChCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcoF,MACxDztB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,oBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC1D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,gBAAiB+O,EAAApb,OAAOpB,OACpC,IAAIwc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOV,cAGpC9O,EAAAuvB,iBAAA,cAAsCM,EAAA/E,UACpCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcqF,UACxD1tB,KAAKkO,gBAAkBof,EACvBttB,KAAKyoB,cAAgB,mFCjBzB,MAAAL,EAAA9qB,EAAA,GAEAqwB,EAAArwB,EAAA,IAEMswB,EAAiB,GACjBC,EAAkB,EAClBC,EAAkB,GAIlBC,EAAa3F,EAAApb,OAAOD,OACpBihB,EAAkB,IAAI5F,EAAAhP,OAAO,IAAK,IAHnB,GACC,QAEoDoQ,OAAWA,OAAWA,EAAWuE,GACrG5D,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,WAAY+O,EAAApb,OAAOpB,OAC/B,IAAIwc,EAAA/O,QAAQ,kBAAmB+O,EAAApb,OAAOpB,OACtC,IAAIwc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,wCAAyC+O,EAAApb,OAAOhB,QAC5D,IAAIoc,EAAA/O,QAAQ,iCAAkC+O,EAAApb,OAAOhB,SAGvDxO,EAAAywB,gBAAA,MASEnuB,cACEE,KAAK+N,OAASigB,EACdhuB,KAAK/B,KAAO,WACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWD,KAC7BhR,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAWsD,EAChB5tB,KAAKoO,SAAW,GAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAeV,GAClB,MAAMvb,EAAOic,EAAOjc,KACdod,EAAWnB,EAAO5Q,WAAWkQ,GACnC,GAAI6B,EAAWkC,EAIb,OAHIrD,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,EAGT,GAAIwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,GAI3D,OAHIiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,EAGT,MACM6e,EAAQe,GAAYpd,EAAKiD,SAAStR,MAD1B,GAER6T,GAAM+V,EAAOzpB,EAAIkO,EAAKiD,SAAStR,MAAQsqB,EAAOjZ,QAAUqZ,EACxD5W,GAAM8V,EAAOvpB,EAAIgO,EAAKiD,SAASrR,OAASqqB,EAAO/Y,QAAUmZ,EAE/Drc,EAAKqE,QAAQzD,KACT,IAAIkZ,EAAAhI,iBAAiB4N,EAAiB,IAAI5F,EAAAvoB,KAAK0qB,EAAOjZ,OAAQiZ,EAAO/Y,QAAS,IAAI4W,EAAAvoB,KAAKiU,EAAIC,GAAK4W,IAEpG,MAAMuD,EAAkB,IAAIP,EAAAQ,gBAAgB7f,EAAMub,EAAQgE,EAAiB,IAgB3E,OAfAK,EAAgBhM,OAAS,MACvB5T,EAAKib,IAAI,oDAAsDsE,EAAkB,UAAWzF,EAAApb,OAAOD,QAEnG,IAAK,IAAIrP,EAAI4Q,EAAKgF,SAASnS,OAAS,EAAGzD,GAAK,EAAGA,IAAK,CAClD,MAAMmW,EAASvF,EAAKgF,SAAS5V,GACzBmW,aAAkBuU,EAAAnW,OAAS4B,EAAO8F,WAAWkQ,IAAWgE,IAC1Dvf,EAAKib,IAAI,OAAS1V,EAAO5V,KAAO,oBAAsB6vB,EAAkB,eAAgB1F,EAAApb,OAAOD,QAC/F8G,EAAOZ,WAAW6a,IAItBvD,EAAOnY,OAGT9D,EAAKqE,QAAQzD,KAAKgf,IACX,mFChFX,MAAA9F,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,kBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAA4wB,cAAA,cAAmCf,EAAA/E,UACjCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcmF,MACxDxtB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,iBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAA6wB,aAAA,cAAkChB,EAAA/E,UAChCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAckF,OACxDvtB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,kBACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,QAGhCpO,EAAA8wB,cAAA,cAAmCjB,EAAA/E,UACjCxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcoF,MACxDztB,KAAKkO,gBAAkBof,EACvBttB,KAAKwoB,WAAa,mFCjBtB,MAAAJ,EAAA9qB,EAAA,GAEA+vB,EAAA/vB,EAAA,GAEM6uB,EAAO,aACPE,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ8S,EAAM/D,EAAApb,OAAOpB,OACzB,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,iBAAkB+O,EAAApb,OAAOpB,OACrC,IAAIwc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOV,cAGpC9O,EAAA+wB,UAAA,cAA+BlB,EAAA/E,UAC7BxoB,YAAYwO,EAAYlO,EAAYE,GAClCP,MAAMuO,EAAMlO,GAAK,EAAGE,GAAK,EAAG6rB,EAAME,EAAQgB,EAAAhF,cAAcqF,UACxD1tB,KAAKkO,gBAAkBof,EACvBttB,KAAKyoB,cAAgB,mFCjBzB,MAAAL,EAAA9qB,EAAA,GAGMkxB,EAAc,EAEdnC,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAEhEhsB,EAAAixB,QAAA,cAA6BrG,EAAAzC,KAI3B7lB,YAAYwO,EAAYlO,EAAWE,EAAWouB,GAC5C3uB,MAAMuO,EAAMlO,EAAGE,EAAG,UAAW+rB,GAAQ,GACrCrsB,KAAK0uB,MAAQA,EACb1uB,KAAKqR,OAAS,EAGhBvR,SAAS+T,GACP7T,KAAKsO,KAAKib,IAAI1V,EAAO5V,KAAO,gBAAkB+B,KAAK/B,KAAMmqB,EAAApb,OAAOV,aAGlExM,MAAM6uB,GACJ,OAAIA,EAAKzc,KAAOyc,EAAKxc,OACnBnS,KAAKsO,KAAKib,IAAI,kCAAmCnB,EAAApb,OAAOZ,WACjD,IAGTpM,KAAKsO,KAAKib,IAAI,oCAAqCnB,EAAApb,OAAOH,eAC1D8hB,EAAKvB,SAASoB,GACdG,EAAKrc,UAAU/Q,OAAOvB,MACtB2uB,EAAKvc,MACE,oFC/BX,MAAAgW,EAAA9qB,EAAA,GAGAE,EAAAoxB,iBAAA,MAIE9uB,YAAY+uB,EAAwBC,GAClC9uB,KAAK6uB,eAAiBA,EACtB7uB,KAAK8uB,gBAAkBA,EAGzBhvB,WAAWe,EAAUkuB,EAAaC,EAAsBC,GACtD,MAAMzhB,EAAM3M,EAAI2M,IAChB,IAAIpN,EAAI2uB,EAAM3uB,EACd,MAAME,EAAIyuB,EAAMzuB,EAChB,IAAI4uB,EAA6B9G,EAAApb,OAAOnB,KACpCsjB,EAAa/G,EAAApb,OAAOnB,KACpBujB,EAAYhH,EAAApb,OAAOnB,KAmBvB,GAjBIojB,IACFC,OAAY1F,EACZ2F,EAAa/G,EAAApb,OAAOhB,OACpBojB,EAAYhH,EAAApb,OAAOpB,OAGjBojB,EAAOlG,OACTkG,EAAOlG,KAAKvb,KAAKC,EAAKpN,EAAGE,EAAG4uB,GAC5B9uB,GAAK4uB,EAAOlG,KAAK7oB,MAAQ,GAG3BuN,EAAIwP,WAAWgS,EAAO/wB,KAAMmC,EAAGE,EAAG6uB,GAE9BH,EAAOjG,aACTvb,EAAIwP,WAAWgS,EAAOjG,YAAa3oB,EAAI,EAAGE,EAAI,GAAI8uB,GAGhDH,GAAYD,EAAOhG,QACrB,IAAK,IAAIqG,EAAI,EAAGA,EAAIL,EAAOhG,QAAQ7nB,OAAQkuB,IAAK,CAC9C,MAAMC,EAAMN,EAAOhG,QAAQqG,GACrBnb,EAAQ+a,EAAWK,EAAIpb,MAAQkU,EAAApb,OAAOlB,WAC5C0B,EAAIwP,WAAWsS,EAAIhW,KAAMlZ,EAAI,EAAGE,EAAI,GAAS,GAAJ+uB,EAAQnb,IAKvDpU,UAAUygB,EAAiB0O,GACzB,OAAOA,EAAWjvB,KAAK6uB,eAAiB7uB,KAAK8uB,iGC/CjD,MAAA1G,EAAA9qB,EAAA,GAIAiyB,EAAAjyB,EAAA,GAEM6uB,EAAO,QACPC,EAAO,IAAIhE,EAAAhP,OAAO,EAAG,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACnE8C,EAAO,iCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,oBAAqB+O,EAAApb,OAAOV,aACxC,IAAI8b,EAAA/O,QAAQ,qBAAsB+O,EAAApb,OAAOhB,QACzC,IAAIoc,EAAA/O,QAAQ,uCAAwC+O,EAAApb,OAAOhB,SAG7DxO,EAAAgyB,MAAA,cAA2BD,EAAA1E,cACzB/qB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4f,KAAOzvB,KACd6P,EAAO6f,eACP7f,EAAOmd,WACPnd,EAAO8f,YACP9f,EAAOod,gGCzBX,MAAA7E,EAAA9qB,EAAA,GAMAE,EAAA6rB,WAAA,cAAgCjB,EAAAnW,MAY9BnS,YAAYwO,EAAYlO,EAAWE,EAAWrC,EAAc8P,GAC1DhO,MAAMuO,EAAMlO,EAAGE,EAAGrC,EAAM8P,GAAQ,GAChC/N,KAAK4vB,MAAQ,EACb5vB,KAAK6vB,GAAK,EACV7vB,KAAK8vB,MAAQ,EACb9vB,KAAK+vB,MAAQ,EACb/vB,KAAKgtB,SAAW,GAChBhtB,KAAK2vB,UAAY,GACjB3vB,KAAK0vB,aAAe,GACpB1vB,KAAKitB,aAAe,GACpBjtB,KAAK2sB,UAAY,IAAIvE,EAAApnB,UACrBhB,KAAKgwB,MAAQ,GAEbhwB,KAAK2sB,UAAUrI,YAAY,CAAClV,MAAO,CAACmR,EAAG0P,IAASjwB,KAAKukB,QAAQ0L,GAAO3gB,SAAU,CAACiR,EAAG0P,IAASjwB,KAAKwkB,WAAWyL,KAG7GC,uBACE,OAAOlwB,KAAKmwB,kBAAkBnwB,KAAKgtB,UAGrCoD,wBACE,OAAOpwB,KAAKmwB,kBAAkBnwB,KAAK2vB,WAGrCU,2BACE,OAAOrwB,KAAKmwB,kBAAkBnwB,KAAK0vB,cAGrCvC,2BACE,OAAOntB,KAAKmwB,kBAAkBnwB,KAAKitB,cAG7BntB,kBAAkBwwB,GACxB,OAAO9hB,KAAK2F,OAAOmc,EAAe,IAAM,GAG1CxwB,SAAS+pB,EAAe0G,GAClBA,EAAS,EACXvwB,KAAKsO,KAAKib,IAAIvpB,KAAK/B,KAAO,YAAc4rB,EAAO5rB,KAAO,QAAUsyB,EAAS,eAAgB,YAEzFvwB,KAAKsO,KAAKib,IAAIvpB,KAAK/B,KAAO,YAAc4rB,EAAO5rB,KAAO,yBAA0B,YAIpF6B,YACEC,MAAM2jB,YACN,IAAK,IAAIhmB,EAAIsC,KAAKgwB,MAAM7uB,OAAS,EAAGzD,GAAK,EAAGA,IAAK,CAC/C,MAAM8yB,EAAOxwB,KAAKgwB,MAAMtyB,GACxB8yB,EAAKxc,SACDwc,EAAKvO,UACPjiB,KAAKgwB,MAAM/gB,OAAOvR,EAAG,IAKnBoC,QAAQmwB,GACdjwB,KAAK+vB,OAASE,EAAKzH,WACnBxoB,KAAK0vB,cAAgBO,EAAKtH,kBAC1B3oB,KAAK2vB,WAAaM,EAAKvH,eACvB1oB,KAAKgtB,UAAYiD,EAAKxH,cACtBzoB,KAAKitB,cAAgBgD,EAAKrH,kBAGpB9oB,WAAWmwB,GACjBjwB,KAAK+vB,OAASE,EAAKzH,WACnBxoB,KAAK0vB,cAAgBO,EAAKtH,kBAC1B3oB,KAAK2vB,WAAaM,EAAKvH,eACvB1oB,KAAKgtB,UAAYiD,EAAKxH,cACtBzoB,KAAKitB,cAAgBgD,EAAKrH,mGCtF9B,MAEMpb,EAAM,IAFZlQ,EAAA,IAEgB6c,KAIZza,OAAO+wB,SAASC,MAAiC,MAAzBhxB,OAAO+wB,SAASC,OAC1ChxB,OAAO+wB,SAASC,KAAO,IAIzBhxB,OAAO6U,iBAAiB,aAExB,WACE,MAAMmc,EAAOhxB,OAAO+wB,SAASC,KAEhB,UAATA,EACFljB,EAAImjB,YAEc,gBAATD,EACTljB,EAAIojB,aAEc,iBAATF,EACTljB,EAAIqjB,cAEc,gBAATH,EACTljB,EAAIsjB,iBAEc,aAATJ,EACTljB,EAAIujB,cAGJvjB,EAAIwjB,gGC/BR,MAAAC,EAAA3zB,EAAA,GACA8qB,EAAA9qB,EAAA,GAGA4zB,EAAA5zB,EAAA,IAEA6zB,EAAA7zB,EAAA,IACA8zB,EAAA9zB,EAAA,IACA+zB,EAAA/zB,EAAA,IAGAE,EAAA2c,IAAA,cAAyB8W,EAAK9W,IAU5Bra,cACEC,MAAM,CACJiV,OAAQsc,SAASC,cAAc,UAC/B3V,SAAU,eACVlG,KAAM,IAAI0S,EAAAznB,KAAK,EAAG,EAAG,IAAK,KAC1Bga,YAAY,IAGd3a,KAAKwxB,SAAW,IAAIJ,EAAAK,SAASzxB,MAC7BA,KAAK0xB,SAAW,IAAIL,EAAAM,SAAS3xB,MAC7BA,KAAK4xB,UAAY,IAAIV,EAAAW,UAAU7xB,MAC/BA,KAAK8xB,WAAa,IAAI1J,EAAA1Q,SAAS1X,MAC/BA,KAAK+xB,QAAU,IAAI3J,EAAA1Q,SAAS1X,MAC5BA,KAAKsO,KAAO,IAAI6iB,EAAAzQ,KAAK1gB,MACrBA,KAAKgxB,eAGPlxB,eACEE,KAAKyY,MAAQzY,KAAKwxB,SAGpB1xB,aACEE,KAAKyY,MAAQzY,KAAK0xB,SAGpB5xB,cACEE,KAAKyY,MAAQzY,KAAK4xB,UAGpB9xB,YACEE,KAAKyY,MAAQzY,KAAKsO,KAEdtO,KAAKgyB,YACPhyB,KAAKgyB,WAAWC,WAAWjyB,KAAKsO,KAAKuB,QAGnC7P,KAAKkyB,aACPlyB,KAAKkyB,YAAYD,WAAWjyB,KAAKsO,KAAKuB,QAGxC7P,KAAKsO,KAAK6jB,YAGZryB,iBACEE,KAAKyY,MAAQzY,KAAK8xB,WAGpBhyB,cACEE,KAAKyY,MAAQzY,KAAK+xB,yFCtEtB,MAAA3J,EAAA9qB,EAAA,GAIA80B,EAAA90B,EAAA,GACA+0B,EAAA/0B,EAAA,IACAg1B,EAAAh1B,EAAA,IACAi1B,EAAAj1B,EAAA,IACAk1B,EAAAl1B,EAAA,IACAm1B,EAAAn1B,EAAA,IACAo1B,EAAAp1B,EAAA,IAEMq1B,EAAU,CAAC,IAAIP,EAAA5F,QAAW,IAAI6F,EAAAO,OAAU,IAAIN,EAAAO,OAAU,IAAIN,EAAAO,MAAS,IAAIN,EAAAO,QAAW,IAAIN,EAAAO,SAE5Fx1B,EAAAq0B,UAAA,cAA+BzJ,EAAA1Q,SAC7B5X,YAAY0N,GACVzN,MAAMyN,GAENxN,KAAKa,IAAIyM,SAAS2K,SAAW,IAAImQ,EAAAznB,KAAK,EAAG,GAAI,GAAI,IAEjDX,KAAKa,IAAIS,IAAI,IAAI8mB,EAAApD,aAAa,IAAIoD,EAAAznB,KAAK,EAAG,EAAG,IAAK,IAAK,IAAIynB,EAAA/O,QAAQ,oBAAqB+O,EAAApb,OAAOpB,SAE/F,MAAMqnB,EAAe,IAAI7K,EAAAxE,oBAAoB,IAAIwE,EAAAznB,KAAK,EAAG,GAAI,IAAK,KAAMgyB,GACxEM,EAAa3lB,SAAW,IAAIolB,EAAA9D,iBAAiB,GAAI,IAEjDqE,EAAahP,SAAW,CAACiP,IACtBlzB,KAAKwN,IAAY0kB,YAAcgB,EAChCxzB,OAAO+wB,SAASC,KAAO,SAGzBuC,EAAa/O,SAAW,MACtBxkB,OAAOyzB,QAAQC,SAGjBpzB,KAAKa,IAAIS,IAAI2xB,oFClCjB,MAAA7K,EAAA9qB,EAAA,GAEAE,EAAAotB,QAAA,cAA6BxC,EAAAvW,GAI3B/R,YAAYuO,EAAcglB,GACxBtzB,MAAMsO,GACNrO,KAAK+Z,SAAWsZ,EAChBrzB,KAAKga,MAAQ3L,EAAM4L,GAGrBna,OACME,KAAK+Z,SAAW,GAElB/Z,KAAKqO,MAAM+E,gBAAgB,IAAKgV,EAAApb,OAAOlB,YACvC9L,KAAK+Z,YAEL/Z,KAAKqO,MAAM4L,GAAKja,KAAKga,uFClB3B,MAAAoO,EAAA9qB,EAAA,GAEAg2B,EAAAh2B,EAAA,IACAquB,EAAAruB,EAAA,GACAuuB,EAAAvuB,EAAA,GAEAi2B,EAAAj2B,EAAA,IACAk2B,EAAAl2B,EAAA,IACAm2B,EAAAn2B,EAAA,IACAo2B,EAAAp2B,EAAA,IAEAwuB,EAAAxuB,EAAA,GAEM6uB,EAAO,SACPC,EAAO,IAAIhE,EAAAhP,OAAO,EAAG,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACnE6C,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACzD8C,EAAO,mDACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,kBAAmB+O,EAAApb,OAAOV,aACtC,IAAI8b,EAAA/O,QAAQ,oDAAqD+O,EAAApb,OAAOhB,SAG1ExO,EAAAo1B,OAAA,cAA4B9G,EAAAjD,eAC1B/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACT,MAAMvB,EAAOuB,EAAOvB,KAEpBuB,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAIyjB,EAAArF,kBAC1Cpe,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAIgc,EAAAZ,mBAC1Cpb,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI8b,EAAAe,mBAC1C7c,EAAO8c,UAAUrrB,IAAI,IAAIkyB,EAAAnF,aAAa/f,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAIiyB,EAAAnF,cAAc9f,IACvCuB,EAAO8c,UAAUrrB,IAAI,IAAImyB,EAAAnF,cAAchgB,IACvCuB,EAAO8c,UAAUrrB,IAAI,IAAIoyB,EAAAnF,UAAUjgB,IACnCuB,EAAOod,cAAgB,mFCvC3B,MAAA7E,EAAA9qB,EAAA,GAEAE,EAAA2wB,gBAAA,cAAqC/F,EAAAnb,OAOnCnN,YAAYwO,EAAYuM,EAAc8Y,EAAgB1T,GACpDlgB,MAAMkgB,GAAU,GAChBjgB,KAAKsO,KAAOA,EACZtO,KAAK6a,OAASA,EACd7a,KAAK2zB,OAASA,EACd3zB,KAAKigB,SAAWA,EAChBjgB,KAAK4zB,QAAU,GAGjB9zB,SACEC,MAAMiU,SAEN,MAAM1F,EAAOtO,KAAKsO,KACZulB,EAAY7zB,KAAK2zB,QAAU,GAAO3zB,KAAKkN,UAAY,IAAMlN,KAAKigB,SAAW,IACzE6T,EAAW9zB,KAAK6a,OAAQ,EAAIvM,EAAKiD,SAAStR,MAC1C8zB,EAAW/zB,KAAK6a,OAAQ,EAAIvM,EAAKiD,SAASrR,OAEhD,IAAK,IAAIxC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMi2B,EAASE,EACTG,EAAQh0B,KAAKkN,UAAYxP,EACzB0C,EAAI0zB,EAAUxlB,EAAKiD,SAAStR,MAAQ0zB,EAASnlB,KAAKylB,IAAID,GACtD1zB,EAAIyzB,EAAUzlB,EAAKiD,SAASrR,OAASyzB,EAASnlB,KAAK0lB,IAAIF,GACvD5I,EAAY,IAAIhD,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,EAAO,EAAGgP,EAAApb,OAAOD,QAC7Dse,EAAS,IAAIjD,EAAAhI,iBAAiBgL,EAAW,IAAIhD,EAAAvoB,KAAKO,EAAGE,GAAI,IAAI8nB,EAAAvoB,KAAK,EAAG,GAAI,IAC/EwrB,EAAOle,UAAW,EAClBmB,EAAKqE,QAAQzD,KAAKmc,qFClCxB,MAAAjD,EAAA9qB,EAAA,GAEAsuB,EAAAtuB,EAAA,GAGAwuB,EAAAxuB,EAAA,GAEM6uB,EAAO,SACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE6C,EAAS,IAAIjE,EAAAhP,OAAO,GAAI,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACzD8C,EAAO,kDACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,4BAA6B+O,EAAApb,OAAOV,aAChD,IAAI8b,EAAA/O,QAAQ,oDAAqD+O,EAAApb,OAAOhB,SAG1ExO,EAAAq1B,OAAA,cAA4B/G,EAAAjD,eAC1B/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI+b,EAAAxB,cAC1Cva,EAAOmd,UAAY,EACnBnd,EAAO8f,WAAa,mFC1BxB,MAAAvH,EAAA9qB,EAAA,GAEAsuB,EAAAtuB,EAAA,GACA62B,EAAA72B,EAAA,IAGAwuB,EAAAxuB,EAAA,GAEM6uB,EAAO,QACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE6C,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACzD8C,EAAO,yCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOV,aAAc,IAAI8b,EAAA/O,QAAQ,sCAAuC+O,EAAApb,OAAOhB,QAC3G,IAAIoc,EAAA/O,QAAQ,+CAAgD+O,EAAApb,OAAOhB,SAGrExO,EAAAs1B,MAAA,cAA2BhH,EAAAjD,eACzB/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI+b,EAAAxB,cAC1Cva,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAIskB,EAAAC,sBAC1CvkB,EAAO8f,WAAa,mFC3BxB,MAAAvH,EAAA9qB,EAAA,GAEM+2B,EAAQ,GACRhI,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACvEW,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,gBAAiB+O,EAAApb,OAAOpB,OACpC,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,iDAAkD+O,EAAApb,OAAOhB,QACrE,IAAIoc,EAAA/O,QAAQ,qBAAsB+O,EAAApb,OAAOhB,SAG3CxO,EAAA42B,oBAAA,MASEt0B,cACEE,KAAK+N,OAASse,EACdrsB,KAAK/B,KAAO,gBACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWF,OAC7B/Q,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAW+J,EAChBr0B,KAAKoO,SAAW,GAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAeV,GAClB,MAAMvb,EAAOic,EAAOjc,KAEpB,GADiBic,EAAO5Q,WAAWkQ,GACpBwK,EAIb,OAHI9J,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,EAGT,GAAIwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,GAI3D,OAHIiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,EAGT,IAAIwoB,EAAe,KACfC,EAAmB,EAEvB,IAAK,IAAIj0B,EAAIupB,EAAOvpB,EAAI,EAAGA,GAAKupB,EAAOvpB,EAAI,EAAGA,IAC5C,IAAK,IAAIF,EAAIypB,EAAOzpB,EAAI,EAAGA,GAAKypB,EAAOzpB,EAAI,EAAGA,IAAK,CACjD,GAAIoO,KAAKmD,MAAMvR,EAAIypB,EAAOzpB,EAAGE,EAAIupB,EAAOvpB,GAAK,MAE3C,SAEF,GAAIgO,EAAKoE,UAAUtS,EAAGE,GAEpB,SAEF,MAAMorB,EAAWnB,EAAOmB,SAAStrB,EAAGE,GAChCorB,EAAW6I,IACbD,EAAe,IAAIlM,EAAAvoB,KAAKO,EAAGE,GAC3Bi0B,EAAmB7I,GAKzB,IAAK4I,EAIH,OAHI/J,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,4BAA6BnB,EAAApb,OAAOlB,aAExC,EAGT,MACM0e,GAAU8J,EAAal0B,EAAImqB,EAAOnqB,GAAKkO,EAAKiD,SAAStR,MAD7C,EAERwqB,GAAU6J,EAAah0B,EAAIiqB,EAAOjqB,GAAKgO,EAAKiD,SAASrR,OAF7C,EAGRwqB,EAAc,IAAItC,EAAAxV,YAAY2X,EAAQC,EAAQC,EAHtC,GAUd,OANAC,EAAYxI,OAAS,MACnBqI,EAAO1Q,OAAOgQ,EAAQ,IACtBU,EAAOnY,OAGT9D,EAAKqE,QAAQzD,KAAKwb,IACX,mFCrFX,MAAAtC,EAAA9qB,EAAA,GAEAk3B,EAAAl3B,EAAA,IACAm3B,EAAAn3B,EAAA,IACAuuB,EAAAvuB,EAAA,GAEAi2B,EAAAj2B,EAAA,IACAk2B,EAAAl2B,EAAA,IACAm2B,EAAAn2B,EAAA,IACAo2B,EAAAp2B,EAAA,IAEAwuB,EAAAxuB,EAAA,GAEM6uB,EAAO,UACPC,EAAO,IAAIhE,EAAAhP,OAAO,GAAI,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACpE6C,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACzD8C,EAAO,iCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,mCAAoC+O,EAAApb,OAAOV,aACvD,IAAI8b,EAAA/O,QAAQ,2CAA4C+O,EAAApb,OAAOhB,SAGjExO,EAAAu1B,QAAA,cAA6BjH,EAAAjD,eAC3B/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACT,MAAMvB,EAAOuB,EAAOvB,KAEpBuB,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI2kB,EAAAE,eAC1C7kB,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAIgc,EAAAZ,mBAC1Cpb,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI4kB,EAAAE,wBAC1C9kB,EAAO8c,UAAUrrB,IAAI,IAAIkyB,EAAAnF,aAAa/f,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAIiyB,EAAAnF,cAAc9f,IACvCuB,EAAO8c,UAAUrrB,IAAI,IAAImyB,EAAAnF,cAAchgB,IACvCuB,EAAO8c,UAAUrrB,IAAI,IAAIoyB,EAAAnF,UAAUjgB,IACnCuB,EAAO6f,cAAgB,EACvB7f,EAAOod,cAAgB,mFCxC3B,MAAA7E,EAAA9qB,EAAA,GAEAk3B,EAAAl3B,EAAA,IAGM+2B,EAAQ,EACRhI,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAOoQ,EAAW,YAC3DW,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,QAAS+O,EAAApb,OAAOpB,OAC5B,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOpB,OACnC,IAAIwc,EAAA/O,QAAQ,wCAAyC+O,EAAApb,OAAOhB,QAC5D,IAAIoc,EAAA/O,QAAQ,yBAA0B+O,EAAApb,OAAOhB,SAG/CxO,EAAAk3B,aAAA,MASE50B,cACEE,KAAK+N,OAASse,EACdrsB,KAAK/B,KAAO,QACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWF,OAC7B/Q,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAW+J,EAChBr0B,KAAKoO,SAAW,EAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAeV,GAClB,MAAMvb,EAAOic,EAAOjc,KAEpB,OAAIic,EAAO5Q,WAAWkQ,GAAUwK,GAC1B9J,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,GAGLwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,IACvDiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,IAKT+d,EAAOmG,MAAM9gB,KAAK,IAAIslB,EAAAI,MAAM/K,EAAQ,EAAG,KACvCU,EAAOnY,MACA,oFCrDX,MAAAyiB,EAAAv3B,EAAA,IAEAE,EAAAo3B,MAAA,cAA2BC,EAAAC,KAIzBh1B,YAAYuO,EAAmBkiB,EAAgBtQ,GAC7ClgB,MAAMsO,GACNrO,KAAKuwB,OAASA,EACdvwB,KAAKkN,UAAY+S,EAGnBngB,SACME,KAAKkN,UAAY,IACnBlN,KAAKqO,MAAM4E,WAAWjT,KAAKuwB,QAC3BvwB,KAAKkN,aAITpN,SACE,OAAOE,KAAKkN,WAAa,mFCpB7B1P,EAAAs3B,KAAA,MAGEh1B,YAAYuO,GACVrO,KAAKqO,MAAQA,EAGfvO,UAEAA,SACE,OAAO,mFCZX,MAAAsoB,EAAA9qB,EAAA,GAGAy3B,EAAAz3B,EAAA,IAEM+2B,EAAQ,GACRhI,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAC1DW,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,kBAAmB+O,EAAApb,OAAOpB,OACtC,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,wCAAyC+O,EAAApb,OAAOhB,QAC5D,IAAIoc,EAAA/O,QAAQ,sDAAuD+O,EAAApb,OAAOhB,SAG5ExO,EAAAm3B,sBAAA,MASE70B,cACEE,KAAK+N,OAASse,EACdrsB,KAAK/B,KAAO,kBACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWD,KAC7BhR,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAW+J,EAChBr0B,KAAKoO,SAAW,GAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAoBV,GACvB,MAAMvb,EAAOic,EAAOjc,KAEpB,GADiBic,EAAO5Q,WAAWkQ,GACpBwK,EAIb,OAHI9J,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,EAGT,GAAIwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,GAI3D,OAHIiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,EAGT,MAAMkpB,EAAW,IAAID,EAAAtG,QAAQngB,EAAMic,EAAOnqB,EAAGmqB,EAAOjqB,EAAGiqB,GACjD0K,EAAW,IAAIF,EAAAtG,QAAQngB,EAAMub,EAAOzpB,EAAGypB,EAAOvpB,EAAGiqB,GAOvD,OANAyK,EAASE,MAAQD,EACjBA,EAASC,MAAQF,EACjB1mB,EAAKgF,SAASpE,KAAK8lB,GACnB1mB,EAAKgF,SAASpE,KAAK+lB,GACnB1K,EAAOzX,KAAK+W,EAAOzpB,EAAImqB,EAAOnqB,EAAGypB,EAAOvpB,EAAIiqB,EAAOjqB,EAAG,IACtDiqB,EAAOnY,MACA,mFC3DX,MAAAgW,EAAA9qB,EAAA,GAEAsuB,EAAAtuB,EAAA,GAGAwuB,EAAAxuB,EAAA,GACAyuB,EAAAzuB,EAAA,GACA0uB,EAAA1uB,EAAA,IACA2uB,EAAA3uB,EAAA,IACA4uB,EAAA5uB,EAAA,IAEM6uB,EAAO,UACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE6C,EAAS,IAAIjE,EAAAhP,OAAO,EAAG,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACvD8C,EAAO,qCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,+BAAgC+O,EAAApb,OAAOV,aACnD,IAAI8b,EAAA/O,QAAQ,oDAAqD+O,EAAApb,OAAOhB,SAG1ExO,EAAAw1B,QAAA,cAA6BlH,EAAAjD,eAC3B/oB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACT,MAAMvB,EAAOuB,EAAOvB,KAEpBuB,EAAO4c,MAAQzsB,KACf6P,EAAO9B,OAASse,EAChBxc,EAAO0C,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO/V,EAAQ,IAAI+b,EAAAxB,cAC1Cva,EAAO8c,UAAUrrB,IAAI,IAAIyqB,EAAAa,YAAYte,IACrCuB,EAAO8c,UAAUrrB,IAAI,IAAI0qB,EAAAa,aAAave,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAI2qB,EAAAa,aAAaxe,IACtCuB,EAAO8c,UAAUrrB,IAAI,IAAI4qB,EAAAa,iBAAiBze,IAC1CuB,EAAO6f,cAAgB,EACvB7f,EAAOmd,UAAY,mFCpCvB,MAAAiE,EAAA3zB,EAAA,GACA8qB,EAAA9qB,EAAA,GAEA63B,EAAA73B,EAAA,IAEA83B,EAAA93B,EAAA,IACA+3B,EAAA/3B,EAAA,IACAg4B,EAAAh4B,EAAA,IACAi4B,EAAAj4B,EAAA,IACAk4B,EAAAl4B,EAAA,IACAy3B,EAAAz3B,EAAA,IAKMm4B,EAAgB,IAAIrN,EAAAhP,OAAO,GAAI,GAHhB,GACC,IAItB5b,EAAAkjB,KAAA,cAA0BuQ,EAAKvQ,KAI7B5gB,YAAY0N,GACVzN,MAAMyN,EAAK,CAAC+D,SAAU,IAAI6W,EAAAznB,KAAK,EAAG,EAAG,GAAI,IAAKsgB,aAAc,IAE5DjhB,KAAKyiB,aAAegT,EACpBz1B,KAAKuO,eAAiB,IAAI6Z,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,IAClDpZ,KAAKkgB,aAAe,IAAIkI,EAAAznB,KAAK,EAAG,GAAI,GAAI,IACxCX,KAAKa,IAAIyM,SAAS2K,SAAW,IAAImQ,EAAAznB,KAAK,EAAG,GAAI,GAAI,IAEjDX,KAAK01B,OAAS,IAAIF,EAAAG,aAAa31B,MAE/B,MAAM6P,EAAS,IAAIulB,EAAAQ,OAAO51B,KAAM,GAAI,IACpC6P,EAAO+f,MAAQ,EACf/f,EAAOgmB,GAAK,EACZhmB,EAAOimB,MAAQ,GACfjmB,EAAOyT,OAAS,CAAC4R,IACf,KAAIA,aAAiBH,EAAAtG,SAOrB,OAAIyG,aAAiB9M,EAAAzC,MACnB9V,EAAO+J,WAAWsb,EAAM90B,EAAG80B,EAAM50B,GACjCuP,EAAOkmB,OAAOb,IACP,GAELA,aAAiB9M,EAAAnW,OAGnBpC,EAAOgK,OAAOqb,EAAO,KACd,GAEU,WAAfA,EAAMj3B,OACR+B,KAAKg2B,YACE,GAnBP,GAAId,EAAMA,MAAO,CACf,MAAMe,EAAOf,EAAMA,MACnBrlB,EAAOiD,KAAKmjB,EAAK71B,EAAIyP,EAAOzP,EAAG61B,EAAK31B,EAAIuP,EAAOvP,EAAG,OAsBxDN,KAAK6P,OAASA,EACd7P,KAAKsT,SAASpE,KAAKW,GACnB7P,KAAKa,IAAIyM,SAAS2K,SAAW,IAAImQ,EAAAznB,KAAK,EAAG,GAAI,GAAI,IACjDX,KAAKa,IAAIyM,SAASmD,eAAiB,IAAI2X,EAAAznB,KAAK,GAAI,GAAI,GAAI,IACxDX,KAAKkhB,WAAa,IAAIkH,EAAAtD,WAAW,IAAIsD,EAAAznB,KAAK,GAAI,GAAI,IAAK,KACvDX,KAAKa,IAAIS,IAAItB,KAAKkhB,YAClBlhB,KAAKupB,IAAI,uCAAwCnB,EAAApb,OAAOZ,UAExD,MAAM8pB,EAAW,IAAIX,EAAAY,SAAStmB,GAC9B7P,KAAKa,IAAIS,IAAI40B,GAEb,MAAME,EAAc,IAAIf,EAAAgB,YACxBr2B,KAAKa,IAAIS,IAAI80B,GAEb,MAAME,EAAkB,IAAIlO,EAAAva,OACxB,IAAIua,EAAAznB,KAAK,EAAG,EAAG,GAAI,IACnB,IAAIynB,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,EAAM,GAAI,iBAC1CoQ,EACA,KACE+M,EAAgBr1B,SAAWq1B,EAAgBr1B,QAC3Cs1B,EAAct1B,SAAU,EACxBu1B,EAAgBv1B,SAAU,IAEhCo1B,EAAgBpoB,gBAAkB,CAChC,IAAIka,EAAA/O,QAAQ,sBAAwB+O,EAAApb,OAAOX,OAC3C,IAAI+b,EAAA/O,QAAQ,gBAAiB+O,EAAApb,OAAOhB,QACpC,IAAIoc,EAAA/O,QAAQ,cAAe+O,EAAApb,OAAOpB,OAClC,IAAIwc,EAAA/O,QAAQ,uBAAwB+O,EAAApb,OAAOpB,QAE7CwqB,EAAYM,cAAcp1B,IAAIg1B,GAE9B,MAAMK,EAAkB,IAAIvO,EAAAva,OACxB,IAAIua,EAAAznB,KAAK,EAAG,EAAG,GAAI,IACnB,IAAIynB,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,iBAC9DA,EACA,KACEiN,EAAgBv1B,SAAWu1B,EAAgBv1B,QAC3Cq1B,EAAgBr1B,SAAU,EAC1Bs1B,EAAct1B,SAAU,IAE9By1B,EAAgBzoB,gBAAkB,CAChC,IAAIka,EAAA/O,QAAQ,YAAa+O,EAAApb,OAAOpB,OAChC,IAAIwc,EAAA/O,QAAQ,4BAA6B+O,EAAApb,OAAOhB,QAChD,IAAIoc,EAAA/O,QAAQ,uBAAwB+O,EAAApb,OAAOhB,SAE7CkqB,EAASU,cAAct1B,IAAIq1B,GAE3B,MAAME,EAAgB,IAAIzO,EAAAva,OACtB,IAAIua,EAAAznB,KAAK,EAAG,EAAG,GAAI,IACnB,IAAIynB,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAWpB,EAAApb,OAAOL,iBACrE6c,EAAW,KACTgN,EAAct1B,SAAWs1B,EAAct1B,QACvCq1B,EAAgBr1B,SAAU,EAC1Bu1B,EAAgBv1B,SAAU,IAEhC21B,EAAc3oB,gBAAkB,CAC9B,IAAIka,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,wBAAyB+O,EAAApb,OAAOhB,QAC5C,IAAIoc,EAAA/O,QAAQ,uBAAyB+O,EAAApb,OAAOhB,SAE9CkqB,EAASY,YAAYx1B,IAAIu1B,GAEzB,MAAME,EAAa,IAAI3O,EAAAva,OACnB,IAAIua,EAAAznB,KAAK,EAAG,EAAG,GAAI,IACnB,IAAIynB,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAWpB,EAAApb,OAAOlB,iBACrE0d,EACA,KACE9pB,OAAO+wB,SAASC,KAAO,SAE7BqG,EAAW7oB,gBAAkB,CAAC,IAAIka,EAAA/O,QAAQ,YAAa+O,EAAApb,OAAOpB,QAC9DsqB,EAASc,SAAS11B,IAAIy1B,GAEtB,MAAMR,EAAkB,IAAInO,EAAAjE,oBACxB,IAAIiE,EAAAznB,KAAK,EAAG,GAAI,GAAI,KACpB,CACE,IAAIynB,EAAA/O,QAAQ,sBAAwB+O,EAAApb,OAAOX,OAC3C,IAAI+b,EAAA/O,QAAQ,uBAAwB+O,EAAApb,OAAOlB,YAC3C,IAAIsc,EAAA/O,QAAQ,oBAAqB+O,EAAApb,OAAOlB,aAE1C,GACA+D,EAAOyC,WACXikB,EAAgBr1B,SAAU,EAC1BlB,KAAKa,IAAIS,IAAIi1B,GAEb,MAAME,EAAkB,IAAInB,EAAA2B,gBAAgB,IAAI7O,EAAAznB,KAAK,EAAG,GAAI,IAAK,KAAMkP,GACvE4mB,EAAgBv1B,SAAU,EAC1BlB,KAAKa,IAAIS,IAAIm1B,GAEb,MAAMD,EAAgB,IAAIpO,EAAA1C,cACtB,IAAI0C,EAAAznB,KAAK,EAAG,GAAI,GAAI,KACpB,CACE,IAAIynB,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOX,OAC9B,IAAI+b,EAAA/O,QAAQ,0BAA2B+O,EAAApb,OAAOlB,YAC9C,IAAIsc,EAAA/O,QAAQ,oBAAqB+O,EAAApb,OAAOlB,aAE1C,GACA+D,EAAO0C,SACXikB,EAAct1B,SAAU,EACxBlB,KAAKa,IAAIS,IAAIk1B,GAEb3mB,EAAOyC,UAAUgS,YAAY,CAC3BlV,MAAO,CAACmR,EAAG0P,KACTmG,EAAYc,YAAY3S,QAAQ1U,EAAOyC,UAAW2d,GAAM,IAE1D3gB,SAAU,SAGZO,EAAO0C,QAAQ+R,YAAY,CACzBlV,MAAO,CAACmR,EAAGvS,KACTooB,EAAYc,YAAYC,UAAUnpB,IAEpCsB,SAAU,SAIZtP,KAAK01B,OAAO0B,YAGdt3B,WACE,MAAMu3B,EAAU,IAAIjP,EAAAjI,cAAc,IAElCkX,EAAQnV,OAAS,MAEfliB,KAAKupB,IAAI,wDAAyDnB,EAAApb,OAAOH,eACzE7M,KAAKupB,IAAI,sDAAuDnB,EAAApb,OAAOb,WACvEnM,KAAKmyB,cAEPnyB,KAAK2S,QAAQzD,KAAKmoB,GAGpBv3B,YAEEE,KAAKsT,SAASrE,OAAO,EAAGjP,KAAKsT,SAASnS,QACtCnB,KAAKsT,SAASpE,KAAKlP,KAAK6P,QAGxB7P,KAAKojB,eACLpjB,KAAK01B,OAAO0B,YAEZ,MAAME,EAAS,IAAIlP,EAAApI,aAAa,IAChCsX,EAAOpV,OAAS,MACdliB,KAAK2S,QAAQzD,KAAK,IAAIimB,EAAAoC,gBAAgBv3B,SAExCA,KAAK2S,QAAQzD,KAAKooB,oFC5MtB,MAAAlP,EAAA9qB,EAAA,GAKAE,EAAA+5B,gBAAA,cAAqCnP,EAAAnb,OAMnCnN,YAAYwO,GACVvO,MAAM,KAAK,GACXC,KAAKsO,KAAOA,EACZtO,KAAKw3B,IAAMx3B,KAAKsO,KAAKkpB,IACrBx3B,KAAKmjB,KAAOiF,EAAA9P,YAAYhK,EAAKiU,QAAoBviB,KAAKw3B,IAAKx3B,KAAKw3B,IAAIC,YAAqB,KACzFz3B,KAAKghB,UAAY,EAGnBlhB,SACE,GAAIE,KAAKsO,KAAKuE,QAEZ,OAGF,IAAK7S,KAAKmjB,KAGR,YADAnjB,KAAK03B,YAIP,GAAI13B,KAAKsO,KAAKiU,UAAYviB,KAAKsO,KAAKiU,QAAQG,UAAU1iB,KAAKw3B,IAAIp3B,EAAGJ,KAAKw3B,IAAIl3B,GAGzE,YADAN,KAAK03B,YAIP,IAAIC,EAAW,KAEf,IADAA,EAAW33B,KAAKmjB,KAAKnjB,KAAKghB,WACnB2W,GAAYA,EAASv3B,IAAMJ,KAAKw3B,IAAIp3B,GAAKu3B,EAASr3B,IAAMN,KAAKw3B,IAAIl3B,GACtEN,KAAKghB,YACL2W,EAAW33B,KAAKghB,UAAYhhB,KAAKmjB,KAAKhiB,OAASnB,KAAKmjB,KAAKnjB,KAAKghB,WAAa,KAG7E,IAAK2W,EAGH,YADA33B,KAAK03B,YAIP,MAAM5jB,EAAK6jB,EAASv3B,EAAIJ,KAAKw3B,IAAIp3B,EAC3B2T,EAAK4jB,EAASr3B,EAAIN,KAAKw3B,IAAIl3B,EAE3BkqB,EAASxqB,KAAKsO,KAAKiD,SAAStR,MADpB,EAERwqB,EAASzqB,KAAKsO,KAAKiD,SAASrR,OAFpB,EAGdF,KAAKsO,KAAKqE,QAAQilB,QAAQ,IAAIxP,EAAAxV,YAAY5S,KAAKw3B,IAAK1jB,EAAK0W,EAAQzW,EAAK0W,EAHxD,IAIdzqB,KAAKsO,KAAKuE,SAAU,EAGtB/S,YAEEE,KAAKkN,UAAY,EAGjB,MAAM2qB,EAAQ73B,KAAKsO,KAAKgF,SAASjE,QAAQrP,KAAKw3B,KAC1CK,GACF73B,KAAKsO,KAAKgF,SAASrE,OAAO4oB,EAAO,oFClEvC,MAAAzP,EAAA9qB,EAAA,GAGA80B,EAAA90B,EAAA,GAGAw6B,EAAAx6B,EAAA,IAEA2rB,EAAA3rB,EAAA,IAEMy6B,EAAgB,IAAI3P,EAAAhP,OAAO,EAAG,GAAI,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAEpEhsB,EAAAo4B,OAAA,cAA4B3M,EAAAI,WAM1BvpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,SAAUy3B,GAC5B/3B,KAAK4vB,MAAQ,EACb5vB,KAAK61B,GAAK,EACV71B,KAAK81B,MAAQ,IACb91B,KAAKyvB,KAAO,IAAIqI,EAAAtI,MAChBxvB,KAAKysB,MAAQ,IAAI2F,EAAA5F,QAGnB1sB,UACEE,KAAKsO,KAAKib,IAAI,aAGhBzpB,MAAMk4B,GAIJ,IAHAh4B,KAAK61B,IAAMmC,EACXh4B,KAAKoT,gBAAgB,IAAM4kB,EAAQ5P,EAAApb,OAAOH,eAEnC7M,KAAK61B,IAAM71B,KAAK81B,OACrB91B,KAAK4vB,QACL5vB,KAAK61B,GAAK,EACV71B,KAAK81B,OAAS,EACd91B,KAAKsO,KAAKib,IAAI,qBAAuBvpB,KAAK4vB,MAAOxH,EAAApb,OAAOH,gGCvC9D,MAAAub,EAAA9qB,EAAA,GAEAE,EAAA64B,YAAA,cAAiCjO,EAAAxnB,MAC/Bd,cACEC,MAAM,IAAIqoB,EAAAznB,KAAK,GAAI,GAAI,IAAK,KAG5BX,KAAKsB,IAAI,IAAI8mB,EAAA/C,YAAY,IAAI+C,EAAAznB,KAAK,EAAG,EAAG,IAAQ,IAAK,IAGrDX,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,IAAK,EAAG,GAAI,IAAKynB,EAAA3c,KAAKxG,OAGzDiyB,kBACE,OAAOl3B,KAAKe,SAASxC,IAAI,GAG3Bm4B,oBACE,OAAO12B,KAAKe,SAASxC,IAAIyB,KAAKe,SAASI,OAAS,GAGlDrB,eACE,IAAKE,KAAKa,IACR,OAGF,MAAM2M,EAAMxN,KAAKa,IAAI2M,IACflN,EAAIkN,EAAIkI,KAAKxV,OAAS,GAC5BsN,EAAIqB,UAAU,EAAGvO,EAAG,GAAI,GAAI,GAAI,QAAIkpB,EAAWhc,EAAIkI,KAAKzV,MAAO,IAI/D,IAAK,IAAIvC,EAAI,EAAGA,EAAIsC,KAAKe,SAASI,OAAQzD,IACxCsC,KAAKe,SAASxC,IAAIb,GAAGoD,KAAKR,EAAIkN,EAAIkI,KAAKxV,OAAS,GAIlDF,KAAK02B,cAAc51B,KAAKV,EAAIoN,EAAIkI,KAAKzV,MAAQ,GAE7CD,KAAK2B,gGCvCT,MAAAymB,EAAA9qB,EAAA,GAGA+vB,EAAA/vB,EAAA,GAEM26B,EAAS,EACTC,EAAiB,EAEvB16B,EAAAy5B,gBAAA,cAAqC7O,EAAAhb,OAGnCtN,YAAYgB,EAAY+O,GACtB9P,MAAMe,GACNd,KAAK6P,OAASA,EACd7P,KAAKiB,OAAQ,EAGb,IAAK,IAAIvD,EAAI,EAAGA,EADC,GACaA,IAE5BsC,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,EAAG,EAAG,GAAI,MAG7CkP,EAAO8c,UAAUrI,YACb,CAAClV,MAAO,CAACmR,EAAG0P,IAASjwB,KAAKukB,QAAQ0L,GAAO3gB,SAAU,CAACiR,EAAG0P,IAASjwB,KAAKwkB,WAAWyL,KAGtFkI,eACE,OAAOn4B,KAAKe,SAASxC,IAAI,GAG3B65B,eACE,OAAOp4B,KAAKe,SAASxC,IAAI,GAG3B85B,eACE,OAAOr4B,KAAKe,SAASxC,IAAI,GAG3B+5B,gBACE,OAAOt4B,KAAKe,SAASxC,IAAI,GAG3Bg6B,gBACE,OAAOv4B,KAAKe,SAASxC,IAAI,GAG3Bi6B,eACE,OAAOx4B,KAAKe,SAASxC,IAAI,GAG3Bk6B,eACE,OAAOz4B,KAAKe,SAASxC,IAAI,GAG3Bm6B,eACE,OAAO14B,KAAKe,SAASxC,IAAI,GAG3Bo6B,mBACE,OAAO34B,KAAKe,SAASxC,IAAI,GAG3Bq6B,kBACE,OAAO54B,KAAKe,SAASxC,IAAI,GAGnBuB,QAAQmwB,GACd,MAAM1H,EAAOvoB,KAAK64B,QAAQ5I,GACtB1H,GACFA,EAAKjnB,IAAI,IAAI8mB,EAAAxX,WAAW2X,EAAKznB,KAAK0Y,QAASxZ,KAAK6P,OAAOyC,UAAW2d,IAI9DnwB,WAAWmwB,GACjB,MAAM1H,EAAOvoB,KAAK64B,QAAQ5I,GAC1B,GAAI1H,EAAM,CACR,MAAM/X,EAAS+X,EAAK/X,OAChBA,GACF+X,EAAKhnB,OAAOiP,IAKV1Q,QAAQmwB,GACd,OAAQA,EAAK1H,MACX,KAAK8E,EAAAhF,cAAcyQ,KACjB,OAAO94B,KAAKm4B,SACd,KAAK9K,EAAAhF,cAAc0Q,KACjB,OAAO/4B,KAAKo4B,SACd,KAAK/K,EAAAhF,cAAc2Q,KACjB,OAAOh5B,KAAKq4B,SACd,KAAKhL,EAAAhF,cAAckF,MACjB,OAAOvtB,KAAKs4B,UACd,KAAKjL,EAAAhF,cAAc4Q,MACjB,OAAOj5B,KAAKu4B,UACd,KAAKlL,EAAAhF,cAAcmF,KACjB,OAAOxtB,KAAKw4B,SACd,KAAKnL,EAAAhF,cAAcoF,KACjB,OAAOztB,KAAKy4B,SACd,KAAKpL,EAAAhF,cAAc6Q,KACjB,OAAOl5B,KAAK04B,SACd,KAAKrL,EAAAhF,cAAcqF,SACjB,OAAO1tB,KAAK24B,aACd,KAAKtL,EAAAhF,cAAc8Q,QACjB,OAAOn5B,KAAK44B,YACd,QACE,QAIN94B,eAGE,GAFAC,MAAM6B,gBAED5B,KAAKa,MAAQb,KAAKa,IAAIyM,SAASmD,eAClC,OAIF,MAAM2oB,EAAgBp5B,KAAKc,KACrBu4B,EAAar5B,KAAKa,IAAIyM,SAASmD,eAC/BqjB,GAAYsF,EAAcj5B,GAAKi5B,EAAc74B,IAAM,EAAK,EACxDH,EAAIg5B,EAAch5B,EAAI63B,EAC5B,IAAI33B,EAAI84B,EAAc94B,EAAI23B,EAE1Bj4B,KAAKa,IAAI2M,IAAIsB,mBAAmB,iBAAkBglB,EAASxzB,EAAG8nB,EAAApb,OAAOpB,OACrEtL,GAAK,GAEL,MAAMg5B,EAAO,SAAWt5B,KAAK6P,OAAO+f,MAAQ,IAAM5vB,KAAK6P,OAAO4f,KAAKxxB,KAAO,IAAM+B,KAAK6P,OAAO4c,MAAMxuB,KAElG+B,KAAKa,IAAI2M,IAAIsB,mBAAmBwqB,EAAMxF,EAASxzB,EAAG8nB,EAAApb,OAAOpB,OACzDtL,GAAK,GAGLN,KAAK6P,OAAO9B,OAAOR,KAAKvN,KAAKa,IAAI2M,IAAKsmB,EAAU,EAAGxzB,EAAI,IAGvD,IAAK,IAAI5C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM67B,EAAQv5B,KAAKe,SAASxC,IAAIb,GAChC67B,EAAMz4B,KAAKV,EAAIA,EACfm5B,EAAMz4B,KAAKR,EAAIA,EAAI5C,GAAK27B,EAAWn5B,OAASg4B,GAC5CqB,EAAMz4B,KAAKb,MAAQo5B,EAAWp5B,MAC9Bs5B,EAAMz4B,KAAKZ,OAASm5B,EAAWn5B,OAIjC,IAAK,IAAIxC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM67B,EAAQv5B,KAAKe,SAASxC,IAAI,EAAIb,GACpC67B,EAAMz4B,KAAKV,EAAIg5B,EAAc74B,GAAK03B,EAASoB,EAAWp5B,MACtDs5B,EAAMz4B,KAAKR,EAAIA,EAAI5C,GAAK27B,EAAWn5B,OAASg4B,GAC5CqB,EAAMz4B,KAAKb,MAAQo5B,EAAWp5B,MAC9Bs5B,EAAMz4B,KAAKZ,OAASm5B,EAAWn5B,OAGjCF,KAAK24B,aAAa73B,KAAKV,EAAI0zB,EAAUuF,EAAWp5B,MAAQ,EACxDD,KAAK24B,aAAa73B,KAAKR,EAAIA,EAAI,GAC/BN,KAAK24B,aAAa73B,KAAKb,MAAQo5B,EAAWp5B,MAC1CD,KAAK24B,aAAa73B,KAAKZ,OAASm5B,EAAWn5B,OAE3CF,KAAK44B,YAAY93B,KAAKV,EAAI0zB,EAAU,EACpC9zB,KAAK44B,YAAY93B,KAAKR,EAAIA,EAAI,GAC9BN,KAAK44B,YAAY93B,KAAKb,MAAQo5B,EAAWp5B,MACzCD,KAAK44B,YAAY93B,KAAKZ,OAASm5B,EAAWn5B,OAE1CI,GAAK,GAAK+4B,EAAWn5B,OAASg4B,GAAkBD,EAEhDj4B,KAAKa,IAAI2M,IAAIwP,WAAW,QAAS5c,EAAGE,EAAG8nB,EAAApb,OAAOhB,QAC9ChM,KAAKa,IAAI2M,IAAIuC,gBAAgB/P,KAAK6P,OAAOkgB,MAAMhhB,WAAY3O,EAAI,GAAIE,EAAG8nB,EAAApb,OAAOpB,OAC7EtL,GAAK,GAELN,KAAKa,IAAI2M,IAAIwP,WAAW,eAAgB5c,EAAGE,EAAG8nB,EAAApb,OAAOhB,QACrDhM,KAAKa,IAAI2M,IAAIuC,gBAAgB/P,KAAK6P,OAAO6f,aAAa3gB,WAAY3O,EAAI,GAAIE,EAAG8nB,EAAApb,OAAOpB,OACpF5L,KAAKa,IAAI2M,IAAIuC,gBAAgB,IAAM/P,KAAK6P,OAAOwgB,qBAAsBjwB,EAAI,IAAKE,EAAG8nB,EAAApb,OAAOV,aACxFhM,GAAK,GAELN,KAAKa,IAAI2M,IAAIwP,WAAW,WAAY5c,EAAGE,EAAG8nB,EAAApb,OAAOhB,QACjDhM,KAAKa,IAAI2M,IAAIuC,gBAAgB/P,KAAK6P,OAAOmd,SAASje,WAAY3O,EAAI,GAAIE,EAAG8nB,EAAApb,OAAOpB,OAChF5L,KAAKa,IAAI2M,IAAIuC,gBAAgB,IAAM/P,KAAK6P,OAAOqgB,iBAAkB9vB,EAAI,IAAKE,EAAG8nB,EAAApb,OAAOV,aACpFhM,GAAK,GAELN,KAAKa,IAAI2M,IAAIwP,WAAW,YAAa5c,EAAGE,EAAG8nB,EAAApb,OAAOhB,QAClDhM,KAAKa,IAAI2M,IAAIuC,gBAAgB/P,KAAK6P,OAAO8f,UAAU5gB,WAAY3O,EAAI,GAAIE,EAAG8nB,EAAApb,OAAOpB,OACjF5L,KAAKa,IAAI2M,IAAIuC,gBAAgB,IAAM/P,KAAK6P,OAAOugB,kBAAmBhwB,EAAI,IAAKE,EAAG8nB,EAAApb,OAAOV,aACrFhM,GAAK,GAELN,KAAKa,IAAI2M,IAAIwP,WAAW,eAAgB5c,EAAGE,EAAG8nB,EAAApb,OAAOhB,QACrDhM,KAAKa,IAAI2M,IAAIuC,gBAAgB/P,KAAK6P,OAAOod,aAAale,WAAY3O,EAAI,GAAIE,EAAG8nB,EAAApb,OAAOpB,OACpF5L,KAAKa,IAAI2M,IAAIuC,gBAAgB,IAAM/P,KAAK6P,OAAOsd,qBAAsB/sB,EAAI,IAAKE,EAAG8nB,EAAApb,OAAOV,aACxFhM,GAAK,GAELN,KAAKc,KAAKZ,OAAUI,EAAI23B,EAAUmB,EAAc94B,EAChDN,KAAK2B,gGC9LT,MAAAymB,EAAA9qB,EAAA,GAIAE,EAAA24B,SAAA,cAA8B/N,EAAAxnB,MAG5Bd,YAAY+P,GACV9P,MAAM,IAAIqoB,EAAAznB,KAAK,EAAG,EAAG,IAAK,KAC1BX,KAAK6P,OAASA,EAGd7P,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,EAAG,EAAG,GAAI,IAAKynB,EAAA3c,KAAK9G,OAGrD3E,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,EAAG,EAAG,GAAI,IAAKynB,EAAA3c,KAAKnG,OAGrDtF,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,EAAG,EAAG,GAAI,IAAKynB,EAAA3c,KAAKlH,mBAGrDvE,KAAKsB,IAAI,IAAI8mB,EAAA7X,WAAW,IAAI6X,EAAAznB,KAAK,EAAG,EAAG,GAAI,IAAKynB,EAAA3c,KAAKhG,OAGvDmxB,oBACE,OAAO52B,KAAKe,SAASxC,IAAI,GAG3Bu4B,kBACE,OAAO92B,KAAKe,SAASxC,IAAI,GAG3Bi7B,kBACE,OAAOx5B,KAAKe,SAASxC,IAAI,GAG3By4B,eACE,OAAOh3B,KAAKe,SAASxC,IAAI,GAG3BuB,eACE,IAAKE,KAAKa,IACR,OAGF,MAAM2M,EAAMxN,KAAKa,IAAI2M,IAErBA,EAAIqB,UAAU,EAAG,EAAG,GAAI,GAAI,GAAI,QAAI2a,EAAWhc,EAAIkI,KAAKzV,MAAO,IAC/DuN,EAAIwP,WAAW,iBAAiByc,cAAe,EAAG,EAAGrR,EAAApb,OAAOpB,OAG5D4B,EAAIqB,UAAU,EAAG,GAAI,IAAK,GAAI,GAAI,IAClCrB,EAAIwP,WAAWhd,KAAK6P,OAAOqC,GAAGnD,WAAY,GAAI,IAG9CvB,EAAIqB,UAAU,GAAI,GAAI,IAAK,GAAI,GAAI,IACnCrB,EAAIwP,WAAW,KAAM,GAAI,IAGzBxP,EAAIqB,UAAU,GAAI,GAAI,IAAK,GAAI,GAAI,IACnCrB,EAAIwP,WAAW,KAAM,GAAI,IAIzB,IAAK,IAAItf,EAAI,EAAGA,EAAIsC,KAAKe,SAASI,OAAQzD,IACxCsC,KAAKe,SAASxC,IAAIb,GAAGoD,KAAKV,EAAIoN,EAAIkI,KAAKzV,MAAQ,IAAM,EAAIvC,GAG3DsC,KAAK2B,gGCpET,MAAAymB,EAAA9qB,EAAA,GAEAo8B,EAAAp8B,EAAA,IACAg2B,EAAAh2B,EAAA,IACAuuB,EAAAvuB,EAAA,GACAq8B,EAAAr8B,EAAA,IACAs8B,EAAAt8B,EAAA,IACAu8B,EAAAv8B,EAAA,IAEAw8B,EAAAx8B,EAAA,IACAy8B,EAAAz8B,EAAA,IACA08B,EAAA18B,EAAA,IAEA28B,EAAA38B,EAAA,IACA48B,EAAA58B,EAAA,IAGM68B,EAAY,GACZC,EAAa,GAEbC,EAAa,EACbC,EAAcC,EAAU,EAAG,GAC3BC,EAAYD,EAAU,EAAG,IACzBE,EAAiBF,EAAU,EAAG,IAC9BG,EAAkBH,EAAU,EAAG,IAC/BI,EAAkBJ,EAAU,EAAG,IAC/BK,EAAaL,EAAU,GAAI,IAC3BM,EAAaN,EAAU,EAAG,IAC1BO,EAAcP,EAAU,GAAI,IAC5BQ,EAAwBR,EAAU,GAAI,IACtCS,EAAwBT,EAAU,GAAI,IACtCU,EAAwBV,EAAU,GAAI,IACtCW,EAAwBX,EAAU,GAAI,IACtCY,EAAYZ,EAAU,EAAG,IACzBa,EAAcb,EAAU,GAAI,IAC5Bc,EAAcd,EAAU,GAAI,IAC5Be,EAAcf,EAAU,GAAI,IAElC,SAASA,EAAUgB,EAAeC,GAChC,OAAO,EAAY,GAARA,EAAaD,EAI1B,MAAME,EAAiB,EACjBC,EAAiB,GACjBC,EAAkB,EAClBC,EAAkB,EAClBC,EAAY,GACZC,EAAoB,EACpBC,EAAiB,EACjBC,EAAqB,EAKrBC,EAAgB,IAAI7T,EAAAhP,OAAO,IAAK,IAHjB,GACC,GAEkD,GAgClE8iB,EAAe,CACnB,CAEEC,SAAU,IAAI/T,EAAAznB,KAAK,EAAG,EAAGw5B,EAJJ,GAKrBiC,SAAU,IAAIhU,EAAAznB,KAAK,EAAG,EAAG,GAAI,GAC7B07B,WAAY,IAAIjU,EAAAznB,KAAK,EAAG,EAAG,EAAG,IAEhC,CAEEw7B,SAAU,IAAI/T,EAAAznB,KAAK,EAAG,EAAGw5B,EAVJ,GAWrBiC,SAAU,IAAIhU,EAAAznB,KAAKw5B,EAAY,GAAI,EAAG,GAAI,GAC1CkC,WAAY,IAAIjU,EAAAznB,KAAKw5B,EAAY,EAAG,EAAG,EAAG,IAE5C,CAEEgC,SAAU,IAAI/T,EAAAznB,KAAK,EAAGy5B,EAhBD,EAgBgCD,EAhBhC,GAiBrBiC,SAAU,IAAIhU,EAAAznB,KAAK,EAAGy5B,EAjBD,EAiBgC,GAAI,GACzDiC,WAAY,IAAIjU,EAAAznB,KAAK,EAAGy5B,EAlBH,EAkBmC,EAAG,EAAG,IAEhE,CAEE+B,SAAU,IAAI/T,EAAAznB,KAAK,EAAGy5B,EAtBD,EAsBgCD,EAtBhC,GAuBrBiC,SAAU,IAAIhU,EAAAznB,KAAKw5B,EAAY,GAAIC,EAvBd,EAuB6C,GAAI,GACtEiC,WAAY,IAAIjU,EAAAznB,KAAKw5B,EAAY,EAAGC,EAxBf,EAwB+C,EAAG,EAAG,KAI9E58B,EAAAm4B,aAAA,MAGE71B,YAAYwO,GACVtO,KAAKsO,KAAOA,EAEZ,MAAMguB,EAAM,IAAIlU,EAAA9B,QAAQhY,EAAKd,IAAIgN,GAAI2f,EAAWC,EAAY,GAC5DkC,EAAI9V,UAAY,GAChB8V,EAAI7V,WAAa,GACjBnY,EAAKiU,QAAU+Z,EAGjBx8B,YACE,MAAMwO,EAAOtO,KAAKsO,KACZguB,EAAMhuB,EAAKiU,QACX1S,EAASvB,EAAKuB,OACdqK,EAAM5L,EAAK4L,IAGjB,IAAK,IAAI5Z,EAAI,EAAGA,EAAI85B,EAAY95B,IAC9B,IAAK,IAAIF,EAAI,EAAGA,EAAI+5B,EAAW/5B,IAC7Bk8B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGk6B,GAAW,GAChC8B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG+5B,GACrBiC,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG+5B,GACrBiC,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG+5B,GAKzB,MAAMkC,EAAQ,IAAInU,EAAAvoB,KAAKs6B,EAAY,EAAGC,EAAa,GACnD,IAAK,IAAI18B,EAAI,EAAGA,EAAI,IAAKA,IACvB4+B,EAAI3S,QAAQ,EAAG4S,EAAMn8B,EAAGm8B,EAAMj8B,EAAGu6B,GAAY,GAAM,GACnDyB,EAAI3S,QAAQ,EAAG4S,EAAMn8B,EAAI,EAAGm8B,EAAMj8B,EAAGu6B,GAAY,GAAM,GACvDyB,EAAI3S,QAAQ,EAAG4S,EAAMn8B,EAAI,EAAGm8B,EAAMj8B,EAAGu6B,GAAY,GAAM,GACvDyB,EAAI3S,QAAQ,EAAG4S,EAAMn8B,EAAGm8B,EAAMj8B,EAAI,EAAGu6B,GAAY,GAAM,GACvDyB,EAAI3S,QAAQ,EAAG4S,EAAMn8B,EAAGm8B,EAAMj8B,EAAI,EAAGu6B,GAAY,GAAM,GACvD0B,EAAMn8B,GAAK8Z,EAAItB,WAAW,EAAG,GAC7B2jB,EAAMj8B,GAAK4Z,EAAItB,WAAW,EAAG,GAI/B,IAAK,IAAIxY,EAAI,EAAGA,EAAI+5B,EAAW/5B,IAC7Bk8B,EAAI3S,QAAQ,EAAGvpB,EAAG,EAAGi6B,GAAY,GACjCiC,EAAI3S,QAAQ,EAAGvpB,EAAGg6B,EAAa,EAAGC,GAAY,GAEhD,IAAK,IAAI/5B,EAAI,EAAGA,EAAI85B,EAAY95B,IAC9Bg8B,EAAI3S,QAAQ,EAAG,EAAGrpB,EAAG+5B,GAAY,GACjCiC,EAAI3S,QAAQ,EAAGwQ,EAAY,EAAG75B,EAAG+5B,GAAY,GAI/CiC,EAAIE,WAEJ,MAAMC,EAAaP,EAAahiB,EAAItB,UAAU,EAAGsjB,EAAa/6B,SAExDu7B,EAAQ,GAEd,KAAOA,EAAMv7B,OAAS06B,GAAW,CAE/B,MAAMrb,EAAItG,EAAItB,UAAU6iB,EAAgBC,GAClC/sB,EAAIuL,EAAItB,UAAU+iB,EAAiBC,GAGnCx7B,EAAI8Z,EAAItB,UAAU,EAAGuhB,EAAY3Z,EAAI,GACrClgB,EAAI4Z,EAAItB,UAAU,EAAGwhB,EAAazrB,EAAI,GAGtCguB,EAAU,IAAIvU,EAAAznB,KAAKP,EAAGE,EAAGkgB,EAAG7R,GAGlC,IAAIiuB,EAASD,EAAQE,WAAWJ,EAAWN,UAC3C,IAAK,IAAI9M,EAAI,EAAGA,EAAIqN,EAAMv7B,OAAQkuB,IAChC,GAAIsN,EAAQE,WAAWH,EAAMrN,IAAK,CAChCuN,GAAS,EACT,MAIJ,GAAIA,EACF,SAMF58B,KAAK88B,WAAWR,EAAKK,GAGrB,MAAM9hB,EAAS8hB,EAAQI,YAEvB,GAAqB,IAAjBL,EAAMv7B,OAER0O,EAAOzP,EAAIya,EAAOza,EAClByP,EAAOvP,EAAIua,EAAOva,EAGlBN,KAAKsO,KAAKkpB,IAAM,IAAIoC,EAAAoD,IAAI1uB,EAAMuB,EAAOzP,EAAI,EAAGyP,EAAOvP,GACnDgO,EAAKgF,SAASpE,KAAKlP,KAAKsO,KAAKkpB,SAExB,CAKL,MAAM3iB,EAAO6nB,EAAMA,EAAMv7B,OAAS,GAAG47B,YAGT,IAAxB7iB,EAAItB,UAAU,EAAG,IAEnB5Y,KAAKi9B,cAAcX,EAAKznB,EAAKzU,EAAGya,EAAOza,EAAGyU,EAAKvU,GAC/CN,KAAKk9B,cAAcZ,EAAKznB,EAAKvU,EAAGua,EAAOva,EAAGua,EAAOza,KAGjDJ,KAAKk9B,cAAcZ,EAAKznB,EAAKvU,EAAGua,EAAOva,EAAGuU,EAAKzU,GAC/CJ,KAAKi9B,cAAcX,EAAKznB,EAAKzU,EAAGya,EAAOza,EAAGya,EAAOva,IAGnDN,KAAKm9B,cAAcR,GAIrB38B,KAAKo9B,WAAWT,GAGhBD,EAAMxtB,KAAKytB,GAGb,CAEE,MAAMP,EAAWK,EAAWL,SAC5Bp8B,KAAK88B,WAAWR,EAAKF,GAGrB,MAAMvnB,EAAO6nB,EAAMA,EAAMv7B,OAAS,GAAG47B,YAC/BliB,EAASuhB,EAASW,YACxB/8B,KAAKi9B,cAAcX,EAAKznB,EAAKzU,EAAGya,EAAOza,EAAGyU,EAAKvU,GAC/CN,KAAKk9B,cAAcZ,EAAKznB,EAAKvU,EAAGua,EAAOva,EAAGua,EAAOza,GAG7Cya,EAAOva,EAAIuU,EAAKvU,EAClBg8B,EAAI3S,QAAQ,EAAG9O,EAAOza,EAAGg8B,EAAS/7B,GAAI86B,GAAW,GAAO,GAExDmB,EAAI3S,QAAQ,EAAG9O,EAAOza,EAAGg8B,EAAS57B,GAAI26B,GAAW,GAAO,GAI1D,MAAMkC,EAAU,IAAIxD,EAAAyD,QAAQhvB,EAAMuM,EAAOza,EAAGya,EAAOva,GACnDgO,EAAKgF,SAASpE,KAAKmuB,GAGnB,MAAMhB,EAAaI,EAAWJ,WAC9Br8B,KAAK88B,WAAWR,EAAKD,GAGrB,MAAMkB,EAAYlB,EAAWU,YAC7B/8B,KAAKi9B,cAAcX,EAAKzhB,EAAOza,EAAGm9B,EAAUn9B,EAAGm9B,EAAUj9B,GACzDg8B,EAAI3S,QAAQ,EAAG4T,EAAUn9B,EAAGm9B,EAAUj9B,EAAG86B,GACzC,MAAMoC,EAAS,IAAIpV,EAAAlX,OAAO5C,EAAMivB,EAAUn9B,EAAGm9B,EAAUj9B,EAAG,SAAU27B,GAAe,GACnF3tB,EAAKgF,SAASpE,KAAKsuB,GAGlBx9B,KAAKsO,KAAKkpB,IAAYC,YAAc8F,EAIvC,IAAK,IAAIj9B,EAAI,EAAGA,EAAI85B,EAAY95B,IAC9B,IAAK,IAAIF,EAAI,EAAGA,EAAI+5B,EAAW/5B,IAAK,CAClC,MAAMq9B,EAAKnB,EAAIoB,QAAQt9B,EAAGE,GACpBq9B,EAAKrB,EAAIoB,QAAQt9B,EAAGE,EAAI,GACxBs9B,EAAKtB,EAAIoB,QAAQt9B,EAAI,EAAGE,GACxBu9B,EAAKvB,EAAIoB,QAAQt9B,EAAI,EAAGE,GACxBw9B,EAAKxB,EAAIoB,QAAQt9B,EAAGE,EAAI,GAsB9B,GApBIm9B,IAAO7C,GAAcgD,IAAOpD,GAAasD,IAAOrD,GAA0C,IAAxBvgB,EAAItB,UAAU,EAAG,IACrF0jB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGy6B,GAGnB0C,IAAO7C,GAAciD,IAAOrD,GAAasD,IAAOrD,GAA0C,IAAxBvgB,EAAItB,UAAU,EAAG,IACrF0jB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG06B,GAGnByC,IAAO7C,GAAcgD,IAAOpD,GAAamD,IAAOnD,GAAqC,IAAxBtgB,EAAItB,UAAU,EAAG,IAChF0jB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG26B,GAGnBwC,IAAO7C,GAAciD,IAAOrD,GAAamD,IAAOnD,GAAqC,IAAxBtgB,EAAItB,UAAU,EAAG,IAChF0jB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG46B,GAGnBuC,IAAOtC,GACTmB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAI,EAAGg6B,GAGvBmD,IAAOjD,GAAamD,IAAOnD,EAAW,CACxC,MAAMh8B,EAAI0b,EAAItB,UAAU,EAAG,IACjB,IAANpa,EACF89B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGo6B,GAAiB,GACvB,IAANl8B,EACT89B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGq6B,GAAiB,GAEtC2B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGm6B,GAAgB,GAEvC6B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAI,EAAGg6B,GAGvBmD,IAAO5C,GAAc8C,IAAO9C,GAC9ByB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAI,EAAGg6B,GAG3B,MAAMyD,EAAaJ,IAAO7C,GAAe8C,IAAO9C,GAAe+C,IAAO/C,GAAegD,IAAOhD,EACxF2C,IAAO5C,GAAckD,GAAuC,IAAzB7jB,EAAItB,UAAU,EAAG,KACtDtK,EAAKgF,SAASpE,KAAK,IAAI4qB,EAAAkE,MAAM1vB,EAAMlO,EAAGE,IAM5C,IAAK,IAAI5C,EAAI,EAAGA,EAAIg/B,EAAMv7B,OAAQzD,IAChCsC,KAAKi+B,eAAevB,EAAMh/B,IAI5B4Q,EAAK4vB,gBACL5vB,EAAKkV,eAGC1jB,WAAWw8B,EAAc6B,GAC/B,IAAK,IAAI79B,EAAI69B,EAAK99B,GAAK,EAAGC,EAAI69B,EAAK39B,GAAIF,IACrC,IAAK,IAAIF,EAAI+9B,EAAKh+B,GAAK,EAAGC,EAAI+9B,EAAK59B,GAAIH,IACrCk8B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGs6B,GAAY,GAK/B96B,cAAcw8B,EAAcn8B,EAAYI,EAAYD,GAC1D,IAAK,IAAIF,EAAIoO,KAAK2E,IAAIhT,EAAII,GAAKH,GAAKoO,KAAK0N,IAAI/b,EAAII,GAAKH,IAChDk8B,EAAIoB,QAAQt9B,EAAGE,KAAOu6B,EACxByB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGw6B,GAAa,GAElCwB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGs6B,GAAY,GAK/B96B,cAAcw8B,EAAcj8B,EAAYG,EAAYJ,GAC1D,IAAK,IAAIE,EAAIkO,KAAK2E,IAAI9S,EAAIG,GAAKF,GAAKkO,KAAK0N,IAAI7b,EAAIG,GAAKF,IACnCg8B,EAAIoB,QAAQt9B,EAAGE,KACfu6B,EACfyB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGw6B,GAAa,GAElCwB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGs6B,GAAY,GAK/B96B,cAAcq+B,GACpB,MAAM7vB,EAAOtO,KAAKsO,KACZ4L,EAAM5L,EAAK4L,IAGXkkB,EAAclkB,EAAItB,UAAU,EAAGkjB,GAErC,IAAK,IAAIp+B,EAAI,EAAGA,EAAI0gC,EAAa1gC,IAAK,CAEpC,MAAM0C,EAAI8Z,EAAItB,UAAUulB,EAAKh+B,GAAK,EAAGg+B,EAAK59B,GAAK,GACzCD,EAAI4Z,EAAItB,UAAUulB,EAAK99B,GAAK,EAAG89B,EAAK39B,GAAK,GAE/C,GAAI8N,EAAK+vB,YAAYj+B,EAAGE,GAEtB,SAGF,MAAMg+B,EAAOpkB,EAAItB,UAAU,EAAG,KAC9B,IAAIsS,EAAU,KAGZA,EADEoT,EAAO,GACC,IAAIvE,EAAAwE,OAAOjwB,EAAMlO,EAAGE,GACrBg+B,EAAO,GACN,IAAI3E,EAAA6E,IAAIlwB,EAAMlO,EAAGE,GAEjB,IAAI05B,EAAAyE,MAAMnwB,EAAMlO,EAAGE,GAG/BgO,EAAKgF,SAASpE,KAAKgc,IAIfprB,WAAWq+B,GACjB,MAAM7vB,EAAOtO,KAAKsO,KACZ4L,EAAM5L,EAAK4L,IAGXwkB,EAAWxkB,EAAItB,UAAU,EAAGmjB,GAElC,IAAK,IAAIr+B,EAAI,EAAGA,EAAIghC,EAAUhhC,IAAK,CAEjC,MAAM0C,EAAI8Z,EAAItB,UAAUulB,EAAKh+B,GAAK,EAAGg+B,EAAK59B,GAAK,GACzCD,EAAI4Z,EAAItB,UAAUulB,EAAK99B,GAAK,EAAG89B,EAAK39B,GAAK,GAE/C,GAAI8N,EAAK+vB,YAAYj+B,EAAGE,GAEtB,SAGF,MAAMq+B,EAAOzkB,EAAItB,UAAU,EAAG,KAC9B,IAAIqX,EAAO,KAITA,EAFE0O,EAAO,GAEF,IAAI1E,EAAA2E,aAAatwB,EAAMlO,EAAGE,GAExBq+B,EAAO,GAET,IAAIzE,EAAA2E,OAAOvwB,EAAMlO,EAAGE,EAAG,IAAIurB,EAAAZ,kBAEzB0T,EAAO,GAET,IAAIzE,EAAA2E,OAAOvwB,EAAMlO,EAAGE,EAAG,IAAIgzB,EAAArF,iBAI3B,IAAIiM,EAAA2E,OAAOvwB,EAAMlO,EAAGE,EAAG,IAAIo5B,EAAAoF,gBAGpCxwB,EAAKgF,SAASpE,KAAK+gB,IAIfnwB,eAAeq+B,GACrB,MAAM7vB,EAAOtO,KAAKsO,KACZ4L,EAAM5L,EAAK4L,IACXoiB,EAAMhuB,EAAKiU,QAGXmc,EAAWxkB,EAAItB,UAAU,EAAGojB,EAAqB,GAEvD,IAAK,IAAIt+B,EAAI,EAAGA,EAAIghC,EAAUhhC,IAAK,CAEjC,MAAM0C,EAAI8Z,EAAItB,UAAUulB,EAAKh+B,GAAK,EAAGg+B,EAAK59B,GAAK,GACzCD,EAAI4Z,EAAItB,UAAUulB,EAAK99B,GAAK,EAAG89B,EAAK39B,GAAK,GAE3C8N,EAAK+vB,YAAYj+B,EAAGE,KAKX4Z,EAAItB,UAAU,EAAG,KAEnB,IAET0jB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGs6B,GAAY,GAAM,GACvC0B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAG+6B,KAGrBiB,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGs6B,GAAY,GAAM,GACvC0B,EAAI3S,QAAQ,EAAGvpB,EAAGE,EAAGg7B,uFCrd7B,MAAAlT,EAAA9qB,EAAA,GAEMyhC,EAAgB,EAChBC,EAAiB,IAAI5W,EAAAhP,OAAO,IAAK,GAAI,GAAI,GAAI,GAAG,GAChD+Q,EAAmB,CACvB,IAAI/B,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,UAAW+O,EAAApb,OAAOpB,OAC9B,IAAIwc,EAAA/O,QAAQ,mCAAoC+O,EAAApb,OAAOhB,QACvD,IAAIoc,EAAA/O,QAAQ,uBAAwB+O,EAAApb,OAAOhB,SAG7CxO,EAAAshC,eAAA,MASEh/B,cACEE,KAAK+N,OAASixB,EACdh/B,KAAK/B,KAAO,UACZ+B,KAAKyT,WAAa2U,EAAAnX,WAAWF,OAC7B/Q,KAAKqqB,SAAW,EAChBrqB,KAAKsqB,SAAWyU,EAChB/+B,KAAKoO,SAAW,EAChBpO,KAAKkO,gBAAkBic,EAGzBrqB,KAAKyqB,EAAeV,GAClB,MAAMvb,EAAOic,EAAOjc,KAEpB,OAAIic,EAAO5Q,WAAWkQ,GAAUkV,GAC1BxU,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,uBAAwBnB,EAAApb,OAAOlB,aAEnC,GAGLwC,EAAKiU,UAAYjU,EAAKiU,QAAQG,UAAUmH,EAAOzpB,EAAGypB,EAAOvpB,IACvDiqB,IAAWjc,EAAKuB,QAClBvB,EAAKib,IAAI,sBAAuBnB,EAAApb,OAAOlB,aAElC,IAGT+d,EAAO5P,GAAK,IAAImO,EAAAtO,gBAAgB+P,GAChCvb,EAAKib,IAAI,mBAAqBM,EAAO5rB,KAAO,uCAAwCmqB,EAAApb,OAAOV,aAC3Fie,EAAOnY,MACA,oFClDX,MAAAgW,EAAA9qB,EAAA,GAIA2hC,EAAA3hC,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAC1D0V,EAAS,EAEf,MAAMC,UAAc/W,EAAAvW,GAClB/R,OACE,MAAMorB,EAAUlrB,KAAKqO,MACfwB,EAASqb,EAAQ5c,KAAKuB,OAC5B,IAAKA,EACH,OAGF,MAAMqK,EAAMrK,EAAOvB,KAAK4L,IACpBgR,EAAQvR,WAAW9J,GAAU,GAAKqK,EAAItB,UAAU,EAAG,KAAO,GAC5DsS,EAAQrR,OAAOhK,EAAQqvB,GAEvBl/B,KAAKqO,MAAMyE,KAAKoH,EAAItB,WAAW,EAAG,GAAIsB,EAAItB,WAAW,EAAG,KAK9Dpb,EAAAghC,IAAA,cAAyBS,EAAA7V,QACvBtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,MAAO+rB,GACzBrsB,KAAKia,GAAK,IAAIklB,EAAMn/B,uFC7BxB,MAAAooB,EAAA9qB,EAAA,GAIA2hC,EAAA3hC,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAEhE,MAAM4V,UAAchX,EAAAvW,GAClB/R,OACE,MACM+P,EADU7P,KAAKqO,MACEC,KAAKuB,OAC5B,IAAKA,EACH,OAGF,MAAMqK,EAAMrK,EAAOvB,KAAK4L,IACxBla,KAAKqO,MAAMyE,KAAKoH,EAAItB,WAAW,EAAG,GAAIsB,EAAItB,WAAW,EAAG,KAI5Dpb,EAAAw/B,IAAA,cAAyBiC,EAAA7V,QAGvBtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,MAAO+rB,GACzBrsB,KAAKia,GAAK,IAAImlB,EAAMp/B,uFC1BxB,MAAAooB,EAAA9qB,EAAA,GAEAsuB,EAAAtuB,EAAA,GAGA2hC,EAAA3hC,EAAA,GAGM+uB,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAC1D0V,EAAS,GAEf,MAAMG,UAAkBjX,EAAAvW,GACtB/R,OACE,MAAMu9B,EAAUr9B,KAAKqO,MACfC,EAAO+uB,EAAQ/uB,KACfuB,EAASvB,EAAKuB,OACpB,IAAKA,GAAUA,EAAOqC,IAAM,EAC1B,OAGF,MAAMlE,EAASqvB,EAAQiC,WACvB,GAAwB,IAApBtxB,EAAOI,SAAgB,CACzB,MAAMyb,EAAS7pB,KAAKu/B,eAAejxB,EAAM+uB,EAASxtB,GAClD,GAAIga,GAAU7b,EAAOG,IAAI0b,GACvB,OAKJ,GADawT,EAAQ1jB,WAAW9J,IACpB,EACVwtB,EAAQxjB,OAAOhK,EAAQqvB,QAClB,GAAI7B,EAAQmC,MACjBnC,EAAQzjB,WAAW/J,EAAOzP,EAAGyP,EAAOvP,OAC/B,CACL,MAAM4Z,EAAMrK,EAAOvB,KAAK4L,IACxBmjB,EAAQvqB,KAAKoH,EAAItB,WAAW,EAAG,GAAIsB,EAAItB,WAAW,EAAG,KAIjD9Y,eAAewO,EAAY+uB,EAAkBxtB,GACnD,IAAK,IAAIvP,EAAIuP,EAAOvP,EAAI,EAAGA,GAAKuP,EAAOvP,EAAI,EAAGA,IAC5C,IAAK,IAAIF,EAAIyP,EAAOzP,EAAI,EAAGA,GAAKyP,EAAOzP,EAAI,EAAGA,IAAK,CACjD,MAAM0lB,EAAOxX,EAAKiU,SAAWjU,EAAKiU,QAAQO,QAAQ1iB,EAAGE,GACrD,GAAKwlB,IAAQA,EAAKjT,WAIdwqB,EAAQ1jB,WAAWmM,GAAQ,GAI3BxX,EAAKuU,WAAWziB,EAAGE,IAIvB,OAAOwlB,IAOftoB,EAAA8/B,QAAA,cAA6B2B,EAAA7V,QAG3BtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,UAAW+rB,GAH/BrsB,KAAAw/B,OAAQ,EAINx/B,KAAKkS,GAAK,IACVlS,KAAKmS,MAAQ,IACbnS,KAAKia,GAAK,IAAIolB,EAAUr/B,MACxBA,KAAKuS,QAAQjR,IAAI,IAAI8mB,EAAAxC,OAAO5lB,KAAM,IAAI4rB,EAAAxB,cAGxCkV,iBACE,OAAOt/B,KAAKuS,QAAQhU,IAAI,GAG1BuB,WAAWywB,GACTxwB,MAAMkT,WAAWsd,GACjBvwB,KAAKw/B,OAAQ,mFC/EjB,MAAApX,EAAA9qB,EAAA,GAIA2hC,EAAA3hC,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,EAAG,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YACxD0V,EAAS,GAEf,MAAMO,UAAgBrX,EAAAvW,GACpB/R,OACE,MAAMorB,EAAUlrB,KAAKqO,MACfwB,EAASqb,EAAQ5c,KAAKuB,OACvBA,GAIDqb,EAAQvR,WAAW9J,GAAU,GAC/Bqb,EAAQrR,OAAOhK,EAAQqvB,IAK7B1hC,EAAAwgC,MAAA,cAA2BiB,EAAA7V,QACzBtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,QAAS+rB,GAC3BrsB,KAAKia,GAAK,IAAIwlB,EAAQz/B,uFC1B1B,MAAAooB,EAAA9qB,EAAA,GAIA2hC,EAAA3hC,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,GAAI,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,WAE/DhsB,EAAA+gC,OAAA,cAA4BU,EAAA7V,QAC1BtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,SAAU+rB,oFCVhC,MAAAjE,EAAA9qB,EAAA,GAIA2hC,EAAA3hC,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,GAAI,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,WAE/DhsB,EAAAihC,MAAA,cAA2BQ,EAAA7V,QACzBtpB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,QAAS+rB,oFCV/B,MAAAjE,EAAA9qB,EAAA,GAEMkxB,EAAc,EAEdnC,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAE1D8D,EAAW,CACf,IAAIlF,EAAA/O,QAAQ,yBAA0B+O,EAAApb,OAAOL,YAC7C,IAAIyb,EAAA/O,QAAQ,eAAgB+O,EAAApb,OAAOhB,QACnC,IAAIoc,EAAA/O,QAAQ,yBAA0B+O,EAAApb,OAAOV,cAG/C9O,EAAAohC,aAAA,cAAkCxW,EAAAzC,KAChC7lB,YAAYwO,EAAYlO,EAAWE,GACjCP,MAAMuO,EAAMlO,EAAGE,EAAG,gBAAiB+rB,GAAQ,GAC3CrsB,KAAKkO,gBAAkBof,EAGzBxtB,SAAS+T,GACP7T,KAAKsO,KAAKib,IAAI1V,EAAO5V,KAAO,gBAAkB+B,KAAK/B,KAAMmqB,EAAApb,OAAOV,aAGlExM,MAAM6uB,GACJ,OAAIA,EAAKzc,KAAOyc,EAAKxc,OACnBnS,KAAKsO,KAAKib,IAAI,kCAAmCnB,EAAApb,OAAOZ,WACjD,IAGTpM,KAAKsO,KAAKib,IAAI,oCAAqCnB,EAAApb,OAAOH,eAC1D8hB,EAAKvB,SAASoB,GACdG,EAAKrc,UAAU/Q,OAAOvB,MACtB2uB,EAAKvc,MACE,oFChCX,MAAAgW,EAAA9qB,EAAA,GAEM+uB,EAAS,IAAIjE,EAAAhP,OAAO,IAAK,IAAK,GAAI,GAAI,GAAG,OAAMoQ,EAAW,YAEhEhsB,EAAAqhC,OAAA,cAA4BzW,EAAAzC,KAG1B7lB,YAAYwO,EAAYlO,EAAWE,EAAWwN,GAC5C/N,MAAMuO,EAAMlO,EAAGE,EAAG,aAAewN,EAAQ7P,KAAMouB,GAAQ,GACvDrsB,KAAK8N,QAAUA,EACf9N,KAAKkO,gBAAkBJ,EAAQI,gBAGjCpO,SAAS+T,GACP7T,KAAKsO,KAAKib,IAAI1V,EAAO5V,KAAO,gBAAkB+B,KAAK/B,KAAMmqB,EAAApb,OAAOV,aAGlExM,MAAM6uB,GACJ,MAAM7gB,EAAU9N,KAAK8N,QAUrB,OATIA,EAAQ2F,aAAe2U,EAAAnX,WAAWH,KAChChD,EAAQ4F,KAAKib,IACfA,EAAKrc,UAAU/Q,OAAOvB,MAGxBA,KAAKsO,KAAKqF,eAAe7F,EAAS,KAChC6gB,EAAKrc,UAAU/Q,OAAOvB,SAGnB,mFC5BX,MAAAooB,EAAA9qB,EAAA,GAEMoiC,EAAU,CACd,CAACC,QAAS,WAAYjP,KAAM,aAAckP,SAAS,GACnD,CAACD,QAAS,WAAYjP,KAAM,OAAQkP,SAAS,GAC7C,CAACD,QAAS,aAAcjP,KAAM,OAAQkP,SAAS,GAC/C,CAACD,QAAS,WAAYjP,KAAM,WAAYkP,SAAS,GACjD,CAACD,QAAS,cAAejP,KAAM,aAAckP,SAAS,GACtD,CAACD,QAAS,UAAWjP,KAAM,UAAWkP,SAAS,IAGjDpiC,EAAAi0B,SAAA,cAA8BrJ,EAAA1Q,SAK5B5X,YAAY0N,GACVzN,MAAMyN,GAHAxN,KAAA8jB,cAAgB,EAItB9jB,KAAK6/B,KAAO,EACZ7/B,KAAK4zB,QAAU,GACf5zB,KAAK8/B,gBAGChgC,gBACNE,KAAK4zB,QAAU,GAEf,IAAK,IAAIl2B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM0C,EAAI,GAAKoO,KAAK2F,MAAsB,GAAhB3F,KAAKuxB,UACzBz/B,EAAI,GAAK,GAAKkO,KAAK2F,MAAsB,GAAhB3F,KAAKuxB,UAC9B7rB,EAAQkU,EAAA7Y,QAAQf,KAAKuxB,SAAU,GAAK,IAC1C//B,KAAK4zB,QAAQ1kB,KAAK,IAAIkZ,EAAAhP,OAAOhZ,EAAGE,EAAG,GAAI,GAAI,GAAG,OAAMkpB,EAAWtV,KAInEpU,SACEsoB,EAAAhP,OAAO+H,yBAEP,MAAM6e,EAAQhgC,KAAK6/B,KAAO,IACtBG,EAAQ,IAAMA,EAAQ,GAAM,GAC9BhgC,KAAK8/B,gBAIP9/B,KAAKwN,IAAIqB,UAAU7O,KAAKwN,IAAIqN,OAAOza,EAAI,IAAK,EAAG,EAAG,IAAK,IAAK,KAG5DJ,KAAKwN,IAAIsB,mBAAmB,qBAAsB9O,KAAKwN,IAAIqN,OAAOza,EAAI,EAAG,GAAIgoB,EAAApb,OAAOtB,OACpF1L,KAAKwN,IAAIsB,mBAAmB,qBAAsB9O,KAAKwN,IAAIqN,OAAOza,EAAG,IAGrE,IAAK,IAAI1C,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAM0C,EAAIJ,KAAKwN,IAAIqN,OAAOza,EAAI,GAAS,GAAJ1C,EAC7B4C,EAAI,GACVN,KAAK4zB,QAAQl2B,GAAG6P,KAAKvN,KAAKwN,IAAKpN,EAAGE,GAIpC,MAAMoN,EAAQ1N,KAAKwN,IAAIE,MACvB,IAAK,IAAIhQ,EAAI,EAAGA,EAAIgiC,EAAQv+B,OAAQzD,IAAK,CACvC,MAAMsxB,EAAS0Q,EAAQhiC,GACjB0C,EAAIJ,KAAKwN,IAAIqN,OAAOza,EACpBE,EAAI,GAAK,GAAK5C,EACpB,IAAIwW,EAAQkU,EAAApb,OAAOpB,MACdojB,EAAO4Q,QAEDliC,IAAMsC,KAAK8jB,gBACpB5P,EAAQkU,EAAApb,OAAOhB,QAFfkI,EAAQkU,EAAApb,OAAOnB,KAIjB7L,KAAKwN,IAAIsB,mBAAmBkgB,EAAO2Q,QAASv/B,EAAI,EAAGE,EAAI,EAAG8nB,EAAApb,OAAOtB,OACjE1L,KAAKwN,IAAIsB,mBAAmBkgB,EAAO2Q,QAASv/B,EAAGE,EAAG4T,GAE9CxG,EAAMpN,GAAKA,GAAKoN,EAAMpN,EAAIA,EAAI,IAAMoN,EAAMC,cAC5CjO,OAAO+wB,SAASC,KAAO1B,EAAO0B,MAG5BhzB,IAAMsC,KAAK8jB,eAAiB9jB,KAAKwN,IAAIC,aAAa2a,EAAA3c,KAAKpJ,YACzD3C,OAAO+wB,SAASC,KAAO1B,EAAO0B,MAI9B1wB,KAAKwN,IAAIC,aAAa2a,EAAA3c,KAAKvI,QAC7BlD,KAAK8jB,gBAGH9jB,KAAKwN,IAAIC,aAAa2a,EAAA3c,KAAKrI,UAC7BpD,KAAK8jB,gBAGH9jB,KAAK8jB,cAAgB,IACvB9jB,KAAK8jB,eAAiB4b,EAAQv+B,QAG5BnB,KAAK8jB,eAAiB4b,EAAQv+B,SAChCnB,KAAK8jB,eAAiB4b,EAAQv+B,QAGhCnB,KAAK6/B,wFChGT,MAAAzX,EAAA9qB,EAAA,GAGAo1B,EAAAp1B,EAAA,IAEA2iC,EAAA3iC,EAAA,IACA4iC,EAAA5iC,EAAA,IACAw6B,EAAAx6B,EAAA,IACA6iC,EAAA7iC,EAAA,IACA8iC,EAAA9iC,EAAA,IAEM+iC,EAAQ,CAAC,IAAIvI,EAAAtI,MAAS,IAAIyQ,EAAAK,MAAS,IAAIJ,EAAAK,IAAO,IAAIJ,EAAAK,IAAO,IAAIJ,EAAAK,QAEnEjjC,EAAAm0B,SAAA,cAA8BvJ,EAAA1Q,SAC5B5X,YAAY0N,GACVzN,MAAMyN,GAENxN,KAAKa,IAAIyM,SAAS2K,SAAW,IAAImQ,EAAAznB,KAAK,EAAG,GAAI,GAAI,IAEjDX,KAAKa,IAAIS,IAAI,IAAI8mB,EAAApD,aAAa,IAAIoD,EAAAznB,KAAK,EAAG,EAAG,IAAK,IAAK,IAAIynB,EAAA/O,QAAQ,mBAAoB+O,EAAApb,OAAOpB,SAE9F,MAAMqnB,EAAe,IAAI7K,EAAAxE,oBAAoB,IAAIwE,EAAAznB,KAAK,EAAG,GAAI,IAAK,KAAM0/B,GACxEpN,EAAa3lB,SAAW,IAAIolB,EAAA9D,iBAAiB,GAAI,IAEjDqE,EAAahP,SAAW,CAACiP,IACtBlzB,KAAKwN,IAAYwkB,WAAakB,EAC/BxzB,OAAO+wB,SAASC,KAAO,gBAGzBuC,EAAa/O,SAAW,MACtBxkB,OAAOyzB,QAAQC,SAGjBpzB,KAAKa,IAAIS,IAAI2xB,oFCjCjB,MAAA7K,EAAA9qB,EAAA,GAIAiyB,EAAAjyB,EAAA,GAEM6uB,EAAO,QACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE8C,EAAO,mCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,+BAAgC+O,EAAApb,OAAOV,aAAc,IAAI8b,EAAA/O,QAAQ,wBAAyB+O,EAAApb,OAAOhB,QAC7G,IAAIoc,EAAA/O,QAAQ,iCAAkC+O,EAAApb,OAAOhB,SAGvDxO,EAAA8iC,MAAA,cAA2B/Q,EAAA1E,cACzB/qB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4f,KAAOzvB,KACd6P,EAAO6f,cAAgB,EACvB7f,EAAOmd,UAAY,mFCtBvB,MAAA5E,EAAA9qB,EAAA,GAIAiyB,EAAAjyB,EAAA,GAEM6uB,EAAO,MACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE8C,EAAO,uCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,gCAAiC+O,EAAApb,OAAOV,aACpD,IAAI8b,EAAA/O,QAAQ,qCAAsC+O,EAAApb,OAAOhB,SAG3DxO,EAAA+iC,IAAA,cAAyBhR,EAAA1E,cACvB/qB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4f,KAAOzvB,KACd6P,EAAO8f,WAAa,EACpB9f,EAAOod,cAAgB,mFCtB3B,MAAA7E,EAAA9qB,EAAA,GAIAiyB,EAAAjyB,EAAA,GAEM6uB,EAAO,MACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,WACrE8C,EAAO,qCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,+BAAgC+O,EAAApb,OAAOV,aACnD,IAAI8b,EAAA/O,QAAQ,gDAAiD+O,EAAApb,OAAOhB,SAGtExO,EAAAgjC,IAAA,cAAyBjR,EAAA1E,cACvB/qB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4f,KAAOzvB,KACd6P,EAAO6f,cAAgB,EACvB7f,EAAOmd,UAAY,mFCtBvB,MAAA5E,EAAA9qB,EAAA,GAIAiyB,EAAAjyB,EAAA,GAEM6uB,EAAO,SACPC,EAAO,IAAIhE,EAAAhP,OAAO,IAAK,IAAK,GAAI,QAAIoQ,OAAWA,OAAWA,EAAW,YACrE8C,EAAO,gCACPC,EAAU,CACd,IAAInE,EAAA/O,QAAQ,gCAAiC+O,EAAApb,OAAOV,aACpD,IAAI8b,EAAA/O,QAAQ,gDAAiD+O,EAAApb,OAAOhB,SAGtExO,EAAAijC,OAAA,cAA4BlR,EAAA1E,cAC1B/qB,cACEC,MAAMosB,EAAMC,EAAME,EAAMC,GAG1BzsB,WAAW+P,GACTA,EAAO4f,KAAOzvB,KACd6P,EAAO8f,WAAa,EACpB9f,EAAOod,cAAgB","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"wglt\",[],e):\"object\"==typeof exports?exports.wglt=e():t.wglt=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=33)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);class r extends s.Vec2{constructor(t,e,i,s){super(t,e),this.width=i,this.height=s}get x1(){return this.x}get y1(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get left(){return this.x}get top(){return this.y}clone(){return new r(this.x,this.y,this.width,this.height)}getCenter(){return new s.Vec2(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}}e.Rect=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Vec2=class{constructor(t,e){this.x=t,this.y=e}add(t){this.x+=t.x,this.y+=t.y}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(8);e.Panel=class{constructor(t){this.gui=null,this.rect=t,this.children=new s.ArrayList,this.modal=!1,this.visible=!0}setGui(t){if(!this.gui){this.gui=t;for(let e=0;e<this.children.length;e++)this.children.get(e).setGui(t)}}add(t){t.parent=this,t.setGui(this.gui),this.children.add(t)}remove(t){this.children.remove(t)}move(t){this.parent&&this.parent.remove(this),t.add(this)}getPanelAt(t){for(let e=this.children.length-1;e>=0;e--){const i=this.children.get(e);if(!i.visible)continue;if(i.isDragging())continue;const s=i.getPanelAt(t);if(s)return s}if(this.rect.contains(t))return this}drawContents(){this.drawChildren()}drawChildren(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);e.visible&&e.drawContents()}}handleInput(){return this.handleChildrenInput()}handleChildrenInput(){for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(e.visible&&(e.handleInput()||e.modal))return!0}return!1}isDragging(){return this.gui&&this.gui.dragElement===this}onDrop(t){return!1}updateTooltip(t){t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{}s.VK_CANCEL=3,s.VK_HELP=6,s.VK_BACK_SPACE=8,s.VK_TAB=9,s.VK_CLEAR=12,s.VK_ENTER=13,s.VK_SHIFT=16,s.VK_CONTROL=17,s.VK_ALT=18,s.VK_PAUSE=19,s.VK_CAPS_LOCK=20,s.VK_ESCAPE=27,s.VK_SPACE=32,s.VK_PAGE_UP=33,s.VK_PAGE_DOWN=34,s.VK_END=35,s.VK_HOME=36,s.VK_LEFT=37,s.VK_UP=38,s.VK_RIGHT=39,s.VK_DOWN=40,s.VK_PRINTSCREEN=44,s.VK_INSERT=45,s.VK_DELETE=46,s.VK_0=48,s.VK_1=49,s.VK_2=50,s.VK_3=51,s.VK_4=52,s.VK_5=53,s.VK_6=54,s.VK_7=55,s.VK_8=56,s.VK_9=57,s.VK_COLON=58,s.VK_SEMICOLON=59,s.VK_LESS_THAN=60,s.VK_EQUALS=61,s.VK_GREATER_THAN=62,s.VK_QUESTION_MARK=63,s.VK_AT=64,s.VK_A=65,s.VK_B=66,s.VK_C=67,s.VK_D=68,s.VK_E=69,s.VK_F=70,s.VK_G=71,s.VK_H=72,s.VK_I=73,s.VK_J=74,s.VK_K=75,s.VK_L=76,s.VK_M=77,s.VK_N=78,s.VK_O=79,s.VK_P=80,s.VK_Q=81,s.VK_R=82,s.VK_S=83,s.VK_T=84,s.VK_U=85,s.VK_V=86,s.VK_W=87,s.VK_X=88,s.VK_Y=89,s.VK_Z=90,s.VK_CONTEXT_MENU=93,s.VK_NUMPAD0=96,s.VK_NUMPAD1=97,s.VK_NUMPAD2=98,s.VK_NUMPAD3=99,s.VK_NUMPAD4=100,s.VK_NUMPAD5=101,s.VK_NUMPAD6=102,s.VK_NUMPAD7=103,s.VK_NUMPAD8=104,s.VK_NUMPAD9=105,s.VK_MULTIPLY=106,s.VK_ADD=107,s.VK_SEPARATOR=108,s.VK_SUBTRACT=109,s.VK_DECIMAL=110,s.VK_DIVIDE=111,s.VK_F1=112,s.VK_F2=113,s.VK_F3=114,s.VK_F4=115,s.VK_F5=116,s.VK_F6=117,s.VK_F7=118,s.VK_F8=119,s.VK_F9=120,s.VK_F10=121,s.VK_F11=122,s.VK_F12=123,s.VK_F13=124,s.VK_F14=125,s.VK_F15=126,s.VK_F16=127,s.VK_F17=128,s.VK_F18=129,s.VK_F19=130,s.VK_F20=131,s.VK_F21=132,s.VK_F22=133,s.VK_F23=134,s.VK_F24=135,s.VK_NUM_LOCK=144,s.VK_SCROLL_LOCK=145,s.VK_CIRCUMFLEX=160,s.VK_EXCLAMATION=161,s.VK_DOUBLE_QUOTE=162,s.VK_HASH=163,s.VK_DOLLAR=164,s.VK_PERCENT=165,s.VK_AMPERSAND=166,s.VK_UNDERSCORE=167,s.VK_OPEN_PAREN=168,s.VK_CLOSE_PAREN=169,s.VK_ASTERISK=170,s.VK_PLUS=171,s.VK_PIPE=172,s.VK_HYPHEN_MINUS=173,s.VK_OPEN_CURLY_BRACKET=174,s.VK_CLOSE_CURLY_BRACKET=175,s.VK_TILDE=176,s.VK_COMMA=188,s.VK_PERIOD=190,s.VK_SLASH=191,s.VK_BACK_QUOTE=192,s.VK_OPEN_BRACKET=219,s.VK_BACK_SLASH=220,s.VK_CLOSE_BRACKET=221,s.VK_QUOTE=222,s.VK_META=224,s.VK_ALTGR=225,s.VK_WIN=91,s.VK_KANA=21,s.VK_HANGUL=21,s.VK_EISU=22,s.VK_JUNJA=23,s.VK_FINAL=24,s.VK_HANJA=25,s.VK_KANJI=25,s.VK_CONVERT=28,s.VK_NONCONVERT=29,s.VK_ACCEPT=30,s.VK_MODECHANGE=31,s.VK_SELECT=41,s.VK_PRINT=42,s.VK_EXECUTE=43,s.VK_SLEEP=95,e.Keys=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(9);class r{}r.BLACK=s.fromRgb(0,0,0),r.WHITE=s.fromRgb(255,255,255),r.GRAY=s.fromRgb(128,128,128),r.LIGHT_GRAY=s.fromRgb(170,170,170),r.DARK_GRAY=s.fromRgb(85,85,85),r.YELLOW=s.fromRgb(255,255,85),r.BROWN=s.fromRgb(170,85,0),r.RED=s.fromRgb(255,0,0),r.LIGHT_RED=s.fromRgb(255,85,85),r.DARK_RED=s.fromRgb(170,0,0),r.GREEN=s.fromRgb(0,255,0),r.LIGHT_GREEN=s.fromRgb(85,255,85),r.DARK_GREEN=s.fromRgb(0,170,0),r.LIGHT_CYAN=s.fromRgb(85,255,255),r.DARK_CYAN=s.fromRgb(0,170,170),r.BLUE=s.fromRgb(0,0,255),r.LIGHT_BLUE=s.fromRgb(85,85,255),r.DARK_BLUE=s.fromRgb(0,0,170),r.LIGHT_MAGENTA=s.fromRgb(255,85,255),r.DARK_MAGENTA=s.fromRgb(170,0,170),r.ORANGE=s.fromRgb(255,136,0),e.Colors=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Effect=class{constructor(t,e){this.countdown=t,this.blocking=e}isDone(){return this.countdown<=0}update(){this.countdown--}draw(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(2);e.Dialog=class extends r.Panel{constructor(t){super(t),this.closeButton=!1}drawContents(){this.gui&&this.gui.renderer.draw(this.gui.app,this)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.visible=!1,!0;const t=this.gui.app.mouse;return!(!t.isClicked()||this.rect.contains(t)||(this.visible=!1,0))}close(){this.gui&&this.gui.remove(this)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),r=i(11);e.TalentButton=class extends r.Button{constructor(t,e,i){super(t,e.ability.sprite),this.talent=e,this.shortcut=!!i,this.tooltipMessages=e.ability.tooltipMessages}click(){this.talent.use()}drawContents(){if(super.drawContents(),this.talent.cooldown>0){const t=this.talent.actor.game,e=t.cooldownSprite;if(e){const i=1-this.talent.cooldown/this.talent.ability.cooldown,r=Math.round(i*e.frames),n=e.x+r*e.width,o=e.y,h=this.rect.x+(this.rect.width-e.width)/2|0,a=this.rect.y+(this.rect.height-e.height)/2|0;t.app.drawImage(h,a,n,o,e.width,e.height);const c=this.rect.x+this.rect.width/2|0,l=this.rect.y+this.rect.height/2|0;t.app.drawCenteredString(this.talent.cooldown.toString(),c+1,l-2,s.Colors.BLACK),t.app.drawCenteredString(this.talent.cooldown.toString(),c,l-3,s.Colors.WHITE)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.ArrayList=class{constructor(){this.elements=[]}get length(){return this.elements.length}clear(){this.elements.splice(0,this.elements.length)}get(t){return this.elements[t]}add(t){if(this.elements.push(t),this.listeners)for(let e=0;e<this.listeners.length;e++)this.listeners[e].onAdd(this,t)}remove(t){const e=this.elements.indexOf(t);if(e>=0&&(this.elements.splice(e,1),this.listeners))for(let e=0;e<this.listeners.length;e++)this.listeners[e].onRemove(this,t)}contains(t){return this.elements.indexOf(t)>=0}addListener(t){this.listeners||(this.listeners=[]),this.listeners.push(t)}}},function(t,e,i){\"use strict\";function s(t,e,i,s){return void 0===s&&(s=255),(t<<24)+(e<<16)+(i<<8)+s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.fromRgb=s,e.fromHsv=function(t,e,i,r){const n=6*t|0,o=6*t-n,h=i*(1-e),a=i*(1-o*e),c=i*(1-(1-o)*e);let l,d,u;switch(n%6){case 0:l=i,d=c,u=h;break;case 1:l=a,d=i,u=h;break;case 2:l=h,d=i,u=c;break;case 3:l=h,d=a,u=i;break;case 4:l=c,d=h,u=i;break;case 5:l=i,d=h,u=a;break;default:l=0,d=0,u=0}return void 0===r&&(r=1),s(255*l|0,255*d|0,255*u|0,255*r|0)}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(11);e.ItemShortcutButton=class extends s.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.shortcutItem=i,this.tooltipMessages=i.tooltipMessages}click(){const t=this.getItem();if(t){const e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),!this.isDragging())){const t=this.rect,e=this.countItems();this.gui.app.drawRightString(e.toString(),t.x2-3,t.y2-10)}}getItem(){for(let t=0;t<this.containerItems.length;t++){const e=this.containerItems.get(t);if(e.name===this.shortcutItem.name)return e}}countItems(){let t=0;for(let e=0;e<this.containerItems.length;e++)this.containerItems.get(e).name===this.shortcutItem.name&&t++;return t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.Button=class extends s.Panel{constructor(t,e,i,s){super(t),this.sprite=e,this.shortcutKey=i,this.onClick=s}drawContents(){if(!this.gui)return;const t=this.sprite,e=this.rect,i=(e.width-t.width)/2|0,s=(e.height-t.height)/2|0;t.draw(this.gui.app,e.x+i,e.y+s)}handleInput(){if(!this.gui)return!1;const t=this.gui.app,e=t.mouse;return this.rect.contains(e.start)&&e.isDragging()?(this.gui.startDragging(this),!0):this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked()?(this.click(),!0):e.down&&this.rect.contains(e)}click(){this.onClick&&this.onClick()}updateTooltip(t){this.tooltipMessages?(t.messages=this.tooltipMessages,t.visible=!0):t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.ButtonSlot=class extends s.Panel{constructor(t,e){super(t),this.shortcutKey=e}get button(){return this.children.length>0?this.children.get(0):void 0}drawContents(){if(!this.gui)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;e&&this.gui.app.drawImage(t.x,t.y,e.x,e.y,t.width,t.height);const i=this.button;i&&!i.isDragging()&&(i.rect.x=this.rect.x,i.rect.y=this.rect.y,i.rect.width=this.rect.width,i.rect.height=this.rect.height,this.drawChildren()),this.shortcutKey&&this.gui.app.drawRightString(String.fromCharCode(this.shortcutKey),t.x2-3,t.y+3)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;const t=this.gui.app,e=t.mouse,i=this.button;return i&&(this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked())?(i.click(),!0):e.down&&this.rect.contains(e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(8),r=i(11);e.ItemButton=class extends r.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.stackItems=new s.ArrayList,this.stackItems.add(i),this.tooltipMessages=i.tooltipMessages}click(){if(this.stackItems.length>0){const t=this.stackItems.get(0),e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),this.stackItems.length>1)){const t=this.rect;this.gui.app.drawRightString(this.stackItems.length.toString(),t.x2-3,t.y2-10)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SELF=0]=\"SELF\",t[t.ENTITY=1]=\"ENTITY\",t[t.TILE=2]=\"TILE\"}(e.TargetType||(e.TargetType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);e.Entity=class extends s.Vec2{constructor(t,e,i,r,n,o){super(e,i),this.game=t,this.offset=new s.Vec2(0,0),this.name=r,this.sprite=n,this.blocks=o,this.zIndex=1}get pixelX(){return this.x*this.game.tileSize.width+this.offset.x}get pixelY(){return this.y*this.game.tileSize.height+this.offset.y}get centerPixelX(){return this.pixelX+this.sprite.width/2|0}get centerPixelY(){return this.pixelY+this.sprite.height/2|0}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}distance(t,e){return Math.hypot(t-this.x,e-this.y)}draw(){this.sprite.draw(this.game.app,this.pixelX-this.game.viewport.x,this.pixelY-this.game.viewport.y)}startTurn(){}endTurn(){}sendToBack(){}onBump(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AI=class{constructor(t){this.actor=t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Input=class{constructor(){this.down=!1,this.downCount=0,this.upCount=0}update(){this.down?(this.downCount++,this.upCount=0):(this.downCount=0,this.upCount++)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(8),n=i(4),o=i(19),h=i(20),a=i(21),c=i(15);e.Actor=class extends c.Entity{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.hp=100,this.maxHp=100,this.ap=1,this.maxAp=1,this.inventory=new r.ArrayList,this.talents=new r.ArrayList,this.activatedCount=-1,this.seen=!1}startTurn(){this.ap=this.maxAp;for(let t=0;t<this.talents.length;t++){const e=this.talents.get(t);e.cooldown>0&&e.cooldown--}}move(t,e,i){const s=this.x+t,r=this.y+e;if(this.game.isBlocked(s,r))return!1;const n=i||4,o=this.game.tileSize.width/n,h=this.game.tileSize.height/n;return this.game.effects.push(new a.SlideEffect(this,t*o,e*h,n)),this.game.blocked=!0,this.ap--,!0}moveTo(t,e,i){return this.move(t-this.x,e-this.y,i)}moveToward(t,e,i){const s=t-this.x,r=e-this.y;if(Math.abs(s)>Math.abs(r)){if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0;if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0}else{if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0;if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0}return!1}attack(t,e){t!==this&&(this.onAttack(t,e),t.takeDamage(e),this.ap--,this.game.effects.push(new o.BumpEffect(this,t)),this.game.blocked=!0)}takeHeal(t){this.hp=Math.min(this.hp+t,this.maxHp),this.addFloatingText(t.toString(),n.Colors.LIGHT_GREEN)}takeDamage(t){if(this.hp-=t,this.addFloatingText(t.toString(),n.Colors.RED),this.hp<=0){this.hp=0,this.onDeath&&this.onDeath();const t=this.game.entities.indexOf(this);t>=0&&this.game.entities.splice(t,1)}}pickup(t){t.onPickup(this),this.inventory.add(t);const e=this.game.entities.indexOf(t);e>=0&&this.game.entities.splice(e,1)}use(t){return t.onUse(this)}cast(t,e,i){t.targetType===s.TargetType.SELF||e?t.cast(this,e)&&i&&i():this.game.startTargeting(t,i)}addFloatingText(t,e){this.game.effects.push(new h.FloatingTextEffect(this,t,e))}onAttack(t,e){}onDeath(){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=12;e.BumpEffect=class extends s.Effect{constructor(t,e){super(r,!0),this.entity=t,this.dx=e.x-t.x,this.dy=e.y-t.y}update(){const t=r-this.countdown;t>=0&&t<4&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),t>=4&&t<8&&(this.entity.offset.x-=this.dx,this.entity.offset.y-=this.dy),super.update()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),r=i(5);e.FloatingTextEffect=class extends r.Effect{constructor(t,e,i){super(40,!1),this.actor=t,this.str=e,this.color=i||s.Colors.WHITE}draw(t){const e=40-this.countdown,i=this.actor.pixelX+(this.actor.sprite.width/2|0)-t.viewport.x,s=this.actor.pixelY-3-t.viewport.y-Math.min(4,Math.floor(e/2));t.app.drawCenteredString(this.str,i,s,this.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.SlideEffect=class extends s.Effect{constructor(t,e,i,s){super(s,!0),this.entity=t,this.dx=e,this.dy=i}update(){this.countdown--,this.countdown>=0&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),0===this.countdown&&(this.entity.x+=this.entity.offset.x/this.entity.game.tileSize.width,this.entity.y+=this.entity.offset.y/this.entity.game.tileSize.height,this.entity.offset.x=0,this.entity.offset.y=0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=256;e.Keyboard=class{constructor(t){this.keys=new Array(r);for(let t=0;t<r;t++)this.keys[t]=new s.Input;t.addEventListener(\"keydown\",t=>this.setKey(t,!0)),t.addEventListener(\"keyup\",t=>this.setKey(t,!1))}setKey(t,e){t.stopPropagation(),t.preventDefault();const i=t.keyCode;i>=0&&i<r&&(this.keys[i].down=e)}update(){for(let t=0;t<r;t++)this.keys[t].down?this.keys[t].downCount++:this.keys[t].downCount=0}getKey(t){return t>=0&&t<r?this.keys[t]:null}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=i(0),n=i(1),o=4,h=30;e.Mouse=class extends s.Input{constructor(t){super(),this.app=t,this.prev=new n.Vec2(0,0),this.start=new n.Vec2(0,0),this.x=0,this.y=0,this.dx=0,this.dy=0,this.dragDistance=0,this.longPress=!1;const e=t.canvas,i=this.handleEvent.bind(this);e.addEventListener(\"mousedown\",i),e.addEventListener(\"mouseup\",i),e.addEventListener(\"mousemove\",i),e.addEventListener(\"contextmenu\",i);const s=this.handleTouchEvent.bind(this);e.addEventListener(\"touchstart\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s),e.addEventListener(\"touchmove\",s)}handleTouchEvent(t){if(t.stopPropagation(),t.preventDefault(),t.touches.length>0){const e=t.touches[0];this.updatePosition(e.clientX,e.clientY)}\"touchstart\"===t.type&&(this.down=!0,this.prev.x=this.x,this.prev.y=this.y,this.start.x=this.x,this.start.y=this.y,this.dx=0,this.dy=0,this.dragDistance=0),\"touchend\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}handleEvent(t){t.stopPropagation(),t.preventDefault(),this.updatePosition(t.clientX,t.clientY),\"mousedown\"===t.type&&(this.down=!0,this.start.x=this.x,this.start.y=this.y,this.dragDistance=0,this.app.canvas.focus()),\"mouseup\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}updatePosition(t,e){let i=this.app.canvas.getBoundingClientRect();const s=this.app.size.width/this.app.size.height,n=i.width/i.height;if(n-s>.01){const t=s*i.height,e=i.width-t;i=new r.Rect(Math.floor(e/2),0,t,i.height)}if(n-s<-.01){const t=i.width/s,e=i.height-t;i=new r.Rect(0,Math.floor(e/2),i.width,t)}this.x=this.app.size.width*(t-i.left)/i.width|0,this.y=this.app.size.height*(e-i.top)/i.height|0}update(){super.update(),this.dx=this.x-this.prev.x,this.dy=this.y-this.prev.y,this.prev.x=this.x,this.prev.y=this.y,this.down&&(this.dragDistance+=Math.abs(this.dx)+Math.abs(this.dy))}isClicked(){return 1===this.upCount&&this.dragDistance<o&&!this.longPress}isDragging(){return this.down&&this.dragDistance>o}isLongPress(){return this.downCount===h&&!this.isDragging()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function s(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}e.ExtendedTexture=class extends WebGLTexture{constructor(){super(),this.loaded=!1,this.width=0,this.height=0}},e.initShaderProgram=function(t,e,i){const r=s(t,t.VERTEX_SHADER,e),n=s(t,t.FRAGMENT_SHADER,i),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),o},e.loadShader=s,e.createTexture=function(t,e){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.RGBA,r=t.RGBA,n=t.UNSIGNED_BYTE,o=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,0,s,1,1,0,r,n,o);const h=new Image;return h.onload=(()=>{t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,s,r,n,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.generateMipmap(t.TEXTURE_2D),i.loaded=!0,i.width=h.width,i.height=h.height}),h.src=e,i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(26);e.AppState=class{constructor(t){this.app=t,this.gui=new s.GUI(t)}update(){this.gui.handleInput(),this.gui.draw()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(27),r=i(10),n=i(2),o=i(7),h=i(0),a=i(1);e.GUI=class{constructor(t){this.app=t,this.renderer=new s.DialogRenderer(new h.Rect(0,0,1,1)),this.rootPanel=new n.Panel(t.size),this.rootPanel.gui=this}add(t){this.rootPanel.add(t)}remove(t){this.rootPanel.remove(t)}getPanelAt(t){return this.rootPanel.getPanelAt(t)}handleInput(){return this.dragElement&&this.dragOffset?(this.updateDragging(),!0):this.rootPanel.handleInput()}draw(){this.rootPanel.drawContents(),this.dragElement&&this.dragElement.drawContents()}startDragging(t){const e=this.app.mouse;this.dragElement=t,this.dragOffset=new a.Vec2(e.start.x-t.rect.x,e.start.y-t.rect.y)}updateDragging(){const t=this.app.mouse,e=this.dragElement,i=this.dragOffset;if(t.down)e.rect.x=t.x-i.x,e.rect.y=t.y-i.y;else{const s=this.rootPanel.getPanelAt(t);s&&s.onDrop(e)?(e.rect.x=s.rect.x,e.rect.y=s.rect.y,e.move(s)):e instanceof r.ItemShortcutButton&&s===this.rootPanel?e.parent&&e.parent.remove(e):e instanceof o.TalentButton&&e.shortcut&&s===this.rootPanel?e.parent&&e.parent.remove(e):(e.rect.x=t.start.x-i.x,e.rect.y=t.start.y-i.y),this.dragElement=void 0,this.dragOffset=void 0}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.DialogRenderer=class{constructor(t,e){this.baseRect=t,this.closeButtonRect=e}draw(t,e){const i=this.baseRect.x,s=this.baseRect.y,r=this.baseRect.width/3|0,n=this.baseRect.height/3|0,o=i+r,h=s+n,a=i+2*r,c=s+2*r,l=e.rect.x,d=e.rect.y,u=e.rect.width-2*r,g=e.rect.height-2*n,p=l+r,f=d+n,y=p+u,x=f+g;if(t.drawImage(l,d,i,s,r,n,void 0,r,n),t.drawImage(p,d,o,s,r,n,void 0,u,n),t.drawImage(y,d,a,s,r,n,void 0,r,n),t.drawImage(l,f,i,h,r,n,void 0,r,g),t.drawImage(p,f,o,h,r,n,void 0,u,g),t.drawImage(y,f,a,h,r,n,void 0,r,g),t.drawImage(l,x,i,c,r,n,void 0,r,n),t.drawImage(p,x,o,c,r,n,void 0,u,n),t.drawImage(y,x,a,c,r,n,void 0,r,n),this.closeButtonRect&&e.closeButton){const i=this.closeButtonRect.width,s=this.closeButtonRect.height,r=e.rect.x2-i,n=e.rect.y,o=this.closeButtonRect.x,h=this.closeButtonRect.y;t.drawImage(r,n,o,h,i,s)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=[0,-1,1,0],r=[-1,0,0,1],n=[1,1,1,1];function o(t){let e=null,i=-1,s=1/0;for(let r=0;r<t.length;r++){const n=t[r];n.g!==1/0&&n.g+n.h<s&&(e=n,i=r,s=n.g+n.h)}return t.splice(i,1),e}function h(t){const e=[];let i=t;for(;i;)e.push(i),i=i.prev;return e.reverse(),e}e.computePath=function(t,e,i,a){!function(t,e){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const r=t.grid[i][s];r.g=1/0,r.h=Math.min(Math.abs(s-e.x),Math.abs(i-e.y)),r.prev=null}}(t,i);const c=t.grid[e.y][e.x];c.g=0;const l=[c];for(;l.length>0;){const e=o(l);if(e.x===i.x&&e.y===i.y)return h(e);for(let i=0;i<s.length;i++){const o=e.x+s[i],h=e.y+r[i];if(o>=0&&o<t.width&&h>=0&&h<t.height){const s=t.grid[h][o],r=e.g+n[i];r<s.g&&r<=a&&!t.grid[h][o].blocked&&(s.g=r,s.prev=e,l.push(s))}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.RNG=class{constructor(t){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=t||1}setSeed(t){this.state=t}nextInt(){return this.state=(this.a*this.state+this.c)%this.m,this.state}nextFloat(){return this.nextInt()/(this.m-1)}nextRange(t,e){const i=e-t;return t+(this.nextInt()/this.m*i|0)}chooseIndex(t){const e=t.reduce((t,e)=>t+e),i=this.nextRange(1,e+1);let s=0;for(let e=0;e<t.length;e++)if(i<=(s+=t[e]))return e;return t.length-1}chooseKey(t){const e=[],i=[];for(const s in t)t.hasOwnProperty(s)&&(e.push(s),i.push(t[s]));return e[this.chooseIndex(i)]}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=30;class n extends s.Rect{constructor(t,e,i,s,n,o,h,a){super(t,e,i,s),this.frames=n||1,this.loop=!!o,this.ticksPerFrame=h||r,this.colorOverride=a,this.animIndex=0,this.animDelay=0}draw(t,e,i,s){let r=this.animIndex;this.loop&&(r=(n.globalAnimIndex/this.ticksPerFrame|0)%this.frames);const o=this.x+r*this.width,h=this.y,a=s||this.colorOverride;t.drawImage(e,i,o,h,this.width,this.height,a),this.animDelay++,this.animDelay>this.ticksPerFrame&&(this.animDelay=0,this.animIndex++,this.animIndex>=this.frames&&(this.loop?this.animIndex=0:this.animIndex=this.frames-1))}static updateGlobalAnimations(){n.globalAnimIndex++}}n.globalAnimIndex=0,e.Sprite=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Message=class{constructor(t,e){this.text=t,this.color=e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(12),r=i(13),n=i(10),o=i(7);e.ShortcutButtonSlot=class extends s.ButtonSlot{onDrop(t){if(this.children.length>0)return!1;if(t instanceof r.ItemButton){const e=t,i=e.containerItems,s=e.stackItems.get(0);return this.add(new n.ItemShortcutButton(this.rect.clone(),i,s)),!1}return t instanceof o.TalentButton?!!t.shortcut||(this.add(new o.TalentButton(this.rect.clone(),t.talent,!0)),!1):!!(t instanceof n.ItemShortcutButton||t instanceof o.TalentButton&&t.shortcut)}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(14)),s(i(18)),s(i(16)),s(i(34)),s(i(35)),s(i(36)),s(i(25)),s(i(8)),s(i(9)),s(i(4)),s(i(19)),s(i(5)),s(i(39)),s(i(40)),s(i(20)),s(i(41)),s(i(21)),s(i(15)),s(i(42)),s(i(26)),s(i(11)),s(i(12)),s(i(44)),s(i(6)),s(i(27)),s(i(13)),s(i(46)),s(i(10)),s(i(48)),s(i(2)),s(i(49)),s(i(50)),s(i(51)),s(i(52)),s(i(32)),s(i(7)),s(i(53)),s(i(17)),s(i(54)),s(i(22)),s(i(3)),s(i(31)),s(i(23)),s(i(28)),s(i(1)),s(i(0)),s(i(29)),s(i(30)),s(i(55)),s(i(56))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16),r=1;e.BasicMonster=class extends s.AI{constructor(t,e){super(t),this.damageFunc=e}doAi(){const t=this.actor,e=t.game.player;if(e)if(t.distanceTo(e)>1)t.moveToward(e.x,e.y);else if(e.hp>0){const i=this.damageFunc?this.damageFunc(t,e):r;t.attack(e,i)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16);e.ConfusedMonster=class extends s.AI{constructor(t){super(t),this.numTurns=10,this.oldAi=t.ai}doAi(){if(this.numTurns>0){const t=this.actor.game.rng;this.actor.move(t.nextRange(-1,2),t.nextRange(-1,2)),this.numTurns--}else this.actor.ai=this.oldAi}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(37),r=i(22),n=i(23),o=i(0),h=i(38),a=i(1),c=400,l=224,d=!1,u=2;e.App=class{constructor(t){const e=t.canvas;if(!e)throw new Error(\"Null or missing canvas element\");const i=e.getContext(\"webgl\",{alpha:!1,antialias:!1});if(!i)throw new Error(\"Could not get WebGL context\");this.canvas=e,this.gl=i,this.size=t.size||new o.Rect(0,0,c,l),this.font=t.font||s.FONT_04B03,this.fillWindow=t.fillWindow||d,this.scaleFactor=t.scaleFactor||u,this.center=new a.Vec2(this.size.width/2|0,this.size.height/2|0),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),e.width=this.size.width,e.height=this.size.height,e.style.outline=\"none\",e.tabIndex=0,e.focus(),this.mobile=this.isMobile(),this.renderSet=new h.RenderSet(i,t.imageUrl,this.font),this.keyboard=new r.Keyboard(e),this.mouse=new n.Mouse(this),this.fillWindow&&(window.addEventListener(\"resize\",this.handleResizeEvent.bind(this),!1),this.handleResizeEvent()),this.renderLoop()}handleResizeEvent(){const t=window.innerWidth,e=window.innerHeight,i=this.isMobile(),s=i?320:400,r=i?224:300;this.scaleFactor=1,this.scaleFactor=t>e?Math.max(1,Math.min(Math.round(t/s),Math.round(e/r))):Math.max(1,Math.min(Math.round(t/r),Math.round(e/s))),this.size.width=Math.round(t/this.scaleFactor),this.size.height=Math.round(e/this.scaleFactor),this.center.x=this.size.width/2|0,this.center.y=this.size.height/2|0,this.canvas.width=this.size.width,this.canvas.height=this.size.height,this.canvas.style.left=\"0\",this.canvas.style.top=\"0\",this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"}isMobile(){return!!navigator.userAgent.match(/Android|iPhone|iPod|IEMobile|WPDesktop|Opera Mini/i)}renderLoop(){this.keyboard.update(),this.mouse.update(),this.resetGl(),this.state&&this.state.update(),this.renderSet.flush(this.size.width,this.size.height),requestAnimationFrame(this.renderLoop.bind(this))}resetGl(){const t=this.gl;t.viewport(0,0,this.size.width,this.size.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.renderSet.positionArrayIndex=0,this.renderSet.texcoordArrayIndex=0,this.renderSet.colorArrayIndex=0}drawImage(t,e,i,s,r,n,o,h,a){this.renderSet.drawImage(t,e,i,s,r,n,o,h,a)}drawString(t,e,i,s){this.renderSet.drawString(t,e,i,s)}drawCenteredString(t,e,i,s){this.renderSet.drawCenteredString(t,e,i,s)}drawRightString(t,e,i,s){this.renderSet.drawRightString(t,e,i,s)}isKeyDown(t){const e=this.keyboard.getKey(t);return e&&e.down}isKeyPressed(t){const e=this.keyboard.getKey(t),i=e?e.downCount:0;return 1===i||i>30}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=32,r=126;class n{isInRange(t){return t>=s&&t<=r}getStringWidth(t){let e=0;for(let i=0;i<t.length;i++)e+=this.getWidth(t.charCodeAt(i));return e}}e.Font=n;e.MonospacedFont=class extends n{constructor(t){super(),this.glyphSize=t}getOffset(t){return(t-s)*this.glyphSize.width}getWidth(){return this.glyphSize.width}getHeight(){return this.glyphSize.height}};class o extends n{constructor(t,e){super(),this.height=t,this.widths=e,this.offsets=[0];let i=0;for(let t=0;t<this.widths.length;t++)i+=this.widths[t],this.offsets.push(i)}getOffset(t){return this.offsets[t-s]}getWidth(t){return this.widths[t-s]}getHeight(){return this.height}}e.ProportionalFont=o,e.FONT_04B03=new o(8,[4,2,4,6,5,6,6,2,3,3,4,4,3,4,2,6,5,3,5,5,5,5,5,5,5,5,2,2,4,4,4,5,6,5,5,4,5,4,4,5,5,4,5,5,4,6,5,5,5,5,5,5,4,5,5,6,5,5,4,3,6,3,4,5,3,5,5,4,5,5,4,5,5,2,3,5,2,6,5,5,5,5,4,5,4,5,5,6,4,5,5,4,2,4,5,0])},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=65536,n=\"uniform vec2 u_viewportSize;attribute vec2 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;void main() {vec2 zeroToOne = a_position / u_viewportSize;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;v_color = a_color;}\",o=\"precision highp float;uniform sampler2D u_image;varying vec2 v_texCoord;varying vec4 v_color;void main() {gl_FragColor = texture2D(u_image, v_texCoord);if (gl_FragColor.a < 0.1) discard;if (v_color.a != 0.0) gl_FragColor = v_color;}\";e.RenderSet=class{constructor(t,e,i){this.gl=t,this.font=i;const h=s.initShaderProgram(t,n,o);this.program=h,this.viewportSizeLocation=t.getUniformLocation(h,\"u_viewportSize\"),this.positionLocation=t.getAttribLocation(h,\"a_position\"),this.texcoordLocation=t.getAttribLocation(h,\"a_texCoord\"),this.colorLocation=t.getAttribLocation(h,\"a_color\"),this.positionBuffer=t.createBuffer(),this.texcoordBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.spriteTexture=s.createTexture(t,e),this.positionArray=new Float32Array(r),this.positionArrayIndex=0,this.texcoordArray=new Float32Array(r),this.texcoordArrayIndex=0,this.colorUint8Array=new Uint8Array(r),this.colorDataView=new DataView(this.colorUint8Array.buffer),this.colorArrayIndex=0}drawCenteredString(t,e,i,s){const r=e-this.font.getStringWidth(t)/2|0;this.drawString(t,r,i,s)}drawRightString(t,e,i,s){const r=e-this.font.getStringWidth(t);this.drawString(t,r,i,s)}drawString(t,e,i,s){const r=t.split(\"\\n\"),n=this.font.getHeight();let o=i;for(let t=0;t<r.length;t++){let i=e;for(let e=0;e<r[t].length;e++){const h=r[t].charCodeAt(e);if(this.font.isInRange(h)){const t=this.font.getOffset(h),e=this.font.getWidth(h);this.drawImage(i,o,t,0,e,n,s),i+=e}}o+=n}}drawChar(t,e,i,s){if(this.font.isInRange(t)){const r=this.font.getOffset(t),n=this.font.getWidth(t),o=this.font.getHeight();this.drawImage(e,i,r,0,n,o,s)}}drawImage(t,e,i,s,r,n,o,h,a){const c=this.spriteTexture;if(!c.loaded)return;const l=void 0!==h?h:r,d=void 0!==a?a:n,u=t+Math.abs(l),g=e+d,p=i/c.width,f=s/c.height,y=(i+r)/c.width,x=(s+n)/c.height,m=o||0;this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=x,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=g,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=x,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=x;for(let t=0;t<6;t++)this.colorDataView.setUint32(this.colorArrayIndex,m,!1),this.colorArrayIndex+=4}flush(t,e){if(!this.spriteTexture.loaded||0===this.positionArrayIndex)return;const i=this.gl;i.useProgram(this.program),i.uniform2f(this.viewportSizeLocation,t,e),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.spriteTexture);{i.enableVertexAttribArray(this.positionLocation),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,this.positionArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.positionLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.texcoordLocation),i.bindBuffer(i.ARRAY_BUFFER,this.texcoordBuffer),i.bufferData(i.ARRAY_BUFFER,this.texcoordArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.texcoordLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.colorLocation),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),i.bufferData(i.ARRAY_BUFFER,this.colorUint8Array,i.DYNAMIC_DRAW);const t=4,e=i.UNSIGNED_BYTE,s=!0,r=0,n=0;i.vertexAttribPointer(this.colorLocation,t,e,s,r,n)}const s=i.TRIANGLES,r=this.positionArrayIndex/2;i.drawArrays(s,0,r)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(9),r=i(5);e.FadeInEffect=class extends r.Effect{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(9),r=i(5);e.FadeOutEffect=class extends r.Effect{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=1-this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.ProjectileEffect=class extends s.Effect{constructor(t,e,i,s){super(s,!0),this.sprite=t,this.position=e,this.velocity=i,this.duration=s}update(){super.update(),this.position.add(this.velocity)}draw(t){const e=this.position.x-t.viewport.x,i=this.position.y-t.viewport.y;this.sprite.draw(t.app,e,i)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(18),n=i(25),o=i(4),h=i(43),a=i(3),c=i(28),l=i(0),d=i(29),u=i(30),g=i(1),p=16,f=16,y=13,x=[a.Keys.VK_UP,a.Keys.VK_NUMPAD8,a.Keys.VK_K,a.Keys.VK_W,a.Keys.VK_Z],m=[a.Keys.VK_LEFT,a.Keys.VK_NUMPAD4,a.Keys.VK_H,a.Keys.VK_A,a.Keys.VK_Q],_=[a.Keys.VK_DOWN,a.Keys.VK_NUMPAD2,a.Keys.VK_J,a.Keys.VK_S],w=[a.Keys.VK_RIGHT,a.Keys.VK_NUMPAD6,a.Keys.VK_L,a.Keys.VK_D],v=[a.Keys.VK_SPACE,a.Keys.VK_NUMPAD5];e.Game=class extends n.AppState{constructor(t,e){super(t),this.tileSize=e.tileSize||new l.Rect(0,0,p,f),this.viewport=new l.Rect(0,0,t.size.width,t.size.height),this.viewportFocus=new g.Vec2(0,0),this.effects=[],this.entities=[],this.turnIndex=0,this.blocked=!1,this.cursor=new g.Vec2(-1,-1),this.tooltip=new h.TooltipDialog,this.rng=new d.RNG,this.pathIndex=0,this.viewDistance=e.viewDistance||y}log(t,e){this.messageLog&&this.messageLog.add(t,e)}update(){u.Sprite.updateGlobalAnimations(),this.updateTooltip(),this.gui.handleInput()||(this.updateEffects(),this.updateEntities(),this.onUpdate&&this.onUpdate(),this.updateViewport()),this.drawTileMap(),this.drawTargeting(),this.drawEntities(),this.drawEffects(),this.gui.draw()}updateTooltip(){if(this.gui.dragElement)return void(this.tooltip.visible=!1);this.tooltip.visible||(this.tooltipElement=void 0);const t=this.app.mouse,e=t.isLongPress();if(!t.down&&(0!==t.dx||0!==t.dy)||e){const i=this.gui.getPanelAt(t);this.tooltipElement!==i&&(this.tooltipElement=i,i&&(i.updateTooltip(this.tooltip),e&&window.navigator.vibrate(100))),this.tooltip.visible&&(this.tooltip.gui||this.gui.add(this.tooltip),this.tooltip.showAt(t.x,t.y),this.tooltip.modal=this.app.mobile)}}updateEffects(){this.blocked=!1;for(let t=0;t<this.effects.length;t++){const e=this.effects[t];e.blocking&&this.blocked||(e.update(),e.blocking&&(this.blocked=!0))}for(let t=this.effects.length-1;t>=0;t--)if(this.effects[t].isDone()){const e=this.effects[t];e.onDone&&e.onDone(),this.effects.splice(t,1)}}updateEntities(){let t=0;for(;0!==this.entities.length&&(this.turnIndex>=this.entities.length&&(this.turnIndex=0),!(t>2*this.entities.length));){const e=this.entities[this.turnIndex];if(e instanceof r.Actor){if(e.ap>0){if(e===this.player){this.handlePlayerInput();break}this.doAi(e)}!this.blocked&&e.ap<=0&&(e.ap=0,this.nextTurn())}else this.nextTurn();if(this.blocked)break;t++}}resetViewport(){this.player&&(this.viewportFocus.x=this.player.centerPixelX,this.viewportFocus.y=this.player.centerPixelY,this.viewport.x=this.viewportFocus.x-(this.app.size.width/2|0),this.viewport.y=this.viewportFocus.y-(this.app.size.height/2|0))}updateViewport(){this.viewport.width=this.app.size.width,this.viewport.height=this.app.size.height;const t=this.app.mouse;if(t.isDragging())this.viewport.x-=t.dx,this.viewport.y-=t.dy,this.viewportFocus.x=this.viewport.x+(this.viewport.width/2|0),this.viewportFocus.y=this.viewport.y+(this.viewport.height/2|0);else{const t=this.viewportFocus.x-(this.app.size.width/2|0);if(t!==this.viewport.x){let e=.1*t-.1*this.viewport.x;e=e<0?Math.floor(e):Math.ceil(e),this.viewport.x+=e}const e=this.viewportFocus.y-(this.app.size.height/2|0);if(e!==this.viewport.y){let t=.1*e-.1*this.viewport.y;t=t<0?Math.floor(t):Math.ceil(t),this.viewport.y+=t}}}drawTileMap(){this.app.renderSet.spriteTexture.loaded&&this.tileMap&&this.tileMap.draw(this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height)}drawTargeting(){if(this.isTargeting()&&this.targetSprite){const t=this.cursor.x*this.tileSize.width-this.viewport.x,e=this.cursor.y*this.tileSize.height-this.viewport.y;this.targetSprite.draw(this.app,t,e)}}drawEntities(){for(let t=0;t<3;t++)for(let e=0;e<this.entities.length;e++){const i=this.entities[e];i.zIndex!==t||this.tileMap&&!this.tileMap.isVisible(i.x,i.y)||i.draw()}}drawEffects(){let t=0;for(let e=0;e<this.effects.length;e++){const i=this.effects[e];0!==t&&i.blocking||i.draw(this),i.blocking&&t++}}isTargeting(){return!!this.targetAbility}startTargeting(t,e){this.targetAbility=t,this.targetCallback=e,this.player&&(this.cursor.x=this.player.x,this.cursor.y=this.player.y)}endTargeting(){if(this.player&&this.targetAbility){const t=this.targetAbility.targetType;let e=null;t===s.TargetType.ENTITY?e=this.getActorAt(this.cursor.x,this.cursor.y):t===s.TargetType.TILE&&this.tileMap&&(e=this.tileMap.getCell(this.cursor.x,this.cursor.y)),e&&this.targetAbility.cast(this.player,e)&&this.targetCallback&&this.targetCallback()}this.cancelTargeting()}cancelTargeting(){this.targetAbility=void 0,this.targetCallback=void 0}handlePlayerInput(){if(!this.player||this.blocked)return;if(this.player.ai)return this.player.ai.doAi(),void(this.player.ap=0);const t=this.app.mouse;if((t.down||0!==t.dx||0!==t.dy)&&(this.cursor.x=(this.viewport.x+t.x)/this.tileSize.width|0,this.cursor.y=(this.viewport.y+t.y)/this.tileSize.height|0),this.app.isKeyDown(a.Keys.VK_SHIFT))return this.isKeyPressed(x)&&(this.viewportFocus.y-=2*this.tileSize.height),this.isKeyPressed(m)&&(this.viewportFocus.x-=2*this.tileSize.width),this.isKeyPressed(w)&&(this.viewportFocus.x+=2*this.tileSize.width),void(this.isKeyPressed(_)&&(this.viewportFocus.y+=2*this.tileSize.height));if(this.isTargeting())return(this.app.isKeyPressed(a.Keys.VK_ENTER)||this.app.mouse.isClicked())&&this.endTargeting(),this.app.isKeyPressed(a.Keys.VK_ESCAPE)&&this.cancelTargeting(),this.isKeyPressed(x)&&this.cursor.y--,this.isKeyPressed(m)&&this.cursor.x--,this.isKeyPressed(w)&&this.cursor.x++,void(this.isKeyPressed(_)&&this.cursor.y++);if(t.isClicked()){const e=(this.viewport.x+t.x)/this.tileSize.width|0,i=(this.viewport.y+t.y)/this.tileSize.height|0;if(this.tileMap){const t=this.tileMap.getCell(e,i);t&&t!==this.targetTile&&(this.targetTile=t,this.path=c.computePath(this.tileMap,this.player,this.targetTile,100),this.pathIndex=0)}}let e=null;if(this.path){for(e=this.path[this.pathIndex];e&&e.x===this.player.x&&e.y===this.player.y;)this.pathIndex++,e=this.pathIndex<this.path.length?this.path[this.pathIndex]:null;e||this.stopAutoWalk()}const i=this.isKeyPressed(_)||e&&e.y>this.player.y,s=this.isKeyPressed(m)||e&&e.x<this.player.x,r=this.isKeyPressed(w)||e&&e.x>this.player.x,n=this.isKeyPressed(x)||e&&e.y<this.player.y,o=this.isKeyPressed(v);n&&this.tryMoveOrAttack(0,-1),s&&this.tryMoveOrAttack(-1,0),r&&this.tryMoveOrAttack(1,0),i&&this.tryMoveOrAttack(0,1),o&&(this.player.ap=0)}isKeyPressed(t){for(let e=0;e<t.length;e++)if(this.app.isKeyPressed(t[e]))return!0;return!1}tryMoveOrAttack(t,e){const i=this.player;if(!i)return;const s=i.x+t,r=i.y+e;for(let t=0;t<this.entities.length;t++){const e=this.entities[t];if(i!==e&&e.x===s&&e.y===r)return i.onBump&&i.onBump(e),this.stopAutoWalk(),!0}return i.move(t,e)}recalculateViewportFocus(){const t=this.player;if(!t)return;let e=t.pixelX,i=t.pixelY,s=e+t.sprite.width,n=i+t.sprite.height;if(this.path)for(let t=this.pathIndex;t<this.path.length;t++){const r=this.path[t];e=Math.min(e,r.x*this.tileSize.width),i=Math.min(i,r.y*this.tileSize.height),s=Math.max(s,(r.x+1)*this.tileSize.width),n=Math.max(n,(r.y+1)*this.tileSize.height)}else for(let t=0;t<this.entities.length;t++){const o=this.entities[t];o instanceof r.Actor&&this.tileMap&&this.tileMap.isVisible(o.x,o.y)&&(e=Math.min(e,o.pixelX),i=Math.min(i,o.pixelY),s=Math.max(s,o.pixelX+o.sprite.width),n=Math.max(n,o.pixelY+o.sprite.height))}this.viewportFocus.x=Math.round((e+s)/2),this.viewportFocus.y=Math.round((i+n)/2)}doAi(t){t.ai&&(!this.tileMap||this.tileMap.isVisible(t.x,t.y)&&t.activatedCount>0)&&t.ai.doAi(),t.ap=0}nextTurn(){const t=this.entities[this.turnIndex];t.endTurn(),this.player&&this.player===t&&(this.recomputeFov(),this.recalculateViewportFocus()),this.turnIndex++,this.turnIndex>=this.entities.length&&(this.turnIndex=0),this.entities[this.turnIndex].startTurn()}stopAutoWalk(){this.path=void 0,this.targetTile=void 0}isBlocked(t,e){if(this.tileMap&&this.tileMap.isBlocked(t,e))return!0;for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s.blocks&&s.x===t&&s.y===e)return!0}return!1}getEntityAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s.x===t&&s.y===e)return s}}getActorAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities[i];if(s instanceof r.Actor&&s.x===t&&s.y===e)return s}}recomputeFov(){if(this.player&&this.tileMap){this.tileMap.computeFov(this.player.x,this.player.y,this.viewDistance);for(let t=0;t<this.entities.length;t++){const e=this.entities[t];e!==this.player&&e instanceof r.Actor&&(this.tileMap.isVisible(e.x,e.y)?(e.seen||(e.seen=!0,this.player.addFloatingText(\"!\",o.Colors.WHITE),this.stopAutoWalk(),this.viewportFocus.x=(this.player.centerPixelX+e.centerPixelX)/2|0,this.viewportFocus.y=(this.player.centerPixelY+e.centerPixelY)/2|0),e.activatedCount++):e.activatedCount=-1)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=i(6),n=100,o=5,h=2;e.TooltipDialog=class extends r.Dialog{constructor(){super(new s.Rect(0,0,n,10)),this.messages=[],this.visible=!1}showAt(t,e){if(!this.gui)return;const i=this.gui.app,s=i.font,r=s.getHeight()+h;this.rect.width=2*o,this.rect.height=2*o+this.messages.length*r;for(let t=0;t<this.messages.length;t++){const e=this.messages[t],i=2*o+s.getStringWidth(e.text);this.rect.width=Math.max(this.rect.width,i)}t+this.rect.width>=i.size.width?this.rect.x=t-this.rect.width-2:this.rect.x=t+2,e-this.rect.height<0?this.rect.y=e+2:this.rect.y=e-this.rect.height-2,this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.visible=!0}drawContents(){if(!this.gui)return;super.drawContents();const t=this.gui.app.font.getHeight()+h,e=this.rect.x+o;let i=this.rect.y+o;for(let s=0;s<this.messages.length;s++){const r=this.messages[s];this.gui.app.drawString(r.text,e,i,r.color),i+=t}}handleInput(){return!!this.gui&&(this.gui.app.mouse.isClicked()&&(this.visible=!1),!1)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(1),n=i(45),o=i(6),h=4;e.ComplexSelectDialog=class extends o.Dialog{constructor(t,e){super(t),this.options=e,this.selectedIndex=0,this.renderer=new n.DefaultSelectOptionRenderer}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect,e=new r.Vec2(t.x+h,t.y+h);for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex;this.renderer.drawOption(this.gui,e,i,s),e.y+=this.renderer.getHeight(i,s)}}handleInput(){if(!this.gui)return!1;const t=this.gui.app;for(let e=0;e<this.options.length;e++)t.isKeyPressed(s.Keys.VK_A+e)&&(this.selectedIndex=e,this.onSelect&&this.onSelect(this.options[e]));t.isKeyPressed(s.Keys.VK_ENTER)&&this.onSelect&&this.onSelect(this.options[this.selectedIndex]),t.isKeyPressed(s.Keys.VK_ESCAPE)&&this.onCancel&&this.onCancel(),t.isKeyPressed(s.Keys.VK_UP)&&this.selectedIndex--,t.isKeyPressed(s.Keys.VK_DOWN)&&this.selectedIndex++,this.selectedIndex<0&&(this.selectedIndex+=this.options.length),this.selectedIndex>=this.options.length&&(this.selectedIndex-=this.options.length);const e=t.mouse,i=this.rect;let r=i.y+h;if(1===e.upCount&&e.x>=i.x1&&e.x<i.x2)for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex,n=this.renderer.getHeight(i,s),o=r,h=r+n;e.y>=o&&e.y<h&&(s?this.onSelect&&this.onSelect(i):this.selectedIndex=t),r+=n}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);e.DefaultSelectOptionRenderer=class{getHeight(t,e){return 10}drawOption(t,e,i,r){const n=r?s.Colors.YELLOW:s.Colors.WHITE;t.app.drawString(i.name,e.x,e.y,n)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(0),n=i(6),o=i(13),h=i(47),a=4,c=2;e.ItemContainerDialog=class extends n.Dialog{constructor(t,e,i,n){super(t),this.messages=e,this.capacity=i,this.items=n,this.modal=!0,n.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new h.ItemContainerButtonSlot(new r.Rect(0,0,24,24),n,s.Keys.VK_A+t))}addItem(t){const e=this.getExistingButton(t);if(e)return void e.stackItems.add(t);const i=this.getNextFreeSlot();i&&i.add(new o.ItemButton(i.rect.clone(),this.items,t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof o.ItemButton&&s.stackItems.contains(t)&&(s.stackItems.remove(t),0===s.stackItems.length&&i.remove(s))}}getExistingButton(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e).button;if(i&&i instanceof o.ItemButton&&i.stackItems.get(0).name===t.name)return i}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(12),r=i(13);e.ItemContainerButtonSlot=class extends s.ButtonSlot{constructor(t,e,i){super(t,i),this.items=e}onDrop(t){return t instanceof r.ItemButton}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.ImagePanel=class extends s.Panel{constructor(t,e){super(e),this.srcRect=t}drawContents(){if(!this.gui)return;const t=this.srcRect,e=this.rect;this.gui.app.drawImage(e.x,e.y,t.x,t.y,e.width,e.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),r=i(31),n=i(2);e.MessageLog=class extends n.Panel{constructor(t,e){super(t),this.messages=[],this.maxItems=e||5}add(t,e){t instanceof n.Panel||(this.messages.push(new r.Message(t,e||s.Colors.WHITE)),this.messages.length>this.maxItems&&this.messages.splice(0,this.messages.length-this.maxItems))}drawContents(){if(!this.gui)return;const t=this.rect.x;let e=this.rect.y;e<0&&(e=this.gui.app.size.height+e+this.rect.height-10*this.messages.length);for(let i=0;i<this.messages.length;i++){const s=this.messages[i];this.gui.app.drawString(s.text,t,e,s.color),e+=10}}handleInput(){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.MessagePanel=class extends s.Panel{constructor(t,e){super(t),this.message=e}drawContents(){if(!this.gui)return;const t=this.message,e=this.rect;this.gui.app.drawString(t.text,e.x,e.y,t.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(6),n=4,o=10;e.SelectDialog=class extends r.Dialog{constructor(t,e,i){super(t),this.options=e,this.callback=i}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect;for(let e=0;e<this.options.length;e++){const i=String.fromCharCode(65+e)+\" - \"+this.options[e].name;this.gui.app.drawString(i,t.x+n,t.y+n+e*o)}}handleInput(){if(!this.gui)return!1;for(let t=0;t<this.options.length;t++)if(this.gui.app.isKeyPressed(s.Keys.VK_A+t))return this.callback(this.options[t]),this.close(),!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.close(),!0;const t=this.gui.app.mouse,e=this.rect;if(t.isClicked()&&t.x>=e.x1&&t.x<e.x2){if(this.closeButton&&t.x>=e.x2-16&&t.y<e.y+16)return this.close(),!0;for(let i=0;i<this.options.length;i++){const s=e.y+n+i*o,r=s+o;t.y>=s&&t.y<r&&(this.callback(this.options[i]),this.close())}}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(0),n=i(10),o=i(2),h=i(32),a=i(7),c=2;e.ShortcutBar=class extends o.Panel{constructor(t,e,i){super(t),this.spacing=void 0!==i?i:c;for(let t=0;t<e;t++){const e=new h.ShortcutButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_1+t);this.add(e)}}addTalent(t,e){if(this.containsTalent(t))return;const i=this.getFreeSlot(!!e);i&&i.add(new a.TalentButton(i.rect.clone(),t,!0))}containsTalent(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof a.TalentButton&&i.button.talent===t)return!0}return!1}addItem(t,e,i){if(this.containsItem(e))return;const s=this.getFreeSlot(!!i);s&&s.add(new n.ItemShortcutButton(s.rect.clone(),t,e))}containsItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof n.ItemShortcutButton&&i.button.shortcutItem.name===t.name)return!0}return!1}drawContents(){if(!this.gui)return;const t=this.gui.renderer.buttonSlotRect;if(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);i.rect.x=this.rect.x+e*(t.width+c),i.rect.y=this.rect.y,i.rect.width=t.width,i.rect.height=t.height}this.drawChildren()}}getFreeSlot(t){if(t)for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(!e.button)return e}else for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3),r=i(0),n=i(12),o=i(6),h=i(7),a=4,c=2;e.TalentsDialog=class extends o.Dialog{constructor(t,e,i,o){super(t),this.messages=e,this.capacity=i,this.talents=o,this.modal=!0,o.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new n.ButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_A+t))}addItem(t){const e=this.getNextFreeSlot();e&&e.add(new h.TalentButton(e.rect.clone(),t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof h.TalentButton&&s.talent===t&&i.remove(s)}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(15);e.Item=class extends s.Entity{onPickup(t){}onUse(t){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Talent=class{constructor(t,e,i){this.actor=t,this.ability=e,this.rank=i||1,this.cooldown=0}use(t){return!(this.cooldown>0||(this.actor.cast(this.ability,t,()=>{this.cooldown=this.ability.cooldown}),0))}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=i(1),n=\"precision highp float;attribute vec2 position;attribute vec2 texture;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 viewOffset;uniform vec2 viewportSize;uniform vec2 tileSize;uniform vec2 mapSize;void main(void) {   pixelCoord = (texture * viewportSize) + viewOffset;   texCoord = pixelCoord / mapSize / tileSize;   gl_Position = vec4(position, 0.0, 1.0);}\",o=\"precision highp float;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 tileSize;uniform sampler2D tiles;uniform sampler2D sprites;void main(void) {   vec4 tile = texture2D(tiles, texCoord);   if(tile.x == 1.0 && tile.y == 1.0) { discard; }   vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;   vec2 spriteCoord = mod(pixelCoord, tileSize);   gl_FragColor = texture2D(sprites, (spriteOffset + spriteCoord) / 1024.0);   if (gl_FragColor.a == 0.0) discard;   gl_FragColor.a *= tile.a;}\";class h extends r.Vec2{constructor(t,e,i){super(t,e),this.tile=i,this.blocked=!0,this.blockedSight=!0,this.visible=!1,this.seen=!1,this.g=0,this.h=0,this.prev=null}}e.TileMapCell=h;class a{constructor(t,e){this.width=t,this.height=e,this.imageData=new Uint8Array(4*t*e),this.dimensions=new Float32Array([t,e]),this.texture=null,this.clear()}clear(){for(let t=0;t<this.imageData.length;t++)this.imageData[t]=255}setAlpha(t,e,i){this.imageData[4*(e*this.width+t)+3]=i}initGl(t){this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.imageData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}updateGl(t){t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.imageData)}}e.TileMapLayer=a;e.TileMap=class{constructor(t,e,i,r){this.gl=t,this.width=e,this.height=i,this.grid=new Array(i),this.layers=new Array(r),this.tileWidth=16,this.tileHeight=16,this.originX=0,this.originY=0,this.minX=0,this.maxX=e-1,this.minY=0,this.maxY=i-1;for(let t=0;t<i;t++){this.grid[t]=new Array(e);for(let i=0;i<e;i++)this.grid[t][i]=new h(i,t,0)}for(let t=0;t<r;t++)this.layers[t]=new a(e,i);this.quadVertBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quadVertBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,1,1,1,1,1,0,-1,-1,0,1,1,1,1,0,-1,1,0,0]),t.STATIC_DRAW),this.tilemapShader=s.initShaderProgram(t,n,o),this.positionAttribute=t.getAttribLocation(this.tilemapShader,\"position\"),this.textureAttribute=t.getAttribLocation(this.tilemapShader,\"texture\"),this.viewportSizeUniform=t.getUniformLocation(this.tilemapShader,\"viewportSize\"),this.viewOffsetUniform=t.getUniformLocation(this.tilemapShader,\"viewOffset\"),this.mapSizeUniform=t.getUniformLocation(this.tilemapShader,\"mapSize\"),this.tileSizeUniform=t.getUniformLocation(this.tilemapShader,\"tileSize\"),this.tileSamplerUniform=t.getUniformLocation(this.tilemapShader,\"tiles\"),this.spriteSamplerUniform=t.getUniformLocation(this.tilemapShader,\"sprites\");for(let e=0;e<this.layers.length;e++)this.layers[e].initGl(t)}setTile(t,e,i,s,r,n){if(e<0||e>=this.width||i<0||i>=this.height)return;0===t&&(this.grid[i][e].tile=s,this.grid[i][e].blocked=!!r,this.grid[i][e].blockedSight=void 0!==n?n:!!r);const o=this.layers[t],h=4*(i*o.width+e),a=0===s?255:(s-1)%64|0,c=0===s?255:(s-1)/64|0;o.imageData[h+0]=a,o.imageData[h+1]=c}getCell(t,e){return t<0||t>=this.width||e<0||e>=this.height?null:this.grid[e][t]}getTile(t,e){const i=this.getCell(t,e);return i?i.tile:0}isBlocked(t,e){const i=this.getCell(t,e);return!i||i.blocked}isVisible(t,e){return!(t<this.minX||t>this.maxX||e<this.minY||e>this.maxY)&&this.grid[e][t].visible}isSeen(t,e){const i=this.getCell(t,e);return i&&i.seen}setSeen(t,e,i){const s=this.getCell(t,e);s&&(s.seen=i)}draw(t,e,i,s){const r=this.gl;r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.useProgram(this.tilemapShader),r.bindBuffer(r.ARRAY_BUFFER,this.quadVertBuffer),r.enableVertexAttribArray(this.positionAttribute),r.enableVertexAttribArray(this.textureAttribute),r.vertexAttribPointer(this.positionAttribute,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(this.textureAttribute,2,r.FLOAT,!1,16,8),r.uniform2f(this.viewOffsetUniform,t,e),r.uniform2f(this.viewportSizeUniform,i,s),r.uniform2f(this.tileSizeUniform,this.tileWidth,this.tileHeight),r.activeTexture(r.TEXTURE0),r.uniform1i(this.spriteSamplerUniform,0),r.activeTexture(r.TEXTURE1),r.uniform1i(this.tileSamplerUniform,1);const n=t/this.tileWidth|0,o=e/this.tileHeight|0,h=(t+i)/this.tileWidth|0,a=(e+s)/this.tileHeight|0;for(let t=0;t<this.layers.length;t++){const e=this.layers[t];for(let t=o;t<=a;t++)for(let i=n;i<=h;i++){const s=this.isVisible(i,t)?255:this.isSeen(i,t)?144:0;e.setAlpha(i,t,s)}r.uniform2fv(this.mapSizeUniform,e.dimensions),r.bindTexture(r.TEXTURE_2D,e.texture),e.updateGl(r),r.drawArrays(r.TRIANGLES,0,6)}}resetFov(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)this.grid[t][e].seen=!1,this.grid[t][e].visible=!1}computeFov(t,e,i){this.originX=t,this.originY=e,this.minX=Math.max(0,t-i),this.minY=Math.max(0,e-i),this.maxX=Math.min(this.width-1,t+i),this.maxY=Math.min(this.height-1,e+i);for(let t=this.minY;t<=this.maxY;t++)for(let e=this.minX;e<=this.maxX;e++)this.grid[t][e].seen=this.grid[t][e].seen||this.grid[t][e].visible,this.grid[t][e].visible=!1;this.grid[e][t].visible=!0,this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantY(1,-1),this.computeOctantX(1,-1),this.computeOctantY(-1,1),this.computeOctantX(-1,1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1)}computeOctantY(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,g,p=1,f=0,y=0,x=0;for(n=this.originY+e;n>=this.minY&&n<=this.maxY;n+=e,y=f,++p)for(o=.5/p,g=-1,h=Math.floor(x*p+.5),r=this.originX+h*t;h<=p&&r>=this.minX&&r<=this.maxX;r+=t,++h,g=u){if(a=!0,c=!1,d=g,u=(l=h/p)+o,y>0)if(this.grid[n-e][r].visible&&!this.grid[n-e][r].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].blockedSight&&(x>=d?x=u:c||(i[f]=d,s[f++]=u)))}}computeOctantX(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,g,p=1,f=0,y=0,x=0;for(r=this.originX+t;r>=this.minX&&r<=this.maxX;r+=t,y=f,++p)for(o=.5/p,g=-1,h=Math.floor(x*p+.5),n=this.originY+h*e;h<=p&&n>=this.minY&&n<=this.maxY;n+=e,++h,g=u){if(a=!0,c=!1,d=g,u=(l=h/p)+o,y>0)if(this.grid[n][r-t].visible&&!this.grid[n][r-t].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].blockedSight&&(x>=d?x=u:c||(i[f]=d,s[f++]=u)))}}}}])});\n//# sourceMappingURL=index.js.map","import {Game, Item, Sprite} from 'wglt';\n\nexport enum EquipmentSlot {\n  HEAD,\n  NECK,\n  BACK,\n  CHEST,\n  HANDS,\n  LEGS,\n  FEET,\n  RING,\n  MAINHAND,\n  OFFHAND\n}\n\nexport abstract class Equipment extends Item {\n  readonly slot: EquipmentSlot;\n  bonusArmor: number;\n  bonusStrength: number;\n  bonusDexterity: number;\n  bonusConstitution: number;\n  bonusIntelligence: number;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite, slot: EquipmentSlot) {\n    super(game, x, y, name, sprite, false);\n    this.slot = slot;\n    this.bonusArmor = 0;\n    this.bonusStrength = 0;\n    this.bonusDexterity = 0;\n    this.bonusConstitution = 0;\n    this.bonusIntelligence = 0;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterClass {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Actor, BasicMonster, Sprite, TileMap} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Player} from './player';\nimport {StatsActor} from './statsactor';\n\nconst START_BLOOD = 1367;\nconst END_BLOOD = 1371;\n\nexport abstract class Monster extends StatsActor {\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite);\n    this.hp = 20;\n    this.ai = new BasicMonster(this, this.calculateDamage);\n  }\n\n  onDeath() {\n    this.game.log(this.name + ' is dead');\n    this.blocks = false;\n    this.ai = undefined;\n    this.name = 'remains of ' + this.name;\n    this.sendToBack();\n\n    // TODO: Calculate XP gain\n    const xpGain = 10;\n\n    // TODO: Add XP to the attacker, not the player\n    (this.game.player as Player).addXp(xpGain);\n\n    // Add blood to the map\n    const map = this.game.tileMap as TileMap;\n    map.setTile(3, this.x, this.y, this.game.rng.nextRange(START_BLOOD, END_BLOOD));\n  }\n\n  private calculateDamage(attacker: Actor, target: Actor) {\n    return 10;\n  }\n}\n","import {Ability, Actor, Colors, fromRgb, Message, SlideEffect, Sprite, TargetType, TileMapCell} from 'wglt';\nimport {Stunned} from '../ai/stunned';\n\nconst LEAP_RANGE = 3;\nconst LEAP_RADIUS = 2;\nconst LEAP_COLOR = fromRgb(0xFF, 0x80, 0x80);\nconst LEAP_SPRITE = new Sprite(720, 336, 16, 24, undefined, undefined, undefined, LEAP_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Heroic Leap', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Stun all enemies within 1 tile.', Colors.YELLOW)\n];\n\nexport class LeapAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = LEAP_SPRITE;\n    this.name = 'leap';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = LEAP_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > LEAP_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      if (caster === game.player) {\n        game.log('Target is occupied.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    const slideEffect = new SlideEffect(caster, xSpeed, ySpeed, count);\n    slideEffect.onDone = () => {\n      let count = 0;\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities[i];\n        if (entity === caster) {\n          continue;\n        }\n        if (entity instanceof Actor && entity.distanceTo(target) < LEAP_RADIUS) {\n          entity.ai = new Stunned(entity, 3);\n          count++;\n        }\n      }\n\n      if (count > 0) {\n        game.log('Stunned ' + count + ' foes!', LEAP_COLOR);\n      }\n      caster.ap--;\n    };\n\n    game.effects.push(slideEffect);\n    return true;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterRace {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, Colors, Entity, Game, Message, ProjectileEffect, Sprite, TargetType, Vec2} from 'wglt';\n\nconst LIGHTNING_DAMAGE = 10;\nconst LIGHTNING_RANGE = 5;\nconst MANA_COST = 10;\nconst TOOLTIP_MESSAGES = [\n  new Message('Lightning', Colors.WHITE),\n  new Message(MANA_COST + ' mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Hurls a bolt of lightning at the nearest enemy', Colors.YELLOW),\n  new Message('dealing ' + LIGHTNING_DAMAGE + ' damage.', Colors.YELLOW),\n];\n\nexport class LightningAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = new Sprite(158, 10, 16, 24, undefined, undefined, undefined, 0xFFFF00FF);\n    this.name = 'lightning';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = LIGHTNING_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor) {\n    const game = caster.game;\n    // Find closest enemy (inside a maximum range) and damage it\n    const monster = this.getClosestMonster(game, caster, caster.x, caster.y, LIGHTNING_RANGE);\n    if (!monster) {\n      game.log('No enemy is close enough to strike.', Colors.LIGHT_RED);\n      return false;\n    }\n\n    // Zap it!\n    game.log('A lightning bolt strikes the ' + monster.name + ' with a loud thunder!', Colors.LIGHT_BLUE);\n\n    // Create lightning animation\n    const explosion = new Sprite(256, 408, 16, 24, 2, true, 8, Colors.YELLOW);\n    const effect = new ProjectileEffect(explosion, new Vec2(monster.pixelX, monster.pixelY), new Vec2(0, 0), 32);\n    effect.onDone = () => {\n      game.log('The damage is ' + LIGHTNING_DAMAGE + ' hit points', Colors.LIGHT_BLUE);\n      monster.takeDamage(LIGHTNING_DAMAGE);\n      caster.ap--;\n    };\n    game.effects.push(effect);\n\n    return true;\n  }\n\n  private getClosestMonster(game: Game, player: Entity, x: number, y: number, range: number) {\n    let minDist = range + 1;\n    let result = null;\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities[i];\n      if (entity === player) {\n        continue;\n      }\n      if (!(entity instanceof Actor)) {\n        continue;\n      }\n      if (game.tileMap && !game.tileMap.isVisible(entity.x, entity.y)) {\n        continue;\n      }\n      const dist = entity.distance(x, y);\n      if (dist < minDist) {\n        minDist = dist;\n        result = entity;\n      }\n    }\n    return result;\n  }\n}","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LeapAbility} from '../abilities/leap';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { SquiresVest } from '../equipment/squiresvest';\nimport { SquiresPants } from '../equipment/squirespants';\nimport { SquiresBoots } from '../equipment/squiresboots';\nimport { BattlewornHammer } from '../equipment/battlewornhammer';\n\nconst NAME = 'Paladin';\nconst ICON = new Sprite(504, 700, 24, 26, undefined, undefined, undefined, 0xFF8080FF);\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0xFF8080FF);\nconst DESC = 'Holy warriors commanding the power of the light';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Paladin extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.equipment.add(new SquiresVest(game));\n    player.equipment.add(new SquiresPants(game));\n    player.equipment.add(new SquiresBoots(game));\n    player.equipment.add(new BattlewornHammer(game));\n    player.strength += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\n\nconst SPRITE = new Sprite(672, 144, 16, 24, 1, false, undefined, 0xFFD0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Flash Heal', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('A fast spell that heals an ally', Colors.YELLOW),\n  new Message('for 1d8 + INT points.', Colors.YELLOW),\n];\n\nexport class FlashHealAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Flash Heal';\n    this.targetType = TargetType.SELF;\n    this.minRange = 0;\n    this.maxRange = 0;\n    this.cooldown = 5;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    if (caster.hp === caster.maxHp) {\n      if (caster === caster.game.player) {\n        caster.game.log('You are already at full health.', Colors.DARK_RED);\n      }\n      return false;\n    }\n\n    const healAmount = caster.game.rng.nextRange(1, 8) + caster.intelligenceModifier;\n    caster.takeHeal(healAmount);\n    caster.ap--;\n    return true;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Vest';\nconst SPRITE = new Sprite(608, 288, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Chest, Plate', Colors.WHITE),\n  new Message('7 Armor', Colors.WHITE)\n];\n\nexport class SquiresVest extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.CHEST);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 7;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Pants';\nconst SPRITE = new Sprite(656, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Legs, Plate', Colors.WHITE),\n  new Message('6 Armor', Colors.WHITE)\n];\n\nexport class SquiresPants extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.LEGS);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 6;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Squire\\'s Boots';\nconst SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Feet, Plate', Colors.WHITE),\n  new Message('5 Armor', Colors.WHITE)\n];\n\nexport class SquiresBoots extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.FEET);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 5;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Battleworn Hammer';\nconst SPRITE = new Sprite(640, 96, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Two-Hand Mace', Colors.WHITE),\n  new Message('+2 Strength', Colors.LIGHT_GREEN)\n];\n\nexport class BattlewornHammer extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusStrength = 2;\n  }\n}","import {Ability, Actor, Colors, Message, ProjectileEffect, Sprite, TargetType, TileMapCell, Vec2} from 'wglt';\n\nimport {ExplosionEffect} from '../effects/explosioneffect';\n\nconst FIREBALL_RANGE = 10;\nconst FIREBALL_RADIUS = 3;\nconst FIREBALL_DAMAGE = 12;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\nconst FIRE_COLOR = Colors.ORANGE;\nconst FIREBALL_SPRITE = new Sprite(512, 336, SPRITE_WIDTH, SPRITE_HEIGHT, undefined, undefined, undefined, FIRE_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Fireball', Colors.WHITE),\n  new Message('2% of base mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Throws a fiery ball causing 10 damage', Colors.YELLOW),\n  new Message('to all enemies within 3 tiles.', Colors.YELLOW),\n];\n\nexport class FireballAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = FIREBALL_SPRITE;\n    this.name = 'fireball';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = FIREBALL_RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > FIREBALL_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const speed = 8;\n    const count = distance * (game.tileSize.width / speed);\n    const dx = (target.x * game.tileSize.width - caster.pixelX) / count;\n    const dy = (target.y * game.tileSize.height - caster.pixelY) / count;\n\n    game.effects.push(\n        new ProjectileEffect(FIREBALL_SPRITE, new Vec2(caster.pixelX, caster.pixelY), new Vec2(dx, dy), count));\n\n    const explosionEffect = new ExplosionEffect(game, target, FIREBALL_RADIUS, 30);\n    explosionEffect.onDone = () => {\n      game.log('The fireball explodes, burning everything within ' + FIREBALL_RADIUS + ' tiles!', Colors.ORANGE);\n\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities[i];\n        if (entity instanceof Actor && entity.distanceTo(target) <= FIREBALL_RADIUS) {\n          game.log('The ' + entity.name + ' gets burned for ' + FIREBALL_DAMAGE + ' hit points.', Colors.ORANGE);\n          entity.takeDamage(FIREBALL_DAMAGE);\n        }\n      }\n\n      caster.ap--;\n    };\n\n    game.effects.push(explosionEffect);\n    return true;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Pants';\nconst SPRITE = new Sprite(656, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Legs, Cloth', Colors.WHITE),\n  new Message('2 Armor', Colors.WHITE)\n];\n\nexport class AcolytesPants extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.LEGS);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 2;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Robe';\nconst SPRITE = new Sprite(608, 288, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Chest, Cloth', Colors.WHITE),\n  new Message('2 Armor', Colors.WHITE)\n];\n\nexport class AcolytesRobe extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.CHEST);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 2;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Acolyte\\'s Shoes';\nconst SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Feet, Cloth', Colors.WHITE),\n  new Message('1 Armor', Colors.WHITE)\n];\n\nexport class AcolytesShoes extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.FEET);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusArmor = 1;\n  }\n}","import {Colors, Game, Message, Sprite} from 'wglt';\n\nimport {Equipment, EquipmentSlot} from './equipment';\n\nconst NAME = 'Bent STaff';\nconst SPRITE = new Sprite(640, 120, 16, 24, 1, false, undefined, 0xC0A080FF);\nconst TOOLTIPS = [\n  new Message(NAME, Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Two-Hand Staff', Colors.WHITE),\n  new Message('+2 Strength', Colors.LIGHT_GREEN)\n];\n\nexport class BentStaff extends Equipment {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, NAME, SPRITE, EquipmentSlot.MAINHAND);\n    this.tooltipMessages = TOOLTIPS;\n    this.bonusStrength = 2;\n  }\n}","import {Actor, Colors, Game, Item, Sprite} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\n\nconst HEAL_AMOUNT = 4;\n\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\n\nexport class Gateway extends Item {\n  readonly owner: StatsActor;\n  other?: Gateway;\n\n  constructor(game: Game, x: number, y: number, owner: StatsActor) {\n    super(game, x, y, 'gateway', SPRITE, false);\n    this.owner = owner;\n    this.zIndex = 0;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import {Color, Colors, GUI, SelectOption, SelectOptionRenderer, Vec2} from 'wglt';\n\n\nexport class MenuItemRenderer implements SelectOptionRenderer {\n  readonly expandedHeight: number;\n  readonly collapsedHeight: number;\n\n  constructor(expandedHeight: number, collapsedHeight: number) {\n    this.expandedHeight = expandedHeight;\n    this.collapsedHeight = collapsedHeight;\n  }\n\n  drawOption(gui: GUI, point: Vec2, option: SelectOption, selected?: boolean) {\n    const app = gui.app;\n    let x = point.x;\n    const y = point.y;\n    let iconColor: Color|undefined = Colors.GRAY;\n    let titleColor = Colors.GRAY;\n    let descColor = Colors.GRAY;\n\n    if (selected) {\n      iconColor = undefined;\n      titleColor = Colors.YELLOW;\n      descColor = Colors.WHITE;\n    }\n\n    if (option.icon) {\n      option.icon.draw(app, x, y, iconColor);\n      x += option.icon.width + 2;\n    }\n\n    app.drawString(option.name, x, y, titleColor);\n\n    if (option.description) {\n      app.drawString(option.description, x + 3, y + 10, descColor);\n    }\n\n    if (selected && option.details) {\n      for (let j = 0; j < option.details.length; j++) {\n        const msg = option.details[j];\n        const color = selected ? msg.color : Colors.LIGHT_GRAY;\n        app.drawString(msg.text, x + 3, y + 20 + j * 10, color);\n      }\n    }\n  }\n\n  getHeight(_: SelectOption, selected: boolean) {\n    return selected ? this.expandedHeight : this.collapsedHeight;\n  }\n}","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Human';\nconst ICON = new Sprite(0, 730, 34, 34, undefined, undefined, undefined, 0xddae62FF);\nconst DESC = 'Young race with lust for power';\nconst DETAILS = [\n  new Message('+1 all attributes', Colors.LIGHT_GREEN),\n  new Message('Reduced stun times', Colors.YELLOW),\n  new Message('Hustle - when active, double actions', Colors.YELLOW),\n];\n\nexport class Human extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution++;\n    player.strength++;\n    player.dexterity++;\n    player.intelligence++;\n  }\n}\n","import {Actor, ArrayList, Sprite} from 'wglt';\n\nimport {Buff} from '../buffs/buff';\nimport {Equipment} from '../equipment/equipment';\nimport {Game} from '../game';\n\nexport class StatsActor extends Actor {\n  level: number;\n  mp: number;\n  maxMp: number;\n  armor: number;\n  strength: number;\n  dexterity: number;\n  constitution: number;\n  intelligence: number;\n  readonly equipment: ArrayList<Equipment>;\n  readonly buffs: Buff[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, true);\n    this.level = 1;\n    this.mp = 1;\n    this.maxMp = 1;\n    this.armor = 0;\n    this.strength = 10;\n    this.dexterity = 10;\n    this.constitution = 10;\n    this.intelligence = 10;\n    this.equipment = new ArrayList<Equipment>();\n    this.buffs = [];\n\n    this.equipment.addListener({onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get strengthModifier() {\n    return this.calculateModifier(this.strength);\n  }\n\n  get dexterityModifier() {\n    return this.calculateModifier(this.dexterity);\n  }\n\n  get constitutionModifier() {\n    return this.calculateModifier(this.constitution);\n  }\n\n  get intelligenceModifier() {\n    return this.calculateModifier(this.intelligence);\n  }\n\n  private calculateModifier(abilityScore: number) {\n    return Math.floor((abilityScore - 10) / 2);\n  }\n\n  onAttack(target: Actor, damage: number) {\n    if (damage > 0) {\n      this.game.log(this.name + ' attacks ' + target.name + ' for ' + damage + ' hit points.', 0x808080FF);\n    } else {\n      this.game.log(this.name + ' attacks ' + target.name + ' but it has no effect!', 0x808080FF);\n    }\n  }\n\n  startTurn() {\n    super.startTurn();\n    for (let i = this.buffs.length - 1; i >= 0; i--) {\n      const buff = this.buffs[i];\n      buff.update();\n      if (buff.isDone()) {\n        this.buffs.splice(i, 1);\n      }\n    }\n  }\n\n  private addItem(item: Equipment) {\n    this.armor += item.bonusArmor;\n    this.constitution += item.bonusConstitution;\n    this.dexterity += item.bonusDexterity;\n    this.strength += item.bonusStrength;\n    this.intelligence += item.bonusIntelligence;\n  }\n\n  private removeItem(item: Equipment) {\n    this.armor -= item.bonusArmor;\n    this.constitution -= item.bonusConstitution;\n    this.dexterity -= item.bonusDexterity;\n    this.strength -= item.bonusStrength;\n    this.intelligence -= item.bonusIntelligence;\n  }\n}\n","import {App} from './app';\n\nconst app = new App();\n\n// Clear the window hash on load\n// Always start at the root\nif (window.location.hash && window.location.hash !== '#') {\n  window.location.hash = '';\n}\n\n// Subscribe to future window hash change events\nwindow.addEventListener('hashchange', handleHashChange);\n\nfunction handleHashChange() {\n  const hash = window.location.hash;\n\n  if (hash === '#game') {\n    app.startGame();\n\n  } else if (hash === '#chooserace') {\n    app.chooseRace();\n\n  } else if (hash === '#chooseclass') {\n    app.chooseClass();\n\n  } else if (hash === '#highscores') {\n    app.showHighScores();\n\n  } else if (hash === '#credits') {\n    app.showCredits();\n\n  } else {\n    app.showMainMenu();\n  }\n}\n","\nimport * as wglt from 'wglt';\nimport {AppState, Rect} from 'wglt';\n\nimport {CharacterClass} from './classes/characterclass';\nimport {ClassMenu} from './classmenu';\nimport {Player} from './entities/player';\nimport {Game} from './game';\nimport {MainMenu} from './mainmenu';\nimport {RaceMenu} from './racemenu';\nimport {CharacterRace} from './races/characterrace';\n\nexport class App extends wglt.App {\n  readonly mainMenu: MainMenu;\n  readonly raceMenu: RaceMenu;\n  readonly classMenu: ClassMenu;\n  readonly highScores: AppState;\n  readonly credits: AppState;\n  game: Game;\n  playerRace?: CharacterRace;\n  playerClass?: CharacterClass;\n\n  constructor() {\n    super({\n      canvas: document.querySelector('canvas') as HTMLCanvasElement,\n      imageUrl: 'graphics.png',\n      size: new Rect(0, 0, 224, 400),\n      fillWindow: true\n    });\n\n    this.mainMenu = new MainMenu(this);\n    this.raceMenu = new RaceMenu(this);\n    this.classMenu = new ClassMenu(this);\n    this.highScores = new AppState(this);\n    this.credits = new AppState(this);\n    this.game = new Game(this);\n    this.showMainMenu();\n  }\n\n  showMainMenu() {\n    this.state = this.mainMenu;\n  }\n\n  chooseRace() {\n    this.state = this.raceMenu;\n  }\n\n  chooseClass() {\n    this.state = this.classMenu;\n  }\n\n  startGame() {\n    this.state = this.game;\n\n    if (this.playerRace) {\n      this.playerRace.initPlayer(this.game.player as Player);\n    }\n\n    if (this.playerClass) {\n      this.playerClass.initPlayer(this.game.player as Player);\n    }\n\n    this.game.nextLevel();\n  }\n\n  showHighScores() {\n    this.state = this.highScores;\n  }\n\n  showCredits() {\n    this.state = this.credits;\n  }\n}","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {CharacterClass} from './classes/characterclass';\nimport {Paladin} from './classes/paladin';\nimport {Priest} from './classes/priest';\nimport {Ranger} from './classes/ranger';\nimport {Rogue} from './classes/rogue';\nimport {Warlock} from './classes/warlock';\nimport {Warrior} from './classes/warrior';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\n\nconst CLASSES = [new Paladin(), new Priest(), new Ranger(), new Rogue(), new Warlock(), new Warrior()];\n\nexport class ClassMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your class', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), CLASSES);\n    selectDialog.renderer = new MenuItemRenderer(60, 30);\n\n    selectDialog.onSelect = (choice: CharacterClass) => {\n      (this.app as App).playerClass = choice;\n      window.location.hash = 'game';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Actor, AI, Colors} from 'wglt';\n\nexport class Stunned extends AI {\n  numTurns: number;\n  oldAi?: AI;\n\n  constructor(actor: Actor, turns: number) {\n    super(actor);\n    this.numTurns = turns;\n    this.oldAi = actor.ai;\n  }\n\n  doAi() {\n    if (this.numTurns > 0) {\n      // Stunned.  Sit still.\n      this.actor.addFloatingText('?', Colors.LIGHT_GRAY);\n      this.numTurns--;\n    } else {\n      this.actor.ai = this.oldAi;\n    }\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FireballAbility} from '../abilities/fireball';\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport {AcolytesPants} from '../equipment/acolytespants';\nimport {AcolytesRobe} from '../equipment/acolytesrobe';\nimport {AcolytesShoes} from '../equipment/acolytesshoes';\nimport {BentStaff} from '../equipment/bentstaff';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Priest';\nconst ICON = new Sprite(0, 700, 24, 26, undefined, undefined, undefined, 0xFFFFFFFF);\nconst SPRITE = new Sprite(384, 96, 16, 24, 2, true, undefined, 0xf8f8f8ff);\nconst DESC = 'Devoted to the spiritual, powerful healing magic';\nconst DETAILS = [\n  new Message('+5 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Priest extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new FireballAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.equipment.add(new AcolytesRobe(game));\n    player.equipment.add(new AcolytesPants(game));\n    player.equipment.add(new AcolytesShoes(game));\n    player.equipment.add(new BentStaff(game));\n    player.intelligence += 5;\n  }\n}\n","import {Colors, Effect, Game, ProjectileEffect, Sprite, Vec2} from 'wglt';\n\nexport class ExplosionEffect extends Effect {\n  readonly game: Game;\n  readonly center: Vec2;\n  readonly radius: number;\n  readonly duration: number;\n  readonly sprites: Sprite[];\n\n  constructor(game: Game, center: Vec2, radius: number, duration: number) {\n    super(duration, true);\n    this.game = game;\n    this.center = center;\n    this.radius = radius;\n    this.duration = duration;\n    this.sprites = [];\n  }\n\n  update() {\n    super.update();\n\n    const game = this.game;\n    const maxRadius = this.radius * (1.0 - (this.countdown + 1) / (this.duration + 1));\n    const centerX = (this.center.x) * game.tileSize.width;\n    const centerY = (this.center.y) * game.tileSize.height;\n\n    for (let i = 0; i < 3; i++) {\n      const radius = maxRadius;\n      const angle = this.countdown + i;\n      const x = centerX + game.tileSize.width * radius * Math.cos(angle);\n      const y = centerY + game.tileSize.height * radius * Math.sin(angle);\n      const explosion = new Sprite(512, 336, 16, 24, 4, false, 4, Colors.ORANGE);\n      const effect = new ProjectileEffect(explosion, new Vec2(x, y), new Vec2(0, 0), 16);\n      effect.blocking = false;\n      game.effects.push(effect);\n    }\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Ranger';\nconst ICON = new Sprite(168, 700, 24, 26, undefined, undefined, undefined, 0x80FF80FF);\nconst SPRITE = new Sprite(64, 120, 16, 24, 2, true, undefined, 0x80FF80FF);\nconst DESC = 'Strategy and finesse, attacking from a distance';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Ranger extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.strength += 2;\n    player.dexterity += 2;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {ShadowStrikeAbility} from '../abilities/shadowstrike';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Rogue';\nconst ICON = new Sprite(144, 700, 24, 26, undefined, undefined, undefined, 0xA00000FF);\nconst SPRITE = new Sprite(192, 96, 16, 24, 2, true, undefined, 0xA00000FF);\nconst DESC = 'Lethal assasins and masters of stealth';\nconst DETAILS = [\n  new Message('+5 Dexterity', Colors.LIGHT_GREEN), new Message('Stealth - go invisible for 10 turns', Colors.YELLOW),\n  new Message('Shadow Strike - sneak attack from a distance', Colors.YELLOW)\n];\n\nexport class Rogue extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new ShadowStrikeAbility()));\n    player.dexterity += 5;\n  }\n}\n","import {Ability, Actor, Colors, Message, SlideEffect, Sprite, TargetType, Vec2} from 'wglt';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xc4c4c4ff);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shadow Strike', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Appear behind your target up to 25 yards away,', Colors.YELLOW),\n  new Message('dealing 20 damage.', Colors.YELLOW)\n];\n\nexport class ShadowStrikeAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Shadow Strike';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    let farthestTile = null;\n    let farthestDistance = 0.0;\n\n    for (let y = target.y - 1; y <= target.y + 1; y++) {\n      for (let x = target.x - 1; x <= target.x + 1; x++) {\n        if (Math.hypot(x - target.x, y - target.y) > 1.001) {\n          // Too far away from the target\n          continue;\n        }\n        if (game.isBlocked(x, y)) {\n          // Blocked or occupied\n          continue;\n        }\n        const distance = caster.distance(x, y);\n        if (distance > farthestDistance) {\n          farthestTile = new Vec2(x, y);\n          farthestDistance = distance;\n        }\n      }\n    }\n\n    if (!farthestTile) {\n      if (caster === game.player) {\n        game.log('No free spaces available.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (farthestTile.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (farthestTile.y - caster.y) * game.tileSize.height / count;\n    const slideEffect = new SlideEffect(caster, xSpeed, ySpeed, count);\n    slideEffect.onDone = () => {\n      caster.attack(target, 20);\n      caster.ap--;\n    };\n\n    game.effects.push(slideEffect);\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {CurseAbility} from '../abilities/curse';\nimport {DemonicGatewayAbility} from '../abilities/demonicgateway';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport {AcolytesPants} from '../equipment/acolytespants';\nimport {AcolytesRobe} from '../equipment/acolytesrobe';\nimport {AcolytesShoes} from '../equipment/acolytesshoes';\nimport {BentStaff} from '../equipment/bentstaff';\n\nimport {CharacterClass} from './characterclass';\n\nconst NAME = 'Warlock';\nconst ICON = new Sprite(24, 700, 24, 26, undefined, undefined, undefined, 0xA020A0FF);\nconst SPRITE = new Sprite(416, 96, 16, 24, 2, true, undefined, 0xA020A0FF);\nconst DESC = 'Practitioners of the dark arts';\nconst DETAILS = [\n  new Message('+2 Constitution, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Demonic Gateway - teleport by dark magic', Colors.YELLOW)\n];\n\nexport class Warlock extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new CurseAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new DemonicGatewayAbility()));\n    player.equipment.add(new AcolytesRobe(game));\n    player.equipment.add(new AcolytesPants(game));\n    player.equipment.add(new AcolytesShoes(game));\n    player.equipment.add(new BentStaff(game));\n    player.constitution += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Actor, Colors, Message, Sprite, TargetType} from 'wglt';\n\nimport {Curse} from '../buffs/curse';\nimport {StatsActor} from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(880, 144, 16, 24, 1, false, undefined, 0xC040C0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Curse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Corrupts the target, causing 3 damage', Colors.YELLOW),\n  new Message('per turn for 10 turns.', Colors.YELLOW),\n];\n\nexport class CurseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Curse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: StatsActor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    // target.ai = new ConfusedMonster(target);\n    // game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    target.buffs.push(new Curse(target, 3, 10));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\n\nexport class Curse extends Buff {\n  damage: number;\n  countdown: number;\n\n  constructor(actor: StatsActor, damage: number, duration: number) {\n    super(actor);\n    this.damage = damage;\n    this.countdown = duration;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.actor.takeDamage(this.damage);\n      this.countdown--;\n    }\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nexport abstract class Buff {\n  readonly actor: StatsActor;\n\n  constructor(actor: StatsActor) {\n    this.actor = actor;\n  }\n\n  update() {}\n\n  isDone() {\n    return false;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, TileMapCell} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport {Gateway} from '../items/gateway';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Demonic Gateway', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Creates a demonic gateway between two', Colors.YELLOW),\n  new Message('locations. User can transport to the other gateway.', Colors.YELLOW),\n];\n\nexport class DemonicGatewayAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Demonic Gateway';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const gateway1 = new Gateway(game, caster.x, caster.y, caster);\n    const gateway2 = new Gateway(game, target.x, target.y, caster);\n    gateway1.other = gateway2;\n    gateway2.other = gateway1;\n    game.entities.push(gateway1);\n    game.entities.push(gateway2);\n    caster.move(target.x - caster.x, target.y - caster.y, 16);\n    caster.ap--;\n    return true;\n  }\n}","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { SquiresVest } from '../equipment/squiresvest';\nimport { SquiresPants } from '../equipment/squirespants';\nimport { SquiresBoots } from '../equipment/squiresboots';\nimport { BattlewornHammer } from '../equipment/battlewornhammer';\n\nconst NAME = 'Warrior';\nconst ICON = new Sprite(216, 700, 24, 26, undefined, undefined, undefined, 0x804000FF);\nconst SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\nconst DESC = 'Lords of war, strength, and combat';\nconst DETAILS = [\n  new Message('+5 Strength, +2 Constitution', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Warrior extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.equipment.add(new SquiresVest(game));\n    player.equipment.add(new SquiresPants(game));\n    player.equipment.add(new SquiresBoots(game));\n    player.equipment.add(new BattlewornHammer(game));\n    player.constitution += 2;\n    player.strength += 5;\n  }\n}\n","import * as wglt from 'wglt';\nimport {Actor, App, Button, Colors, Entity, FadeInEffect, FadeOutEffect, Item, ItemContainerDialog, Message, MessageLog, Rect, Sprite, TalentsDialog} from 'wglt';\n\nimport {CatEscapeEffect} from './effects/catescapeeffect';\nimport {Cat} from './entities/cat';\nimport {Player} from './entities/player';\nimport {BottomPanel} from './gui/bottompanel';\nimport {CharacterDialog} from './gui/characterdialog';\nimport {TopPanel} from './gui/toppanel';\nimport {MapGenerator} from './mapgen';\nimport {Gateway} from './items/gateway';\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst TARGET_SPRITE = new Sprite(16, 40, SPRITE_WIDTH, SPRITE_HEIGHT);\n\nexport class Game extends wglt.Game {\n  private readonly mapGen: MapGenerator;\n  cat?: Cat;\n\n  constructor(app: App) {\n    super(app, {tileSize: new Rect(0, 0, 16, 24), viewDistance: 7});\n\n    this.targetSprite = TARGET_SPRITE;\n    this.cooldownSprite = new Sprite(192, 16, 16, 24, 24);\n    this.blackoutRect = new Rect(0, 40, 16, 16);\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.mapGen = new MapGenerator(this);\n\n    const player = new Player(this, 30, 20);\n    player.level = 1;\n    player.xp = 0;\n    player.maxXp = 10;\n    player.onBump = (other: Entity) => {\n      if (other instanceof Gateway) {\n        if (other.other) {\n          const exit = other.other;\n          player.move(exit.x - player.x, exit.y - player.y, 16);\n        }\n        return;\n      }\n      if (other instanceof Item) {\n        player.moveToward(other.x, other.y);\n        player.pickup(other);\n        return true;\n      }\n      if (other instanceof Actor) {\n        // TODO: Calculate damage\n        // Unarmed combat: 1 + Str modifier\n        player.attack(other, 10);\n        return true;\n      }\n      if (other.name === 'stairs') {\n        this.endLevel();\n        return true;\n      }\n      return false;\n    };\n\n    this.player = player;\n    this.entities.push(player);\n    this.gui.renderer.baseRect = new Rect(0, 16, 24, 24);\n    this.gui.renderer.buttonSlotRect = new Rect(64, 16, 20, 28);\n    this.messageLog = new MessageLog(new Rect(1, -84, 100, 50));\n    this.gui.add(this.messageLog);\n    this.log('Welcome stranger! Prepare to perish!', Colors.DARK_RED);\n\n    const topPanel = new TopPanel(player);\n    this.gui.add(topPanel);\n\n    const bottomPanel = new BottomPanel();\n    this.gui.add(bottomPanel);\n\n    const inventoryButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(834, 168, 16, 24, 1, true, 30, 0xe08020ff),\n        undefined,\n        () => {\n          inventoryDialog.visible = !inventoryDialog.visible;\n          talentsDialog.visible = false;\n          characterDialog.visible = false;\n        });\n    inventoryButton.tooltipMessages = [\n      new Message('Traveler\\'s Backpack', Colors.GREEN),\n      new Message('Item Level 55', Colors.YELLOW),\n      new Message('16 Slot Bag', Colors.WHITE),\n      new Message('Sell Price: 87 coins', Colors.WHITE)\n    ];\n    bottomPanel.inventorySlot.add(inventoryButton);\n\n    const characterButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(640, 240, 16, 24, undefined, undefined, undefined, 0xffcf5cff),\n        undefined,\n        () => {\n          characterDialog.visible = !characterDialog.visible;\n          inventoryDialog.visible = false;\n          talentsDialog.visible = false;\n        });\n    characterButton.tooltipMessages = [\n      new Message('Character', Colors.WHITE),\n      new Message('Currently equipped items,', Colors.YELLOW),\n      new Message('stats and abilities.', Colors.YELLOW)\n    ];\n    topPanel.characterSlot.add(characterButton);\n\n    const talentsButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(656, 360, 16, 24, undefined, undefined, undefined, Colors.LIGHT_BLUE),\n        undefined, () => {\n          talentsDialog.visible = !talentsDialog.visible;\n          inventoryDialog.visible = false;\n          characterDialog.visible = false;\n        });\n    talentsButton.tooltipMessages = [\n      new Message('Talents', Colors.WHITE),\n      new Message('A list of all of your', Colors.YELLOW),\n      new Message('character\\'s talents.', Colors.YELLOW)\n    ];\n    topPanel.talentsSlot.add(talentsButton);\n\n    const menuButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(352, 672, 16, 24, undefined, undefined, undefined, Colors.LIGHT_GRAY),\n        undefined,\n        () => {\n          window.location.hash = 'menu';\n        });\n    menuButton.tooltipMessages = [new Message('Main Menu', Colors.WHITE)];\n    topPanel.menuSlot.add(menuButton);\n\n    const inventoryDialog = new ItemContainerDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Traveler\\'s Backpack', Colors.GREEN),\n          new Message('Click an item to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.inventory);\n    inventoryDialog.visible = false;\n    this.gui.add(inventoryDialog);\n\n    const characterDialog = new CharacterDialog(new Rect(4, 38, 120, 126), player);\n    characterDialog.visible = false;\n    this.gui.add(characterDialog);\n\n    const talentsDialog = new TalentsDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Talents', Colors.GREEN),\n          new Message('Click an ability to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.talents);\n    talentsDialog.visible = false;\n    this.gui.add(talentsDialog);\n\n    player.inventory.addListener({\n      onAdd: (_, item) => {\n        bottomPanel.shortcutBar.addItem(player.inventory, item, true);\n      },\n      onRemove: () => {}\n    });\n\n    player.talents.addListener({\n      onAdd: (_, talent) => {\n        bottomPanel.shortcutBar.addTalent(talent);\n      },\n      onRemove: () => {}\n    });\n\n    // Generate the map\n    this.mapGen.createMap();\n  }\n\n  endLevel() {\n    const fadeOut = new FadeOutEffect(30);\n\n    fadeOut.onDone = () => {\n      // Advance to the next level\n      this.log('You take a moment to rest, and recover your strength.', Colors.LIGHT_MAGENTA);\n      this.log('After a rare moment of peace, you descend deeper...', Colors.LIGHT_RED);\n      this.nextLevel();\n    };\n    this.effects.push(fadeOut);\n  }\n\n  nextLevel() {\n    // Clear all entities other than the player\n    this.entities.splice(0, this.entities.length);\n    this.entities.push(this.player as Player);\n\n    // Reset the players targets\n    this.stopAutoWalk();\n    this.mapGen.createMap();\n\n    const fadeIn = new FadeInEffect(30);\n    fadeIn.onDone = () => {\n      this.effects.push(new CatEscapeEffect(this));\n    };\n    this.effects.push(fadeIn);\n  }\n}\n","import {computePath, Effect, SlideEffect, TileMap, TileMapCell, Vec2} from 'wglt';\n\nimport {Cat} from '../entities/cat';\nimport {Game} from '../game';\n\nexport class CatEscapeEffect extends Effect {\n  game: Game;\n  cat: Cat;\n  path?: TileMapCell[];\n  pathIndex: number;\n\n  constructor(game: Game) {\n    super(100, false);\n    this.game = game;\n    this.cat = this.game.cat as Cat;\n    this.path = computePath(game.tileMap as TileMap, this.cat, this.cat.destination as Vec2, 500);\n    this.pathIndex = 0;\n  }\n\n  update() {\n    if (this.game.blocked) {\n      // Game is blocked by a different animation\n      return;\n    }\n\n    if (!this.path) {\n      // Path not found (hopfeully this does not happen)\n      this.endEffect();\n      return;\n    }\n\n    if (this.game.tileMap && !this.game.tileMap.isVisible(this.cat.x, this.cat.y)) {\n      // Cat is now out of sight\n      this.endEffect();\n      return;\n    }\n\n    let nextStep = null;\n    nextStep = this.path[this.pathIndex];\n    while (nextStep && nextStep.x === this.cat.x && nextStep.y === this.cat.y) {\n      this.pathIndex++;\n      nextStep = this.pathIndex < this.path.length ? this.path[this.pathIndex] : null;\n    }\n\n    if (!nextStep) {\n      // Reached the destination\n      this.endEffect();\n      return;\n    }\n\n    const dx = nextStep.x - this.cat.x;\n    const dy = nextStep.y - this.cat.y;\n    const count = 4;\n    const xSpeed = this.game.tileSize.width / count;\n    const ySpeed = this.game.tileSize.height / count;\n    this.game.effects.unshift(new SlideEffect(this.cat, dx * xSpeed, dy * ySpeed, count));\n    this.game.blocked = true;\n  }\n\n  endEffect() {\n    // Force countdown to zero\n    this.countdown = 0;\n\n    // Remove the cat from the game\n    const index = this.game.entities.indexOf(this.cat);\n    if (index) {\n      this.game.entities.splice(index, 1);\n    }\n  }\n}\n","import {Colors, Sprite} from 'wglt';\n\nimport {CharacterClass} from '../classes/characterclass';\nimport {Paladin} from '../classes/paladin';\nimport {Game} from '../game';\nimport {CharacterRace} from '../races/characterrace';\nimport {Human} from '../races/human';\n\nimport {StatsActor} from './statsactor';\n\nconst PLAYER_SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\n\nexport class Player extends StatsActor {\n  xp: number;\n  maxXp: number;\n  race: CharacterRace;\n  class: CharacterClass;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Player', PLAYER_SPRITE);\n    this.level = 1;\n    this.xp = 0;\n    this.maxXp = 100;\n    this.race = new Human();\n    this.class = new Paladin();\n  }\n\n  onDeath() {\n    this.game.log('You died!');\n  }\n\n  addXp(xpGain: number) {\n    this.xp += xpGain;\n    this.addFloatingText('+' + xpGain, Colors.LIGHT_MAGENTA);\n\n    while (this.xp >= this.maxXp) {\n      this.level++;\n      this.xp = 0;\n      this.maxXp *= 2;\n      this.game.log('You reached level ' + this.level, Colors.LIGHT_MAGENTA);\n    }\n  }\n}\n","import {ButtonSlot, Keys, Panel, Rect, ShortcutBar} from 'wglt';\n\nexport class BottomPanel extends Panel {\n  constructor() {\n    super(new Rect(0, -43, 400, 43));\n\n    // Create 6 slots for the action bar\n    this.add(new ShortcutBar(new Rect(0, 0, 6 * 24, 28), 6));\n\n    // Create a slot for the inventory button\n    this.add(new ButtonSlot(new Rect(100, 0, 20, 28), Keys.VK_I));\n  }\n\n  get shortcutBar(): ShortcutBar {\n    return this.children.get(0) as ShortcutBar;\n  }\n\n  get inventorySlot(): ButtonSlot {\n    return this.children.get(this.children.length - 1) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const y = app.size.height - 43;\n    app.drawImage(0, y, 48, 16, 16, 48, undefined, app.size.width, 48);\n\n    // Update button y-positions\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.y = app.size.height - 31;\n    }\n\n    // Update inventory button to be right-aligned\n    this.inventorySlot.rect.x = app.size.width - 22;\n\n    this.drawChildren();\n  }\n}\n","import {ButtonSlot, Colors, Dialog, ItemButton, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport {Equipment, EquipmentSlot} from '../equipment/equipment';\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\n\nexport class CharacterDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const capacity = 10;\n    for (let i = 0; i < capacity; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24)));\n    }\n\n    player.equipment.addListener(\n        {onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get headSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get neckSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get backSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get chestSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  get handsSlot(): ButtonSlot {\n    return this.children.get(4) as ButtonSlot;\n  }\n\n  get legsSlot(): ButtonSlot {\n    return this.children.get(5) as ButtonSlot;\n  }\n\n  get feetSlot(): ButtonSlot {\n    return this.children.get(6) as ButtonSlot;\n  }\n\n  get ringSlot(): ButtonSlot {\n    return this.children.get(7) as ButtonSlot;\n  }\n\n  get mainHandSlot(): ButtonSlot {\n    return this.children.get(8) as ButtonSlot;\n  }\n\n  get offHandSlot(): ButtonSlot {\n    return this.children.get(9) as ButtonSlot;\n  }\n\n  private addItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      slot.add(new ItemButton(slot.rect.clone(), this.player.inventory, item));\n    }\n  }\n\n  private removeItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      const button = slot.button;\n      if (button) {\n        slot.remove(button);\n      }\n    }\n  }\n\n  private getSlot(item: Equipment) {\n    switch (item.slot) {\n      case EquipmentSlot.HEAD:\n        return this.headSlot;\n      case EquipmentSlot.NECK:\n        return this.neckSlot;\n      case EquipmentSlot.BACK:\n        return this.backSlot;\n      case EquipmentSlot.CHEST:\n        return this.chestSlot;\n      case EquipmentSlot.HANDS:\n        return this.handsSlot;\n      case EquipmentSlot.LEGS:\n        return this.legsSlot;\n      case EquipmentSlot.FEET:\n        return this.feetSlot;\n      case EquipmentSlot.RING:\n        return this.ringSlot;\n      case EquipmentSlot.MAINHAND:\n        return this.mainHandSlot;\n      case EquipmentSlot.OFFHAND:\n        return this.offHandSlot;\n      default:\n        return undefined;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawCenteredString('ORYX THE BRAVE', centerX, y, Colors.WHITE);\n    y += 10;\n\n    const desc = 'Level ' + this.player.level + ' ' + this.player.race.name + ' ' + this.player.class.name;\n\n    this.gui.app.drawCenteredString(desc, centerX, y, Colors.WHITE);\n    y += 10;\n\n    // Draw the player sprite at 2x\n    this.player.sprite.draw(this.gui.app, centerX - 8, y + 32);\n\n    // Left column:  head, neck, back, chest\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    // Right column: hands, legs, ring1, ring2\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(4 + i);\n      child.rect.x = containerRect.x2 - MARGIN - buttonRect.width;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    this.mainHandSlot.rect.x = centerX - buttonRect.width - 1;\n    this.mainHandSlot.rect.y = y + 90;\n    this.mainHandSlot.rect.width = buttonRect.width;\n    this.mainHandSlot.rect.height = buttonRect.height;\n\n    this.offHandSlot.rect.x = centerX + 1;\n    this.offHandSlot.rect.y = y + 90;\n    this.offHandSlot.rect.width = buttonRect.width;\n    this.offHandSlot.rect.height = buttonRect.height;\n\n    y += 4 * (buttonRect.height + BUTTON_SPACING) + MARGIN;\n\n    this.gui.app.drawString('Armor', x, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.armor.toString(), x + 90, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Constitution', x, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.constitution.toString(), x + 90, y, Colors.WHITE);\n    this.gui.app.drawRightString('+' + this.player.constitutionModifier, x + 110, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Strength', x, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.strength.toString(), x + 90, y, Colors.WHITE);\n    this.gui.app.drawRightString('+' + this.player.strengthModifier, x + 110, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Dexterity', x, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.dexterity.toString(), x + 90, y, Colors.WHITE);\n    this.gui.app.drawRightString('+' + this.player.dexterityModifier, x + 110, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Intelligence', x, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.intelligence.toString(), x + 90, y, Colors.WHITE);\n    this.gui.app.drawRightString('+' + this.player.intelligenceModifier, x + 110, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import {ButtonSlot, Colors, Keys, Panel, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport class TopPanel extends Panel {\n  readonly player: Player;\n\n  constructor(player: Player) {\n    super(new Rect(0, 0, 400, 42));\n    this.player = player;\n\n    // Character / inventory\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_C));\n\n    // Talents / abilities\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_N));\n\n    // Inspect\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_QUESTION_MARK));\n\n    // Main menu\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_Q));\n  }\n\n  get characterSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get talentsSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get inspectSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get menuSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n\n    app.drawImage(0, 0, 32, 22, 16, 42, undefined, app.size.width, 42);\n    app.drawString('Oryx the Brave'.toUpperCase(), 1, 1, Colors.WHITE);\n\n    // Health\n    app.drawImage(2, 12, 128, 16, 12, 12);\n    app.drawString(this.player.hp.toString(), 16, 15);\n\n    // Mana\n    app.drawImage(38, 12, 144, 16, 12, 12);\n    app.drawString('88', 52, 15);\n\n    // Energy\n    app.drawImage(74, 12, 160, 16, 12, 12);\n    app.drawString('88', 88, 15);\n\n    // Update button x-positions to right align\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.x = app.size.width - 24 * (4 - i);\n    }\n\n    this.drawChildren();\n  }\n}\n","import {Entity, Rect, Sprite, TileMap, Vec2} from 'wglt';\n\nimport {ConfuseAbility} from './abilities/confuse';\nimport {FireballAbility} from './abilities/fireball';\nimport {LightningAbility} from './abilities/lightning';\nimport {Bat} from './entities/bat';\nimport {Cat} from './entities/cat';\nimport {Griffon} from './entities/griffon';\nimport {Player} from './entities/player';\nimport {Shark} from './entities/shark';\nimport {Spider} from './entities/spider';\nimport {Troll} from './entities/troll';\nimport {Game} from './game';\nimport {HealthPotion} from './items/healthpotion';\nimport {Scroll} from './items/scroll';\n\n// Size of the map\nconst MAP_WIDTH = 64;\nconst MAP_HEIGHT = 48;\n\nconst TILE_EMPTY = 0;\nconst TILE_SHADOW = getTileId(0, 3);\nconst TILE_WALL = getTileId(0, 19);\nconst TILE_HALF_WALL = getTileId(0, 20);\nconst TILE_HALF_WALL2 = getTileId(1, 20);\nconst TILE_HALF_WALL3 = getTileId(2, 20);\nconst TILE_FLOOR = getTileId(13, 17);\nconst TILE_WATER = getTileId(0, 18);\nconst TILE_BRIDGE = getTileId(15, 27);\nconst TILE_COBWEB_NORTHWEST = getTileId(28, 22);\nconst TILE_COBWEB_NORTHEAST = getTileId(29, 22);\nconst TILE_COBWEB_SOUTHWEST = getTileId(30, 22);\nconst TILE_COBWEB_SOUTHEAST = getTileId(31, 22);\nconst TILE_DOOR = getTileId(7, 19);\nconst TILE_STAIRS = getTileId(14, 18);\nconst TILE_BARREL = getTileId(24, 19);\nconst TILE_STATUE = getTileId(16, 20);\n\nfunction getTileId(tileX: number, tileY: number) {\n  return 1 + tileY * 64 + tileX;\n}\n\n// Parameters for dungeon generator\nconst ROOM_MIN_WIDTH = 6;\nconst ROOM_MAX_WIDTH = 10;\nconst ROOM_MIN_HEIGHT = 4;\nconst ROOM_MAX_HEIGHT = 8;\nconst MAX_ROOMS = 10;\nconst MAX_ROOM_MONSTERS = 3;\nconst MAX_ROOM_ITEMS = 2;\nconst MAX_ROOM_OBSTACLES = 4;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst STAIRS_SPRITE = new Sprite(700, 500, SPRITE_WIDTH, SPRITE_HEIGHT, 1);\n\n// const SECTOR_DEFINITIONS = [\n//   {\n//       // 0: Sector 1\n//       roomCount: 10,\n//       roomMinWidth: 5,\n//       roomMaxWidth: 12,\n//       roomMinHeight: 5,\n//       roomMaxHeight: 8,\n//       minEntities: 1,\n//       maxEntities: 1,\n//       // floorTiles: [\n//       //     [TILE_STEEL_FLOOR_1, 0.7],\n//       //     [TILE_GRAY_CHECKER_FLOOR_1, 0.1],\n//       //     [TILE_GRAY_CHECKER_FLOOR_2, 0.1],\n//       //     [TILE_GRAY_CHECKER_FLOOR_3, 0.1],\n//       // ],\n//       // wallTiles: [\n//       //     [TILE_GRAY_WALL_1, 0.6],\n//       //     [TILE_GRAY_WALL_2, 0.1],\n//       //     [TILE_GRAY_WALL_3, 0.1],\n//       //     [TILE_GRAY_WALL_4, 0.1],\n//       //     [TILE_GRAY_WALL_6, 0.1],\n//       // ],\n//       entitityTypes: [\n//           [Spider, 1.0]\n//       ]\n//   },\n// ];\n\nconst BOSS_ZONE_HEIGHT = 8;\nconst BOSS_LAYOUTS = [\n  {\n    // Top left\n    bossZone: new Rect(0, 0, MAP_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, 2, 10, 6),\n    stairsRoom: new Rect(2, 3, 4, 4)\n  },\n  {\n    // Top right\n    bossZone: new Rect(0, 0, MAP_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(MAP_WIDTH - 18, 2, 10, 6),\n    stairsRoom: new Rect(MAP_WIDTH - 6, 3, 4, 4)\n  },\n  {\n    // Bottom left\n    bossZone: new Rect(0, MAP_HEIGHT - BOSS_ZONE_HEIGHT, MAP_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, MAP_HEIGHT - BOSS_ZONE_HEIGHT, 10, 6),\n    stairsRoom: new Rect(2, MAP_HEIGHT - BOSS_ZONE_HEIGHT + 1, 4, 4)\n  },\n  {\n    // Bottom right\n    bossZone: new Rect(0, MAP_HEIGHT - BOSS_ZONE_HEIGHT, MAP_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(MAP_WIDTH - 18, MAP_HEIGHT - BOSS_ZONE_HEIGHT, 10, 6),\n    stairsRoom: new Rect(MAP_WIDTH - 6, MAP_HEIGHT - BOSS_ZONE_HEIGHT + 1, 4, 4)\n  },\n];\n\nexport class MapGenerator {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    this.game = game;\n\n    const map = new TileMap(game.app.gl, MAP_WIDTH, MAP_HEIGHT, 4);\n    map.tileWidth = 16;\n    map.tileHeight = 24;\n    game.tileMap = map;\n  }\n\n  createMap() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    const player = game.player as Player;\n    const rng = game.rng;\n\n    // Clear the map to all walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        map.setTile(0, x, y, TILE_WALL, true);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setTile(2, x, y, TILE_EMPTY);\n        map.setTile(3, x, y, TILE_EMPTY);\n      }\n    }\n\n    // Create bodies of water\n    const water = new Vec2(MAP_WIDTH / 2, MAP_HEIGHT / 2);\n    for (let i = 0; i < 200; i++) {\n      map.setTile(0, water.x, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x - 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x + 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y - 1, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y + 1, TILE_WATER, true, false);\n      water.x += rng.nextRange(-1, 2);\n      water.y += rng.nextRange(-1, 2);\n    }\n\n    // Make sure there's a ring of \"empty\" all around\n    for (let x = 0; x < MAP_WIDTH; x++) {\n      map.setTile(0, x, 0, TILE_EMPTY, true);\n      map.setTile(0, x, MAP_HEIGHT - 1, TILE_EMPTY, true);\n    }\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      map.setTile(0, 0, y, TILE_EMPTY, true);\n      map.setTile(0, MAP_WIDTH - 1, y, TILE_EMPTY, true);\n    }\n\n    // Reset field-of-view\n    map.resetFov();\n\n    const bossLayout = BOSS_LAYOUTS[rng.nextRange(0, BOSS_LAYOUTS.length)];\n\n    const rooms = [];\n\n    while (rooms.length < MAX_ROOMS) {\n      // Random width and height\n      const w = rng.nextRange(ROOM_MIN_WIDTH, ROOM_MAX_WIDTH);\n      const h = rng.nextRange(ROOM_MIN_HEIGHT, ROOM_MAX_HEIGHT);\n\n      // Random position without going out of the boundaries of the map\n      const x = rng.nextRange(2, MAP_WIDTH - w - 3);\n      const y = rng.nextRange(2, MAP_HEIGHT - h - 3);\n\n      // \"Rect\" class makes rectangles easier to work with\n      const newRoom = new Rect(x, y, w, h);\n\n      // Run through the other rooms and see if they intersect with this one\n      let failed = newRoom.intersects(bossLayout.bossZone);\n      for (let j = 0; j < rooms.length; j++) {\n        if (newRoom.intersects(rooms[j])) {\n          failed = true;\n          break;\n        }\n      }\n\n      if (failed) {\n        continue;\n      }\n\n      // This means there are no intersections, so this room is valid\n\n      // \"paint\" it to the map's tiles\n      this.createRoom(map, newRoom);\n\n      // Center coordinates of new room, will be useful later\n      const center = newRoom.getCenter();\n\n      if (rooms.length === 0) {\n        // This is the first room, where the player starts at\n        player.x = center.x;\n        player.y = center.y;\n\n        // Add the cat near the player\n        this.game.cat = new Cat(game, player.x + 2, player.y);\n        game.entities.push(this.game.cat);\n\n      } else {\n        // All rooms after the first:\n        // Connect it to the previous room with a tunnel\n\n        // Center coordinates of previous room\n        const prev = rooms[rooms.length - 1].getCenter();\n\n        // Draw a coin (random number that is either 0 or 1)\n        if (rng.nextRange(0, 1) === 1) {\n          // First move horizontally, then vertically\n          this.createHTunnel(map, prev.x, center.x, prev.y);\n          this.createVTunnel(map, prev.y, center.y, center.x);\n        } else {\n          // First move vertically, then horizontally\n          this.createVTunnel(map, prev.y, center.y, prev.x);\n          this.createHTunnel(map, prev.x, center.x, center.y);\n        }\n\n        this.placeMonsters(newRoom);\n      }\n\n      // Add items (scrolls and health potions)\n      this.placeItems(newRoom);\n\n      // Finally, append the new room to the list\n      rooms.push(newRoom);\n    }\n\n    {\n      // Create boss room\n      const bossRoom = bossLayout.bossRoom;\n      this.createRoom(map, bossRoom);\n\n      // Connect boss room to previous room\n      const prev = rooms[rooms.length - 1].getCenter();\n      const center = bossRoom.getCenter();\n      this.createHTunnel(map, prev.x, center.x, prev.y);\n      this.createVTunnel(map, prev.y, center.y, center.x);\n\n      // Create a door to boss room\n      if (center.y > prev.y) {\n        map.setTile(0, center.x, bossRoom.y1, TILE_DOOR, false, true);\n      } else {\n        map.setTile(0, center.x, bossRoom.y2, TILE_DOOR, false, true);\n      }\n\n      // Create boss\n      const griffon = new Griffon(game, center.x, center.y);\n      game.entities.push(griffon);\n\n      // Create stairs room\n      const stairsRoom = bossLayout.stairsRoom;\n      this.createRoom(map, stairsRoom);\n\n      // Create stairs\n      const stairsLoc = stairsRoom.getCenter();\n      this.createHTunnel(map, center.x, stairsLoc.x, stairsLoc.y);\n      map.setTile(0, stairsLoc.x, stairsLoc.y, TILE_STAIRS);\n      const stairs = new Entity(game, stairsLoc.x, stairsLoc.y, 'stairs', STAIRS_SPRITE, true);\n      game.entities.push(stairs);\n\n      // Tell the cat where the stairs are\n      (this.game.cat as Cat).destination = stairsLoc;\n    }\n\n    // Touch up walls / half walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        const t1 = map.getTile(x, y);\n        const t2 = map.getTile(x, y + 1);\n        const t3 = map.getTile(x - 1, y);\n        const t4 = map.getTile(x + 1, y);\n        const t5 = map.getTile(x, y - 1);\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHEAST);\n        }\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHEAST);\n        }\n\n        if (t1 === TILE_DOOR) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 === TILE_WALL && t2 !== TILE_WALL) {\n          const r = rng.nextRange(0, 20);\n          if (r === 0) {\n            map.setTile(0, x, y, TILE_HALF_WALL2, true);\n          } else if (r === 1) {\n            map.setTile(0, x, y, TILE_HALF_WALL3, true);\n          } else {\n            map.setTile(0, x, y, TILE_HALF_WALL, true);\n          }\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 !== TILE_WATER && t2 === TILE_WATER) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        const nearBridge = t2 === TILE_BRIDGE || t3 === TILE_BRIDGE || t4 === TILE_BRIDGE || t5 === TILE_BRIDGE;\n        if (t1 === TILE_WATER && nearBridge && rng.nextRange(0, 20) === 1) {\n          game.entities.push(new Shark(game, x, y));\n        }\n      }\n    }\n\n    // Place obstacles after all rooms have been connected\n    for (let i = 0; i < rooms.length; i++) {\n      this.placeObstacles(rooms[i]);\n    }\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  private createRoom(map: TileMap, room: Rect) {\n    for (let y = room.y1 + 1; y < room.y2; y++) {\n      for (let x = room.x1 + 1; x < room.x2; x++) {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n    }\n  }\n\n  private createHTunnel(map: TileMap, x1: number, x2: number, y: number) {\n    for (let x = Math.min(x1, x2); x <= Math.max(x1, x2); x++) {\n      if (map.getTile(x, y) === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n    }\n  }\n\n  private createVTunnel(map: TileMap, y1: number, y2: number, x: number) {\n    for (let y = Math.min(y1, y2); y <= Math.max(y1, y2); y++) {\n      const existing = map.getTile(x, y);\n      if (existing === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n    }\n  }\n\n  private placeMonsters(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of monsters\n    const numMonsters = rng.nextRange(0, MAX_ROOM_MONSTERS);\n\n    for (let i = 0; i < numMonsters; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y);\n      } else {\n        monster = new Troll(game, x, y);\n      }\n\n      game.entities.push(monster);\n    }\n  }\n\n  private placeItems(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of items\n    const numItems = rng.nextRange(0, MAX_ROOM_ITEMS);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n      let item = null;\n\n      if (dice < 50) {\n        // Create a healing potion (50% chance)\n        item = new HealthPotion(game, x, y);\n\n      } else if (dice < 50 + 20) {\n        // Create a lightning bolt scroll (20% chance)\n        item = new Scroll(game, x, y, new LightningAbility());\n\n      } else if (dice < 50 + 20 + 15) {\n        // Create a fireball scroll (15% chance)\n        item = new Scroll(game, x, y, new FireballAbility());\n\n      } else {\n        // Create a confuse scroll (15% chance)\n        item = new Scroll(game, x, y, new ConfuseAbility());\n      }\n\n      game.entities.push(item);\n    }\n  }\n\n  private placeObstacles(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n    const map = game.tileMap as TileMap;\n\n    // Choose random number of obstacles\n    const numItems = rng.nextRange(0, MAX_ROOM_OBSTACLES + 1);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 2, room.x2 - 3);\n      const y = rng.nextRange(room.y1 + 2, room.y2 - 3);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n\n      if (dice < 80) {\n        // Create a barrel\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_BARREL);\n      } else {\n        // Create a statue\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_STATUE);\n      }\n    }\n  }\n}\n","import {Ability, Actor, Colors, ConfusedMonster, Message, Sprite, TargetType} from 'wglt';\n\nconst CONFUSE_RANGE = 8;\nconst CONFUSE_SPRITE = new Sprite(128, 32, 16, 24, 3, false);\nconst TOOLTIP_MESSAGES = [\n  new Message('Confuse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Befuddles an enemy into a random', Colors.YELLOW),\n  new Message('stupor for 10 turns.', Colors.YELLOW),\n];\n\nexport class ConfuseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = CONFUSE_SPRITE;\n    this.name = 'confuse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = CONFUSE_RANGE;\n    this.cooldown = 1;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > CONFUSE_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.ai = new ConfusedMonster(target);\n    game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    caster.ap--;\n    return true;\n  }\n}","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(192, 144, 16, 24, 2, true, undefined, 0x6757d9FF);\nconst DAMAGE = 8;\n\nclass BatAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    if (monster.distanceTo(player) < 3 && rng.nextRange(0, 100) < 33) {\n      monster.attack(player, DAMAGE);\n    } else {\n      this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n    }\n  }\n}\n\nexport class Bat extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Bat', SPRITE);\n    this.ai = new BatAI(this);\n  }\n}","import {AI, Sprite, Vec2} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(352, 144, 16, 24, 2, true, undefined, 0xe08020ff);\n\nclass CatAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n  }\n}\n\nexport class Cat extends Monster {\n  destination?: Vec2;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Cat', SPRITE);\n    this.ai = new CatAI(this);\n  }\n}","import {AI, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\n\nconst SPRITE = new Sprite(448, 144, 16, 24, 2, true, undefined, 0xf2f261ff);\nconst DAMAGE = 10;\n\nclass GriffonAI extends AI {\n  doAi() {\n    const griffon = this.actor as Griffon;\n    const game = griffon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    const talent = griffon.leapTalent;\n    if (talent.cooldown === 0) {\n      const target = this.findLeapTarget(game, griffon, player);\n      if (target && talent.use(target)) {\n        return;\n      }\n    }\n\n    const dist = griffon.distanceTo(player);\n    if (dist <= 2) {\n      griffon.attack(player, DAMAGE);\n    } else if (griffon.aggro) {\n      griffon.moveToward(player.x, player.y);\n    } else {\n      const rng = player.game.rng;\n      griffon.move(rng.nextRange(-1, 2), rng.nextRange(-1, 2));\n    }\n  }\n\n  private findLeapTarget(game: Game, griffon: Griffon, player: Player) {\n    for (let y = player.y - 1; y <= player.y + 1; y++) {\n      for (let x = player.x - 1; x <= player.x + 1; x++) {\n        const tile = game.tileMap && game.tileMap.getCell(x, y);\n        if (!tile || tile.blocked) {\n          // Tile blocked\n          continue;\n        }\n        if (griffon.distanceTo(tile) > 3) {\n          // Too far away\n          continue;\n        }\n        if (game.getActorAt(x, y)) {\n          // Tile occupied\n          continue;\n        }\n        return tile;\n      }\n    }\n    return undefined;\n  }\n}\n\nexport class Griffon extends Monster {\n  aggro = false;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Griffon', SPRITE);\n    this.hp = 100;\n    this.maxHp = 100;\n    this.ai = new GriffonAI(this);\n    this.talents.add(new Talent(this, new LeapAbility()));\n  }\n\n  get leapTalent() {\n    return this.talents.get(0);\n  }\n\n  takeDamage(damage: number) {\n    super.takeDamage(damage);\n    this.aggro = true;\n  }\n}\n","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(0, 168, 16, 24, 2, true, undefined, 0x5790b7FF);\nconst DAMAGE = 30;\n\nclass SharkAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (monster.distanceTo(player) < 2) {\n      monster.attack(player, DAMAGE);\n    }\n  }\n}\n\nexport class Shark extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Shark', SPRITE);\n    this.ai = new SharkAI(this);\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 144, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Spider extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Spider', SPRITE);\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 216, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Troll extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Troll', SPRITE);\n  }\n}","import {Actor, Colors, Game, Item, Message, Sprite} from 'wglt';\n\nconst HEAL_AMOUNT = 4;\n\nconst SPRITE = new Sprite(656, 168, 16, 24, 1, true, undefined, 0xFF0000FF);\n\nconst TOOLTIPS = [\n  new Message('Ancient Healing Potion', Colors.LIGHT_BLUE),\n  new Message('Item Level 5', Colors.YELLOW),\n  new Message('Use: Restore 10 health', Colors.LIGHT_GREEN),\n];\n\nexport class HealthPotion extends Item {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'health potion', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import {Ability, Actor, Colors, Game, Item, Sprite, TargetType} from 'wglt';\n\nconst SPRITE = new Sprite(736, 168, 16, 24, 1, true, undefined, 0xF0F0E0FF);\n\nexport class Scroll extends Item {\n  readonly ability: Ability;\n\n  constructor(game: Game, x: number, y: number, ability: Ability) {\n    super(game, x, y, 'scroll of ' + ability.name, SPRITE, false);\n    this.ability = ability;\n    this.tooltipMessages = ability.tooltipMessages;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    const ability = this.ability;\n    if (ability.targetType === TargetType.SELF) {\n      if (ability.cast(user)) {\n        user.inventory.remove(this);\n      }\n    } else {\n      this.game.startTargeting(ability, () => {\n        user.inventory.remove(this);\n      });\n    }\n    return true;\n  }\n}","import {App, AppState, Colors, fromHsv, Keys, Sprite} from 'wglt';\n\nconst OPTIONS = [\n  {display: 'NEW GAME', hash: 'chooserace', enabled: true},\n  {display: 'CONTINUE', hash: 'game', enabled: false},\n  {display: 'ENTER SEED', hash: 'seed', enabled: true},\n  {display: 'TUTORIAL', hash: 'tutorial', enabled: true},\n  {display: 'HIGH SCORES', hash: 'highscores', enabled: true},\n  {display: 'CREDITS', hash: 'credits', enabled: true},\n];\n\nexport class MainMenu extends AppState {\n  private time: number;\n  private sprites: Sprite[];\n  private selectedIndex = 0;\n\n  constructor(app: App) {\n    super(app);\n    this.time = 0;\n    this.sprites = [];\n    this.chooseSprites();\n  }\n\n  private chooseSprites() {\n    this.sprites = [];\n\n    for (let i = 0; i < 4; i++) {\n      const x = 32 * Math.floor(Math.random() * 19);\n      const y = 96 + 24 * Math.floor(Math.random() * 13);\n      const color = fromHsv(Math.random(), 0.9, 0.5);\n      this.sprites.push(new Sprite(x, y, 16, 24, 2, true, undefined, color));\n    }\n  }\n\n  update() {\n    Sprite.updateGlobalAnimations();\n\n    const time2 = this.time % 300;\n    if (time2 < 80 && time2 % 8 === 0) {\n      this.chooseSprites();\n    }\n\n    // Draw the gradient background image\n    this.app.drawImage(this.app.center.x - 128, 0, 0, 800, 256, 128);\n\n    // Draw the title text\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x + 1, 33, Colors.BLACK);\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x, 32);\n\n    // Draw the sprites\n    for (let i = 0; i < 4; i++) {\n      const x = this.app.center.x - 56 + i * 32;\n      const y = 52;\n      this.sprites[i].draw(this.app, x, y);\n    }\n\n    // Draw the menu options\n    const mouse = this.app.mouse;\n    for (let i = 0; i < OPTIONS.length; i++) {\n      const option = OPTIONS[i];\n      const x = this.app.center.x;\n      const y = 90 + 15 * i;\n      let color = Colors.WHITE;\n      if (!option.enabled) {\n        color = Colors.GRAY;\n      } else if (i === this.selectedIndex) {\n        color = Colors.YELLOW;\n      }\n      this.app.drawCenteredString(option.display, x + 1, y + 1, Colors.BLACK);\n      this.app.drawCenteredString(option.display, x, y, color);\n\n      if (mouse.y >= y && mouse.y < y + 14 && mouse.isClicked()) {\n        window.location.hash = option.hash;\n      }\n\n      if (i === this.selectedIndex && this.app.isKeyPressed(Keys.VK_ENTER)) {\n        window.location.hash = option.hash;\n      }\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_UP)) {\n      this.selectedIndex--;\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_DOWN)) {\n      this.selectedIndex++;\n    }\n\n    if (this.selectedIndex < 0) {\n      this.selectedIndex += OPTIONS.length;\n    }\n\n    if (this.selectedIndex >= OPTIONS.length) {\n      this.selectedIndex -= OPTIONS.length;\n    }\n\n    this.time++;\n  }\n}\n","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport {Dwarf} from './races/dwarf';\nimport {Elf} from './races/elf';\nimport {Human} from './races/human';\nimport {Orc} from './races/orc';\nimport {Undead} from './races/undead';\n\nconst RACES = [new Human(), new Dwarf(), new Elf(), new Orc(), new Undead()];\n\nexport class RaceMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your race', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), RACES);\n    selectDialog.renderer = new MenuItemRenderer(60, 40);\n\n    selectDialog.onSelect = (choice: CharacterRace) => {\n      (this.app as App).playerRace = choice;\n      window.location.hash = 'chooseclass';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Dwarf';\nconst ICON = new Sprite(510, 730, 34, 34, undefined, undefined, undefined, 0x4080C0FF);\nconst DESC = 'Bold and hardy, skilled warriors';\nconst DETAILS = [\n  new Message('+4 Constitution, +2 Strength', Colors.LIGHT_GREEN), new Message('Critical strike bonus', Colors.YELLOW),\n  new Message('Stoneform - Removes all curses', Colors.YELLOW)\n];\n\nexport class Dwarf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 4;\n    player.strength += 2;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Elf';\nconst ICON = new Sprite(238, 730, 34, 34, undefined, undefined, undefined, 0xFF8080FF);\nconst DESC = 'Magical people of otherworldly grace';\nconst DETAILS = [\n  new Message('+3 Dexterity, +3 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Shadowmeld - slip into the shadows', Colors.YELLOW)\n];\n\nexport class Elf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 3;\n    player.intelligence += 3;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Orc';\nconst ICON = new Sprite(442, 730, 34, 34, undefined, undefined, undefined, 0x20B020FF);\nconst DESC = 'Noble savages of shamanistic roots';\nconst DETAILS = [\n  new Message('+2 Constitution, +4 Strength', Colors.LIGHT_GREEN),\n  new Message('War Shout - Boost all stats by +1 for 5 turns', Colors.YELLOW)\n];\n\nexport class Orc extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 2;\n    player.strength += 4;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Undead';\nconst ICON = new Sprite(578, 730, 34, 34, undefined, undefined, undefined, 0xD040D0FF);\nconst DESC = 'Cursed to wander for eternity';\nconst DETAILS = [\n  new Message('+2 Dexterity, +4 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Cannibalize - 10% of damage returns as health', Colors.YELLOW)\n];\n\nexport class Undead extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 2;\n    player.intelligence += 4;\n  }\n}\n"],"sourceRoot":""}