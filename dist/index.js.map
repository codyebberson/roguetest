{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/wglt/dist/index.js","webpack:///./src/equipment/equipmentslot.ts","webpack:///./src/entities/monster.ts","webpack:///./src/equipment/equipmentmaterial.ts","webpack:///./src/equipment/equipmentquality.ts","webpack:///./src/entities/statsactor.ts","webpack:///./src/equipment/equipmentbuilder.ts","webpack:///./src/equipment/equipmentsprites.ts","webpack:///./src/abilities/leap.ts","webpack:///./src/classes/characterclass.ts","webpack:///./src/items/healthpotion.ts","webpack:///./src/races/characterrace.ts","webpack:///./src/abilities/lightning.ts","webpack:///./src/buffs/buff.ts","webpack:///./src/classes/paladin.ts","webpack:///./src/abilities/flashheal.ts","webpack:///./src/abilities/fireball.ts","webpack:///./src/gui/menuitemrenderer.ts","webpack:///./src/entities/player.ts","webpack:///./src/races/human.ts","webpack:///./src/items/scroll.ts","webpack:///./src/items/key.ts","webpack:///./src/items/door.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/classmenu.ts","webpack:///./src/ai/stunned.ts","webpack:///./src/equipment/equipment.ts","webpack:///./src/classes/priest.ts","webpack:///./src/animations/explosionanimation.ts","webpack:///./src/abilities/bubble.ts","webpack:///./src/buffs/bubble.ts","webpack:///./src/classes/ranger.ts","webpack:///./src/abilities/shoot.ts","webpack:///./src/classes/rogue.ts","webpack:///./src/abilities/shadowstrike.ts","webpack:///./src/classes/warlock.ts","webpack:///./src/abilities/curse.ts","webpack:///./src/buffs/curse.ts","webpack:///./src/abilities/demonicgateway.ts","webpack:///./src/items/gateway.ts","webpack:///./src/classes/warrior.ts","webpack:///./src/abilities/rage.ts","webpack:///./src/buffs/rage.ts","webpack:///./src/game.ts","webpack:///./src/gui/bottompanel.ts","webpack:///./src/gui/characterdialog.ts","webpack:///./src/gui/toppanel.ts","webpack:///./src/mapgen.ts","webpack:///./src/abilities/confuse.ts","webpack:///./src/entities/bat.ts","webpack:///./src/items/gold.ts","webpack:///./src/entities/griffon.ts","webpack:///./src/entities/shark.ts","webpack:///./src/entities/spider.ts","webpack:///./src/entities/troll.ts","webpack:///./src/entities/reddragon.ts","webpack:///./src/entities/flamecrawler.ts","webpack:///./src/entities/guard.ts","webpack:///./src/items/portal.ts","webpack:///./src/dungeon.ts","webpack:///./src/items/lockeddoor.ts","webpack:///./src/items/bossdoor.ts","webpack:///./src/entities/king.ts","webpack:///./src/gui/questdialog.ts","webpack:///./src/quests/quest.ts","webpack:///./src/entities/ghost.ts","webpack:///./src/entities/windelemental.ts","webpack:///./src/gui/levelupdialog.ts","webpack:///./src/gui/entityframes.ts","webpack:///./src/mainmenu.ts","webpack:///./src/racemenu.ts","webpack:///./src/races/dwarf.ts","webpack:///./src/races/elf.ts","webpack:///./src/races/orc.ts","webpack:///./src/races/undead.ts","webpack:///./src/items/hearthstone.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","Vec2","[object Object]","super","this","width","height","x1","x","y1","y","x2","y2","left","top","Rect","VK_CANCEL","VK_HELP","VK_BACK_SPACE","VK_TAB","VK_CLEAR","VK_ENTER","VK_SHIFT","VK_CONTROL","VK_ALT","VK_PAUSE","VK_CAPS_LOCK","VK_ESCAPE","VK_SPACE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_PRINTSCREEN","VK_INSERT","VK_DELETE","VK_0","VK_1","VK_2","VK_3","VK_4","VK_5","VK_6","VK_7","VK_8","VK_9","VK_COLON","VK_SEMICOLON","VK_LESS_THAN","VK_EQUALS","VK_GREATER_THAN","VK_QUESTION_MARK","VK_AT","VK_A","VK_B","VK_C","VK_D","VK_E","VK_F","VK_G","VK_H","VK_I","VK_J","VK_K","VK_L","VK_M","VK_N","VK_O","VK_P","VK_Q","VK_R","VK_S","VK_T","VK_U","VK_V","VK_W","VK_X","VK_Y","VK_Z","VK_CONTEXT_MENU","VK_NUMPAD0","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_MULTIPLY","VK_ADD","VK_SEPARATOR","VK_SUBTRACT","VK_DECIMAL","VK_DIVIDE","VK_F1","VK_F2","VK_F3","VK_F4","VK_F5","VK_F6","VK_F7","VK_F8","VK_F9","VK_F10","VK_F11","VK_F12","VK_F13","VK_F14","VK_F15","VK_F16","VK_F17","VK_F18","VK_F19","VK_F20","VK_F21","VK_F22","VK_F23","VK_F24","VK_NUM_LOCK","VK_SCROLL_LOCK","VK_CIRCUMFLEX","VK_EXCLAMATION","VK_DOUBLE_QUOTE","VK_HASH","VK_DOLLAR","VK_PERCENT","VK_AMPERSAND","VK_UNDERSCORE","VK_OPEN_PAREN","VK_CLOSE_PAREN","VK_ASTERISK","VK_PLUS","VK_PIPE","VK_HYPHEN_MINUS","VK_OPEN_CURLY_BRACKET","VK_CLOSE_CURLY_BRACKET","VK_TILDE","VK_COMMA","VK_PERIOD","VK_SLASH","VK_BACK_QUOTE","VK_OPEN_BRACKET","VK_BACK_SLASH","VK_CLOSE_BRACKET","VK_QUOTE","VK_META","VK_ALTGR","VK_WIN","VK_KANA","VK_HANGUL","VK_EISU","VK_JUNJA","VK_FINAL","VK_HANJA","VK_KANJI","VK_CONVERT","VK_NONCONVERT","VK_ACCEPT","VK_MODECHANGE","VK_SELECT","VK_PRINT","VK_EXECUTE","VK_SLEEP","Keys","Panel","gui","rect","children","ArrayList","modal","visible","length","setGui","parent","add","remove","isDragging","getPanelAt","contains","drawChildren","drawContents","handleChildrenInput","handleInput","dragElement","Animation","promise","AnimationPromise","countdown","blocking","BLACK","fromRgb","WHITE","GRAY","LIGHT_GRAY","DARK_GRAY","YELLOW","BROWN","RED","LIGHT_RED","DARK_RED","GREEN","LIGHT_GREEN","DARK_GREEN","LIGHT_CYAN","DARK_CYAN","BLUE","LIGHT_BLUE","DARK_BLUE","LIGHT_MAGENTA","DARK_MAGENTA","ORANGE","Colors","Dialog","closeButton","renderer","draw","app","isKeyPressed","mouse","isClicked","elements","splice","push","listeners","onAdd","indexOf","onRemove","TalentButton","Button","ability","sprite","talent","shortcut","tooltipMessages","use","cooldown","actor","game","cooldownSprite","Math","round","frames","h","a","drawImage","drawCenteredString","toString","ItemButton","containerItems","stackItems","player","drawRightString","onUpdateTooltip","updateTooltip","fromHsv","u","ItemShortcutButton","shortcutItem","getItem","countItems","isStackable","shortcutKey","onClick","start","startDragging","click","down","messages","ButtonSlot","button","buttonSlotRect","String","fromCharCode","SELF","ENTITY","TILE","TargetType","Entity","offset","blocks","zIndex","pixelX","tileSize","pixelY","centerPixelX","centerPixelY","hypot","viewport","AI","alwaysActive","Input","downCount","upCount","Actor","hp","maxHp","ap","maxAp","inventory","talents","visibleDuration","seen","isBlocked","tileMap","animations","SlideAnimation","blocked","move","abs","onAttack","takeDamage","BumpAnimation","min","addFloatingText","onDeath","entities","onPickup","onUse","targetType","cast","startTargeting","FloatingTextAnimation","entity","dx","dy","update","str","color","floor","Keyboard","keys","Array","addEventListener","setKey","stopPropagation","preventDefault","keyCode","Mouse","prev","dragDistance","longPress","wheelDelta","lastWheelDelta","canvas","handleEvent","handleTouchEvent","handleMouseWheel","touches","updatePosition","clientX","clientY","type","focus","getBoundingClientRect","size","max","deltaY","createShader","shaderSource","compileShader","ExtendedTexture","WebGLTexture","loaded","initShaderProgram","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","loadShader","createTexture","bindTexture","TEXTURE_2D","RGBA","UNSIGNED_BYTE","Uint8Array","texImage2D","Image","onload","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","generateMipmap","src","AppState","GUI","DialogRenderer","rootPanel","dragOffset","updateDragging","onDrop","removeAll","baseRect","closeButtonRect","g","f","reverse","computePath","grid","RNG","state","nextInt","reduce","nextRange","chooseIndex","loop","ticksPerFrame","colorOverride","animIndex","animDelay","globalAnimIndex","Sprite","Message","text","ShortcutButtonSlot","clone","handlers","BasicMonster","damageFunc","distanceTo","moveToward","attack","ConfusedMonster","numTurns","oldAi","ai","rng","FadeInAnimation","duration","blackoutRect","FadeOutAnimation","ProjectileAnimation","position","velocity","w","_","v","A","App","Error","getContext","alpha","antialias","gl","font","FONT_04B03","fillWindow","scaleFactor","center","disable","DEPTH_TEST","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","style","outline","tabIndex","mobile","isMobile","renderSet","RenderSet","imageUrl","keyboard","handleResizeEvent","renderLoop","innerWidth","innerHeight","navigator","userAgent","match","resetGl","flush","requestAnimationFrame","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionArrayIndex","texcoordArrayIndex","colorArrayIndex","drawString","getKey","isKeyArrayPressed","getWidth","charCodeAt","Font","MonospacedFont","glyphSize","widths","offsets","ProportionalFont","program","viewportSizeLocation","getUniformLocation","positionLocation","getAttribLocation","texcoordLocation","colorLocation","positionBuffer","createBuffer","texcoordBuffer","colorBuffer","spriteTexture","positionArray","Float32Array","texcoordArray","colorUint8Array","colorDataView","DataView","buffer","getStringWidth","split","getHeight","isInRange","getOffset","setUint32","useProgram","uniform2f","activeTexture","TEXTURE0","enableVertexAttribArray","bindBuffer","ARRAY_BUFFER","bufferData","DYNAMIC_DRAW","FLOAT","vertexAttribPointer","TRIANGLES","drawArrays","Game","viewportFocus","turnIndex","cursor","tooltip","TooltipDialog","pathIndex","horizontalViewDistance","viewDistance","verticalViewDistance","zoom","messageLog","updateGlobalAnimations","updateZoom","updateAnimations","updateEntities","onUpdate","updateViewport","drawTileMap","drawTargeting","drawEntities","drawAnimations","tooltipElement","isLongPress","vibrate","showAt","getCenter","isDone","resolve","handlePlayerInput","doAi","nextTurn","ceil","isTargeting","targetSprite","isVisible","targetAbility","targetCallback","getActorAt","getCell","cancelTargeting","isKeyDown","isDownLeftKeyPressed","isDownKeyPressed","isDownRightKeyPressed","isLeftKeyPressed","isRightKeyPressed","isUpLeftKeyPressed","isUpKeyPressed","isUpRightKeyPressed","endTargeting","targetTile","path","stopAutoWalk","tryMoveOrAttack","isWaitKeyPressed","onBump","endTurn","recomputeFov","startTurn","recalculateViewportFocus","computeFov","ComplexSelectDialog","options","selectedIndex","DefaultSelectOptionRenderer","drawOption","onSelect","onCancel","ImagePanel","srcRect","ItemContainerDialog","capacity","items","addListener","addItem","removeItem","ItemContainerButtonSlot","getExistingButton","getNextFreeSlot","MessageLog","maxItems","MessagePanel","message","SelectDialog","callback","close","ShortcutBar","spacing","containsTalent","getFreeSlot","containsItem","TalentsDialog","Item","pickup","Talent","rank","getTileId","tile","blockedSight","TileMapCell","imageData","dimensions","texture","texSubImage2D","TileMapLayer","TileMap","layers","tileWidth","tileHeight","dirty","originX","originY","visibleRect","prevVisibleRect","quadVertBuffer","STATIC_DRAW","tilemapShader","positionAttribute","textureAttribute","viewportSizeUniform","viewOffsetUniform","mapSizeUniform","tileSizeUniform","animFrameUniform","tileSamplerUniform","spriteSamplerUniform","initGl","uniform1f","uniform1i","TEXTURE1","uniform2fv","isSeen","setAlpha","updateGl","copy","computeOctantY","computeOctantX","EquipmentSlot","wglt_1","player_1","statsactor_1","gold_1","equipmentbuilder_1","healthpotion_1","START_BLOOD","END_BLOOD","Monster","StatsActor","level","calculateDamage","sentiment","Sentiment","HOSTILE","strength","armor","loot","getLoot","attacker","damage","log","undefined","Player","xpGain","pow","addXp","setTile","location","findNearestDropLocation","target","getDamage","r2","getEntityAt","result","Gold","HealthPotion","EquipmentBuilder","withRandomDrop","build","EquipmentMaterial","EquipmentQuality","equipmentslot_1","mp","maxMp","dexterity","constitution","intelligence","recalculateMaxHp","showFrame","NEUTRAL","equipment","buffs","item","strengthModifier","calculateModifier","dexterityModifier","constitutionModifier","intelligenceModifier","abilityScore","slot","mainHandWeapon","getEquipment","MAINHAND","weapon","baseDamage","modifier","minDamage","maxDamage","finesse","buffDamage","modifyDamageDealt","modifyDamageTaken","FRIENDLY","onTalk","buff","equipped","oldHp","equipmentmaterial_1","equipmentquality_1","equipment_1","equipmentsprites_1","DEFAULT_SPRITE","itemLevel","HEAD","material","NONE","quality","POOR","ranged","statMultiplier","withSprite","chooseQuality","chooseSlot","chooseFlair","LEGENDARY","EPIC","RARE","UNCOMMON","COMMON","chooseHead","chooseNeck","chooseBack","chooseChest","chooseHands","chooseLegs","chooseFeet","chooseRing","chooseMainHand","chooseOffHand","CLOTH","chooseValue","chooseArrayValue","CLOTH_HELM_SPRITES","LEATHER","LEATHER_HELM_SPRITES","PLATE","PLATE_HELM_SPRITES","NECK","NECKLACE_SPRITE_1","BACK","CLOAK_SPRITES","CHEST","ROBE_SPRITES","SHIRT_SPRITES","HANDS","GLOVES_SPRITES","LEGS","PANTS_SPRITES","FEET","BOOTS_SPRITES","RING","RING_SPRITES","SWORD_SPRITES","AXE_SPRITE_1","MACE_SPRITES","DAGGER_SPRITE_1","BOW_SPRITE_1","CROSSBOW_SPRITE_1","STAFF_SPRITES","OFFHAND","dice","LANTERN_SPRITE","ORB_SPRITE","BOOK_SPRITE","SHIELD_SPRITES","choosePoorFlair","chooseCommonFlair","chooseUncommonFlair","chooseRareFlair","chooseEpicFlair","chooseLegendaryFlair","withColor","values","Equipment","W","H","C","SWORD_SPRITE_1","SWORD_SPRITE_2","SWORD_SPRITE_3","SWORD_SPRITE_4","MACE_SPRITE_1","MACE_SPRITE_2","MACE_SPRITE_3","MACE_SPRITE_4","MACE_SPRITE_5","MACE_SPRITE_6","STAFF_SPRITE_1","STAFF_SPRITE_2","STAFF_SPRITE_3","STAFF_SPRITE_4","STAFF_SPRITE_5","SHIRT_SPRITE_1","SHIRT_SPRITE_2","SHIRT_SPRITE_3","SHIRT_SPRITE_4","SHIRT_SPRITE_5","SHIRT_SPRITE_6","SHIRT_SPRITE_7","SHIRT_SPRITE_8","SHIRT_SPRITE_9","SHIRT_SPRITE_10","SHIRT_SPRITE_11","ROBE_SPRITE_1","ROBE_SPRITE_2","ROBE_SPRITE_3","ROBE_SPRITE_4","ROBE_SPRITE_5","ROBE_SPRITE_6","ROBE_SPRITE_7","ROBE_SPRITE_8","ROBE_SPRITE_9","ROBE_SPRITE_10","HELM_SPRITE_1","HELM_SPRITE_2","HELM_SPRITE_3","HELM_SPRITE_4","HELM_SPRITE_5","HELM_SPRITE_6","HELM_SPRITE_7","HELM_SPRITE_8","HELM_SPRITE_9","HELM_SPRITE_10","HELM_SPRITE_11","HELM_SPRITE_12","HELM_SPRITE_13","HELM_SPRITE_14","HELM_SPRITE_15","HELM_SPRITE_16","HELM_SPRITE_17","HELM_SPRITE_18","HELM_SPRITE_19","HELM_SPRITES","GLOVES_SPRITE_1","GLOVES_SPRITE_2","GLOVES_SPRITE_3","GLOVES_SPRITE_4","GLOVES_SPRITE_5","GLOVES_SPRITE_6","GLOVES_SPRITE_7","GLOVES_SPRITE_8","GLOVES_SPRITE_9","GLOVES_SPRITE_10","PANTS_SPRITE_1","PANTS_SPRITE_2","PANTS_SPRITE_3","PANTS_SPRITE_4","PANTS_SPRITE_5","PANTS_SPRITE_6","PANTS_SPRITE_7","BOOTS_SPRITE_1","SHIELD_SPRITE_1","SHIELD_SPRITE_2","SHIELD_SPRITE_3","SHIELD_SPRITE_4","SHIELD_SPRITE_5","SHIELD_SPRITE_6","SHIELD_SPRITE_7","SHIELD_SPRITE_8","SHIELD_SPRITE_9","SHIELD_SPRITE_10","SHIELD_SPRITE_11","SHIELD_SPRITE_12","SHIELD_SPRITE_13","SHIELD_SPRITE_14","SHIELD_SPRITE_15","SHIELD_SPRITE_16","SHIELD_SPRITE_17","RING_SPRITE_1","RING_SPRITE_2","CLOAK_SPRITE_1","CLOAK_SPRITE_2","CLOAK_SPRITE_3","CLOAK_SPRITE_4","CLOAK_SPRITE_5","CLOAK_SPRITE_6","CLOAK_SPRITE_7","CLOCK_SPRITE","stunned_1","LEAP_RANGE","LEAP_RADIUS","LEAP_COLOR","LEAP_SPRITE","TOOLTIP_MESSAGES","LeapAbility","minRange","maxRange","caster","xSpeed","ySpeed","addAnimation","then","count","Stunned","CharacterClass","icon","description","details","HEAL_AMOUNT","SPRITE","TOOLTIPS","user","takeHeal","CharacterRace","LIGHTNING_RANGE","MANA_COST","LightningAbility","monster","getClosestMonster","explosion","range","minDist","dist","distance","Buff","flashheal_1","leap_1","lightning_1","characterclass_1","NAME","ICON","DESC","DETAILS","Paladin","class","FlashHealAbility","withName","withItemLevel","withSlot","withQuality","withMaterial","withArmor","withDamage","healAmount","explosionanimation_1","FIREBALL_RANGE","FIREBALL_RADIUS","FIRE_COLOR","FIREBALL_SPRITE","FireballAbility","ExplosionAnimation","MenuItemRenderer","expandedHeight","collapsedHeight","point","option","selected","iconColor","titleColor","descColor","j","msg","paladin_1","human_1","PLAYER_SPRITE","xp","maxXp","race","Human","remainingAbilityPoints","home","levelUp","nextMaxXp","levelUpDialog","oldMaxXp","characterrace_1","Scroll","hideAllDialogs","Key","keyId","moveTo","TILE_OPEN_DOOR","Door","map","hash","startGame","chooseRace","chooseClass","showHighScores","showCredits","showMainMenu","wglt","classmenu_1","game_1","mainmenu_1","racemenu_1","hearthstone_1","document","querySelector","mainMenu","MainMenu","raceMenu","RaceMenu","classMenu","ClassMenu","highScores","credits","Hearthstone","playerRace","initPlayer","playerClass","priest_1","ranger_1","rogue_1","warlock_1","warrior_1","menuitemrenderer_1","CLASSES","Priest","Ranger","Rogue","Warlock","Warrior","selectDialog","choice","history","back","turns","COLOR_POOR","COLOR_COMMON","COLOR_UNCOMMON","COLOR_RARE","COLOR_EPIC","COLOR_LEGENDARY","builder","getColor","equipItem","buildComparisonTooltip","buildNormalTooltip","fireball_1","bubble_1","BubbleAbility","radius","sprites","maxRadius","centerX","centerY","angle","cos","sin","animation","Bubble","absorb","buff_1","COLOR","remaining","shoot_1","ShootAbility","RANGE","shadowstrike_1","ShadowStrikeAbility","farthestTile","farthestDistance","curse_1","demonicgateway_1","CurseAbility","DemonicGatewayAbility","Curse","gateway_1","gateway1","Gateway","gateway2","other","owner","exit","rage_1","RageAbility","Rage","bottompanel_1","characterdialog_1","toppanel_1","mapgen_1","levelupdialog_1","entityframes_1","scroll_1","TARGET_SPRITE","mapGen","MapGenerator","topPanel","TopPanel","bottomPanel","BottomPanel","EntityFrames","inventoryButton","inventoryDialog","inventorySlot","characterButton","characterDialog","characterSlot","talentsButton","talentsDialog","talentsSlot","menuButton","menuSlot","CharacterDialog","LevelUpDialog","shortcutBar","addTalent","createMap","resetViewport","MARGIN","BUTTON_SPACING","headSlot","neckSlot","backSlot","chestSlot","handsSlot","legsSlot","feetSlot","ringSlot","mainHandSlot","offHandSlot","getSlot","containerRect","buttonRect","desc","child","inspectSlot","bo","healthWidth","confuse_1","bat_1","griffon_1","shark_1","spider_1","troll_1","reddragon_1","guard_1","portal_1","dungeon_1","lockeddoor_1","key_1","bossdoor_1","king_1","ghost_1","windelemental_1","MAP_WIDTH","MAP_HEIGHT","OVERWORLD_WIDTH","OVERWORLD_HEIGHT","DUNGEON_WIDTH","DUNGEON_HEIGHT","TILE_EMPTY","TILE_SHADOW","TILE_WALL","TILE_HALF_WALL","TILE_HALF_WALL2","TILE_HALF_WALL3","TILE_FLOOR","TILE_WATER","TILE_BRIDGE","TILE_COBWEB_NORTHWEST","TILE_COBWEB_NORTHEAST","TILE_COBWEB_SOUTHWEST","TILE_COBWEB_SOUTHEAST","TILE_CLOSED_DOOR","TILE_STAIRS_DOWN","TILE_STAIRS_UP","TILE_BARREL","TILE_STATUE","TILE_GRASS","TILE_TREE1","TILE_TREE2","TILE_PATH","TILE_FENCE1","TILE_FENCE5","TILE_FENCE6","TILE_FENCE7","TILE_FENCE8","TILE_FENCE9","TILE_FENCE10","ROOM_MIN_WIDTH","ROOM_MAX_WIDTH","ROOM_MIN_HEIGHT","ROOM_MAX_HEIGHT","MAX_ROOMS","MAX_ROOM_MONSTERS","MAX_ROOM_ITEMS","MAX_ROOM_OBSTACLES","STAIRS_SPRITE","BOSS_LAYOUTS","bossZone","bossRoom","stairsRoom","nextKeyId","createOverworld","dungeons","dungeon","Dungeon","createDungeon","portalSprite","portal1","Portal","portal2","entrance","touchUp","outerOverworld","overworld","clearMap","setAnimated","createRiver","graveyards","graveyard","ghost","Ghost","treeX","treeY","getTile","castle","createCastle","console","roll","Spider","Bat","Troll","king","King","moat","walls","floors","waypoints","guard","Guard","bossLayout","rooms","newRoom","failed","intersects","createRoom","createHTunnel","createVTunnel","placeMonsters","placeItems","bossLevel","boss","RedDragon","WindElemental","Griffon","BossDoor","stairsLoc","LockedDoor","placeObstacles","z","room","existing","dungeonLevel","numMonsters","numItems","ConfuseAbility","bounds","water","t1","t2","t3","t4","t5","nearBridge","Shark","CONFUSE_RANGE","CONFUSE_SPRITE","monster_1","BatAI","bat","DAMAGE","GriffonAI","griffon","leapTalent","findLeapTarget","SharkAI","flamecrawler_1","RedDragonAI","dragon","FlameCrawler","FlameCrawlerAI","aliveCount","nextX","nextY","GuardAI","waypointIndex","waitCount","aggroCount","otherGuard","waypoint","fade","warpToPoint","door_1","openDoor","questdialog_1","quest_1","KingAI","dialog","QuestDialog","quest","Quest","WindElementalAI","CONSTITUTION_SPRITE","DEXTERITY_SPRITE","INTELLIGENCE_SPRITE","STRENGTH_SPRITE","DESCRIPTIONS","constitutionSlot","constitutionBtn","incConstitution","dexteritySlot","dexterityBtn","incDexterity","intelligenceSlot","intelligenceBtn","incIntelligence","strengthSlot","strengthBtn","incStrength","increaseStat","con","dex","int","nameColor","levelColor","OPTIONS","display","enabled","time","chooseSprites","random","time2","dwarf_1","elf_1","orc_1","undead_1","RACES","Dwarf","Elf","Orc","Undead"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"wglt\",[],e):\"object\"==typeof exports?exports.wglt=e():t.wglt=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=33)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);class r extends s.Vec2{constructor(t,e,i,s){super(t,e),this.width=i,this.height=s}get x1(){return this.x}get y1(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get left(){return this.x}get top(){return this.y}clone(){return new r(this.x,this.y,this.width,this.height)}copy(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}getCenter(){return new s.Vec2(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}}e.Rect=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Vec2=class{constructor(t,e){this.x=t,this.y=e}add(t){this.x+=t.x,this.y+=t.y}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{}s.VK_CANCEL=3,s.VK_HELP=6,s.VK_BACK_SPACE=8,s.VK_TAB=9,s.VK_CLEAR=12,s.VK_ENTER=13,s.VK_SHIFT=16,s.VK_CONTROL=17,s.VK_ALT=18,s.VK_PAUSE=19,s.VK_CAPS_LOCK=20,s.VK_ESCAPE=27,s.VK_SPACE=32,s.VK_PAGE_UP=33,s.VK_PAGE_DOWN=34,s.VK_END=35,s.VK_HOME=36,s.VK_LEFT=37,s.VK_UP=38,s.VK_RIGHT=39,s.VK_DOWN=40,s.VK_PRINTSCREEN=44,s.VK_INSERT=45,s.VK_DELETE=46,s.VK_0=48,s.VK_1=49,s.VK_2=50,s.VK_3=51,s.VK_4=52,s.VK_5=53,s.VK_6=54,s.VK_7=55,s.VK_8=56,s.VK_9=57,s.VK_COLON=58,s.VK_SEMICOLON=59,s.VK_LESS_THAN=60,s.VK_EQUALS=61,s.VK_GREATER_THAN=62,s.VK_QUESTION_MARK=63,s.VK_AT=64,s.VK_A=65,s.VK_B=66,s.VK_C=67,s.VK_D=68,s.VK_E=69,s.VK_F=70,s.VK_G=71,s.VK_H=72,s.VK_I=73,s.VK_J=74,s.VK_K=75,s.VK_L=76,s.VK_M=77,s.VK_N=78,s.VK_O=79,s.VK_P=80,s.VK_Q=81,s.VK_R=82,s.VK_S=83,s.VK_T=84,s.VK_U=85,s.VK_V=86,s.VK_W=87,s.VK_X=88,s.VK_Y=89,s.VK_Z=90,s.VK_CONTEXT_MENU=93,s.VK_NUMPAD0=96,s.VK_NUMPAD1=97,s.VK_NUMPAD2=98,s.VK_NUMPAD3=99,s.VK_NUMPAD4=100,s.VK_NUMPAD5=101,s.VK_NUMPAD6=102,s.VK_NUMPAD7=103,s.VK_NUMPAD8=104,s.VK_NUMPAD9=105,s.VK_MULTIPLY=106,s.VK_ADD=107,s.VK_SEPARATOR=108,s.VK_SUBTRACT=109,s.VK_DECIMAL=110,s.VK_DIVIDE=111,s.VK_F1=112,s.VK_F2=113,s.VK_F3=114,s.VK_F4=115,s.VK_F5=116,s.VK_F6=117,s.VK_F7=118,s.VK_F8=119,s.VK_F9=120,s.VK_F10=121,s.VK_F11=122,s.VK_F12=123,s.VK_F13=124,s.VK_F14=125,s.VK_F15=126,s.VK_F16=127,s.VK_F17=128,s.VK_F18=129,s.VK_F19=130,s.VK_F20=131,s.VK_F21=132,s.VK_F22=133,s.VK_F23=134,s.VK_F24=135,s.VK_NUM_LOCK=144,s.VK_SCROLL_LOCK=145,s.VK_CIRCUMFLEX=160,s.VK_EXCLAMATION=161,s.VK_DOUBLE_QUOTE=162,s.VK_HASH=163,s.VK_DOLLAR=164,s.VK_PERCENT=165,s.VK_AMPERSAND=166,s.VK_UNDERSCORE=167,s.VK_OPEN_PAREN=168,s.VK_CLOSE_PAREN=169,s.VK_ASTERISK=170,s.VK_PLUS=171,s.VK_PIPE=172,s.VK_HYPHEN_MINUS=173,s.VK_OPEN_CURLY_BRACKET=174,s.VK_CLOSE_CURLY_BRACKET=175,s.VK_TILDE=176,s.VK_COMMA=188,s.VK_PERIOD=190,s.VK_SLASH=191,s.VK_BACK_QUOTE=192,s.VK_OPEN_BRACKET=219,s.VK_BACK_SLASH=220,s.VK_CLOSE_BRACKET=221,s.VK_QUOTE=222,s.VK_META=224,s.VK_ALTGR=225,s.VK_WIN=91,s.VK_KANA=21,s.VK_HANGUL=21,s.VK_EISU=22,s.VK_JUNJA=23,s.VK_FINAL=24,s.VK_HANJA=25,s.VK_KANJI=25,s.VK_CONVERT=28,s.VK_NONCONVERT=29,s.VK_ACCEPT=30,s.VK_MODECHANGE=31,s.VK_SELECT=41,s.VK_PRINT=42,s.VK_EXECUTE=43,s.VK_SLEEP=95,e.Keys=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7);e.Panel=class{constructor(t){this.gui=null,this.rect=t,this.children=new s.ArrayList,this.modal=!1,this.visible=!0}setGui(t){if(!this.gui){this.gui=t;for(let e=0;e<this.children.length;e++)this.children.get(e).setGui(t)}}add(t){t.parent=this,t.setGui(this.gui),this.children.add(t)}remove(t){this.children.remove(t)}move(t){this.parent&&this.parent.remove(this),t.add(this)}getPanelAt(t){for(let e=this.children.length-1;e>=0;e--){const i=this.children.get(e);if(!i.visible)continue;if(i.isDragging())continue;const s=i.getPanelAt(t);if(s)return s}if(this.rect.contains(t))return this}drawContents(){this.drawChildren()}drawChildren(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);e.visible&&e.drawContents()}}handleInput(){return this.handleChildrenInput()}handleChildrenInput(){for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(e.visible&&(e.handleInput()||e.modal))return!0}return!1}isDragging(){return this.gui&&this.gui.dragElement===this}onDrop(t){return!1}updateTooltip(t){t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(34);e.Animation=class{constructor(t,e){this.promise=new s.AnimationPromise,this.countdown=t,this.blocking=e}isDone(){return this.countdown<=0}update(){this.countdown--}draw(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(10);class r{}r.BLACK=s.fromRgb(0,0,0),r.WHITE=s.fromRgb(255,255,255),r.GRAY=s.fromRgb(128,128,128),r.LIGHT_GRAY=s.fromRgb(170,170,170),r.DARK_GRAY=s.fromRgb(85,85,85),r.YELLOW=s.fromRgb(255,255,85),r.BROWN=s.fromRgb(170,85,0),r.RED=s.fromRgb(255,0,0),r.LIGHT_RED=s.fromRgb(255,85,85),r.DARK_RED=s.fromRgb(170,0,0),r.GREEN=s.fromRgb(0,255,0),r.LIGHT_GREEN=s.fromRgb(85,255,85),r.DARK_GREEN=s.fromRgb(0,170,0),r.LIGHT_CYAN=s.fromRgb(85,255,255),r.DARK_CYAN=s.fromRgb(0,170,170),r.BLUE=s.fromRgb(0,0,255),r.LIGHT_BLUE=s.fromRgb(85,85,255),r.DARK_BLUE=s.fromRgb(0,0,170),r.LIGHT_MAGENTA=s.fromRgb(255,85,255),r.DARK_MAGENTA=s.fromRgb(170,0,170),r.ORANGE=s.fromRgb(255,136,0),e.Colors=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(3);e.Dialog=class extends r.Panel{constructor(t){super(t),this.closeButton=!1}drawContents(){this.gui&&this.gui.renderer.draw(this.gui.app,this)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.visible=!1,!0;const t=this.gui.app.mouse;return!(!t.isClicked()||this.rect.contains(t)||(this.visible=!1,0))}close(){this.gui&&this.gui.remove(this)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.ArrayList=class{constructor(){this.elements=[]}get length(){return this.elements.length}clear(){this.elements.splice(0,this.elements.length)}get(t){return this.elements[t]}add(t){if(this.elements.push(t),this.listeners)for(let e=0;e<this.listeners.length;e++)this.listeners[e].onAdd(this,t)}remove(t){const e=this.elements.indexOf(t);if(e>=0&&(this.elements.splice(e,1),this.listeners))for(let e=0;e<this.listeners.length;e++)this.listeners[e].onRemove(this,t)}contains(t){return this.elements.indexOf(t)>=0}addListener(t){this.listeners||(this.listeners=[]),this.listeners.push(t)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(12);e.TalentButton=class extends r.Button{constructor(t,e,i){super(t,e.ability.sprite),this.talent=e,this.shortcut=!!i,this.tooltipMessages=e.ability.tooltipMessages}click(){this.talent.use()}drawContents(){if(super.drawContents(),this.talent.cooldown>0){const t=this.talent.actor.game,e=t.cooldownSprite;if(e){const i=1-this.talent.cooldown/this.talent.ability.cooldown,r=Math.round(i*e.frames),n=e.x+r*e.width,o=e.y,h=this.rect.x+(this.rect.width-e.width)/2|0,a=this.rect.y+(this.rect.height-e.height)/2|0;t.app.drawImage(h,a,n,o,e.width,e.height);const c=this.rect.x+this.rect.width/2|0,l=this.rect.y+this.rect.height/2|0;t.app.drawCenteredString(this.talent.cooldown.toString(),c+1,l-2,s.Colors.BLACK),t.app.drawCenteredString(this.talent.cooldown.toString(),c,l-3,s.Colors.WHITE)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7),r=i(12);e.ItemButton=class extends r.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.stackItems=new s.ArrayList,this.stackItems.add(i),this.tooltipMessages=i.tooltipMessages}click(){if(this.stackItems.length>0){const t=this.stackItems.get(0),e=t.game.player;e&&e.use(t)}}removeAll(){for(let t=this.stackItems.length-1;t>=0;t--)this.containerItems.remove(this.stackItems.get(t))}drawContents(){if(this.gui&&(super.drawContents(),this.stackItems.length>1)){const t=this.rect;this.gui.app.drawRightString(this.stackItems.length.toString(),t.x2-3,t.y2-10)}}updateTooltip(t){if(this.stackItems.length>0){const t=this.stackItems.get(0);t.onUpdateTooltip(),this.tooltipMessages=t.tooltipMessages}super.updateTooltip(t)}}},function(t,e,i){\"use strict\";function s(t,e,i,s){return void 0===s&&(s=255),(t<<24)+(e<<16)+(i<<8)+s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.fromRgb=s,e.fromHsv=function(t,e,i,r){const n=6*t|0,o=6*t-n,h=i*(1-e),a=i*(1-o*e),c=i*(1-(1-o)*e);let l,d,u;switch(n%6){case 0:l=i,d=c,u=h;break;case 1:l=a,d=i,u=h;break;case 2:l=h,d=i,u=c;break;case 3:l=h,d=a,u=i;break;case 4:l=c,d=h,u=i;break;case 5:l=i,d=h,u=a;break;default:l=0,d=0,u=0}return void 0===r&&(r=1),s(255*l|0,255*d|0,255*u|0,255*r|0)}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(12);e.ItemShortcutButton=class extends s.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.shortcutItem=i,this.tooltipMessages=i.tooltipMessages}click(){const t=this.getItem();if(t){const e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),!this.isDragging())){const t=this.rect,e=this.countItems();this.gui.app.drawRightString(e.toString(),t.x2-3,t.y2-10)}}getItem(){for(let t=0;t<this.containerItems.length;t++){const e=this.containerItems.get(t);if(this.shortcutItem.isStackable(e))return e}}countItems(){let t=0;for(let e=0;e<this.containerItems.length;e++)this.shortcutItem.isStackable(this.containerItems.get(e))&&t++;return t}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.Button=class extends s.Panel{constructor(t,e,i,s){super(t),this.sprite=e,this.shortcutKey=i,this.onClick=s}drawContents(){if(!this.gui)return;const t=this.sprite,e=this.rect,i=(e.width-t.width)/2|0,s=(e.height-t.height)/2|0;t.draw(this.gui.app,e.x+i,e.y+s)}handleInput(){if(!this.gui)return!1;const t=this.gui.app,e=t.mouse;return this.rect.contains(e.start)&&e.isDragging()?(this.gui.startDragging(this),!0):this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked()?(this.click(),!0):e.down&&this.rect.contains(e)}click(){this.onClick&&this.onClick()}updateTooltip(t){this.tooltipMessages?(t.messages=this.tooltipMessages,t.visible=!0):t.visible=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.ButtonSlot=class extends s.Panel{constructor(t,e){super(t),this.shortcutKey=e}get button(){return this.children.length>0?this.children.get(0):void 0}drawContents(){if(!this.gui)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;e&&this.gui.app.drawImage(t.x,t.y,e.x,e.y,t.width,t.height);const i=this.button;i&&!i.isDragging()&&(i.rect.x=this.rect.x,i.rect.y=this.rect.y,i.rect.width=this.rect.width,i.rect.height=this.rect.height,this.drawChildren()),this.shortcutKey&&this.gui.app.drawRightString(String.fromCharCode(this.shortcutKey),t.x2-3,t.y+3)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;const t=this.gui.app,e=t.mouse,i=this.button;return i&&(this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked())?(i.click(),!0):e.down&&this.rect.contains(e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SELF=0]=\"SELF\",t[t.ENTITY=1]=\"ENTITY\",t[t.TILE=2]=\"TILE\"}(e.TargetType||(e.TargetType={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);e.Entity=class extends s.Vec2{constructor(t,e,i,r,n,o){super(e,i),this.game=t,this.offset=new s.Vec2(0,0),this.name=r,this.sprite=n,this.blocks=o,this.zIndex=1}get pixelX(){return this.x*this.game.tileSize.width+this.offset.x}get pixelY(){return this.y*this.game.tileSize.height+this.offset.y}get centerPixelX(){return this.pixelX+this.sprite.width/2|0}get centerPixelY(){return this.pixelY+this.sprite.height/2|0}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}distance(t,e){return Math.hypot(t-this.x,e-this.y)}draw(){this.sprite.draw(this.game.app,this.pixelX-this.game.viewport.x,this.pixelY-this.game.viewport.y)}startTurn(){}endTurn(){}sendToBack(){}onBump(t){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AI=class{constructor(t){this.actor=t,this.alwaysActive=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Input=class{constructor(){this.down=!1,this.downCount=0,this.upCount=0}update(){this.down?(this.downCount++,this.upCount=0):(this.downCount=0,this.upCount++)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(19),n=i(20),o=i(21),h=i(7),a=i(5),c=i(15);e.Actor=class extends c.Entity{constructor(t,e,i,s,r,n){super(t,e,i,s,r,n),this.hp=100,this.maxHp=100,this.ap=1,this.maxAp=1,this.inventory=new h.ArrayList,this.talents=new h.ArrayList,this.visibleDuration=-1,this.seen=!1}startTurn(){this.ap=this.maxAp;for(let t=0;t<this.talents.length;t++){const e=this.talents.get(t);e.cooldown>0&&e.cooldown--}}move(t,e,i){const s=this.x+t,r=this.y+e;if(this.blocks){if(this.game.isBlocked(s,r))return!1}else if(this.game.tileMap&&this.game.tileMap.isBlocked(s,r))return!1;this.x=s,this.y=r,this.ap--,this.offset.x=-t*this.game.tileSize.width,this.offset.y=-e*this.game.tileSize.height;const n=i||4,h=this.game.tileSize.width/n,a=this.game.tileSize.height/n;return this.game.animations.push(new o.SlideAnimation(this,t*h,e*a,n)),this.game.blocked=!0,!0}moveTo(t,e,i){return this.move(t-this.x,e-this.y,i)}moveToward(t,e,i){const s=t-this.x,r=e-this.y;if(s<0&&r<0&&this.move(-1,-1,i))return!0;if(s<0&&r>0&&this.move(-1,1,i))return!0;if(s>0&&r<0&&this.move(1,-1,i))return!0;if(s>0&&r>0&&this.move(1,1,i))return!0;if(Math.abs(s)>Math.abs(r)){if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0;if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0}else{if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0;if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0}return!1}attack(t,e){t!==this&&(this.onAttack(t,e),t.takeDamage(this,e),this.ap--,this.game.animations.push(new r.BumpAnimation(this,t)),this.game.blocked=!0)}takeHeal(t){this.hp=Math.min(this.hp+t,this.maxHp),this.addFloatingText(t.toString(),a.Colors.LIGHT_GREEN)}takeDamage(t,e){this.hp<=0||(this.hp-=e,this.addFloatingText(e.toString(),a.Colors.RED),this.hp<=0&&(this.hp=0,this.onDeath(t),this.game.entities.remove(this)))}pickup(t){t.onPickup(this),this.inventory.add(t),this.game.entities.remove(t)}use(t){return t.onUse(this)}cast(t,e,i){t.targetType===s.TargetType.SELF||e?t.cast(this,e)&&i&&i():this.game.startTargeting(t,i)}addFloatingText(t,e){this.game.animations.push(new n.FloatingTextAnimation(this,t,e))}onAttack(t,e){}onDeath(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4),r=12;e.BumpAnimation=class extends s.Animation{constructor(t,e){super(r,!0),this.entity=t,this.dx=e.x-t.x,this.dy=e.y-t.y}update(){const t=r-this.countdown;t>=0&&t<4&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),t>=4&&t<8&&(this.entity.offset.x-=this.dx,this.entity.offset.y-=this.dy),super.update()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(4),n=40;e.FloatingTextAnimation=class extends r.Animation{constructor(t,e,i){super(n,!1),this.actor=t,this.str=e,this.color=i||s.Colors.WHITE}draw(t){const e=n-this.countdown,i=this.actor.pixelX+(this.actor.sprite.width/2|0)-t.viewport.x,s=this.actor.pixelY-3-t.viewport.y-Math.min(4,Math.floor(e/2));t.app.drawCenteredString(this.str,i,s,this.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);e.SlideAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.entity=t,this.dx=e,this.dy=i}update(){this.countdown--,this.countdown>=0&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),0===this.countdown&&(this.entity.offset.x=0,this.entity.offset.y=0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=256;e.Keyboard=class{constructor(t){this.keys=new Array(r);for(let t=0;t<r;t++)this.keys[t]=new s.Input;t.addEventListener(\"keydown\",t=>this.setKey(t,!0)),t.addEventListener(\"keyup\",t=>this.setKey(t,!1))}setKey(t,e){t.stopPropagation(),t.preventDefault();const i=t.keyCode;i>=0&&i<r&&(this.keys[i].down=e)}update(){for(let t=0;t<r;t++)this.keys[t].down?this.keys[t].downCount++:this.keys[t].downCount=0}getKey(t){return t>=0&&t<r?this.keys[t]:null}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(17),r=i(0),n=i(1),o=4,h=30;e.Mouse=class extends s.Input{constructor(t){super(),this.app=t,this.prev=new n.Vec2(0,0),this.start=new n.Vec2(0,0),this.x=0,this.y=0,this.dx=0,this.dy=0,this.dragDistance=0,this.longPress=!1,this.wheelDelta=0,this.lastWheelDelta=0;const e=t.canvas,i=this.handleEvent.bind(this);e.addEventListener(\"mousedown\",i),e.addEventListener(\"mouseup\",i),e.addEventListener(\"mousemove\",i),e.addEventListener(\"contextmenu\",i);const s=this.handleTouchEvent.bind(this);e.addEventListener(\"touchstart\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s),e.addEventListener(\"touchmove\",s);const r=this.handleMouseWheel.bind(this);e.addEventListener(\"mousewheel\",r)}handleTouchEvent(t){if(t.stopPropagation(),t.preventDefault(),t.touches.length>0){const e=t.touches[0];this.updatePosition(e.clientX,e.clientY)}\"touchstart\"===t.type&&(this.down=!0,this.prev.x=this.x,this.prev.y=this.y,this.start.x=this.x,this.start.y=this.y,this.dx=0,this.dy=0,this.dragDistance=0),\"touchend\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}handleEvent(t){t.stopPropagation(),t.preventDefault(),this.updatePosition(t.clientX,t.clientY),\"mousedown\"===t.type&&(this.down=!0,this.start.x=this.x,this.start.y=this.y,this.dragDistance=0,this.app.canvas.focus()),\"mouseup\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}updatePosition(t,e){let i=this.app.canvas.getBoundingClientRect();const s=this.app.size.width/this.app.size.height,n=i.width/i.height;if(n-s>.01){const t=s*i.height,e=i.width-t;i=new r.Rect(Math.floor(e/2),0,t,i.height)}if(n-s<-.01){const t=i.width/s,e=i.height-t;i=new r.Rect(0,Math.floor(e/2),i.width,t)}this.x=this.app.size.width*(t-i.left)/i.width|0,this.y=this.app.size.height*(e-i.top)/i.height|0}handleMouseWheel(t){t.stopPropagation(),t.preventDefault();const e=t;return this.lastWheelDelta=Math.max(-1,Math.min(1,e.deltaY)),!1}update(){super.update(),this.dx=this.x-this.prev.x,this.dy=this.y-this.prev.y,this.prev.x=this.x,this.prev.y=this.y,this.wheelDelta=this.lastWheelDelta,this.lastWheelDelta=0,this.down&&(this.dragDistance+=Math.abs(this.dx)+Math.abs(this.dy))}isClicked(){return 1===this.upCount&&this.dragDistance<o&&!this.longPress}isDragging(){return this.down&&this.dragDistance>o}isLongPress(){return this.downCount===h&&!this.isDragging()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function s(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}e.ExtendedTexture=class extends WebGLTexture{constructor(){super(),this.loaded=!1,this.width=0,this.height=0}},e.initShaderProgram=function(t,e,i){const r=s(t,t.VERTEX_SHADER,e),n=s(t,t.FRAGMENT_SHADER,i),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),o},e.loadShader=s,e.createTexture=function(t,e){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.RGBA,r=t.RGBA,n=t.UNSIGNED_BYTE,o=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,0,s,1,1,0,r,n,o);const h=new Image;return h.onload=(()=>{t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,s,r,n,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.generateMipmap(t.TEXTURE_2D),i.loaded=!0,i.width=h.width,i.height=h.height}),h.src=e,i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(26);e.AppState=class{constructor(t){this.app=t,this.gui=new s.GUI(t)}update(){this.gui.handleInput(),this.gui.draw()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(27),r=i(11),n=i(3),o=i(8),h=i(0),a=i(1),c=i(9);e.GUI=class{constructor(t){this.app=t,this.renderer=new s.DialogRenderer(new h.Rect(0,0,1,1)),this.rootPanel=new n.Panel(t.size),this.rootPanel.gui=this}add(t){this.rootPanel.add(t)}remove(t){this.rootPanel.remove(t)}getPanelAt(t){return this.rootPanel.getPanelAt(t)}handleInput(){return this.dragElement&&this.dragOffset?(this.updateDragging(),!0):this.rootPanel.handleInput()}draw(){this.rootPanel.drawContents(),this.dragElement&&this.dragElement.drawContents()}startDragging(t){const e=this.app.mouse;this.dragElement=t,this.dragOffset=new a.Vec2(e.start.x-t.rect.x,e.start.y-t.rect.y)}updateDragging(){const t=this.app.mouse,e=this.dragElement,i=this.dragOffset;if(t.down)e.rect.x=t.x-i.x,e.rect.y=t.y-i.y;else{const s=this.rootPanel.getPanelAt(t);s&&s.onDrop(e)?(e.rect.x=s.rect.x,e.rect.y=s.rect.y,e.move(s)):e instanceof c.ItemButton&&s===this.rootPanel?e.removeAll():e instanceof r.ItemShortcutButton&&s===this.rootPanel?e.parent&&e.parent.remove(e):e instanceof o.TalentButton&&e.shortcut&&s===this.rootPanel?e.parent&&e.parent.remove(e):(e.rect.x=t.start.x-i.x,e.rect.y=t.start.y-i.y),this.dragElement=void 0,this.dragOffset=void 0}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.DialogRenderer=class{constructor(t,e){this.baseRect=t,this.closeButtonRect=e}draw(t,e){const i=this.baseRect.x,s=this.baseRect.y,r=this.baseRect.width/3|0,n=this.baseRect.height/3|0,o=i+r,h=s+n,a=i+2*r,c=s+2*r,l=e.rect.x,d=e.rect.y,u=e.rect.width-2*r,p=e.rect.height-2*n,g=l+r,f=d+n,y=g+u,m=f+p;if(t.drawImage(l,d,i,s,r,n,void 0,r,n),t.drawImage(g,d,o,s,r,n,void 0,u,n),t.drawImage(y,d,a,s,r,n,void 0,r,n),t.drawImage(l,f,i,h,r,n,void 0,r,p),t.drawImage(g,f,o,h,r,n,void 0,u,p),t.drawImage(y,f,a,h,r,n,void 0,r,p),t.drawImage(l,m,i,c,r,n,void 0,r,n),t.drawImage(g,m,o,c,r,n,void 0,u,n),t.drawImage(y,m,a,c,r,n,void 0,r,n),this.closeButtonRect&&e.closeButton){const i=this.closeButtonRect.width,s=this.closeButtonRect.height,r=e.rect.x2-i,n=e.rect.y,o=this.closeButtonRect.x,h=this.closeButtonRect.y;t.drawImage(r,n,o,h,i,s)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=[-1,0,1,-1,1,-1,0,1],r=[-1,-1,-1,0,0,1,1,1],n=[1.5,1,1.5,1,1,1.5,1,1.5];function o(t){let e=null,i=-1,s=1/0;for(let r=0;r<t.length;r++){const n=t[r];n.g!==1/0&&n.g+n.h<s&&(e=n,i=r,s=n.g+n.h)}return t.splice(i,1),e}function h(t){const e=[];let i=t;for(;i;)e.push(i),i=i.prev;return e.reverse(),e}e.computePath=function(t,e,i,a){!function(t,e){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const r=t.grid[i][s];r.g=1/0,r.h=Math.min(Math.abs(s-e.x),Math.abs(i-e.y)),r.prev=null}}(t,i);const c=t.grid[e.y][e.x];c.g=0;const l=[c];for(;l.length>0;){const e=o(l);if(e.x===i.x&&e.y===i.y)return h(e);for(let o=0;o<s.length;o++){const h=e.x+s[o],c=e.y+r[o];if(h>=0&&h<t.width&&c>=0&&c<t.height){const s=t.grid[c][h],r=e.g+n[o];r<s.g&&r<=a&&(h===i.x&&c===i.y||!t.grid[c][h].blocked)&&(s.g=r,s.prev=e,l.push(s))}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.RNG=class{constructor(t){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=t||1}setSeed(t){this.state=t}nextInt(){return this.state=(this.a*this.state+this.c)%this.m,this.state}nextFloat(){return this.nextInt()/(this.m-1)}nextRange(t,e){const i=e-t;return t+(this.nextInt()/this.m*i|0)}chooseIndex(t){const e=t.reduce((t,e)=>t+e),i=this.nextRange(1,e+1);let s=0;for(let e=0;e<t.length;e++)if(i<=(s+=t[e]))return e;return t.length-1}chooseKey(t){const e=[],i=[];for(const s in t)t.hasOwnProperty(s)&&(e.push(s),i.push(t[s]));return e[this.chooseIndex(i)]}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=30;class n extends s.Rect{constructor(t,e,i,s,n,o,h,a){super(t,e,i,s),this.frames=n||1,this.loop=!!o,this.ticksPerFrame=h||r,this.colorOverride=a,this.animIndex=0,this.animDelay=0}draw(t,e,i,s){let r=this.animIndex;this.loop&&(r=(n.globalAnimIndex/this.ticksPerFrame|0)%this.frames);const o=this.x+r*this.width,h=this.y,a=s||this.colorOverride;t.drawImage(e,i,o,h,this.width,this.height,a),this.animDelay++,this.animDelay>this.ticksPerFrame&&(this.animDelay=0,this.animIndex++,this.animIndex>=this.frames&&(this.loop?this.animIndex=0:this.animIndex=this.frames-1))}clone(){return new n(this.x,this.y,this.width,this.height,this.frames,this.loop,this.ticksPerFrame,this.colorOverride)}static updateGlobalAnimations(){n.globalAnimIndex++}}n.globalAnimIndex=0,e.Sprite=n},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Message=class{constructor(t,e){this.text=t,this.color=e}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(13),r=i(9),n=i(11),o=i(8);e.ShortcutButtonSlot=class extends s.ButtonSlot{onDrop(t){if(this.children.length>0)return!1;if(t instanceof r.ItemButton){const e=t,i=e.containerItems,s=e.stackItems.get(0);return this.add(new n.ItemShortcutButton(this.rect.clone(),i,s)),!1}return t instanceof o.TalentButton?!!t.shortcut||(this.add(new o.TalentButton(this.rect.clone(),t.talent,!0)),!1):!!(t instanceof n.ItemShortcutButton||t instanceof o.TalentButton&&t.shortcut)}}},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(14)),s(i(18)),s(i(16)),s(i(35)),s(i(36)),s(i(4)),s(i(19)),s(i(37)),s(i(38)),s(i(20)),s(i(39)),s(i(21)),s(i(40)),s(i(25)),s(i(7)),s(i(10)),s(i(5)),s(i(15)),s(i(43)),s(i(26)),s(i(12)),s(i(13)),s(i(45)),s(i(6)),s(i(27)),s(i(47)),s(i(9)),s(i(48)),s(i(11)),s(i(50)),s(i(51)),s(i(3)),s(i(52)),s(i(53)),s(i(32)),s(i(8)),s(i(54)),s(i(17)),s(i(55)),s(i(22)),s(i(2)),s(i(31)),s(i(23)),s(i(28)),s(i(0)),s(i(29)),s(i(30)),s(i(56)),s(i(57)),s(i(1))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AnimationPromise=class{constructor(){this.handlers=[]}then(t){return this.handlers.push(t),this}resolve(){for(let t=0;t<this.handlers.length;t++)this.handlers[t]()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16),r=1;e.BasicMonster=class extends s.AI{constructor(t,e){super(t),this.damageFunc=e}doAi(){const t=this.actor,e=t.game.player;if(e)if(t.distanceTo(e)>1.5)t.moveToward(e.x,e.y);else if(e.hp>0){const i=this.damageFunc?this.damageFunc(t,e):r;t.attack(e,i)}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(16);e.ConfusedMonster=class extends s.AI{constructor(t){super(t),this.numTurns=10,this.oldAi=t.ai}doAi(){if(this.numTurns>0){const t=this.actor.game.rng;this.actor.move(t.nextRange(-1,2),t.nextRange(-1,2)),this.numTurns--}else this.actor.ai=this.oldAi}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(10),r=i(4);e.FadeInAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(10),r=i(4);e.FadeOutAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=1-this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),n=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,n,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(4);e.ProjectileAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.sprite=t,this.position=e,this.velocity=i,this.duration=s}update(){super.update(),this.position.add(this.velocity)}draw(t){const e=this.position.x-t.viewport.x,i=this.position.y-t.viewport.y;this.sprite.draw(t.app,e,i)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(41),r=i(22),n=i(23),o=i(0),h=i(42),a=i(1),c=i(2),l=400,d=224,u=!1,p=2,g=[c.Keys.VK_NUMPAD7],f=[c.Keys.VK_NUMPAD9],y=[c.Keys.VK_NUMPAD1],m=[c.Keys.VK_NUMPAD3],x=[c.Keys.VK_UP,c.Keys.VK_NUMPAD8,c.Keys.VK_K,c.Keys.VK_W,c.Keys.VK_Z],w=[c.Keys.VK_LEFT,c.Keys.VK_NUMPAD4,c.Keys.VK_H,c.Keys.VK_A,c.Keys.VK_Q],_=[c.Keys.VK_DOWN,c.Keys.VK_NUMPAD2,c.Keys.VK_J,c.Keys.VK_S],v=[c.Keys.VK_RIGHT,c.Keys.VK_NUMPAD6,c.Keys.VK_L,c.Keys.VK_D],A=[c.Keys.VK_SPACE,c.Keys.VK_NUMPAD5];e.App=class{constructor(t){const e=t.canvas;if(!e)throw new Error(\"Null or missing canvas element\");const i=e.getContext(\"webgl\",{alpha:!1,antialias:!1});if(!i)throw new Error(\"Could not get WebGL context\");this.canvas=e,this.gl=i,this.size=t.size||new o.Rect(0,0,l,d),this.font=t.font||s.FONT_04B03,this.fillWindow=t.fillWindow||u,this.scaleFactor=t.scaleFactor||p,this.center=new a.Vec2(this.size.width/2|0,this.size.height/2|0),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),e.width=this.size.width,e.height=this.size.height,e.style.outline=\"none\",e.tabIndex=0,e.focus(),this.mobile=this.isMobile(),this.renderSet=new h.RenderSet(i,t.imageUrl,this.font),this.keyboard=new r.Keyboard(e),this.mouse=new n.Mouse(this),this.fillWindow&&(window.addEventListener(\"resize\",this.handleResizeEvent.bind(this),!1),this.handleResizeEvent()),this.renderLoop()}handleResizeEvent(){const t=window.innerWidth,e=window.innerHeight,i=this.isMobile(),s=i?320:400,r=i?224:300;this.scaleFactor=1,this.scaleFactor=t>e?Math.max(1,Math.min(Math.round(t/s),Math.round(e/r))):Math.max(1,Math.min(Math.round(t/r),Math.round(e/s))),this.size.width=Math.round(t/this.scaleFactor),this.size.height=Math.round(e/this.scaleFactor),this.center.x=this.size.width/2|0,this.center.y=this.size.height/2|0,this.canvas.width=this.size.width,this.canvas.height=this.size.height,this.canvas.style.left=\"0\",this.canvas.style.top=\"0\",this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"}isMobile(){return!!navigator.userAgent.match(/Android|iPhone|iPod|IEMobile|WPDesktop|Opera Mini/i)}renderLoop(){this.keyboard.update(),this.mouse.update(),this.resetGl(),this.state&&this.state.update(),this.renderSet.flush(this.size.width,this.size.height),requestAnimationFrame(this.renderLoop.bind(this))}resetGl(){const t=this.gl;t.viewport(0,0,this.size.width,this.size.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.renderSet.positionArrayIndex=0,this.renderSet.texcoordArrayIndex=0,this.renderSet.colorArrayIndex=0}drawImage(t,e,i,s,r,n,o,h,a){this.renderSet.drawImage(t,e,i,s,r,n,o,h,a)}drawString(t,e,i,s){this.renderSet.drawString(t,e,i,s)}drawCenteredString(t,e,i,s){this.renderSet.drawCenteredString(t,e,i,s)}drawRightString(t,e,i,s){this.renderSet.drawRightString(t,e,i,s)}isKeyDown(t){const e=this.keyboard.getKey(t);return e&&e.down}isKeyPressed(t){const e=this.keyboard.getKey(t),i=e?e.downCount:0;return 1===i||i>30}isDownLeftKeyPressed(){return this.isKeyArrayPressed(y)}isDownKeyPressed(){return this.isKeyArrayPressed(_)}isDownRightKeyPressed(){return this.isKeyArrayPressed(m)}isLeftKeyPressed(){return this.isKeyArrayPressed(w)}isWaitKeyPressed(){return this.isKeyArrayPressed(A)}isRightKeyPressed(){return this.isKeyArrayPressed(v)}isUpLeftKeyPressed(){return this.isKeyArrayPressed(g)}isUpKeyPressed(){return this.isKeyArrayPressed(x)}isUpRightKeyPressed(){return this.isKeyArrayPressed(f)}isKeyArrayPressed(t){for(let e=0;e<t.length;e++)if(this.isKeyPressed(t[e]))return!0;return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=32,r=126;class n{isInRange(t){return t>=s&&t<=r}getStringWidth(t){let e=0;for(let i=0;i<t.length;i++)e+=this.getWidth(t.charCodeAt(i));return e}}e.Font=n;e.MonospacedFont=class extends n{constructor(t){super(),this.glyphSize=t}getOffset(t){return(t-s)*this.glyphSize.width}getWidth(){return this.glyphSize.width}getHeight(){return this.glyphSize.height}};class o extends n{constructor(t,e){super(),this.height=t,this.widths=e,this.offsets=[0];let i=0;for(let t=0;t<this.widths.length;t++)i+=this.widths[t],this.offsets.push(i)}getOffset(t){return this.offsets[t-s]}getWidth(t){return this.widths[t-s]}getHeight(){return this.height}}e.ProportionalFont=o,e.FONT_04B03=new o(8,[4,2,4,6,5,6,6,2,3,3,4,4,3,4,2,6,5,3,5,5,5,5,5,5,5,5,2,2,4,4,4,5,6,5,5,4,5,4,4,5,5,4,5,5,4,6,5,5,5,5,5,5,4,5,5,6,5,5,4,3,6,3,4,5,3,5,5,4,5,5,4,5,5,2,3,5,2,6,5,5,5,5,4,5,4,5,5,6,4,5,5,4,2,4,5,0])},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=65536,n=\"uniform vec2 u_viewportSize;attribute vec2 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;void main() {vec2 zeroToOne = a_position / u_viewportSize;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;v_color = a_color;}\",o=\"precision highp float;uniform sampler2D u_image;varying vec2 v_texCoord;varying vec4 v_color;void main() {gl_FragColor = texture2D(u_image, v_texCoord);if (gl_FragColor.a < 0.1) discard;if (v_color.a != 0.0) gl_FragColor = v_color;}\";e.RenderSet=class{constructor(t,e,i){this.gl=t,this.font=i;const h=s.initShaderProgram(t,n,o);this.program=h,this.viewportSizeLocation=t.getUniformLocation(h,\"u_viewportSize\"),this.positionLocation=t.getAttribLocation(h,\"a_position\"),this.texcoordLocation=t.getAttribLocation(h,\"a_texCoord\"),this.colorLocation=t.getAttribLocation(h,\"a_color\"),this.positionBuffer=t.createBuffer(),this.texcoordBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.spriteTexture=s.createTexture(t,e),this.positionArray=new Float32Array(r),this.positionArrayIndex=0,this.texcoordArray=new Float32Array(r),this.texcoordArrayIndex=0,this.colorUint8Array=new Uint8Array(r),this.colorDataView=new DataView(this.colorUint8Array.buffer),this.colorArrayIndex=0}drawCenteredString(t,e,i,s){const r=e-this.font.getStringWidth(t)/2|0;this.drawString(t,r,i,s)}drawRightString(t,e,i,s){const r=e-this.font.getStringWidth(t);this.drawString(t,r,i,s)}drawString(t,e,i,s){const r=t.split(\"\\n\"),n=this.font.getHeight();let o=i;for(let t=0;t<r.length;t++){let i=e;for(let e=0;e<r[t].length;e++){const h=r[t].charCodeAt(e);if(this.font.isInRange(h)){const t=this.font.getOffset(h),e=this.font.getWidth(h);this.drawImage(i,o,t,0,e,n,s),i+=e}}o+=n}}drawChar(t,e,i,s){if(this.font.isInRange(t)){const r=this.font.getOffset(t),n=this.font.getWidth(t),o=this.font.getHeight();this.drawImage(e,i,r,0,n,o,s)}}drawImage(t,e,i,s,r,n,o,h,a){const c=this.spriteTexture;if(!c.loaded)return;const l=void 0!==h?h:r,d=void 0!==a?a:n,u=t+Math.abs(l),p=e+d,g=i/c.width,f=s/c.height,y=(i+r)/c.width,m=(s+n)/c.height,x=o||0;this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=m,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=m,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=m;for(let t=0;t<6;t++)this.colorDataView.setUint32(this.colorArrayIndex,x,!1),this.colorArrayIndex+=4}flush(t,e){if(!this.spriteTexture.loaded||0===this.positionArrayIndex)return;const i=this.gl;i.useProgram(this.program),i.uniform2f(this.viewportSizeLocation,t,e),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.spriteTexture);{i.enableVertexAttribArray(this.positionLocation),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,this.positionArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.positionLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.texcoordLocation),i.bindBuffer(i.ARRAY_BUFFER,this.texcoordBuffer),i.bufferData(i.ARRAY_BUFFER,this.texcoordArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,n=0;i.vertexAttribPointer(this.texcoordLocation,t,e,s,r,n)}{i.enableVertexAttribArray(this.colorLocation),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),i.bufferData(i.ARRAY_BUFFER,this.colorUint8Array,i.DYNAMIC_DRAW);const t=4,e=i.UNSIGNED_BYTE,s=!0,r=0,n=0;i.vertexAttribPointer(this.colorLocation,t,e,s,r,n)}const s=i.TRIANGLES,r=this.positionArrayIndex/2;i.drawArrays(s,0,r)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14),r=i(18),n=i(25),o=i(5),h=i(44),a=i(2),c=i(28),l=i(0),d=i(29),u=i(30),p=i(1),g=i(7),f=16,y=16,m=13;e.Game=class extends n.AppState{constructor(t,e){super(t),this.tileSize=e.tileSize||new l.Rect(0,0,f,y),this.viewport=new l.Rect(0,0,t.size.width,t.size.height),this.viewportFocus=new p.Vec2(0,0),this.animations=[],this.entities=new g.ArrayList,this.turnIndex=0,this.blocked=!1,this.cursor=new p.Vec2(-1,-1),this.tooltip=new h.TooltipDialog,this.rng=new d.RNG,this.pathIndex=0,this.horizontalViewDistance=e.viewDistance||m,this.verticalViewDistance=e.viewDistance||m,this.zoom=1,e.horizontalViewDistance&&(this.horizontalViewDistance=e.horizontalViewDistance),e.verticalViewDistance&&(this.verticalViewDistance=e.verticalViewDistance)}log(t,e){this.messageLog&&this.messageLog.add(t,e)}addAnimation(t){return this.animations.push(t),t.promise}update(){u.Sprite.updateGlobalAnimations(),this.updateTooltip(),this.updateZoom(),this.gui.handleInput()||(this.updateAnimations(),this.updateEntities(),this.onUpdate&&this.onUpdate(),this.updateViewport()),this.drawTileMap(),1===this.zoom&&(this.drawTargeting(),this.drawEntities(),this.drawAnimations()),this.gui.draw()}updateTooltip(){if(this.gui.dragElement)return void(this.tooltip.visible=!1);this.tooltip.visible||(this.tooltipElement=void 0);const t=this.app.mouse,e=t.isLongPress();if(!t.down&&(0!==t.dx||0!==t.dy)||e){const i=this.gui.getPanelAt(t);this.tooltipElement!==i&&(this.tooltipElement=i,i&&(i.updateTooltip(this.tooltip),e&&window.navigator.vibrate(100))),this.tooltip.visible&&(this.tooltip.gui||this.gui.add(this.tooltip),this.tooltip.showAt(t.x,t.y),this.tooltip.modal=this.app.mobile)}}updateZoom(){if(0!==this.app.mouse.wheelDelta){const t=this.viewport.getCenter();this.viewportFocus.x=t.x,this.viewportFocus.y=t.y,this.app.mouse.wheelDelta>0?this.zoom*=.5:this.zoom*=2,this.viewport.width=this.zoom*this.app.size.width|0,this.viewport.height=this.zoom*this.app.size.height|0,this.viewport.x=t.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=t.y-(this.app.size.height/this.zoom/2|0)}}updateAnimations(){this.blocked=!1;for(let t=0;t<this.animations.length;t++){const e=this.animations[t];e.update(),e.blocking&&(this.blocked=!0)}for(let t=this.animations.length-1;t>=0;t--)this.animations[t].isDone()&&(this.animations[t].promise.resolve(),this.animations.splice(t,1))}updateEntities(){if(this.player&&this.player.hp<=0)return;let t=0;for(;0!==this.entities.length&&(this.turnIndex>=this.entities.length&&(this.turnIndex=0),!(t>2*this.entities.length));){const e=this.entities.get(this.turnIndex);if(e instanceof r.Actor){if(e.ap>0){if(e===this.player){this.blocked||this.handlePlayerInput();break}this.doAi(e)}e.ap<=0&&(e.ap=0,this.nextTurn())}else this.nextTurn();t++}}resetViewport(){this.player&&(this.viewportFocus.x=this.player.centerPixelX,this.viewportFocus.y=this.player.centerPixelY,this.viewport.x=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0))}updateViewport(){this.viewport.width=this.app.size.width/this.zoom,this.viewport.height=this.app.size.height/this.zoom;const t=this.app.mouse;if(t.isDragging())this.viewport.x-=t.dx/this.zoom,this.viewport.y-=t.dy/this.zoom,this.viewportFocus.x=this.viewport.x+(this.viewport.width/2|0),this.viewportFocus.y=this.viewport.y+(this.viewport.height/2|0);else{const t=.05,e=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0);if(e!==this.viewport.x){let i=t*e-t*this.viewport.x;i=i<0?Math.floor(i):Math.ceil(i),this.viewport.x+=i}const i=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0);if(i!==this.viewport.y){let e=t*i-t*this.viewport.y;e=e<0?Math.floor(e):Math.ceil(e),this.viewport.y+=e}}}drawTileMap(){if(this.app.renderSet.spriteTexture.loaded&&this.tileMap){const t=(this.viewport.x/this.zoom|0)*this.zoom,e=(this.viewport.y/this.zoom|0)*this.zoom,i=(u.Sprite.globalAnimIndex/30|0)%2;this.tileMap.draw(t,e,this.viewport.width,this.viewport.height,i)}}drawTargeting(){if(this.isTargeting()&&this.targetSprite){const t=this.cursor.x*this.tileSize.width-this.viewport.x,e=this.cursor.y*this.tileSize.height-this.viewport.y;this.targetSprite.draw(this.app,t,e)}}drawEntities(){for(let t=0;t<3;t++)for(let e=0;e<this.entities.length;e++){const i=this.entities.get(e);i.zIndex!==t||this.tileMap&&!this.tileMap.isVisible(i.x,i.y)||i.draw()}}drawAnimations(){let t=0;for(let e=0;e<this.animations.length;e++){const i=this.animations[e];0!==t&&i.blocking||i.draw(this),i.blocking&&t++}}isTargeting(){return!!this.targetAbility}startTargeting(t,e){this.targetAbility=t,this.targetCallback=e,this.player&&(this.cursor.x=this.player.x,this.cursor.y=this.player.y)}endTargeting(){if(this.player&&this.targetAbility){const t=this.targetAbility.targetType;let e=null;t===s.TargetType.ENTITY?e=this.getActorAt(this.cursor.x,this.cursor.y):t===s.TargetType.TILE&&this.tileMap&&(e=this.tileMap.getCell(this.cursor.x,this.cursor.y)),e&&this.targetAbility.cast(this.player,e)&&this.targetCallback&&this.targetCallback()}this.cancelTargeting()}cancelTargeting(){this.targetAbility=void 0,this.targetCallback=void 0}handlePlayerInput(){if(!this.player||this.blocked)return;if(this.player.ai)return this.player.ai.doAi(),void(this.player.ap=0);const t=this.app.mouse;if((t.down||0!==t.dx||0!==t.dy)&&(this.cursor.x=(this.viewport.x+t.x)/this.tileSize.width|0,this.cursor.y=(this.viewport.y+t.y)/this.tileSize.height|0),this.app.isKeyDown(a.Keys.VK_SHIFT)){let t=0,e=0;return this.app.isDownLeftKeyPressed()&&(t=-1,e=1),this.app.isDownKeyPressed()&&(e=1),this.app.isDownRightKeyPressed()&&(t=1,e=1),this.app.isLeftKeyPressed()&&(t=-1),this.app.isRightKeyPressed()&&(t=1),this.app.isUpLeftKeyPressed()&&(t=-1,e=-1),this.app.isUpKeyPressed()&&(e=-1),this.app.isUpRightKeyPressed()&&(t=1,e=-1),this.viewportFocus.x-=t*this.tileSize.height,void(this.viewportFocus.y-=e*this.tileSize.height)}if(this.isTargeting())return(this.app.isKeyPressed(a.Keys.VK_ENTER)||this.app.mouse.isClicked())&&this.endTargeting(),this.app.isKeyPressed(a.Keys.VK_ESCAPE)&&this.cancelTargeting(),this.app.isDownLeftKeyPressed()&&(this.cursor.x--,this.cursor.y++),this.app.isDownKeyPressed()&&this.cursor.y++,this.app.isDownRightKeyPressed()&&(this.cursor.x++,this.cursor.y++),this.app.isLeftKeyPressed()&&this.cursor.x--,this.app.isRightKeyPressed()&&this.cursor.x++,this.app.isUpLeftKeyPressed()&&(this.cursor.x--,this.cursor.y--),this.app.isUpKeyPressed()&&this.cursor.y--,void(this.app.isUpRightKeyPressed()&&(this.cursor.x++,this.cursor.y--));if(t.isClicked()){const e=(this.viewport.x+t.x)/this.tileSize.width|0,i=(this.viewport.y+t.y)/this.tileSize.height|0;if(this.tileMap){const t=this.tileMap.getCell(e,i);t&&t!==this.targetTile&&(this.targetTile=t,this.path=c.computePath(this.tileMap,this.player,this.targetTile,100),this.pathIndex=0)}}let e=null;if(this.path){for(e=this.path[this.pathIndex];e&&e.x===this.player.x&&e.y===this.player.y;)this.pathIndex++,e=this.pathIndex<this.path.length?this.path[this.pathIndex]:null;e||this.stopAutoWalk()}if(e){const t=e.x-this.player.x,i=e.y-this.player.y;this.tryMoveOrAttack(t,i)||this.stopAutoWalk()}else this.app.isDownLeftKeyPressed()&&this.tryMoveOrAttack(-1,1)||this.app.isDownKeyPressed()&&this.tryMoveOrAttack(0,1)||this.app.isDownRightKeyPressed()&&this.tryMoveOrAttack(1,1)||this.app.isLeftKeyPressed()&&this.tryMoveOrAttack(-1,0)||this.app.isRightKeyPressed()&&this.tryMoveOrAttack(1,0)||this.app.isUpLeftKeyPressed()&&this.tryMoveOrAttack(-1,-1)||this.app.isUpKeyPressed()&&this.tryMoveOrAttack(0,-1)||this.app.isUpRightKeyPressed()&&this.tryMoveOrAttack(1,-1)||this.app.isWaitKeyPressed()&&(this.player.ap=0)}tryMoveOrAttack(t,e){const i=this.player;if(!i)return!1;const s=i.x+t,n=i.y+e;for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);if(i!==e&&e.x===s&&e.y===n)return this.path&&e instanceof r.Actor?1===this.pathIndex?(this.stopAutoWalk(),e.onBump(i)):(this.stopAutoWalk(),!0):e.onBump(i)}return i.move(t,e)}recalculateViewportFocus(){const t=this.player;if(!t)return;const e=this.tileMap;if(!e)return;const i=this.tileSize.width,s=this.tileSize.height;let n=t.x*i,o=t.y*s,h=(t.x+1)*i,a=(t.y+1)*s;for(let r=t.y-this.verticalViewDistance;r<=t.y+this.verticalViewDistance;r++)for(let c=t.x-this.horizontalViewDistance;c<=t.x+this.horizontalViewDistance;c++)e.isVisible(c,r)&&(n=Math.min(n,c*i),o=Math.min(o,r*s),h=Math.max(h,(c+1)*i),a=Math.max(a,(r+1)*s));let c=t.x*i,l=t.y*s,d=c+i,u=l+s;if(this.path)for(let t=this.pathIndex;t<this.path.length;t++){const e=this.path[t];c=Math.min(c,e.x*i),l=Math.min(l,e.y*s),d=Math.max(d,(e.x+1)*i),u=Math.max(u,(e.y+1)*s)}else for(let t=0;t<this.entities.length;t++){const n=this.entities.get(t);n instanceof r.Actor&&e.isVisible(n.x,n.y)&&(c=Math.min(c,n.x*i),l=Math.min(l,n.y*s),d=Math.max(d,(n.x+1)*i),u=Math.max(u,(n.y+1)*s))}h-n<=this.viewport.width?this.viewportFocus.x=Math.round((n+h)/2):this.viewportFocus.x=Math.round((c+d)/2),a-o<=this.viewport.height?this.viewportFocus.y=Math.round((o+a)/2):this.viewportFocus.y=Math.round((l+u)/2)}doAi(t){t.ai?((t.visibleDuration>0||t.ai.alwaysActive)&&t.ai.doAi(),t.ap=0):t.ap=0}nextTurn(){if(this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.endTurn(),this.player===t&&this.recomputeFov()}if(this.turnIndex++,this.turnIndex>=this.entities.length&&(this.turnIndex=0),this.turnIndex>=0&&this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.startTurn(),this.player===t&&this.recalculateViewportFocus()}}stopAutoWalk(){this.path=void 0,this.targetTile=void 0}isBlocked(t,e){if(this.tileMap&&this.tileMap.isBlocked(t,e))return!0;for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.blocks&&s.x===t&&s.y===e)return!0}return!1}getEntityAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.x===t&&s.y===e)return s}}getActorAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s instanceof r.Actor&&s.x===t&&s.y===e)return s}}recomputeFov(){if(this.player&&this.tileMap){this.tileMap.computeFov(this.player.x,this.player.y,this.horizontalViewDistance,this.verticalViewDistance);for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);e!==this.player&&e instanceof r.Actor&&(this.tileMap.isVisible(e.x,e.y)?(e.seen||(e.seen=!0,this.player.addFloatingText(\"!\",o.Colors.WHITE),this.stopAutoWalk(),this.viewportFocus.x=(this.player.centerPixelX+e.centerPixelX)/2|0,this.viewportFocus.y=(this.player.centerPixelY+e.centerPixelY)/2|0),e.visibleDuration++):e.visibleDuration=-1)}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(0),r=i(6),n=100,o=5,h=2;e.TooltipDialog=class extends r.Dialog{constructor(){super(new s.Rect(0,0,n,10)),this.messages=[],this.visible=!1}showAt(t,e){if(!this.gui)return;const i=this.gui.app,s=i.font,r=s.getHeight()+h;this.rect.width=2*o,this.rect.height=2*o+this.messages.length*r;for(let t=0;t<this.messages.length;t++){const e=this.messages[t],i=2*o+s.getStringWidth(e.text);this.rect.width=Math.max(this.rect.width,i)}t+this.rect.width>=i.size.width?this.rect.x=t-this.rect.width-2:this.rect.x=t+2,e-this.rect.height<0?this.rect.y=e+2:this.rect.y=e-this.rect.height-2,this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.visible=!0}drawContents(){if(!this.gui)return;super.drawContents();const t=this.gui.app.font.getHeight()+h,e=this.rect.x+o;let i=this.rect.y+o;for(let s=0;s<this.messages.length;s++){const r=this.messages[s];this.gui.app.drawString(r.text,e,i,r.color),i+=t}}handleInput(){return!!this.gui&&(this.gui.app.mouse.isClicked()&&(this.visible=!1),!1)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(1),n=i(46),o=i(6),h=4;e.ComplexSelectDialog=class extends o.Dialog{constructor(t,e){super(t),this.options=e,this.selectedIndex=0,this.renderer=new n.DefaultSelectOptionRenderer}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect,e=new r.Vec2(t.x+h,t.y+h);for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex;this.renderer.drawOption(this.gui,e,i,s),e.y+=this.renderer.getHeight(i,s)}}handleInput(){if(!this.gui)return!1;const t=this.gui.app;for(let e=0;e<this.options.length;e++)t.isKeyPressed(s.Keys.VK_A+e)&&(this.selectedIndex=e,this.onSelect&&this.onSelect(this.options[e]));t.isKeyPressed(s.Keys.VK_ENTER)&&this.onSelect&&this.onSelect(this.options[this.selectedIndex]),t.isKeyPressed(s.Keys.VK_ESCAPE)&&this.onCancel&&this.onCancel(),t.isKeyPressed(s.Keys.VK_UP)&&this.selectedIndex--,t.isKeyPressed(s.Keys.VK_DOWN)&&this.selectedIndex++,this.selectedIndex<0&&(this.selectedIndex+=this.options.length),this.selectedIndex>=this.options.length&&(this.selectedIndex-=this.options.length);const e=t.mouse,i=this.rect;let r=i.y+h;if(1===e.upCount&&e.x>=i.x1&&e.x<i.x2)for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex,n=this.renderer.getHeight(i,s),o=r,h=r+n;e.y>=o&&e.y<h&&(s?this.onSelect&&this.onSelect(i):this.selectedIndex=t),r+=n}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.DefaultSelectOptionRenderer=class{getHeight(t,e){return 10}drawOption(t,e,i,r){const n=r?s.Colors.YELLOW:s.Colors.WHITE;t.app.drawString(i.name,e.x,e.y,n)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.ImagePanel=class extends s.Panel{constructor(t,e){super(e),this.srcRect=t}drawContents(){if(!this.gui)return;const t=this.srcRect,e=this.rect;this.gui.app.drawImage(e.x,e.y,t.x,t.y,e.width,e.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(6),o=i(9),h=i(49),a=4,c=2;e.ItemContainerDialog=class extends n.Dialog{constructor(t,e,i,n){super(t),this.messages=e,this.capacity=i,this.items=n,this.modal=!0,n.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new h.ItemContainerButtonSlot(new r.Rect(0,0,24,24),n,s.Keys.VK_A+t))}addItem(t){const e=this.getExistingButton(t);if(e)return void e.stackItems.add(t);const i=this.getNextFreeSlot();i&&i.add(new o.ItemButton(i.rect.clone(),this.items,t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof o.ItemButton&&s.stackItems.contains(t)&&(s.stackItems.remove(t),0===s.stackItems.length&&i.remove(s))}}getExistingButton(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e).button;if(i&&i instanceof o.ItemButton){const e=i.stackItems.get(0);if(t.isStackable(e))return i}}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(13),r=i(9);e.ItemContainerButtonSlot=class extends s.ButtonSlot{constructor(t,e,i){super(t,i),this.items=e}onDrop(t){return t instanceof r.ItemButton}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=i(31),n=i(3);e.MessageLog=class extends n.Panel{constructor(t,e){super(t),this.messages=[],this.maxItems=e||5}add(t,e){t instanceof n.Panel||(this.messages.push(new r.Message(t,e||s.Colors.WHITE)),this.messages.length>this.maxItems&&this.messages.splice(0,this.messages.length-this.maxItems))}drawContents(){if(!this.gui)return;const t=this.rect.x;let e=this.rect.y;e<0&&(e=this.gui.app.size.height+e+this.rect.height-10*this.messages.length);for(let i=0;i<this.messages.length;i++){const s=this.messages[i];this.gui.app.drawString(s.text,t,e,s.color),e+=10}}handleInput(){return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(3);e.MessagePanel=class extends s.Panel{constructor(t,e){super(t),this.message=e}drawContents(){if(!this.gui)return;const t=this.message,e=this.rect;this.gui.app.drawString(t.text,e.x,e.y,t.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(6),n=4,o=10;e.SelectDialog=class extends r.Dialog{constructor(t,e,i){super(t),this.options=e,this.callback=i}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect;for(let e=0;e<this.options.length;e++){const i=String.fromCharCode(65+e)+\" - \"+this.options[e].name;this.gui.app.drawString(i,t.x+n,t.y+n+e*o)}}handleInput(){if(!this.gui)return!1;for(let t=0;t<this.options.length;t++)if(this.gui.app.isKeyPressed(s.Keys.VK_A+t))return this.callback(this.options[t]),this.close(),!0;if(this.gui.app.isKeyPressed(s.Keys.VK_ESCAPE))return this.close(),!0;const t=this.gui.app.mouse,e=this.rect;if(t.isClicked()&&t.x>=e.x1&&t.x<e.x2){if(this.closeButton&&t.x>=e.x2-16&&t.y<e.y+16)return this.close(),!0;for(let i=0;i<this.options.length;i++){const s=e.y+n+i*o,r=s+o;t.y>=s&&t.y<r&&(this.callback(this.options[i]),this.close())}}return!0}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(11),o=i(3),h=i(32),a=i(8),c=2;e.ShortcutBar=class extends o.Panel{constructor(t,e,i){super(t),this.spacing=void 0!==i?i:c;for(let t=0;t<e;t++){const e=new h.ShortcutButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_1+t);this.add(e)}}addTalent(t,e){if(this.containsTalent(t))return;const i=this.getFreeSlot(!!e);i&&i.add(new a.TalentButton(i.rect.clone(),t,!0))}containsTalent(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof a.TalentButton&&i.button.talent===t)return!0}return!1}addItem(t,e,i){if(this.containsItem(e))return;const s=this.getFreeSlot(!!i);s&&s.add(new n.ItemShortcutButton(s.rect.clone(),t,e))}containsItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof n.ItemShortcutButton&&t.isStackable(i.button.shortcutItem))return!0}return!1}drawContents(){if(!this.gui)return;const t=this.gui.renderer.buttonSlotRect;if(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);i.rect.x=this.rect.x+e*(t.width+c),i.rect.y=this.rect.y,i.rect.width=t.width,i.rect.height=t.height}this.drawChildren()}}getFreeSlot(t){if(t)for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(!e.button)return e}else for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2),r=i(0),n=i(13),o=i(6),h=i(8),a=4,c=2;e.TalentsDialog=class extends o.Dialog{constructor(t,e,i,o){super(t),this.messages=e,this.capacity=i,this.talents=o,this.modal=!0,o.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new n.ButtonSlot(new r.Rect(0,0,24,24),s.Keys.VK_A+t))}addItem(t){const e=this.getNextFreeSlot();e&&e.add(new h.TalentButton(e.rect.clone(),t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof h.TalentButton&&s.talent===t&&i.remove(s)}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+a,s=t.y+a;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const n=this.children.get(r);n.rect.x=i,n.rect.y=s,n.rect.width=e.width,n.rect.height=e.height,(i+=e.width+c)>t.x2-e.width-a&&(i=t.x+a,s+=e.height+c)}this.rect.height=s+a-t.y,this.drawChildren()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(15);e.Item=class extends s.Entity{isStackable(t){return this.name===t.name}onBump(t){return t.pickup(this),t.moveToward(this.x,this.y),!0}onPickup(t){}onUse(t){return!1}onUpdateTooltip(){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Talent=class{constructor(t,e,i){this.actor=t,this.ability=e,this.rank=i||1,this.cooldown=0}use(t){return!(this.cooldown>0||(this.actor.cast(this.ability,t,()=>{this.cooldown=this.ability.cooldown}),0))}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(24),r=i(1),n=i(0),o=\"precision highp float;attribute vec2 position;attribute vec2 texture;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 viewOffset;uniform vec2 viewportSize;uniform vec2 tileSize;uniform vec2 mapSize;void main(void) {   pixelCoord = (texture * viewportSize) + viewOffset;   texCoord = pixelCoord / mapSize / tileSize;   gl_Position = vec4(position, 0.0, 1.0);}\",h=\"precision highp float;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 tileSize;uniform float animFrame;uniform sampler2D tiles;uniform sampler2D sprites;void main(void) {   vec4 tile = texture2D(tiles, texCoord);   if(tile.x == 1.0 && tile.y == 1.0) { discard; }   vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;   if(tile.z != 0.0) spriteOffset.x += animFrame * tileSize.x;   vec2 spriteCoord = mod(pixelCoord, tileSize);   gl_FragColor = texture2D(sprites, (spriteOffset + spriteCoord) / 1024.0);   if (gl_FragColor.a == 0.0) discard;   gl_FragColor.a *= tile.a;}\";e.getTileId=function(t,e){return 1+64*e+t};class a extends r.Vec2{constructor(t,e,i){super(t,e),this.tile=i,this.blocked=!0,this.blockedSight=!0,this.visible=!1,this.seen=!1,this.g=0,this.h=0,this.prev=null}}e.TileMapCell=a;class c{constructor(t,e){this.width=t,this.height=e,this.imageData=new Uint8Array(4*t*e),this.dimensions=new Float32Array([t,e]),this.texture=null,this.clear()}clear(){let t=0;for(;t<this.imageData.length;)this.imageData[t++]=255,this.imageData[t++]=255,this.imageData[t++]=0,this.imageData[t++]=0}setAlpha(t,e,i){this.imageData[4*(e*this.width+t)+3]=i}initGl(t){this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.imageData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}updateGl(t){t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.imageData)}}e.TileMapLayer=c;e.TileMap=class{constructor(t,e,i,r){this.gl=t,this.width=e,this.height=i,this.grid=new Array(i),this.layers=new Array(r),this.tileWidth=16,this.tileHeight=16,this.dirty=!0,this.originX=0,this.originY=0,this.visibleRect=new n.Rect(0,0,e,i),this.prevVisibleRect=new n.Rect(0,0,e,i);for(let t=0;t<i;t++){this.grid[t]=new Array(e);for(let i=0;i<e;i++)this.grid[t][i]=new a(i,t,0)}for(let t=0;t<r;t++)this.layers[t]=new c(e,i);this.quadVertBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quadVertBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,1,1,1,1,1,0,-1,-1,0,1,1,1,1,0,-1,1,0,0]),t.STATIC_DRAW),this.tilemapShader=s.initShaderProgram(t,o,h),this.positionAttribute=t.getAttribLocation(this.tilemapShader,\"position\"),this.textureAttribute=t.getAttribLocation(this.tilemapShader,\"texture\"),this.viewportSizeUniform=t.getUniformLocation(this.tilemapShader,\"viewportSize\"),this.viewOffsetUniform=t.getUniformLocation(this.tilemapShader,\"viewOffset\"),this.mapSizeUniform=t.getUniformLocation(this.tilemapShader,\"mapSize\"),this.tileSizeUniform=t.getUniformLocation(this.tilemapShader,\"tileSize\"),this.animFrameUniform=t.getUniformLocation(this.tilemapShader,\"animFrame\"),this.tileSamplerUniform=t.getUniformLocation(this.tilemapShader,\"tiles\"),this.spriteSamplerUniform=t.getUniformLocation(this.tilemapShader,\"sprites\");for(let e=0;e<this.layers.length;e++)this.layers[e].initGl(t)}clear(){for(let t=0;t<this.layers.length;t++)this.layers[t].clear()}setTile(t,e,i,s,r,n){if(e<0||e>=this.width||i<0||i>=this.height)return;0===t&&(this.grid[i][e].tile=s,this.grid[i][e].blocked=!!r,this.grid[i][e].blockedSight=void 0!==n?n:!!r);const o=this.layers[t],h=4*(i*o.width+e),a=0===s?255:(s-1)%64|0,c=0===s?255:(s-1)/64|0;o.imageData[h+0]=a,o.imageData[h+1]=c}getCell(t,e){return t<0||t>=this.width||e<0||e>=this.height?null:this.grid[e][t]}getTile(t,e){const i=this.getCell(t,e);return i?i.tile:0}isBlocked(t,e){const i=this.getCell(t,e);return!i||i.blocked}isVisible(t,e){return!(t<this.visibleRect.x1||t>=this.visibleRect.x2||e<this.visibleRect.y1||e>=this.visibleRect.y2)&&this.grid[e][t].visible}isSeen(t,e){const i=this.getCell(t,e);return i&&i.seen}setSeen(t,e,i){const s=this.getCell(t,e);s&&(s.seen=i)}isAnimated(t,e,i){if(t<0||t>=this.width||e<0||e>=this.height)return!1;const s=this.layers[i],r=4*(e*s.width+t);return 0!==s.imageData[r+2]}setAnimated(t,e,i,s){if(t<0||t>=this.width||e<0||e>=this.height)return;const r=this.layers[i],n=4*(e*r.width+t);r.imageData[n+2]=s?1:0}draw(t,e,i,s,r){const n=this.gl;n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.tilemapShader),n.bindBuffer(n.ARRAY_BUFFER,this.quadVertBuffer),n.enableVertexAttribArray(this.positionAttribute),n.enableVertexAttribArray(this.textureAttribute),n.vertexAttribPointer(this.positionAttribute,2,n.FLOAT,!1,16,0),n.vertexAttribPointer(this.textureAttribute,2,n.FLOAT,!1,16,8),n.uniform2f(this.viewOffsetUniform,t,e),n.uniform2f(this.viewportSizeUniform,i,s),n.uniform2f(this.tileSizeUniform,this.tileWidth,this.tileHeight),n.uniform1f(this.animFrameUniform,r||0),n.activeTexture(n.TEXTURE0),n.uniform1i(this.spriteSamplerUniform,0),n.activeTexture(n.TEXTURE1),n.uniform1i(this.tileSamplerUniform,1);const o=Math.min(this.visibleRect.x1,this.prevVisibleRect.x1),h=Math.min(this.visibleRect.y1,this.prevVisibleRect.y1),a=Math.max(this.visibleRect.x2,this.prevVisibleRect.x2),c=Math.max(this.visibleRect.y2,this.prevVisibleRect.y2);for(let t=0;t<this.layers.length;t++){const e=this.layers[t];if(n.uniform2fv(this.mapSizeUniform,e.dimensions),n.bindTexture(n.TEXTURE_2D,e.texture),this.dirty){for(let t=h;t<c;t++)for(let i=o;i<a;i++){const s=this.isVisible(i,t)?255:this.isSeen(i,t)?144:0;e.setAlpha(i,t,s)}e.updateGl(n)}n.drawArrays(n.TRIANGLES,0,6)}this.dirty=!1}resetFov(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)this.grid[t][e].seen=!1,this.grid[t][e].visible=!1}computeFov(t,e,i,s){this.originX=t,this.originY=e,this.prevVisibleRect.copy(this.visibleRect);const r=i,n=s||i;this.visibleRect.x=Math.max(0,t-r),this.visibleRect.y=Math.max(0,e-n),this.visibleRect.width=Math.min(this.width-1,t+r)-this.visibleRect.x+1,this.visibleRect.height=Math.min(this.height-1,e+n)-this.visibleRect.y+1;for(let t=this.visibleRect.y1;t<this.visibleRect.y2;t++)for(let e=this.visibleRect.x1;e<this.visibleRect.x2;e++)this.grid[t][e].visible=!1;this.grid[e][t].visible=!0,this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantY(1,-1),this.computeOctantX(1,-1),this.computeOctantY(-1,1),this.computeOctantX(-1,1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1),this.dirty=!0}computeOctantY(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,p,g=1,f=0,y=0,m=0;for(n=this.originY+e;n>=this.visibleRect.y1&&n<this.visibleRect.y2;n+=e,y=f,++g)for(o=.5/g,p=-1,h=Math.floor(m*g+.5),r=this.originX+h*t;h<=g&&r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/g)+o,y>0)if(this.grid[n-e][r].visible&&!this.grid[n-e][r].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].seen=!0,this.grid[n][r].blockedSight&&(m>=d?m=u:c||(i[f]=d,s[f++]=u)))}}computeOctantX(t,e){const i=[],s=[];let r,n,o,h,a,c,l,d,u,p,g=1,f=0,y=0,m=0;for(r=this.originX+t;r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,y=f,++g)for(o=.5/g,p=-1,h=Math.floor(m*g+.5),n=this.originY+h*e;h<=g&&n>=this.visibleRect.y1&&n<this.visibleRect.y2;n+=e,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/g)+o,y>0)if(this.grid[n][r-t].visible&&!this.grid[n][r-t].blockedSight||this.grid[n-e][r-t].visible&&!this.grid[n-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[n][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[n][r].visible=!0,this.grid[n][r].seen=!0,this.grid[n][r].blockedSight&&(m>=d?m=u:c||(i[f]=d,s[f++]=u)))}}}}])});\n//# sourceMappingURL=index.js.map","\nexport enum EquipmentSlot {\n  HEAD = 'Head',\n  NECK = 'Neck',\n  BACK = 'Back',\n  CHEST = 'Chest',\n  HANDS = 'Hands',\n  LEGS = 'Legs',\n  FEET = 'Feet',\n  RING = 'Ring',\n  MAINHAND = 'Main Hand',\n  OFFHAND = 'Off Hand'\n}\n","import {Actor, BasicMonster, Sprite, TileMap, Item, Vec2} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Player} from './player';\nimport {StatsActor, Sentiment} from './statsactor';\nimport { Gold } from '../items/gold';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { HealthPotion } from '../items/healthpotion';\n\nconst START_BLOOD = 1367;\nconst END_BLOOD = 1371;\n\nexport abstract class Monster extends StatsActor {\n  loot: Item[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite, level: number) {\n    super(game, x, y, name, sprite);\n    this.ai = new BasicMonster(this, this.calculateDamage);\n    this.sentiment = Sentiment.HOSTILE;\n    this.level = level;\n    this.strength = 10 + 4 * level;\n    this.maxHp = 10 + 3 * level;\n    this.hp = this.maxHp;\n    this.armor = 2 * level;\n    this.loot = this.getLoot();\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n\n  onDeath(attacker: StatsActor) {\n    this.game.log(this.name + ' is dead');\n    this.blocks = false;\n    this.ai = undefined;\n    this.game.entities.remove(this);\n\n    if (attacker instanceof Player) {\n      // Based on DnD xp rules\n      const player = this.game.player as Player;\n      const xpGain = Math.round(10 * player.level * Math.pow(2.0, (this.level - player.level) * 0.5));\n      player.addXp(xpGain);\n    }\n\n    // Add blood to the map\n    const map = this.game.tileMap as TileMap;\n    map.setTile(3, this.x, this.y, this.game.rng.nextRange(START_BLOOD, END_BLOOD));\n\n    // Drop loot\n    for (let i = 0; i < this.loot.length; i++) {\n      // TODO: Spread loot around multiple tiles\n      const location = this.findNearestDropLocation();\n      if (!location) {\n        break;\n      }\n      const loot = this.loot[i];\n      loot.x = location.x;\n      loot.y = location.y;\n      this.game.entities.add(loot);\n    }\n  }\n\n  private calculateDamage(attacker: Actor, target: Actor) {\n    return (attacker as StatsActor).getDamage();\n  }\n\n  private findNearestDropLocation() {\n    for (let r = 0; r < 10; r += 0.5) {\n      const r2 = Math.ceil(r);\n      for (let y = this.y - r2; y <= this.y + r2; y++) {\n        for (let x = this.x - r2; x <= this.x + r2; x++) {\n          if (Math.hypot(x - this.x, y - this.y) <= r) {\n            if (!this.game.isBlocked(x, y) && !this.game.getEntityAt(x, y)) {\n              return new Vec2(x, y);\n            }\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n\n  getLoot() {\n    const game = this.game as Game;\n    const result: Item[] = [];\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      result.push(new Gold(game, this.x, this.y));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      result.push(new HealthPotion(game, this.x, this.y));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      result.push(new EquipmentBuilder(game).withRandomDrop(this.level).build());\n    }\n    return result;\n  }\n}\n","\nexport enum EquipmentMaterial {\n  NONE = '',\n  CLOTH = 'Cloth',\n  LEATHER = 'Leather',\n  MAIL = 'Mail',\n  PLATE = 'Plate'\n}\n","\nexport enum EquipmentQuality {\n  POOR = 0,\n  COMMON = 1,\n  UNCOMMON = 2,\n  RARE = 3,\n  EPIC = 4,\n  LEGENDARY = 5\n}\n","import {Actor, ArrayList, Sprite} from 'wglt';\n\nimport {Buff} from '../buffs/buff';\nimport {Game} from '../game';\nimport { Player } from './player';\nimport { Equipment } from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\n\nexport enum Sentiment {\n  HOSTILE = -1,\n  NEUTRAL = 0,\n  FRIENDLY = 1\n}\n\nexport class StatsActor extends Actor {\n  level: number;\n  mp: number;\n  maxMp: number;\n  armor: number;\n  strength: number;\n  dexterity: number;\n  constitution: number;\n  intelligence: number;\n  showFrame: boolean;\n  sentiment: Sentiment;\n  readonly equipment: ArrayList<Equipment>;\n  readonly buffs: Buff[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, true);\n    this.level = 1;\n    this.mp = 1;\n    this.maxMp = 1;\n    this.armor = 0;\n    this.strength = 10;\n    this.dexterity = 10;\n    this.constitution = 10;\n    this.intelligence = 10;\n    this.recalculateMaxHp();\n    this.hp = this.maxHp;\n    this.showFrame = true;\n    this.sentiment = Sentiment.NEUTRAL;\n    this.equipment = new ArrayList<Equipment>();\n    this.buffs = [];\n\n    this.equipment.addListener({onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get strengthModifier() {\n    return this.calculateModifier(this.strength);\n  }\n\n  get dexterityModifier() {\n    return this.calculateModifier(this.dexterity);\n  }\n\n  get constitutionModifier() {\n    return this.calculateModifier(this.constitution);\n  }\n\n  get intelligenceModifier() {\n    return this.calculateModifier(this.intelligence);\n  }\n\n  private calculateModifier(abilityScore: number) {\n    return Math.floor((abilityScore - 10) / 2);\n  }\n\n  getEquipment(slot: EquipmentSlot) {\n    for (let i = 0; i < this.equipment.length; i++) {\n      const item = this.equipment.get(i);\n      if (item.slot === slot) {\n        return item;\n      }\n    }\n    return undefined;\n  }\n\n  get mainHandWeapon() {\n    return this.getEquipment(EquipmentSlot.MAINHAND);\n  }\n\n  getDamage() {\n    const weapon = this.mainHandWeapon;\n    const rng = this.game.rng;\n    let baseDamage = 1;\n    let modifier = this.strengthModifier;\n\n    if (weapon) {\n      baseDamage = rng.nextRange(weapon.minDamage, weapon.maxDamage + 1);\n      modifier = weapon.finesse ? this.dexterityModifier : this.strengthModifier;\n    }\n\n    return this.buffDamage(baseDamage + modifier);\n  }\n\n  buffDamage(damage: number) {\n    let result = damage;\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageDealt(result);\n    }\n    return result;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    // Start by subtracting armor modifier\n    let result = Math.max(0, damage - Math.round(0.1 * this.armor));\n\n    // Apply any buffs from the target\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageTaken(result);\n    }\n\n    // Finally apply the damage\n    super.takeDamage(attacker, result);\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.FRIENDLY) {\n      this.onTalk(player);\n    } else {\n      player.attack(this, player.getDamage());\n    }\n    return true;\n  }\n\n  onTalk(player: Player) {}\n\n  onAttack(target: Actor, damage: number) {\n    if (damage > 0) {\n      this.game.log(this.name + ' attacks ' + target.name + ' for ' + damage + ' hit points.', 0x808080FF);\n    } else {\n      this.game.log(this.name + ' attacks ' + target.name + ' but it has no effect!', 0x808080FF);\n    }\n  }\n\n  startTurn() {\n    super.startTurn();\n    for (let i = this.buffs.length - 1; i >= 0; i--) {\n      const buff = this.buffs[i];\n      buff.update();\n      if (buff.isDone()) {\n        this.buffs.splice(i, 1);\n      }\n    }\n  }\n\n  equipItem(item: Equipment) {\n    const equipped = this.getEquipment(item.slot);\n    const oldHp = this.hp;\n\n    if (equipped) {\n      this.equipment.remove(equipped);\n    }\n\n    this.inventory.remove(item);\n    this.equipment.add(item);\n\n    if (equipped) {\n      this.inventory.add(equipped);\n    }\n\n    // Have to manually restore HP\n    // When removing equipment, constitution can drop, which can drop max HP\n    // Make sure the player keeps their HP\n    this.hp = Math.min(oldHp, this.maxHp);\n  }\n\n  private addItem(item: Equipment) {\n    this.armor += item.armor;\n    this.constitution += item.constitution;\n    this.dexterity += item.dexterity;\n    this.strength += item.strength;\n    this.intelligence += item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  private removeItem(item: Equipment) {\n    this.armor -= item.armor;\n    this.constitution -= item.constitution;\n    this.dexterity -= item.dexterity;\n    this.strength -= item.strength;\n    this.intelligence -= item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  recalculateMaxHp() {\n    this.maxHp = 8 + 2 * this.level + this.constitutionModifier;\n    this.hp = Math.min(this.hp, this.maxHp);\n  }\n\n  draw() {\n    super.draw();\n\n    for (let i = 0; i < this.buffs.length; i++) {\n      this.buffs[i].draw();\n    }\n  }\n}\n","import { Sprite, Color, Colors } from \"wglt\";\nimport { Game } from \"../game\";\nimport { EquipmentSlot } from \"./equipmentslot\";\nimport { EquipmentMaterial } from \"./equipmentmaterial\";\nimport { EquipmentQuality } from \"./equipmentquality\";\nimport { Equipment } from \"./equipment\";\nimport { HELM_SPRITE_1, CLOTH_HELM_SPRITES, LEATHER_HELM_SPRITES, PLATE_HELM_SPRITES, ROBE_SPRITES, SHIRT_SPRITES, GLOVES_SPRITES, PANTS_SPRITES, BOOTS_SPRITES, NECKLACE_SPRITE_1, CLOAK_SPRITES, RING_SPRITES, SWORD_SPRITES, AXE_SPRITE_1, MACE_SPRITES, DAGGER_SPRITE_1, BOW_SPRITE_1, CROSSBOW_SPRITE_1, STAFF_SPRITES, SHIELD_SPRITES, BOOK_SPRITE, LANTERN_SPRITE, ORB_SPRITE } from \"./equipmentsprites\";\n\nconst DEFAULT_SPRITE = new Sprite(160, 240, 16, 24, 1, false, undefined, 0x808080FF);\n\nexport class EquipmentBuilder {\n  game: Game;\n  x: number = 0;\n  y: number = 0;\n  name: string = '';\n  sprite: Sprite = DEFAULT_SPRITE;\n  itemLevel: number = 1;\n  slot: EquipmentSlot = EquipmentSlot.HEAD;\n  material: EquipmentMaterial = EquipmentMaterial.NONE;\n  quality: EquipmentQuality = EquipmentQuality.POOR;\n  armor: number = 0;\n  strength: number = 0;\n  dexterity: number = 0;\n  constitution: number = 0;\n  intelligence: number = 0;\n  minDamage: number = 1;\n  maxDamage: number = 2;\n  ranged: boolean = false;\n  finesse: boolean = false;\n  statMultiplier: number = 1.0;\n\n  constructor(game: Game) {\n    this.game = game;\n  }\n\n  withName(name: string) {\n    this.name = name;\n    return this;\n  }\n\n  withSprite(s: Sprite, c: Color) {\n    this.sprite = new Sprite(s.x, s.y, s.width, s.height, s.frames, s.loop, s.ticksPerFrame, c);\n    return this;\n  }\n\n  withColor(color: Color) {\n    this.withSprite(this.sprite, color);\n    return this;\n  }\n\n  withItemLevel(itemLevel: number) {\n    this.itemLevel = itemLevel;\n    return this;\n  }\n\n  withSlot(slot: EquipmentSlot) {\n    this.slot = slot;\n    return this;\n  }\n\n  withMaterial(material: EquipmentMaterial) {\n    this.material = material;\n    return this;\n  }\n\n  withQuality(quality: EquipmentQuality) {\n    this.quality = quality;\n    return this;\n  }\n\n  withArmor(armor: number) {\n    this.armor = armor;\n    return this;\n  }\n\n  withStrength(strength: number) {\n    this.strength = strength;\n    return this;\n  }\n\n  withDexterity(dexterity: number) {\n    this.dexterity = dexterity;\n    return this;\n  }\n\n  withConstitution(constitution: number) {\n    this.constitution = constitution;\n    return this;\n  }\n\n  withIntelligence(intelligence: number) {\n    this.intelligence = intelligence;\n    return this;\n  }\n\n  withDamage(minDamage: number, maxDamage: number, ranged?: boolean, finesse?: boolean) {\n    this.minDamage = minDamage;\n    this.maxDamage = maxDamage;\n    this.ranged = !!ranged;\n    this.finesse = !!finesse;\n    return this;\n  }\n\n  withRandomDrop(itemLevel: number) {\n    this.itemLevel = itemLevel;\n    this.chooseQuality();\n    this.chooseSlot();\n    this.chooseFlair();\n    return this;\n  }\n\n  private chooseQuality() {\n    const rng = this.game.rng;\n    const quality = rng.nextRange(0, 100);\n    if (quality === 99) {\n      this.quality = EquipmentQuality.LEGENDARY;\n      this.statMultiplier = 1.75;\n    } else if (quality > 97) {\n      this.quality = EquipmentQuality.EPIC;\n      this.statMultiplier = 1.5;\n    } else if (quality > 90) {\n      this.quality = EquipmentQuality.RARE;\n      this.statMultiplier = 1.25;\n    } else if (quality > 75) {\n      this.quality = EquipmentQuality.UNCOMMON;\n      this.statMultiplier = 1.1;\n    } else if (quality > 40) {\n      this.quality = EquipmentQuality.COMMON;\n      this.statMultiplier = 1.0;\n    } else {\n      this.quality = EquipmentQuality.POOR;\n      this.statMultiplier = 0.75;\n    }\n  }\n\n  private chooseSlot() {\n    switch (this.game.rng.nextRange(0, 10)) {\n      case 0:\n        this.chooseHead();\n        break;\n      case 1:\n        this.chooseNeck();\n        break;\n      case 2:\n        this.chooseBack();\n        break;\n      case 3:\n        this.chooseChest();\n        break;\n      case 4:\n        this.chooseHands();\n        break;\n      case 5:\n        this.chooseLegs();\n        break;\n      case 6:\n        this.chooseFeet();\n        break;\n      case 7:\n        this.chooseRing();\n        break;\n      case 8:\n        this.chooseMainHand();\n        break;\n      case 9:\n        this.chooseOffHand();\n        break;\n    }\n  }\n\n  private chooseHead() {\n    this.slot = EquipmentSlot.HEAD;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Cowl', 'Crown', 'Hood', 'Wizard Hat');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(CLOTH_HELM_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Hood', 'Cover', 'Facemask', 'Mask');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(LEATHER_HELM_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Helm', 'Helmet', 'Headguard', 'Faceguard', 'Greathelm');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PLATE_HELM_SPRITES);\n        break;\n    }\n  }\n\n  private chooseNeck() {\n    this.slot = EquipmentSlot.NECK;\n    this.name = this.chooseValue('Necklace');\n    this.sprite = NECKLACE_SPRITE_1;\n  }\n\n  private chooseBack() {\n    this.slot = EquipmentSlot.BACK;\n    this.name = this.chooseValue('Cloak');\n    this.sprite = this.chooseArrayValue(CLOAK_SPRITES);\n    this.armor = Math.ceil(this.itemLevel * this.statMultiplier);\n  }\n\n  private chooseChest() {\n    this.slot = EquipmentSlot.CHEST;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Robe', 'Tunic');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(ROBE_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Vest', 'Chestpiece', 'Tunic');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Breastplate', 'Chestguard');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n    }\n  }\n\n  private chooseHands() {\n    this.slot = EquipmentSlot.HANDS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Gloves', 'Wraps');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n    }\n  }\n\n  private chooseLegs() {\n    this.slot = EquipmentSlot.LEGS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Leggings', 'Pants');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Legguards', 'Pants');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Legplates', 'Legguards');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseFeet() {\n    this.slot = EquipmentSlot.FEET;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Boots', 'Sandals', 'Shoes', 'Slippers', 'Footpads');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Boots', 'Shoes', 'Treads');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Boots', 'Greaves', 'Sabatons');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseRing() {\n    this.slot = EquipmentSlot.RING;\n    this.name = this.chooseValue('Ring', 'Band', 'Signet', 'Circle', 'Loop');\n    this.sprite = this.chooseArrayValue(RING_SPRITES);\n  }\n\n  private chooseMainHand() {\n    this.slot = EquipmentSlot.MAINHAND;\n    this.minDamage = Math.floor(1.0 * this.itemLevel * this.statMultiplier);\n    this.maxDamage = Math.ceil(1.2 * this.itemLevel * this.statMultiplier);\n    switch (this.game.rng.nextRange(0, 7)) {\n      case 0:\n        this.name = this.chooseValue('Sword', 'Blade', 'Slicer', 'Sabre');\n        this.sprite = this.chooseArrayValue(SWORD_SPRITES);\n        break;\n      case 1:\n        this.name = this.chooseValue('Axe', 'Ripper', 'Slicer');\n        this.sprite = AXE_SPRITE_1;\n        break;\n      case 2:\n        this.name = this.chooseValue('Mace', 'Hammer', 'Gavel', 'Club');\n        this.sprite = this.chooseArrayValue(MACE_SPRITES);\n        break;\n      case 3:\n        this.name = this.chooseValue('Dagger', 'Knife', 'Edge');\n        this.sprite = DAGGER_SPRITE_1;\n        this.finesse = true;\n        break;\n      case 4:\n        this.name = this.chooseValue('Bow', 'Shortbow', 'Longbow', 'Recurve', 'Greatbow');\n        this.sprite = BOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 5:\n        this.name = this.chooseValue('Crossbow', 'Bolt-Thrower', 'Speargun', 'Repeater');\n        this.sprite = CROSSBOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 6:\n        this.name = this.chooseValue('Staff', 'Spellstaff');\n        this.sprite = this.chooseArrayValue(STAFF_SPRITES);\n        break;\n    }\n  }\n\n  private chooseOffHand() {\n    this.slot = EquipmentSlot.OFFHAND;\n    const dice = this.game.rng.nextRange(0, 10);\n    if (dice === 9) {\n      this.name = 'Lantern';\n      this.sprite = LANTERN_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice === 8) {\n      this.name = 'Orb';\n      this.sprite = ORB_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice >= 5) {\n      this.name = this.chooseValue('Spellbook', 'Tome');\n      this.sprite = BOOK_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else {\n      this.name = this.chooseValue('Shield', 'Shield Wall', 'Bulwark', 'Barrier');\n      this.sprite = this.chooseArrayValue(SHIELD_SPRITES);\n      this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n      this.constitution = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n    }\n  }\n\n  private chooseFlair() {\n    switch (this.quality) {\n      case EquipmentQuality.POOR:\n        this.choosePoorFlair();\n        break;\n      case EquipmentQuality.COMMON:\n        this.chooseCommonFlair();\n        break;\n      case EquipmentQuality.UNCOMMON:\n        this.chooseUncommonFlair();\n        break;\n      case EquipmentQuality.RARE:\n        this.chooseRareFlair();\n        break;\n      case EquipmentQuality.EPIC:\n        this.chooseEpicFlair();\n        break;\n      case EquipmentQuality.LEGENDARY:\n        this.chooseLegendaryFlair();\n        break;\n    }\n  }\n\n  private choosePoorFlair() {\n    this.name = this.chooseValue('Patched', 'Ragged', 'Chewed', 'Worn', 'Loose') + ' ' + this.name;\n    this.withColor(Colors.LIGHT_GRAY);\n  }\n\n  private chooseCommonFlair() {\n    this.name = this.chooseValue('Hunting', 'Cadet', 'Veteran', 'Simple', 'Pioneer') + ' ' + this.name;\n    this.withColor(0xC0A080FF);\n  }\n\n  private chooseUncommonFlair() {\n    switch (this.game.rng.nextRange(0, 6)) {\n      case 0:\n        this.name += ' of the Tiger';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.ORANGE);\n        break;\n      case 1:\n        this.name += ' of the Bear';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.BROWN);\n        break;\n      case 2:\n        this.name += ' of the Gorilla';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_CYAN);\n        break;\n      case 3:\n        this.name += ' of the Monkey';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_GREEN);\n        break;\n      case 4:\n        this.name += ' of the Falcon';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_RED);\n        break;\n      case 5:\n        this.name += ' of the Eagle';\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_BLUE);\n        break;\n    }\n  }\n\n  private chooseRareFlair() {\n    switch (this.game.rng.nextRange(0, 4)) {\n      case 0:\n        this.name = 'Elven ' + this.name;\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_MAGENTA);\n        break;\n      case 1:\n        this.name = 'Obsidian ' + this.name;\n        this.strength += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_MAGENTA);\n        break;\n      case 2:\n        this.name = 'Saphiron ' + this.name;\n        this.dexterity += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_BLUE);\n        break;\n      case 3:\n        this.name = 'Scarlet ' + this.name;\n        this.intelligence += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_RED);\n        break;\n    }\n  }\n\n  private chooseEpicFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseLegendaryFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseValue<T>(...values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  private chooseArrayValue<T>(values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  build() {\n    return new Equipment(this);\n  }\n}\n","import { Sprite } from \"wglt\";\n\nconst W = 16;\nconst H = 24;\nconst C = 0x808080FF;\n\nexport const SWORD_SPRITE_1 = new Sprite(608, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_2 = new Sprite(624, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_3 = new Sprite(752, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_4 = new Sprite(768, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITES = [\n  SWORD_SPRITE_1,\n  SWORD_SPRITE_2,\n  SWORD_SPRITE_3,\n  SWORD_SPRITE_4,\n];\n\nexport const MACE_SPRITE_1 = new Sprite(640, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_2 = new Sprite(688, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_3 = new Sprite(704, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_4 = new Sprite(720, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_5 = new Sprite(736, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_6 = new Sprite(833, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITES = [\n  MACE_SPRITE_1,\n  MACE_SPRITE_2,\n  MACE_SPRITE_3,\n  MACE_SPRITE_4,\n  MACE_SPRITE_5,\n  MACE_SPRITE_6,\n];\n\nexport const DAGGER_SPRITE_1 = new Sprite(672, 96, W, H, 1, false, undefined, C);\n\nexport const AXE_SPRITE_1 = new Sprite(752, 96, W, H, 1, false, undefined, C);\n\nexport const BOW_SPRITE_1 = new Sprite(880, 96, W, H, 1, false, undefined, C);\n\nexport const CROSSBOW_SPRITE_1 = new Sprite(896, 96, W, H, 1, false, undefined, C);\n\nexport const STAFF_SPRITE_1 = new Sprite(896, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_2 = new Sprite(608, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_3 = new Sprite(624, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_4 = new Sprite(640, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_5 = new Sprite(656, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITES = [\n  STAFF_SPRITE_1,\n  STAFF_SPRITE_2,\n  STAFF_SPRITE_3,\n  STAFF_SPRITE_4,\n  STAFF_SPRITE_5,\n];\n\nexport const SHIRT_SPRITE_1 = new Sprite(608, 144, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_2 = new Sprite(608, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_3 = new Sprite(624, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_4 = new Sprite(640, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_5 = new Sprite(656, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_6 = new Sprite(672, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_7 = new Sprite(688, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_8 = new Sprite(704, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_9 = new Sprite(720, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_10 = new Sprite(736, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_11 = new Sprite(752, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITES = [\n  SHIRT_SPRITE_1,\n  SHIRT_SPRITE_2,\n  SHIRT_SPRITE_3,\n  SHIRT_SPRITE_4,\n  SHIRT_SPRITE_5,\n  SHIRT_SPRITE_6,\n  SHIRT_SPRITE_7,\n  SHIRT_SPRITE_8,\n  SHIRT_SPRITE_9,\n  SHIRT_SPRITE_10,\n  SHIRT_SPRITE_11,\n];\n\nexport const ROBE_SPRITE_1 = new Sprite(608, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_2 = new Sprite(624, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_3 = new Sprite(640, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_4 = new Sprite(656, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_5 = new Sprite(672, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_6 = new Sprite(688, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_7 = new Sprite(704, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_8 = new Sprite(720, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_9 = new Sprite(736, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_10 = new Sprite(752, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITES = [\n  ROBE_SPRITE_1,\n  ROBE_SPRITE_2,\n  ROBE_SPRITE_3,\n  ROBE_SPRITE_4,\n  ROBE_SPRITE_5,\n  ROBE_SPRITE_6,\n  ROBE_SPRITE_7,\n  ROBE_SPRITE_8,\n  ROBE_SPRITE_9,\n  ROBE_SPRITE_10,\n];\n\nexport const HELM_SPRITE_1 = new Sprite(608, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_2 = new Sprite(624, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_3 = new Sprite(640, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_4 = new Sprite(656, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_5 = new Sprite(672, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_6 = new Sprite(688, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_7 = new Sprite(704, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_8 = new Sprite(720, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_9 = new Sprite(736, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_10 = new Sprite(752, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_11 = new Sprite(768, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_12 = new Sprite(784, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_13 = new Sprite(800, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_14 = new Sprite(816, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_15 = new Sprite(832, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_16 = new Sprite(848, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_17 = new Sprite(864, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_18 = new Sprite(880, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_19 = new Sprite(896, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_3,\n  HELM_SPRITE_4,\n  HELM_SPRITE_5,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const CLOTH_HELM_SPRITES = [\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n];\nexport const LEATHER_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_4,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const PLATE_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_4,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_19\n];\n\nexport const GLOVES_SPRITE_1 = new Sprite(608, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_2 = new Sprite(624, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_3 = new Sprite(640, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_4 = new Sprite(656, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_5 = new Sprite(672, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_6 = new Sprite(688, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_7 = new Sprite(704, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_8 = new Sprite(720, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_9 = new Sprite(736, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_10 = new Sprite(752, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITES = [\n  GLOVES_SPRITE_1,\n  GLOVES_SPRITE_2,\n  GLOVES_SPRITE_3,\n  GLOVES_SPRITE_4,\n  GLOVES_SPRITE_5,\n  GLOVES_SPRITE_6,\n  GLOVES_SPRITE_7,\n  GLOVES_SPRITE_8,\n  GLOVES_SPRITE_9,\n  GLOVES_SPRITE_10,\n];\n\nexport const PANTS_SPRITE_1 = new Sprite(656, 144, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_2 = new Sprite(768, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_3 = new Sprite(784, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_4 = new Sprite(800, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_5 = new Sprite(816, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_6 = new Sprite(832, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_7 = new Sprite(848, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITES = [\n  PANTS_SPRITE_1,\n  PANTS_SPRITE_2,\n  PANTS_SPRITE_3,\n  PANTS_SPRITE_4,\n  PANTS_SPRITE_5,\n  PANTS_SPRITE_6,\n  PANTS_SPRITE_7,\n];\n\nexport const BOOTS_SPRITE_1 = new Sprite(640, 144, W, H, 1, false, undefined, C);\nexport const BOOTS_SPRITES = [\n  BOOTS_SPRITE_1,\n];\n\nexport const SHIELD_SPRITE_1 = new Sprite(688, 144, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_2 = new Sprite(608, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_3 = new Sprite(624, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_4 = new Sprite(640, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_5 = new Sprite(656, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_6 = new Sprite(672, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_7 = new Sprite(688, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_8 = new Sprite(704, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_9 = new Sprite(720, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_10 = new Sprite(736, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_11 = new Sprite(752, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_12 = new Sprite(768, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_13 = new Sprite(784, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_14 = new Sprite(800, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_15 = new Sprite(816, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_16 = new Sprite(832, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_17 = new Sprite(848, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITES = [\n  SHIELD_SPRITE_1,\n  SHIELD_SPRITE_2,\n  SHIELD_SPRITE_3,\n  SHIELD_SPRITE_4,\n  SHIELD_SPRITE_5,\n  SHIELD_SPRITE_6,\n  SHIELD_SPRITE_7,\n  SHIELD_SPRITE_8,\n  SHIELD_SPRITE_9,\n  SHIELD_SPRITE_10,\n  SHIELD_SPRITE_11,\n  SHIELD_SPRITE_12,\n  SHIELD_SPRITE_13,\n  SHIELD_SPRITE_14,\n  SHIELD_SPRITE_15,\n  SHIELD_SPRITE_16,\n  SHIELD_SPRITE_17,\n];\n\nexport const NECKLACE_SPRITE_1 = new Sprite(768, 144, W, H, 1, false, undefined, C);\n\nexport const RING_SPRITE_1 = new Sprite(784, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITE_2 = new Sprite(800, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITES = [\n  RING_SPRITE_1,\n  RING_SPRITE_2\n];\n\nexport const CLOAK_SPRITE_1 = new Sprite(768, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_2 = new Sprite(784, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_3 = new Sprite(800, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_4 = new Sprite(816, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_5 = new Sprite(832, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_6 = new Sprite(848, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_7 = new Sprite(864, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITES = [\n  CLOAK_SPRITE_1,\n  CLOAK_SPRITE_2,\n  CLOAK_SPRITE_3,\n  CLOAK_SPRITE_4,\n  CLOAK_SPRITE_5,\n  CLOAK_SPRITE_6,\n  CLOAK_SPRITE_7,\n];\n\nexport const LANTERN_SPRITE = new Sprite(880, 168, W, H, 1, false, undefined, C);\nexport const ORB_SPRITE = new Sprite(848, 168, W, H, 1, false, undefined, C);\nexport const CLOCK_SPRITE = new Sprite(880, 144, W, H, 1, false, undefined, C);\nexport const BOOK_SPRITE = new Sprite(816, 168, W, H, 1, false, undefined, C);\n","import {Ability, Actor, Colors, fromRgb, Message, SlideAnimation, Sprite, TargetType, TileMapCell} from 'wglt';\nimport {Stunned} from '../ai/stunned';\n\nconst LEAP_RANGE = 3;\nconst LEAP_RADIUS = 2;\nconst LEAP_COLOR = fromRgb(0xFF, 0x80, 0x80);\nconst LEAP_SPRITE = new Sprite(720, 336, 16, 24, undefined, undefined, undefined, LEAP_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Heroic Leap', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Stun all enemies within 1 tile.', Colors.YELLOW)\n];\n\nexport class LeapAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = LEAP_SPRITE;\n    this.name = 'leap';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = LEAP_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > LEAP_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && game.tileMap.isBlocked(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target is blocked.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      if (caster === game.player) {\n        game.log('Target is occupied.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = target.x;\n      caster.y = target.y;\n\n      let count = 0;\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities.get(i);\n        if (entity === caster) {\n          continue;\n        }\n        if (entity instanceof Actor && entity.distanceTo(target) < LEAP_RADIUS) {\n          entity.ai = new Stunned(entity, 1);\n          count++;\n        }\n      }\n\n      if (count > 0) {\n        game.log('Stunned ' + count + ' foes!', LEAP_COLOR);\n      }\n      caster.ap--;\n    });\n\n    return true;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterClass {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Actor, Colors, Game, Item, Message, Sprite} from 'wglt';\n\nconst HEAL_AMOUNT = 4;\n\nconst SPRITE = new Sprite(656, 168, 16, 24, 1, true, undefined, 0xFF0000FF);\n\nconst TOOLTIPS = [\n  new Message('Ancient Healing Potion', Colors.LIGHT_BLUE),\n  new Message('Item Level 5', Colors.YELLOW),\n  new Message('Use: Restore 10 health', Colors.LIGHT_GREEN),\n];\n\nexport class HealthPotion extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'health potion', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterRace {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, Colors, Entity, Game, Message, ProjectileAnimation, Sprite, TargetType, Vec2} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst LIGHTNING_RANGE = 5;\nconst MANA_COST = 10;\nconst TOOLTIP_MESSAGES = [\n  new Message('Lightning', Colors.WHITE),\n  new Message(MANA_COST + ' mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Hurls a bolt of lightning at the nearest enemy', Colors.YELLOW),\n  new Message('dealing 4 + INT damage.', Colors.YELLOW),\n];\n\nexport class LightningAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = new Sprite(158, 10, 16, 24, undefined, undefined, undefined, 0xFFFF00FF);\n    this.name = 'lightning';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = LIGHTNING_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    const game = caster.game;\n    // Find closest enemy (inside a maximum range) and damage it\n    const monster = this.getClosestMonster(game, caster, caster.x, caster.y, LIGHTNING_RANGE);\n    if (!monster) {\n      game.log('No enemy is close enough to strike.', Colors.LIGHT_RED);\n      return false;\n    }\n\n    // Zap it!\n    game.log('A lightning bolt strikes the ' + monster.name + ' with a loud thunder!', Colors.LIGHT_BLUE);\n\n    // Calculate damage\n    const damage = 4 + caster.intelligenceModifier;\n\n    // Create lightning animation\n    const explosion = new Sprite(256, 408, 16, 24, 2, true, 8, Colors.YELLOW);\n    game.addAnimation(new ProjectileAnimation(explosion, new Vec2(monster.pixelX, monster.pixelY), new Vec2(0, 0), 32)).then(() => {\n      game.log('The damage is ' + damage + ' hit points', Colors.LIGHT_BLUE);\n      monster.takeDamage(caster, damage);\n      caster.ap--;\n    });\n\n    return true;\n  }\n\n  private getClosestMonster(game: Game, player: Entity, x: number, y: number, range: number) {\n    let minDist = range + 1;\n    let result = null;\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities.get(i);\n      if (entity === player) {\n        continue;\n      }\n      if (!(entity instanceof Actor)) {\n        continue;\n      }\n      if (game.tileMap && !game.tileMap.isVisible(entity.x, entity.y)) {\n        continue;\n      }\n      const dist = entity.distance(x, y);\n      if (dist < minDist) {\n        minDist = dist;\n        result = entity;\n      }\n    }\n    return result;\n  }\n}","import { StatsActor } from '../entities/statsactor';\n\nexport abstract class Buff {\n  readonly actor: StatsActor;\n\n  constructor(actor: StatsActor) {\n    this.actor = actor;\n  }\n\n  /**\n   * Called once per turn.\n   * For example, a curse might countdown over time.\n   */\n  update() { }\n\n  /**\n   * Modifies damage taken.\n   * For example, a bubble might mitigate incoming damage.\n   * @param damage Original damage taken.\n   */\n  modifyDamageTaken(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Modifies damage dealt.\n   * For example, rage doubles output damage.\n   * @param damage Original damage dealt.\n   */\n  modifyDamageDealt(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Optionally draw an overlay over the player.\n   * For example, a bubble might draw a buble around the player.\n   */\n  draw() { }\n\n  isDone() {\n    return false;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LeapAbility} from '../abilities/leap';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, MACE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nconst NAME = 'Paladin';\nconst ICON = new Sprite(504, 700, 24, 26, undefined, undefined, undefined, 0xFF8080FF);\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0xFF8080FF);\nconst DESC = 'Holy warriors commanding the power of the light';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Paladin extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Battleworn Hammer')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(EquipmentQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(MACE_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.strength += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\n\nconst SPRITE = new Sprite(672, 144, 16, 24, 1, false, undefined, 0xFFD0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Flash Heal', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('A fast spell that heals an ally', Colors.YELLOW),\n  new Message('for 1d8 + INT points.', Colors.YELLOW),\n];\n\nexport class FlashHealAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Flash Heal';\n    this.targetType = TargetType.SELF;\n    this.minRange = 0;\n    this.maxRange = 0;\n    this.cooldown = 5;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    if (caster.hp === caster.maxHp) {\n      if (caster === caster.game.player) {\n        caster.game.log('You are already at full health.', Colors.DARK_RED);\n      }\n      return false;\n    }\n\n    const healAmount = caster.game.rng.nextRange(1, 8) + caster.intelligenceModifier;\n    caster.takeHeal(healAmount);\n    caster.ap--;\n    return true;\n  }\n}","import {Ability, Actor, Colors, Message, ProjectileAnimation, Sprite, TargetType, TileMapCell, Vec2} from 'wglt';\n\nimport {ExplosionAnimation} from '../animations/explosionanimation';\nimport { StatsActor } from '../entities/statsactor';\n\nconst FIREBALL_RANGE = 10;\nconst FIREBALL_RADIUS = 3;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\nconst FIRE_COLOR = Colors.ORANGE;\nconst FIREBALL_SPRITE = new Sprite(512, 336, SPRITE_WIDTH, SPRITE_HEIGHT, undefined, undefined, undefined, FIRE_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Fireball', Colors.WHITE),\n  new Message('2% of base mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Throws a fiery ball causing 8 + INT damage', Colors.YELLOW),\n  new Message('to all enemies within 3 tiles.', Colors.YELLOW),\n];\n\nexport class FireballAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = FIREBALL_SPRITE;\n    this.name = 'fireball';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = FIREBALL_RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > FIREBALL_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const speed = 8;\n    const count = distance * (game.tileSize.width / speed);\n    const dx = (target.x * game.tileSize.width - caster.pixelX) / count;\n    const dy = (target.y * game.tileSize.height - caster.pixelY) / count;\n\n    caster.ap--;\n\n    game.addAnimation(new ProjectileAnimation(FIREBALL_SPRITE, new Vec2(caster.pixelX, caster.pixelY), new Vec2(dx, dy), count)).then(() => {\n      game.addAnimation(new ExplosionAnimation(game, target, FIREBALL_RADIUS, 30)).then(() => {\n        game.log('The fireball explodes, burning everything within ' + FIREBALL_RADIUS + ' tiles!', Colors.ORANGE);\n\n        const damage = caster.buffDamage(8 + caster.intelligenceModifier);\n\n        for (let i = game.entities.length - 1; i >= 0; i--) {\n          const entity = game.entities.get(i);\n          if (entity !== caster && entity instanceof Actor && entity.distanceTo(target) <= FIREBALL_RADIUS) {\n            game.log('The ' + entity.name + ' gets burned for ' + damage + ' hit points.', Colors.ORANGE);\n            entity.takeDamage(caster, damage);\n          }\n        }\n      });\n    });\n\n    return true;\n  }\n}","import {Color, Colors, GUI, SelectOption, SelectOptionRenderer, Vec2} from 'wglt';\n\n\nexport class MenuItemRenderer implements SelectOptionRenderer {\n  readonly expandedHeight: number;\n  readonly collapsedHeight: number;\n\n  constructor(expandedHeight: number, collapsedHeight: number) {\n    this.expandedHeight = expandedHeight;\n    this.collapsedHeight = collapsedHeight;\n  }\n\n  drawOption(gui: GUI, point: Vec2, option: SelectOption, selected?: boolean) {\n    const app = gui.app;\n    let x = point.x;\n    const y = point.y;\n    let iconColor: Color|undefined = Colors.GRAY;\n    let titleColor = Colors.GRAY;\n    let descColor = Colors.GRAY;\n\n    if (selected) {\n      iconColor = undefined;\n      titleColor = Colors.YELLOW;\n      descColor = Colors.WHITE;\n    }\n\n    if (option.icon) {\n      option.icon.draw(app, x, y, iconColor);\n      x += option.icon.width + 2;\n    }\n\n    app.drawString(option.name, x, y, titleColor);\n\n    if (option.description) {\n      app.drawString(option.description, x + 3, y + 10, descColor);\n    }\n\n    if (selected && option.details) {\n      for (let j = 0; j < option.details.length; j++) {\n        const msg = option.details[j];\n        const color = selected ? msg.color : Colors.LIGHT_GRAY;\n        app.drawString(msg.text, x + 3, y + 20 + j * 10, color);\n      }\n    }\n  }\n\n  getHeight(_: SelectOption, selected: boolean) {\n    return selected ? this.expandedHeight : this.collapsedHeight;\n  }\n}","import { Colors, Sprite, Vec2 } from 'wglt';\n\nimport { CharacterClass } from '../classes/characterclass';\nimport { Paladin } from '../classes/paladin';\nimport { Game } from '../game';\nimport { CharacterRace } from '../races/characterrace';\nimport { Human } from '../races/human';\n\nimport { StatsActor } from './statsactor';\n\nconst PLAYER_SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\n\nexport class Player extends StatsActor {\n  xp: number;\n  maxXp: number;\n  race: CharacterRace;\n  class: CharacterClass;\n  remainingAbilityPoints: number;\n  home: Vec2;\n  keys: boolean[];\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Player', PLAYER_SPRITE);\n    this.level = 1;\n    this.hp = 10;\n    this.maxHp = 10;\n    this.xp = 0;\n    this.maxXp = 20;\n    this.race = new Human();\n    this.class = new Paladin();\n    this.remainingAbilityPoints = 0;\n    this.home = new Vec2(x, y);\n    this.keys = new Array(1000);\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    this.game.stopAutoWalk();\n    super.takeDamage(attacker, damage);\n  }\n\n  onDeath() {\n    this.game.log('You died!');\n  }\n\n  addXp(xpGain: number) {\n    this.xp += xpGain;\n    this.addFloatingText('+' + xpGain, Colors.LIGHT_MAGENTA);\n\n    let levelUp = false;\n    while (this.xp >= this.maxXp) {\n      this.level++;\n      this.xp -= this.maxXp;\n      this.maxXp = this.nextMaxXp(this.maxXp);\n      this.remainingAbilityPoints += 2;\n      this.game.log('You reached level ' + this.level, Colors.LIGHT_MAGENTA);\n      levelUp = true;\n    }\n\n    if (levelUp) {\n      this.recalculateMaxHp();\n      (this.game as Game).levelUpDialog.visible = true;\n    }\n  }\n\n  private nextMaxXp(oldMaxXp: number) {\n    return Math.round(oldMaxXp * 1.5 / 10.0) * 10.0;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Human';\nconst ICON = new Sprite(0, 730, 34, 34, undefined, undefined, undefined, 0xddae62FF);\nconst DESC = 'Young race with lust for power';\nconst DETAILS = [\n  new Message('+1 all attributes', Colors.LIGHT_GREEN),\n  new Message('Reduced stun times', Colors.YELLOW),\n  new Message('Hustle - when active, double actions', Colors.YELLOW),\n];\n\nexport class Human extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution++;\n    player.strength++;\n    player.dexterity++;\n    player.intelligence++;\n  }\n}\n","import {Ability, Actor, Colors, Item, Sprite, TargetType} from 'wglt';\nimport { Game } from '../game';\n\nconst SPRITE = new Sprite(736, 168, 16, 24, 1, true, undefined, 0xF0F0E0FF);\n\nexport class Scroll extends Item {\n  readonly ability: Ability;\n\n  constructor(game: Game, x: number, y: number, ability: Ability) {\n    super(game, x, y, 'scroll of ' + ability.name, SPRITE, false);\n    this.ability = ability;\n    this.tooltipMessages = ability.tooltipMessages;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    (this.game as Game).hideAllDialogs();\n\n    const ability = this.ability;\n    if (ability.targetType === TargetType.SELF) {\n      if (ability.cast(user)) {\n        user.inventory.remove(this);\n      }\n    } else {\n      this.game.startTargeting(ability, () => {\n        user.inventory.remove(this);\n      });\n    }\n    return true;\n  }\n}","import { Game, Item, Sprite } from 'wglt';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(688, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\nexport class Key extends Item {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y, 'key', SPRITE, false);\n    this.keyId = keyId;\n  }\n\n  onBump(player: Player) {\n    player.keys[this.keyId] = true;\n    player.moveTo(this.x, this.y);\n    this.game.entities.remove(this);\n    return true;\n  }\n}\n","import { Game, Item, Sprite, TileMap, getTileId } from 'wglt';\n\nconst TILE_OPEN_DOOR = getTileId(7, 20);\nconst SPRITE = new Sprite(256, 432, 16, 24, 1, true, undefined, 0x804020FF);\n\nexport abstract class Door extends Item {\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'door', SPRITE, true);\n    this.zIndex = 0;\n  }\n\n  openDoor() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    game.entities.remove(this);\n    map.setTile(0, this.x, this.y, TILE_OPEN_DOOR, false);\n  }\n}\n","import {App} from './app';\n\nconst app = new App();\n\n// Clear the window hash on load\n// Always start at the root\nif (window.location.hash && window.location.hash !== '#') {\n  window.location.hash = '';\n}\n\n// Subscribe to future window hash change events\nwindow.addEventListener('hashchange', handleHashChange);\n\nfunction handleHashChange() {\n  const hash = window.location.hash;\n\n  if (hash === '#game') {\n    app.startGame();\n\n  } else if (hash === '#chooserace') {\n    app.chooseRace();\n\n  } else if (hash === '#chooseclass') {\n    app.chooseClass();\n\n  } else if (hash === '#highscores') {\n    app.showHighScores();\n\n  } else if (hash === '#credits') {\n    app.showCredits();\n\n  } else {\n    app.showMainMenu();\n  }\n}\n","\nimport * as wglt from 'wglt';\nimport {AppState, Rect, FadeInAnimation} from 'wglt';\n\nimport {CharacterClass} from './classes/characterclass';\nimport {ClassMenu} from './classmenu';\nimport {Player} from './entities/player';\nimport {Game} from './game';\nimport {MainMenu} from './mainmenu';\nimport {RaceMenu} from './racemenu';\nimport {CharacterRace} from './races/characterrace';\nimport { Hearthstone } from './items/hearthstone';\n\nexport class App extends wglt.App {\n  readonly mainMenu: MainMenu;\n  readonly raceMenu: RaceMenu;\n  readonly classMenu: ClassMenu;\n  readonly highScores: AppState;\n  readonly credits: AppState;\n  game: Game;\n  playerRace?: CharacterRace;\n  playerClass?: CharacterClass;\n\n  constructor() {\n    super({\n      canvas: document.querySelector('canvas') as HTMLCanvasElement,\n      imageUrl: 'graphics.png',\n      size: new Rect(0, 0, 224, 400),\n      fillWindow: true\n    });\n\n    this.mainMenu = new MainMenu(this);\n    this.raceMenu = new RaceMenu(this);\n    this.classMenu = new ClassMenu(this);\n    this.highScores = new AppState(this);\n    this.credits = new AppState(this);\n    this.game = new Game(this);\n    this.showMainMenu();\n  }\n\n  showMainMenu() {\n    this.state = this.mainMenu;\n  }\n\n  chooseRace() {\n    this.state = this.raceMenu;\n  }\n\n  chooseClass() {\n    this.state = this.classMenu;\n  }\n\n  startGame() {\n    this.state = this.game;\n\n    // TODO: Where to put this logic?  Game constructor?\n    (this.game.player as Player).inventory.add(new Hearthstone(this.game));\n\n    if (this.playerRace) {\n      this.playerRace.initPlayer(this.game.player as Player);\n    }\n\n    if (this.playerClass) {\n      this.playerClass.initPlayer(this.game.player as Player);\n    }\n\n    this.game.addAnimation(new FadeInAnimation(30));\n  }\n\n  showHighScores() {\n    this.state = this.highScores;\n  }\n\n  showCredits() {\n    this.state = this.credits;\n  }\n}","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {CharacterClass} from './classes/characterclass';\nimport {Paladin} from './classes/paladin';\nimport {Priest} from './classes/priest';\nimport {Ranger} from './classes/ranger';\nimport {Rogue} from './classes/rogue';\nimport {Warlock} from './classes/warlock';\nimport {Warrior} from './classes/warrior';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\n\nconst CLASSES = [new Paladin(), new Priest(), new Ranger(), new Rogue(), new Warlock(), new Warrior()];\n\nexport class ClassMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your class', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), CLASSES);\n    selectDialog.renderer = new MenuItemRenderer(60, 30);\n\n    selectDialog.onSelect = (choice: CharacterClass) => {\n      (this.app as App).playerClass = choice;\n      window.location.hash = 'game';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Actor, AI, Colors} from 'wglt';\n\nexport class Stunned extends AI {\n  numTurns: number;\n  oldAi?: AI;\n\n  constructor(actor: Actor, turns: number) {\n    super(actor);\n    this.numTurns = turns;\n    this.oldAi = actor.ai;\n  }\n\n  doAi() {\n    if (this.numTurns > 0) {\n      // Stunned.  Sit still.\n      this.numTurns--;\n    } else {\n      this.actor.ai = this.oldAi;\n    }\n  }\n}\n","import { Item, Colors, Message } from 'wglt';\nimport { Player } from '../entities/player';\nimport { EquipmentBuilder } from './equipmentbuilder';\nimport { EquipmentSlot } from './equipmentslot';\nimport { EquipmentMaterial } from './equipmentmaterial';\nimport { EquipmentQuality } from './equipmentquality';\nimport { Game } from '../game';\n\nconst COLOR_POOR = 0x9D9D9DFF;\nconst COLOR_COMMON = 0xFFFFFFFF;\nconst COLOR_UNCOMMON = 0x1EFF00FF;\nconst COLOR_RARE = 0x0070DDFF;\nconst COLOR_EPIC = 0xA335EEFF;\nconst COLOR_LEGENDARY = 0xFF8000FF;\n\nexport class Equipment extends Item {\n  readonly itemLevel: number;\n  readonly slot: EquipmentSlot;\n  readonly material: EquipmentMaterial;\n  readonly quality: EquipmentQuality;\n  readonly armor: number;\n  readonly strength: number;\n  readonly dexterity: number;\n  readonly constitution: number;\n  readonly intelligence: number;\n  readonly minDamage: number;\n  readonly maxDamage: number;\n  readonly ranged: boolean;\n  readonly finesse: boolean;\n\n  constructor(builder: EquipmentBuilder) {\n    super(builder.game, builder.x, builder.y, builder.name, builder.sprite, false);\n    this.itemLevel = builder.itemLevel;\n    this.slot = builder.slot;\n    this.material = builder.material;\n    this.quality = builder.quality;\n    this.armor = builder.armor;\n    this.strength = builder.strength;\n    this.dexterity = builder.dexterity;\n    this.constitution = builder.constitution;\n    this.intelligence = builder.intelligence;\n    this.minDamage = builder.minDamage;\n    this.maxDamage = builder.maxDamage;\n    this.ranged = builder.ranged;\n    this.finesse = builder.finesse;\n    this.onUpdateTooltip();\n  }\n\n  private getColor(quality: EquipmentQuality) {\n    switch (quality) {\n      case EquipmentQuality.COMMON:\n        return COLOR_COMMON;\n      case EquipmentQuality.UNCOMMON:\n        return COLOR_UNCOMMON;\n      case EquipmentQuality.RARE:\n        return COLOR_RARE;\n      case EquipmentQuality.EPIC:\n        return COLOR_EPIC;\n      case EquipmentQuality.LEGENDARY:\n        return COLOR_LEGENDARY;\n      default:\n        return COLOR_POOR;\n    }\n  }\n\n  isStackable() {\n    return false;\n  }\n\n  onPickup(player: Player) {\n    this.game.log(player.name + ' picked up a ' + this.name, this.getColor(this.quality));\n  }\n\n  onUse(player: Player) {\n    player.equipItem(this);\n    return false;\n  }\n\n  onUpdateTooltip() {\n    const game = this.game as Game;\n    const player = game.player as Player;\n    const equipped = player.getEquipment(this.slot);\n    if (equipped && equipped !== this) {\n      this.buildComparisonTooltip(equipped);\n    } else {\n      this.buildNormalTooltip();\n    }\n  }\n\n  private buildComparisonTooltip(equipped: Equipment) {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel + ' (vs ' + equipped.itemLevel + ')', Colors.YELLOW));\n\n    if (this.material === EquipmentMaterial.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.material, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new Message(this.minDamage + '-' + this.maxDamage + ' Damage (vs ' + equipped.minDamage + '-' + equipped.maxDamage + ')', Colors.YELLOW));\n    }\n\n    if (this.armor > 0 || equipped.armor > 0) {\n      this.tooltipMessages.push(new Message(this.armor + ' Armor (vs ' + equipped.armor + ')', Colors.YELLOW));\n    }\n\n    if (this.strength > 0 || equipped.strength > 0) {\n      this.tooltipMessages.push(new Message('+' + this.strength + ' Strength (vs ' + equipped.strength + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.dexterity > 0 || equipped.dexterity > 0) {\n      this.tooltipMessages.push(new Message('+' + this.dexterity + ' Dexterity (vs ' + equipped.dexterity + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.constitution > 0 || equipped.constitution > 0) {\n      this.tooltipMessages.push(new Message('+' + this.constitution + ' Constitution (vs ' + equipped.constitution + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.intelligence > 0 || equipped.intelligence > 0) {\n      this.tooltipMessages.push(new Message('+' + this.intelligence + ' Intelligence (vs ' + equipped.intelligence + ')', Colors.LIGHT_GREEN));\n    }\n  }\n\n  private buildNormalTooltip() {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel, Colors.YELLOW));\n\n    if (this.material === EquipmentMaterial.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.material, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new Message(this.minDamage + '-' + this.maxDamage + ' Damage', Colors.YELLOW));\n    }\n\n    if (this.armor > 0) {\n      this.tooltipMessages.push(new Message(this.armor + ' Armor', Colors.YELLOW));\n    }\n\n    if (this.strength > 0) {\n      this.tooltipMessages.push(new Message('+' + this.strength + ' Strength', Colors.LIGHT_GREEN));\n    }\n\n    if (this.dexterity > 0) {\n      this.tooltipMessages.push(new Message('+' + this.dexterity + ' Dexterity', Colors.LIGHT_GREEN));\n    }\n\n    if (this.constitution > 0) {\n      this.tooltipMessages.push(new Message('+' + this.constitution + ' Constitution', Colors.LIGHT_GREEN));\n    }\n\n    if (this.intelligence > 0) {\n      this.tooltipMessages.push(new Message('+' + this.intelligence + ' Intelligence', Colors.LIGHT_GREEN));\n    }\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {FireballAbility} from '../abilities/fireball';\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LightningAbility} from '../abilities/lightning';\nimport { Game } from '../game';\nimport {Player} from '../entities/player';\nimport {CharacterClass} from './characterclass';\nimport { BubbleAbility } from '../abilities/bubble';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, BOOTS_SPRITE_1, ROBE_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nconst NAME = 'Priest';\nconst ICON = new Sprite(0, 700, 24, 26, undefined, undefined, undefined, 0xFFFFFFFF);\nconst SPRITE = new Sprite(384, 96, 16, 24, 2, true, undefined, 0xf8f8f8ff);\nconst DESC = 'Devoted to the spiritual, powerful healing magic';\nconst DETAILS = [\n  new Message('+5 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Priest extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new FireballAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.talents.add(new Talent(player, new BubbleAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(EquipmentQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.intelligence += 5;\n  }\n}\n","import {Colors, Animation, Game, ProjectileAnimation, Sprite, Vec2} from 'wglt';\n\nexport class ExplosionAnimation extends Animation {\n  readonly game: Game;\n  readonly center: Vec2;\n  readonly radius: number;\n  readonly duration: number;\n  readonly sprites: Sprite[];\n\n  constructor(game: Game, center: Vec2, radius: number, duration: number) {\n    super(duration, true);\n    this.game = game;\n    this.center = center;\n    this.radius = radius;\n    this.duration = duration;\n    this.sprites = [];\n  }\n\n  update() {\n    super.update();\n\n    const game = this.game;\n    const maxRadius = this.radius * (1.0 - (this.countdown + 1) / (this.duration + 1));\n    const centerX = (this.center.x) * game.tileSize.width;\n    const centerY = (this.center.y) * game.tileSize.height;\n\n    for (let i = 0; i < 3; i++) {\n      const radius = maxRadius;\n      const angle = this.countdown + i;\n      const x = centerX + game.tileSize.width * radius * Math.cos(angle);\n      const y = centerY + game.tileSize.height * radius * Math.sin(angle);\n      const explosion = new Sprite(512, 336, 16, 24, 4, false, 4, Colors.ORANGE);\n      const animation = new ProjectileAnimation(explosion, new Vec2(x, y), new Vec2(0, 0), 16);\n      animation.blocking = false;\n      game.animations.push(animation);\n    }\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Bubble } from '../buffs/bubble';\n\nconst SPRITE = new Sprite(896, 216, 16, 24, 1, true, undefined, 0xCCEEFFFF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Bubble', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Shields the caster absorbing 4 + INT', Colors.YELLOW),\n  new Message('damage.', Colors.YELLOW),\n];\n\nexport class BubbleAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Bubble';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Bubble) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have a bubble.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const absorb = 4 + caster.intelligenceModifier;\n    caster.buffs.push(new Bubble(caster, absorb));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\nimport { Sprite, Color } from 'wglt';\n\nconst COLOR = 0xAADDFFFF as Color;\nconst SPRITE = new Sprite(608, 408, 16, 24, 2, true, undefined, COLOR);\n\nexport class Bubble extends Buff {\n  remaining: number;\n\n  constructor(actor: StatsActor, remaining: number) {\n    super(actor);\n    this.remaining = remaining;\n  }\n\n  modifyDamageTaken(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    const absorb = Math.min(this.remaining, damage);\n    this.remaining -= absorb;\n    if (this.remaining <= 0) {\n      this.actor.game.log('Absorbed the last ' + absorb + ' of the bubble!', COLOR);\n    } else {\n      this.actor.game.log('Bubble absorbed ' + absorb + ' damage.', COLOR);\n    }\n    return damage - absorb;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.remaining <= 0;\n  }\n}","import { Colors, Message, Sprite, Talent } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { ShootAbility } from '../abilities/shoot';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, MACE_SPRITE_1, CROSSBOW_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nconst NAME = 'Ranger';\nconst ICON = new Sprite(168, 700, 24, 26, undefined, undefined, undefined, 0x80FF80FF);\nconst SPRITE = new Sprite(64, 120, 16, 24, 2, true, undefined, 0x80FF80FF);\nconst DESC = 'Strategy and finesse, attacking from a distance';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Ranger extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new ShootAbility()));\n    player.talents.add(new Talent(player, new LeapAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Weathered Crossbow')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(EquipmentQuality.COMMON)\n      .withDamage(1, 2, true, true)\n      .withSprite(CROSSBOW_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.strength += 2;\n    player.dexterity += 2;\n  }\n}\n","import { Ability, Colors, Message, Sprite, TargetType } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(896, 96, 16, 24, 1, false, undefined, 0x40D0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shoot', Colors.WHITE),\n  new Message('30 yard range', Colors.WHITE),\n  new Message('Requires a ranged weapon.', Colors.WHITE)\n];\n\nexport class ShootAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'shoot';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    const weapon = caster.mainHandWeapon;\n    if (!weapon || !weapon.ranged) {\n      if (caster === game.player) {\n        game.log('Shoot requires a ranged weapon.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.takeDamage(caster, caster.getDamage());\n    caster.ap--;\n    return true;\n  }\n}","import { Colors, Message, Sprite, Talent } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { ShadowStrikeAbility } from '../abilities/shadowstrike';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, BOOTS_SPRITE_1, DAGGER_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { HealthPotion } from '../items/healthpotion';\n\nconst NAME = 'Rogue';\nconst ICON = new Sprite(144, 700, 24, 26, undefined, undefined, undefined, 0xA00000FF);\nconst SPRITE = new Sprite(192, 96, 16, 24, 2, true, undefined, 0xA00000FF);\nconst DESC = 'Lethal assasins and masters of stealth';\nconst DETAILS = [\n  new Message('+5 Dexterity', Colors.LIGHT_GREEN), new Message('Stealth - go invisible for 10 turns', Colors.YELLOW),\n  new Message('Shadow Strike - sneak attack from a distance', Colors.YELLOW)\n];\n\nexport class Rogue extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new ShadowStrikeAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(EquipmentQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Worn Dirk')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(EquipmentQuality.COMMON)\n      .withDamage(1, 2, false, true)\n      .withSprite(DAGGER_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.dexterity += 5;\n  }\n}\n","import {Ability, Colors, Message, SlideAnimation, Sprite, TargetType, Vec2} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xc4c4c4ff);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shadow Strike', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Appear behind your target up to 25 yards away,', Colors.YELLOW),\n  new Message('dealing double damage.', Colors.YELLOW)\n];\n\nexport class ShadowStrikeAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Shadow Strike';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    let farthestTile: Vec2 | null = null;\n    let farthestDistance = 0.0;\n\n    for (let y = target.y - 1; y <= target.y + 1; y++) {\n      for (let x = target.x - 1; x <= target.x + 1; x++) {\n        if (Math.hypot(x - target.x, y - target.y) > 1.001) {\n          // Too far away from the target\n          continue;\n        }\n        if (game.isBlocked(x, y)) {\n          // Blocked or occupied\n          continue;\n        }\n        const distance = caster.distance(x, y);\n        if (distance > farthestDistance) {\n          farthestTile = new Vec2(x, y);\n          farthestDistance = distance;\n        }\n      }\n    }\n\n    if (!farthestTile) {\n      if (caster === game.player) {\n        game.log('No free spaces available.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (farthestTile.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (farthestTile.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = (farthestTile as Vec2).x;\n      caster.y = (farthestTile as Vec2).y;\n      caster.attack(target, caster.getDamage() * 2);\n      caster.ap--;\n    });\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {CurseAbility} from '../abilities/curse';\nimport {DemonicGatewayAbility} from '../abilities/demonicgateway';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, ROBE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nimport {CharacterClass} from './characterclass';\nimport { Game } from '../game';\n\nconst NAME = 'Warlock';\nconst ICON = new Sprite(24, 700, 24, 26, undefined, undefined, undefined, 0xA020A0FF);\nconst SPRITE = new Sprite(416, 96, 16, 24, 2, true, undefined, 0xA020A0FF);\nconst DESC = 'Practitioners of the dark arts';\nconst DETAILS = [\n  new Message('+2 Constitution, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Demonic Gateway - teleport by dark magic', Colors.YELLOW)\n];\n\nexport class Warlock extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new CurseAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new DemonicGatewayAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(EquipmentQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\n\nimport {Curse} from '../buffs/curse';\nimport {StatsActor} from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(880, 144, 16, 24, 1, false, undefined, 0xC040C0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Curse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Corrupts the target, causing (1 + INT) / 4', Colors.YELLOW),\n  new Message('damage per turn for 8 turns.', Colors.YELLOW),\n];\n\nexport class CurseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Curse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const damage = Math.round((1 + caster.intelligenceModifier) / 4);\n    target.buffs.push(new Curse(caster, target, damage, 8));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\n\nexport class Curse extends Buff {\n  caster: StatsActor;\n  damage: number;\n  countdown: number;\n\n  constructor(caster: StatsActor, target: StatsActor, damage: number, duration: number) {\n    super(target);\n    this.caster = caster;\n    this.damage = damage;\n    this.countdown = duration;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.actor.takeDamage(this.caster, this.damage);\n      this.countdown--;\n    }\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import {Ability, Colors, Message, Sprite, TargetType, TileMapCell} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport {Gateway} from '../items/gateway';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Demonic Gateway', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Creates a demonic gateway between two', Colors.YELLOW),\n  new Message('locations. User can transport to the other gateway.', Colors.YELLOW),\n];\n\nexport class DemonicGatewayAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Demonic Gateway';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const gateway1 = new Gateway(game, caster.x, caster.y, caster);\n    const gateway2 = new Gateway(game, target.x, target.y, caster);\n    gateway1.other = gateway2;\n    gateway2.other = gateway1;\n    game.entities.add(gateway1);\n    game.entities.add(gateway2);\n    caster.move(target.x - caster.x, target.y - caster.y, 16);\n    caster.ap--;\n    return true;\n  }\n}","import { Game, Item, Sprite } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\n\nexport class Gateway extends Item {\n  readonly owner: StatsActor;\n  other?: Gateway;\n\n  constructor(game: Game, x: number, y: number, owner: StatsActor) {\n    super(game, x, y, 'gateway', SPRITE, false);\n    this.owner = owner;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n    player.move(exit.x - player.x, exit.y - player.y, 16);\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { RageAbility } from '../abilities/rage';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, MACE_SPRITE_1, SWORD_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentQuality } from '../equipment/equipmentquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { HealthPotion } from '../items/healthpotion';\n\nconst NAME = 'Warrior';\nconst ICON = new Sprite(216, 700, 24, 26, undefined, undefined, undefined, 0x804000FF);\nconst SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\nconst DESC = 'Lords of war, strength, and combat';\nconst DETAILS = [\n  new Message('+5 Strength, +2 Constitution', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\nexport class Warrior extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new RageAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(EquipmentQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Worn Greatsword')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(EquipmentQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(SWORD_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.strength += 5;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Rage } from '../buffs/rage';\n\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xDD2222FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Rage', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Become enraged increasing damage by', Colors.YELLOW),\n  new Message('100% for 8 turns.', Colors.YELLOW),\n];\n\nexport class RageAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Rage';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Rage) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have rage.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const duration = 8;\n    caster.buffs.push(new Rage(caster, duration));\n    caster.ap--;\n    return true;\n  }\n}","import { StatsActor } from '../entities/statsactor';\n\nimport { Buff } from './buff';\nimport { Sprite, Color } from 'wglt';\n\nconst COLOR = 0xDD2222FF as Color;\nconst SPRITE = new Sprite(640, 408, 16, 24, 2, true, undefined, COLOR);\n\nexport class Rage extends Buff {\n  countdown: number;\n\n  constructor(actor: StatsActor, countdown: number) {\n    super(actor);\n    this.countdown = countdown;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.countdown--;\n    }\n  }\n\n  modifyDamageDealt(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    return damage * 2;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import * as wglt from 'wglt';\nimport {Actor, App, Button, Colors, Entity, FadeInAnimation, FadeOutAnimation, Item, ItemContainerDialog, Message, MessageLog, Rect, Sprite, TalentsDialog, Vec2, Dialog} from 'wglt';\n\nimport {CatEscapeAnimation} from './animations/catescapeanimation';\nimport {Cat} from './entities/cat';\nimport {Player} from './entities/player';\nimport {BottomPanel} from './gui/bottompanel';\nimport {CharacterDialog} from './gui/characterdialog';\nimport {TopPanel} from './gui/toppanel';\nimport {MapGenerator} from './mapgen';\nimport {Gateway} from './items/gateway';\nimport { LevelUpDialog } from './gui/levelupdialog';\nimport { EntityFrames } from './gui/entityframes';\nimport { Hearthstone } from './items/hearthstone';\nimport { Gold } from './items/gold';\nimport { HealthPotion } from './items/healthpotion';\nimport { Scroll } from './items/scroll';\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst TARGET_SPRITE = new Sprite(16, 40, SPRITE_WIDTH, SPRITE_HEIGHT);\n\nexport class Game extends wglt.Game {\n  private readonly mapGen: MapGenerator;\n  cat?: Cat;\n  inventoryDialog: ItemContainerDialog;\n  talentsDialog: TalentsDialog;\n  characterDialog: CharacterDialog;\n  levelUpDialog: LevelUpDialog;\n\n  constructor(app: App) {\n    super(app, {\n      tileSize: new Rect(0, 0, 16, 24),\n      horizontalViewDistance: 8,\n      verticalViewDistance: 6\n    });\n\n    this.targetSprite = TARGET_SPRITE;\n    this.cooldownSprite = new Sprite(192, 16, 16, 24, 24);\n    this.blackoutRect = new Rect(0, 40, 16, 16);\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.mapGen = new MapGenerator(this);\n\n    const player = new Player(this, 30, 20);\n    this.player = player;\n    this.entities.add(player);\n    this.gui.renderer.baseRect = new Rect(0, 16, 24, 24);\n    this.gui.renderer.buttonSlotRect = new Rect(64, 16, 20, 28);\n    this.messageLog = new MessageLog(new Rect(1, -84, 100, 50));\n    this.gui.add(this.messageLog);\n    this.log('Welcome stranger! Prepare to perish!', Colors.DARK_RED);\n\n    const topPanel = new TopPanel(player);\n    this.gui.add(topPanel);\n\n    const bottomPanel = new BottomPanel();\n    this.gui.add(bottomPanel);\n\n    this.gui.add(new EntityFrames(this));\n\n    const inventoryButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(832, 168, 16, 24, 1, true, 30, 0xe08020ff),\n        undefined,\n        () => {\n          this.hideAllDialogs();\n          this.inventoryDialog.visible = true;\n        });\n    inventoryButton.tooltipMessages = [\n      new Message('Traveler\\'s Backpack', Colors.GREEN),\n      new Message('Item Level 55', Colors.YELLOW),\n      new Message('16 Slot Bag', Colors.WHITE),\n      new Message('Sell Price: 87 coins', Colors.WHITE)\n    ];\n    bottomPanel.inventorySlot.add(inventoryButton);\n\n    const characterButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(640, 240, 16, 24, undefined, undefined, undefined, 0xffcf5cff),\n        undefined,\n        () => {\n          this.hideAllDialogs();\n          this.characterDialog.visible = true;\n        });\n    characterButton.tooltipMessages = [\n      new Message('Character', Colors.WHITE),\n      new Message('Currently equipped items,', Colors.YELLOW),\n      new Message('stats and abilities.', Colors.YELLOW)\n    ];\n    topPanel.characterSlot.add(characterButton);\n\n    const talentsButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(656, 360, 16, 24, undefined, undefined, undefined, Colors.LIGHT_BLUE),\n        undefined, () => {\n          this.hideAllDialogs();\n          this.talentsDialog.visible = true;\n        });\n    talentsButton.tooltipMessages = [\n      new Message('Talents', Colors.WHITE),\n      new Message('A list of all of your', Colors.YELLOW),\n      new Message('character\\'s talents.', Colors.YELLOW)\n    ];\n    topPanel.talentsSlot.add(talentsButton);\n\n    const menuButton = new Button(\n        new Rect(0, 0, 20, 28),\n        new Sprite(352, 672, 16, 24, undefined, undefined, undefined, Colors.LIGHT_GRAY),\n        undefined,\n        () => {\n          window.location.hash = 'menu';\n        });\n    menuButton.tooltipMessages = [new Message('Main Menu', Colors.WHITE)];\n    topPanel.menuSlot.add(menuButton);\n\n    this.inventoryDialog = new ItemContainerDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Traveler\\'s Backpack', Colors.GREEN),\n          new Message('Click an item to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.inventory);\n    this.inventoryDialog.visible = false;\n    this.gui.add(this.inventoryDialog);\n\n    this.characterDialog = new CharacterDialog(new Rect(4, 38, 120, 126), player);\n    this.characterDialog.visible = false;\n    this.gui.add(this.characterDialog);\n\n    this.talentsDialog = new TalentsDialog(\n        new Rect(4, 38, 94, 126),\n        [\n          new Message('Talents', Colors.GREEN),\n          new Message('Click an ability to use', Colors.LIGHT_GRAY),\n          new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n        ],\n        16,\n        player.talents);\n    this.talentsDialog.visible = false;\n    this.gui.add(this.talentsDialog);\n\n    const levelUpDialog = new LevelUpDialog(new Rect(4, 38, 140, 126), player);\n    levelUpDialog.visible = false;\n    this.gui.add(levelUpDialog);\n    this.levelUpDialog = levelUpDialog;\n\n    player.inventory.addListener({\n      onAdd: (_, item) => {\n        if (!(item instanceof HealthPotion) && !(item instanceof Scroll)) {\n          // Only add health potions and scrolls\n          return;\n        }\n        bottomPanel.shortcutBar.addItem(player.inventory, item, true);\n      },\n      onRemove: () => {}\n    });\n\n    player.talents.addListener({\n      onAdd: (_, talent) => {\n        bottomPanel.shortcutBar.addTalent(talent);\n      },\n      onRemove: () => {}\n    });\n\n    // Generate the map\n    this.mapGen.createMap();\n  }\n\n  hideAllDialogs() {\n    this.inventoryDialog.visible = false;\n    this.characterDialog.visible = false;\n    this.talentsDialog.visible = false;\n  }\n\n  warpToPoint(point: Vec2) {\n    this.addAnimation(new FadeOutAnimation(30)).then(() => {\n      if (this.player) {\n        this.player.x = point.x;\n        this.player.y = point.y;\n      }\n      this.stopAutoWalk();\n      this.resetViewport();\n      this.recomputeFov();\n      this.addAnimation(new FadeInAnimation(30));\n    });\n  }\n}\n","import {ButtonSlot, Keys, Panel, Rect, ShortcutBar} from 'wglt';\n\nexport class BottomPanel extends Panel {\n  constructor() {\n    super(new Rect(0, -43, 400, 43));\n\n    // Create 6 slots for the action bar\n    this.add(new ShortcutBar(new Rect(0, 0, 6 * 24, 28), 6));\n\n    // Create a slot for the inventory button\n    this.add(new ButtonSlot(new Rect(100, 0, 20, 28), Keys.VK_I));\n  }\n\n  get shortcutBar(): ShortcutBar {\n    return this.children.get(0) as ShortcutBar;\n  }\n\n  get inventorySlot(): ButtonSlot {\n    return this.children.get(this.children.length - 1) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const y = app.size.height - 43;\n    app.drawImage(0, y, 48, 16, 16, 48, undefined, app.size.width, 48);\n\n    // Update button y-positions\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.y = app.size.height - 31;\n    }\n\n    // Update inventory button to be right-aligned\n    this.inventorySlot.rect.x = app.size.width - 22;\n\n    this.drawChildren();\n  }\n}\n","import {ButtonSlot, Colors, Dialog, ItemButton, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport {Equipment} from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\n\nexport class CharacterDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const capacity = 10;\n    for (let i = 0; i < capacity; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24)));\n    }\n\n    player.equipment.addListener(\n        {onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get headSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get neckSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get backSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get chestSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  get handsSlot(): ButtonSlot {\n    return this.children.get(4) as ButtonSlot;\n  }\n\n  get legsSlot(): ButtonSlot {\n    return this.children.get(5) as ButtonSlot;\n  }\n\n  get feetSlot(): ButtonSlot {\n    return this.children.get(6) as ButtonSlot;\n  }\n\n  get ringSlot(): ButtonSlot {\n    return this.children.get(7) as ButtonSlot;\n  }\n\n  get mainHandSlot(): ButtonSlot {\n    return this.children.get(8) as ButtonSlot;\n  }\n\n  get offHandSlot(): ButtonSlot {\n    return this.children.get(9) as ButtonSlot;\n  }\n\n  private addItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      slot.add(new ItemButton(slot.rect.clone(), this.player.inventory, item));\n    }\n  }\n\n  private removeItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      const button = slot.button;\n      if (button) {\n        slot.remove(button);\n      }\n    }\n  }\n\n  private getSlot(item: Equipment) {\n    switch (item.slot) {\n      case EquipmentSlot.HEAD:\n        return this.headSlot;\n      case EquipmentSlot.NECK:\n        return this.neckSlot;\n      case EquipmentSlot.BACK:\n        return this.backSlot;\n      case EquipmentSlot.CHEST:\n        return this.chestSlot;\n      case EquipmentSlot.HANDS:\n        return this.handsSlot;\n      case EquipmentSlot.LEGS:\n        return this.legsSlot;\n      case EquipmentSlot.FEET:\n        return this.feetSlot;\n      case EquipmentSlot.RING:\n        return this.ringSlot;\n      case EquipmentSlot.MAINHAND:\n        return this.mainHandSlot;\n      case EquipmentSlot.OFFHAND:\n        return this.offHandSlot;\n      default:\n        return undefined;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawCenteredString('ORYX THE BRAVE', centerX, y, Colors.WHITE);\n    y += 10;\n\n    const desc = 'Level ' + this.player.level + ' ' + this.player.race.name + ' ' + this.player.class.name;\n\n    this.gui.app.drawCenteredString(desc, centerX, y, Colors.WHITE);\n    y += 10;\n\n    // Draw the player sprite at 2x\n    this.player.sprite.draw(this.gui.app, centerX - 8, y + 32);\n\n    // Left column:  head, neck, back, chest\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    // Right column: hands, legs, ring1, ring2\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(4 + i);\n      child.rect.x = containerRect.x2 - MARGIN - buttonRect.width;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    this.mainHandSlot.rect.x = centerX - buttonRect.width - 1;\n    this.mainHandSlot.rect.y = y + 90;\n    this.mainHandSlot.rect.width = buttonRect.width;\n    this.mainHandSlot.rect.height = buttonRect.height;\n\n    this.offHandSlot.rect.x = centerX + 1;\n    this.offHandSlot.rect.y = y + 90;\n    this.offHandSlot.rect.width = buttonRect.width;\n    this.offHandSlot.rect.height = buttonRect.height;\n\n    y += 4 * (buttonRect.height + BUTTON_SPACING) + MARGIN;\n\n    this.gui.app.drawString('Armor', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.armor.toString(), x + 85, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Constitution', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.constitution.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.constitutionModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Strength', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.strength.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.strengthModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Dexterity', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.dexterity.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.dexterityModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Intelligence', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.intelligence.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.intelligenceModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { ButtonSlot, Colors, Keys, Panel, Rect } from 'wglt';\n\nimport { Player } from '../entities/player';\n\nexport class TopPanel extends Panel {\n  readonly player: Player;\n\n  constructor(player: Player) {\n    super(new Rect(0, 0, 400, 42));\n    this.player = player;\n\n    // Character / inventory\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_C));\n\n    // Talents / abilities\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_N));\n\n    // Inspect\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_QUESTION_MARK));\n\n    // Main menu\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_Q));\n  }\n\n  get characterSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get talentsSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get inspectSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get menuSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.player.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n\n    // Draw the overall top panel frame\n    app.drawImage(0, 0, 32, 22, 16, 42, undefined, app.size.width, 42);\n\n    // Draw the frame\n    const x = 2;\n    const y = 2;\n    const actor = this.player;\n    app.drawImage(x, y, 64, 48, 54, 18);\n\n    // Draw the name\n    app.drawCenteredString('ORYX', x + 20, y + 1, Colors.WHITE);\n\n    // Draw the health\n    const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n    app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n    app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n    // Draw the level\n    app.drawCenteredString(actor.level.toString(), x + 47, y + 5, Colors.WHITE);\n\n    // Update button x-positions to right align\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.x = app.size.width - 22 * (4 - i);\n    }\n\n    this.drawChildren();\n  }\n}\n","import { Rect, Sprite, TileMap, Vec2, computePath, getTileId } from 'wglt';\n\nimport { ConfuseAbility } from './abilities/confuse';\nimport { FireballAbility } from './abilities/fireball';\nimport { LightningAbility } from './abilities/lightning';\nimport { Bat } from './entities/bat';\nimport { Griffon } from './entities/griffon';\nimport { Player } from './entities/player';\nimport { Shark } from './entities/shark';\nimport { Spider } from './entities/spider';\nimport { Troll } from './entities/troll';\nimport { Game } from './game';\nimport { HealthPotion } from './items/healthpotion';\nimport { Scroll } from './items/scroll';\nimport { RedDragon } from './entities/reddragon';\nimport { Guard } from './entities/guard';\nimport { Portal } from './items/portal';\nimport { Dungeon } from './dungeon';\nimport { LockedDoor } from './items/lockeddoor';\nimport { Key } from './items/key';\nimport { BossDoor } from './items/bossdoor';\nimport { King } from './entities/king';\nimport { Ghost } from './entities/ghost';\nimport { WindElemental } from './entities/windelemental';\n\n// Size of the map\nconst MAP_WIDTH = 512;\nconst MAP_HEIGHT = 512;\n\nconst OVERWORLD_WIDTH = 256;\nconst OVERWORLD_HEIGHT = 256;\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\nconst TILE_EMPTY = 0;\nconst TILE_SHADOW = getTileId(0, 3);\nconst TILE_WALL = getTileId(0, 19);\nconst TILE_HALF_WALL = getTileId(0, 20);\nconst TILE_HALF_WALL2 = getTileId(1, 20);\nconst TILE_HALF_WALL3 = getTileId(2, 20);\nconst TILE_FLOOR = getTileId(13, 17);\nconst TILE_WATER = getTileId(0, 18);\nconst TILE_BRIDGE = getTileId(15, 27);\nconst TILE_COBWEB_NORTHWEST = getTileId(28, 22);\nconst TILE_COBWEB_NORTHEAST = getTileId(29, 22);\nconst TILE_COBWEB_SOUTHWEST = getTileId(30, 22);\nconst TILE_COBWEB_SOUTHEAST = getTileId(31, 22);\nconst TILE_CLOSED_DOOR = getTileId(7, 19);\nconst TILE_STAIRS_DOWN = getTileId(14, 18);\nconst TILE_STAIRS_UP = getTileId(15, 18);\nconst TILE_BARREL = getTileId(24, 19);\nconst TILE_STATUE = getTileId(16, 20);\nconst TILE_GRASS = getTileId(0, 17);\nconst TILE_TREE1 = getTileId(20, 23);\nconst TILE_TREE2 = getTileId(22, 23);\nconst TILE_PATH = getTileId(18, 17);\nconst TILE_FENCE1 = getTileId(16, 22);\nconst TILE_FENCE2 = getTileId(17, 22);\nconst TILE_FENCE3 = getTileId(18, 22);\nconst TILE_FENCE4 = getTileId(19, 22);\nconst TILE_FENCE5 = getTileId(20, 22);\nconst TILE_FENCE6 = getTileId(21, 22);\nconst TILE_FENCE7 = getTileId(22, 22);\nconst TILE_FENCE8 = getTileId(23, 22);\nconst TILE_FENCE9 = getTileId(24, 22);\nconst TILE_FENCE10 = getTileId(25, 22);\n\n// Parameters for dungeon generator\nconst ROOM_MIN_WIDTH = 6;\nconst ROOM_MAX_WIDTH = 10;\nconst ROOM_MIN_HEIGHT = 4;\nconst ROOM_MAX_HEIGHT = 8;\nconst MAX_ROOMS = 10;\nconst MAX_ROOM_MONSTERS = 3;\nconst MAX_ROOM_ITEMS = 2;\nconst MAX_ROOM_OBSTACLES = 4;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst STAIRS_SPRITE = new Sprite(700, 500, SPRITE_WIDTH, SPRITE_HEIGHT, 1);\n\nconst BOSS_ZONE_HEIGHT = 10;\nconst BOSS_LAYOUTS = [\n  {\n    // Top left\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, 2, 14, 8),\n    stairsRoom: new Rect(2, 4, 4, 4)\n  },\n  {\n    // Top right\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, 2, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, 4, 4, 4)\n  },\n  {\n    // Bottom left\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(2, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n  {\n    // Bottom right\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n];\n\nexport class MapGenerator {\n  readonly game: Game;\n  nextKeyId = 0;\n\n  constructor(game: Game) {\n    this.game = game;\n\n    const map = new TileMap(game.app.gl, MAP_WIDTH, MAP_HEIGHT, 4);\n    map.tileWidth = 16;\n    map.tileHeight = 24;\n    game.tileMap = map;\n  }\n\n  createMap() {\n    this.createOverworld();\n\n    const dungeons = [];\n    for (let i = 0; i < 10; i++) {\n      const x = MAP_WIDTH - DUNGEON_WIDTH;\n      const y = i * DUNGEON_HEIGHT;\n      const dungeon = new Dungeon(new Rect(x, y, DUNGEON_WIDTH, DUNGEON_HEIGHT), i);\n      this.createDungeon(dungeon);\n      dungeons.push(dungeon);\n    }\n\n    // Create portal entrance\n    const game = this.game;\n    const player = game.player as Player;\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0x00FFFFFF);\n    const portal1 = new Portal(game, player.x + 4, player.y, 'portal', portalSprite);\n    const portal2 = dungeons[0].entrance as Portal;\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n    game.entities.add(portal2);\n\n    // Connect all of the dungeon floors to each other\n    for (let i = 1; i < 10; i++) {\n      const exit = dungeons[i - 1].exit as Portal;\n      const entrance = dungeons[i].entrance as Portal;\n      exit.other = entrance;\n      entrance.other = exit;\n    }\n\n    // Touch-up (add shadows, other ambient effects)\n    this.touchUp(this.game.tileMap as TileMap);\n  }\n\n  createOverworld() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    const player = game.player as Player;\n    const rng = game.rng;\n\n    const outerOverworld = new Rect(0, 0, OVERWORLD_WIDTH, OVERWORLD_HEIGHT);\n    const overworld = new Rect(4, 4, OVERWORLD_WIDTH - 8, OVERWORLD_HEIGHT - 8);\n\n    this.clearMap(map, outerOverworld, TILE_WATER, true, false);\n    this.clearMap(map, overworld, TILE_GRASS, false, false);\n\n    player.x = (OVERWORLD_WIDTH / 2) | 0;\n    player.y = (OVERWORLD_HEIGHT / 2) | 0;\n    player.home.x = player.x;\n    player.home.y = player.y;\n\n    // Make sure there's a ring of water around the map\n    const point = new Vec2(0, 0);\n    for (point.y = outerOverworld.y1; point.y < outerOverworld.y2; point.y++) {\n      for (point.x = outerOverworld.x1; point.x < outerOverworld.x2; point.x++) {\n        if (!overworld.contains(point)) {\n          map.setAnimated(point.x, point.y, 0, true);\n        }\n      }\n    }\n\n    // Create a river\n    this.createRiver(map, overworld, 5000);\n\n    // Make sure the player starts on ground\n    for (let y = player.y - 4; y <= player.y + 4; y++) {\n      for (let x = player.x - 4; x <= player.x + 4; x++) {\n        map.setTile(0, x, y, TILE_GRASS, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create graveyards\n    const graveyards = [];\n    for (let i = 0; i < 1; i++) {\n      const w = rng.nextRange(14, 18);\n      const h = rng.nextRange(8, 12);\n      const x = rng.nextRange(overworld.x1, overworld.x2 - w);\n      const y = rng.nextRange(overworld.y1, overworld.y2 - h);\n      const graveyard = new Rect(x, y, w, h);\n      const center = graveyard.getCenter();\n      for (let y = graveyard.y1; y < graveyard.y2; y++) {\n        for (let x = graveyard.x1; x < graveyard.x2; x++) {\n          if (x === graveyard.x1 && y === graveyard.y1) {\n            // Top-left corner\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE8);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y1) {\n            // Top-right corner\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE7);\n\n          } else if (x === graveyard.x1 && y === graveyard.y2 - 1) {\n            // Bottom-left corner\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE6);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y2 - 1) {\n            // Bottom-right corner\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE5);\n\n          } else if (x === graveyard.x1) {\n            // Vertical-left fence\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE10);\n\n          } else if (x === graveyard.x2 - 1) {\n            // Vertical-right fence\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE9);\n\n          } else if (y === graveyard.y1 || y === graveyard.y2 - 1) {\n            // Horizontal fence\n            map.setTile(0, x, y, TILE_GRASS, true, false);\n            map.setTile(1, x, y, TILE_FENCE1);\n\n          } else {\n            // Middle space\n            map.setTile(0, x, y, TILE_GRASS, false);\n            map.setAnimated(x, y, 0, false);\n          }\n        }\n      }\n\n      // Create entrances\n      map.setTile(0, center.x, graveyard.y1, TILE_GRASS, false);\n      map.setTile(1, center.x, graveyard.y1, TILE_EMPTY);\n      map.setTile(0, center.x, graveyard.y2 - 1, TILE_GRASS, false);\n      map.setTile(1, center.x, graveyard.y2 - 1, TILE_EMPTY);\n\n      // Create a ghost\n      const ghost = new Ghost(game, center.x, center.y, 15);\n      game.entities.add(ghost);\n\n      graveyards.push(graveyard);\n    }\n\n    // Create trees\n    for (let i = 0; i < 2000; i++) {\n      const treeX = rng.nextRange(overworld.x1, overworld.x2);\n      const treeY = rng.nextRange(overworld.y1, overworld.y2);\n      if ((treeX !== player.x || treeY !== player.y) &&\n          map.getTile(treeX, treeY) === TILE_GRASS &&\n          !map.isBlocked(treeX, treeY)) {\n\n        map.setTile(0, treeX, treeY, TILE_GRASS, true);\n        const treeType = rng.nextRange(0, 2);\n        if (treeType === 0) {\n          map.setTile(1, treeX, treeY, TILE_TREE1);\n        } else {\n          map.setTile(1, treeX, treeY, TILE_TREE2);\n        }\n      }\n    }\n\n    // Create the main castle\n    const castle = this.createCastle(map);\n\n    // Create a road from the player to the castle\n    const path = computePath(map, player, castle.getCenter(), 10000);\n    if (path) {\n      for (let i = 0; i < path.length; i++) {\n        if (map.getTile(path[i].x, path[i].y) === TILE_GRASS) {\n          map.setTile(1, path[i].x, path[i].y, TILE_PATH);\n        }\n      }\n    } else {\n      console.log('eek! no path!');\n    }\n\n    // Create baddies\n    for (let i = 0; i < 500; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(overworld.x1 + 1, overworld.x2 - 2);\n      const y = rng.nextRange(overworld.y1 + 1, overworld.y2 - 2);\n\n      if (map.getTile(x, y) !== TILE_GRASS || map.isBlocked(x, y)) {\n        // Not grass, ignore\n        continue;\n      }\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const distance = Math.hypot(x - player.x, y - player.y);\n      if (distance < 20) {\n        // Too close to start location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = Math.round((distance - 20) / 10) + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.add(monster);\n    }\n\n    // Create portal entrance\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0xFF00FFFF);\n    const portal1 = new Portal(game, player.x + 2, player.y, 'portal', portalSprite);\n    const portal2 = new Portal(game, graveyards[0].x + 2, graveyards[0].y + 2, 'portal', portalSprite);\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n    game.entities.add(portal2);\n\n    const king = new King(game, player.x - 2, player.y);\n    game.entities.add(king);\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  createCastle(map: TileMap) {\n    const game = this.game;\n    const rng = game.rng;\n    const width = rng.nextRange(20, 40);\n    const height = rng.nextRange(15, 30);\n    const x = rng.nextRange(10, OVERWORLD_WIDTH - 10 - width);\n    const y = rng.nextRange(10, OVERWORLD_HEIGHT - 10 - height);\n    const castle = new Rect(x, y, width, height);\n\n    const center = castle.getCenter();\n    const moat = castle;\n    const walls = new Rect(castle.x + 2, castle.y + 2, castle.width - 4, castle.height - 4);\n    const floors = new Rect(walls.x + 1, walls.y + 1, walls.width - 2, walls.height - 2);\n\n    // Create moat\n    for (let y = moat.y1; y < moat.y2; y++) {\n      for (let x = moat.x1; x < moat.x2; x++) {\n        map.setTile(0, x, y, TILE_WATER, true, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, true);\n      }\n    }\n\n    // Create castle\n    for (let y = walls.y1; y < walls.y2; y++) {\n      for (let x = walls.x1; x < walls.x2; x++) {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create castle walls\n    for (let x = walls.x1; x < walls.x2; x++) {\n      map.setTile(0, x, walls.y1, TILE_WALL, true);\n      map.setTile(0, x, walls.y2 - 1, TILE_WALL, true);\n    }\n    for (let y = walls.y1; y < walls.y2; y++) {\n      map.setTile(0, walls.x1, y, TILE_WALL, true);\n      map.setTile(0, walls.x2 - 1, y, TILE_WALL, true);\n    }\n\n    // Create draw bridges\n    for (let y = moat.y1 - 1; y < moat.y1 + 3; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = moat.y2 - 3; y < moat.y2 + 1; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x1 - 1; x < moat.x1 + 3; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x2 - 3; x < moat.x2 + 1; x++) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n        map.setTile(1, x, y, TILE_EMPTY);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n\n    // Create guards\n    for (let i = 0; i < 10; i++) {\n      const waypoints = [new Vec2(rng.nextRange(floors.x1, floors.x2), rng.nextRange(floors.y1, floors.y2))];\n      for (let j = 1; j < 4; j++) {\n        const prev = waypoints[j - 1];\n        if (rng.nextRange(0, 2) === 0) {\n          waypoints.push(new Vec2(prev.x, rng.nextRange(floors.y1, floors.y2)));\n        } else {\n          waypoints.push(new Vec2(rng.nextRange(floors.x1, floors.x2), prev.y));\n        }\n      }\n      const guard = new Guard(game, waypoints[0].x, waypoints[0].y, waypoints);\n      game.entities.add(guard);\n    }\n\n    return castle;\n  }\n\n  createDungeon(dungeon: Dungeon) {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    const rng = game.rng;\n    const keyId = this.nextKeyId++;\n\n    // Clear the map to all walls\n    this.clearMap(map, dungeon.rect, TILE_WALL, true, true);\n\n    // Create bodies of water\n    this.createRiver(map, dungeon.rect, 200);\n\n    // Make sure there's a ring of \"empty\" all around\n    for (let x = dungeon.rect.x1; x < dungeon.rect.x2; x++) {\n      map.setTile(0, x, dungeon.rect.y1, TILE_EMPTY, true);\n      map.setAnimated(x, dungeon.rect.y1, 0, false);\n\n      map.setTile(0, x, dungeon.rect.y2 - 1, TILE_EMPTY, true);\n      map.setAnimated(x, dungeon.rect.y2 - 1, 0, false);\n    }\n    for (let y = dungeon.rect.y1; y < dungeon.rect.y2; y++) {\n      map.setTile(0, dungeon.rect.x1, y, TILE_EMPTY, true);\n      map.setAnimated(dungeon.rect.x1, y, 0, false);\n\n      map.setTile(0, dungeon.rect.x2 - 1, y, TILE_EMPTY, true);\n      map.setAnimated(dungeon.rect.x2 - 1, y, 0, false);\n    }\n\n    const bossLayout = BOSS_LAYOUTS[rng.nextRange(0, BOSS_LAYOUTS.length)];\n\n    const bossZone = new Rect(\n      bossLayout.bossZone.x + dungeon.rect.x,\n      bossLayout.bossZone.y + dungeon.rect.y,\n      bossLayout.bossZone.width,\n      bossLayout.bossZone.height);\n\n    const bossRoom = new Rect(\n      bossLayout.bossRoom.x + dungeon.rect.x,\n      bossLayout.bossRoom.y + dungeon.rect.y,\n      bossLayout.bossRoom.width,\n      bossLayout.bossRoom.height);\n\n    const stairsRoom = new Rect(\n      bossLayout.stairsRoom.x + dungeon.rect.x,\n      bossLayout.stairsRoom.y + dungeon.rect.y,\n      bossLayout.stairsRoom.width,\n      bossLayout.stairsRoom.height);\n\n    while (dungeon.rooms.length < MAX_ROOMS) {\n      // Random width and height\n      const w = rng.nextRange(ROOM_MIN_WIDTH, ROOM_MAX_WIDTH);\n      const h = rng.nextRange(ROOM_MIN_HEIGHT, ROOM_MAX_HEIGHT);\n\n      // Random position without going out of the boundaries of the map\n      const x = rng.nextRange(dungeon.rect.x1 + 2, dungeon.rect.x2 - w - 3);\n      const y = rng.nextRange(dungeon.rect.y1 + 2, dungeon.rect.y2 - h - 3);\n\n      // \"Rect\" class makes rectangles easier to work with\n      const newRoom = new Rect(x, y, w, h);\n\n      // Run through the other rooms and see if they intersect with this one\n      let failed = newRoom.intersects(bossZone);\n      for (let j = 0; j < dungeon.rooms.length; j++) {\n        if (newRoom.intersects(dungeon.rooms[j])) {\n          failed = true;\n          break;\n        }\n      }\n\n      if (failed) {\n        continue;\n      }\n\n      // This means there are no intersections, so this room is valid\n\n      // \"paint\" it to the map's tiles\n      this.createRoom(map, newRoom);\n\n      // Center coordinates of new room, will be useful later\n      const center = newRoom.getCenter();\n\n      if (dungeon.rooms.length === 0) {\n        // This is the first room, where the player starts at\n        dungeon.entrance = new Portal(game, center.x, center.y, 'stairs', STAIRS_SPRITE);\n        game.entities.add(dungeon.entrance);\n        map.setTile(0, center.x, center.y, TILE_STAIRS_UP);\n\n      } else {\n        // All rooms after the first:\n        // Connect it to the previous room with a tunnel\n\n        // Center coordinates of previous room\n        const prev = dungeon.rooms[dungeon.rooms.length - 1].getCenter();\n\n        // Draw a coin (random number that is either 0 or 1)\n        if (rng.nextRange(0, 1) === 1) {\n          // First move horizontally, then vertically\n          this.createHTunnel(map, prev.x, center.x, prev.y);\n          this.createVTunnel(map, prev.y, center.y, center.x);\n        } else {\n          // First move vertically, then horizontally\n          this.createVTunnel(map, prev.y, center.y, prev.x);\n          this.createHTunnel(map, prev.x, center.x, center.y);\n        }\n\n        this.placeMonsters(newRoom, dungeon.level);\n      }\n\n      // Add items (scrolls and health potions)\n      this.placeItems(newRoom);\n\n      // Finally, append the new room to the list\n      dungeon.rooms.push(newRoom);\n    }\n\n    {\n      // Create boss room\n      this.createRoom(map, bossRoom);\n\n      // Connect boss room to previous room\n      const prev = dungeon.rooms[dungeon.rooms.length - 1].getCenter();\n      const center = bossRoom.getCenter();\n      this.createHTunnel(map, prev.x, center.x, prev.y);\n      this.createVTunnel(map, prev.y, center.y, center.x);\n\n      // Create boss\n      const bossLevel = dungeon.level * 3 + 2;\n      const dice = rng.nextRange(0, 3);\n      let boss = undefined;\n      if (dice === 0) {\n        boss = new RedDragon(game, center.x, center.y, bossLevel, bossRoom);\n      } else if (dice === 1) {\n        boss = new WindElemental(game, center.x, center.y, bossLevel);\n      } else {\n        boss = new Griffon(game, center.x, center.y, bossLevel);\n      }\n\n      boss.loot = [new Key(game, boss.x, boss.y, keyId)];\n      game.entities.add(boss);\n\n      // Create a door to boss room\n      if (center.y > prev.y) {\n        map.setTile(0, center.x, bossRoom.y1, TILE_CLOSED_DOOR, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y1, boss));\n      } else {\n        map.setTile(0, center.x, bossRoom.y2, TILE_CLOSED_DOOR, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y2, boss));\n      }\n\n      // Create stairs room\n      this.createRoom(map, stairsRoom);\n\n      // Create stairs\n      const stairsLoc = stairsRoom.getCenter();\n      this.createHTunnel(map, center.x, stairsLoc.x, stairsLoc.y);\n      map.setTile(0, stairsLoc.x, stairsLoc.y, TILE_STAIRS_DOWN);\n      dungeon.exit = new Portal(game, stairsLoc.x, stairsLoc.y, 'stairs', STAIRS_SPRITE);\n      game.entities.add(dungeon.exit);\n\n      // Create door to stairs room\n      if (center.x > stairsLoc.x) {\n        map.setTile(0, bossRoom.x1, center.y, TILE_CLOSED_DOOR, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x1, center.y, keyId));\n      } else {\n        map.setTile(0, bossRoom.x2, center.y, TILE_CLOSED_DOOR, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x2, center.y, keyId));\n      }\n    }\n\n    // Place obstacles after all rooms have been connected\n    for (let i = 0; i < dungeon.rooms.length; i++) {\n      this.placeObstacles(dungeon.rooms[i]);\n    }\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  private clearMap(map: TileMap, rect: Rect, tile: number, blocked: boolean, blockedSight: boolean) {\n    for (let y = rect.y1; y < rect.y2; y++) {\n      for (let x = rect.x1; x < rect.x2; x++) {\n        map.setTile(0, x, y, tile, blocked, blockedSight);\n        map.setAnimated(x, y, 0, false);\n        for (let z = 1; z < 4; z++) {\n          map.setTile(z, x, y, TILE_EMPTY);\n          map.setAnimated(x, y, z, false);\n        }\n      }\n    }\n  }\n\n  private createRoom(map: TileMap, room: Rect) {\n    for (let y = room.y1 + 1; y < room.y2; y++) {\n      for (let x = room.x1 + 1; x < room.x2; x++) {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n        map.setAnimated(x, y, 0, false);\n      }\n    }\n  }\n\n  private createHTunnel(map: TileMap, x1: number, x2: number, y: number) {\n    for (let x = Math.min(x1, x2); x <= Math.max(x1, x2); x++) {\n      const existing = map.getTile(x, y);\n      if (existing === TILE_STAIRS_UP || existing === TILE_STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n      map.setAnimated(x, y, 0, false);\n    }\n  }\n\n  private createVTunnel(map: TileMap, y1: number, y2: number, x: number) {\n    for (let y = Math.min(y1, y2); y <= Math.max(y1, y2); y++) {\n      const existing = map.getTile(x, y);\n      if (existing === TILE_STAIRS_UP || existing === TILE_STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === TILE_WATER) {\n        map.setTile(0, x, y, TILE_BRIDGE, false);\n      } else {\n        map.setTile(0, x, y, TILE_FLOOR, false);\n      }\n      map.setAnimated(x, y, 0, false);\n    }\n  }\n\n  private placeMonsters(room: Rect, dungeonLevel: number) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of monsters\n    const numMonsters = rng.nextRange(0, MAX_ROOM_MONSTERS);\n\n    for (let i = 0; i < numMonsters; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = dungeonLevel * 2 + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.add(monster);\n    }\n  }\n\n  private placeItems(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Choose random number of items\n    const numItems = rng.nextRange(0, MAX_ROOM_ITEMS);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n      let item = null;\n\n      if (dice < 50) {\n        // Create a healing potion (50% chance)\n        item = new HealthPotion(game, x, y);\n\n      } else if (dice < 50 + 20) {\n        // Create a lightning bolt scroll (20% chance)\n        item = new Scroll(game, x, y, new LightningAbility());\n\n      } else if (dice < 50 + 20 + 15) {\n        // Create a fireball scroll (15% chance)\n        item = new Scroll(game, x, y, new FireballAbility());\n\n      } else {\n        // Create a confuse scroll (15% chance)\n        item = new Scroll(game, x, y, new ConfuseAbility());\n      }\n\n      game.entities.add(item);\n    }\n  }\n\n  private placeObstacles(room: Rect) {\n    const game = this.game;\n    const rng = game.rng;\n    const map = game.tileMap as TileMap;\n\n    // Choose random number of obstacles\n    const numItems = rng.nextRange(0, MAX_ROOM_OBSTACLES + 1);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 2, room.x2 - 3);\n      const y = rng.nextRange(room.y1 + 2, room.y2 - 3);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n\n      if (dice < 80) {\n        // Create a barrel\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_BARREL);\n      } else {\n        // Create a statue\n        map.setTile(0, x, y, TILE_FLOOR, true, false);\n        map.setTile(1, x, y, TILE_STATUE);\n      }\n    }\n  }\n\n  private createRiver(map: TileMap, bounds: Rect, length: number) {\n    const rng = this.game.rng;\n    const water = bounds.getCenter();\n    for (let i = 0; i < length; i++) {\n      map.setTile(0, water.x, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x - 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x + 1, water.y, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y - 1, TILE_WATER, true, false);\n      map.setTile(0, water.x, water.y + 1, TILE_WATER, true, false);\n      map.setAnimated(water.x, water.y, 0, true);\n      map.setAnimated(water.x - 1, water.y, 0, true);\n      map.setAnimated(water.x + 1, water.y, 0, true);\n      map.setAnimated(water.x, water.y - 1, 0, true);\n      map.setAnimated(water.x, water.y + 1, 0, true);\n      water.x += rng.nextRange(-1, 2);\n      water.y += rng.nextRange(-1, 2);\n      if (!bounds.contains(water)) {\n        return;\n      }\n    }\n  }\n\n  private touchUp(map: TileMap) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Touch up walls / half walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        const t1 = map.getTile(x, y);\n        const t2 = map.getTile(x, y + 1);\n        const t3 = map.getTile(x - 1, y);\n        const t4 = map.getTile(x + 1, y);\n        const t5 = map.getTile(x, y - 1);\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t5 === TILE_HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_NORTHEAST);\n        }\n\n        if (t1 === TILE_FLOOR && t3 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHWEST);\n        }\n\n        if (t1 === TILE_FLOOR && t4 === TILE_WALL && t2 === TILE_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(1, x, y, TILE_COBWEB_SOUTHEAST);\n        }\n\n        if (t1 === TILE_CLOSED_DOOR && t2 !== TILE_WALL) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 === TILE_WALL && t2 !== TILE_WALL && t2 !== TILE_CLOSED_DOOR) {\n          const r = rng.nextRange(0, 20);\n          if (r === 0) {\n            map.setTile(0, x, y, TILE_HALF_WALL2, true);\n          } else if (r === 1) {\n            map.setTile(0, x, y, TILE_HALF_WALL3, true);\n          } else {\n            map.setTile(0, x, y, TILE_HALF_WALL, true);\n          }\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        if (t1 !== TILE_WATER && t2 === TILE_WATER) {\n          map.setTile(2, x, y + 1, TILE_SHADOW);\n        }\n\n        const nearBridge = t2 === TILE_BRIDGE || t3 === TILE_BRIDGE || t4 === TILE_BRIDGE || t5 === TILE_BRIDGE;\n        if (t1 === TILE_WATER && nearBridge && rng.nextRange(0, 20) === 1) {\n          game.entities.add(new Shark(game, x, y));\n        }\n      }\n    }\n  }\n}\n","import {Ability, Actor, Colors, ConfusedMonster, Message, Sprite, TargetType} from 'wglt';\n\nconst CONFUSE_RANGE = 8;\nconst CONFUSE_SPRITE = new Sprite(128, 32, 16, 24, 3, false);\nconst TOOLTIP_MESSAGES = [\n  new Message('Confuse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Befuddles an enemy into a random', Colors.YELLOW),\n  new Message('stupor for 10 turns.', Colors.YELLOW),\n];\n\nexport class ConfuseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = CONFUSE_SPRITE;\n    this.name = 'confuse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = CONFUSE_RANGE;\n    this.cooldown = 1;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > CONFUSE_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.ai = new ConfusedMonster(target);\n    game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    caster.ap--;\n    return true;\n  }\n}","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(192, 144, 16, 24, 2, true, undefined, 0x6757d9FF);\n\nclass BatAI extends AI {\n  doAi() {\n    const bat = this.actor as Bat;\n    const player = bat.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    if (bat.distanceTo(player) < 3 && rng.nextRange(0, 100) < 33) {\n      bat.attack(player, bat.getDamage());\n    } else {\n      this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n    }\n  }\n}\n\nexport class Bat extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Bat', SPRITE, level);\n    this.ai = new BatAI(this);\n  }\n}","import {Actor, Colors, Game, Item, Message, Sprite} from 'wglt';\n\nconst SPRITE = new Sprite(896, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\nconst TOOLTIPS = [\n  new Message('Gold', Colors.WHITE),\n  new Message('The coin of the realm.', Colors.WHITE),\n];\n\nexport class Gold extends Item {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'gold', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up gold coins', Colors.LIGHT_GREEN);\n  }\n}\n","import {AI, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(448, 144, 16, 24, 2, true, undefined, 0xf2f261ff);\nconst DAMAGE = 10;\n\nclass GriffonAI extends AI {\n  doAi() {\n    const griffon = this.actor as Griffon;\n    const game = griffon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    const talent = griffon.leapTalent;\n    if (talent.cooldown === 0) {\n      const target = this.findLeapTarget(game, griffon, player);\n      if (target && talent.use(target)) {\n        return;\n      }\n    }\n\n    const dist = griffon.distanceTo(player);\n    if (dist <= 2) {\n      griffon.attack(player, DAMAGE);\n    } else if (griffon.sentiment === Sentiment.HOSTILE) {\n      griffon.moveToward(player.x, player.y);\n    } else {\n      const rng = player.game.rng;\n      griffon.move(rng.nextRange(-1, 2), rng.nextRange(-1, 2));\n    }\n  }\n\n  private findLeapTarget(game: Game, griffon: Griffon, player: Player) {\n    for (let y = player.y - 1; y <= player.y + 1; y++) {\n      for (let x = player.x - 1; x <= player.x + 1; x++) {\n        const tile = game.tileMap && game.tileMap.getCell(x, y);\n        if (!tile || tile.blocked) {\n          // Tile blocked\n          continue;\n        }\n        if (griffon.distanceTo(tile) > 3) {\n          // Too far away\n          continue;\n        }\n        if (game.getActorAt(x, y)) {\n          // Tile occupied\n          continue;\n        }\n        return tile;\n      }\n    }\n    return undefined;\n  }\n}\n\nexport class Griffon extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Griffon', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new GriffonAI(this);\n    this.talents.add(new Talent(this, new LeapAbility()));\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n\n  get leapTalent() {\n    return this.talents.get(0);\n  }\n}\n","import {AI, Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(0, 168, 16, 24, 2, true, undefined, 0x5790b7FF);\nconst DAMAGE = 10;\n\nclass SharkAI extends AI {\n  doAi() {\n    const monster = this.actor;\n    const player = monster.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (monster.distanceTo(player) < 2) {\n      monster.attack(player, DAMAGE);\n    }\n  }\n}\n\nexport class Shark extends Monster {\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Shark', SPRITE, 1);\n    this.ai = new SharkAI(this);\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 144, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Spider extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Spider', SPRITE, level);\n  }\n}","import {Sprite} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 216, 16, 24, 2, true, undefined, 0x20e64fFF);\n\nexport class Troll extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Troll', SPRITE, level);\n  }\n}","import {AI, Sprite, Rect} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { FlameCrawler } from './flamecrawler';\nimport { Sentiment } from './statsactor';\nimport { Key } from '../items/key';\n\nconst SPRITE = new Sprite(576, 312, 16, 24, 2, true, undefined, 0xd51111ff);\nconst DAMAGE = 10;\n\nclass RedDragonAI extends AI {\n  doAi() {\n    const dragon = this.actor as RedDragon;\n    const game = dragon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (dragon.sentiment === Sentiment.HOSTILE && dragon.cooldown === 0) {\n      const room = dragon.room;\n      const rng = game.rng;\n\n      // Top and bottom edges\n      for (let x = room.x1 + 1; x < room.x2 - 1; x++) {\n        if (rng.nextRange(0, 2) === 0) {\n          game.entities.add(new FlameCrawler(game, x, room.y1 + 1, 0, 1));\n        } else {\n          game.entities.add(new FlameCrawler(game, x, room.y2 - 1, 0, -1));\n        }\n      }\n\n      // Left and right edges\n      for (let y = room.y1 + 1; y < room.y2 - 1; y++) {\n        if (rng.nextRange(0, 2) === 0) {\n          game.entities.add(new FlameCrawler(game, room.x1 + 1, y, 1, 0));\n        } else {\n          game.entities.add(new FlameCrawler(game, room.x2 - 1, y, -1, 0));\n        }\n      }\n\n      dragon.cooldown = 10;\n      return;\n    }\n\n    if (dragon.cooldown > 0) {\n      dragon.cooldown--;\n    }\n\n    const dist = dragon.distanceTo(player);\n    if (dist <= 2) {\n      dragon.attack(player, DAMAGE);\n    }\n  }\n}\n\nexport class RedDragon extends Monster {\n  readonly room: Rect;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Dragon', SPRITE, level);\n    this.room = room;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new RedDragonAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n\n  getLoot() {\n    return [\n      new Key(this.game, this.x, this.y, 0)\n    ];\n  }\n}\n","import {AI, Sprite, Vec2} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(256, 312, 16, 24, 2, true, undefined, 0xd51111ff);\nconst DAMAGE = 8;\n\nclass FlameCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: FlameCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as FlameCrawler;\n    const player = monster.game.player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, DAMAGE);\n    } else {\n      if (!monster.move(monster.dx, monster.dy)) {\n        monster.game.entities.remove(monster);\n      }\n    }\n  }\n}\n\nexport class FlameCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number) {\n    super(game, x, y, 'Flame Crawler', SPRITE, 1);\n    this.ai = new FlameCrawlerAI(this);\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import { AI, Sprite, Vec2, Colors } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0x5790b7FF);\n\nclass GuardAI extends AI {\n  readonly waypoints: Vec2[];\n  waypointIndex: number;\n  waitCount: number;\n  aggroCount: number;\n\n  constructor(actor: Guard, waypoints: Vec2[]) {\n    super(actor);\n    this.waypoints = waypoints;\n    this.waypointIndex = 0;\n    this.waitCount = 0;\n    this.aggroCount = 0;\n  }\n\n  doAi() {\n    const guard = this.actor as Guard;\n    const game = guard.game as Game;\n    const player = game.player as Player;\n\n    if (guard.sentiment === Sentiment.HOSTILE) {\n      this.aggroCount++;\n\n      if (this.aggroCount === 1) {\n        // First attack\n        const game = guard.game as Game;\n        game.log('Guard shouts for help!', Colors.LIGHT_BLUE);\n        for (let i = 0; i < game.entities.length; i++) {\n          const entity = game.entities.get(i);\n          if (entity instanceof Guard) {\n            const otherGuard = entity as Guard;\n            if (guard.distanceTo(otherGuard) < 6) {\n              otherGuard.sentiment = Sentiment.HOSTILE;\n            }\n          }\n        }\n      } else {\n        if (guard.distanceTo(player) > 1.0) {\n          // Move towards player if far away\n          guard.moveToward(player.x, player.y);\n\n        } else if (player.hp > 0) {\n          // Close enough, attack! (if the player is still alive.)\n          const damage = 10;\n          guard.attack(player, damage);\n        }\n      }\n\n      return;\n    }\n\n    if (this.waitCount > 0) {\n      this.waitCount--;\n      return;\n    }\n\n    const waypoint = this.waypoints[this.waypointIndex];\n    if (guard.x === waypoint.x && guard.y === waypoint.y) {\n      this.waypointIndex = (this.waypointIndex + 1) % this.waypoints.length;\n      this.waitCount = guard.game.rng.nextRange(5, 15);\n      return;\n    }\n\n    guard.moveToward(waypoint.x, waypoint.y);\n  }\n}\n\nexport class Guard extends Monster {\n\n  constructor(game: Game, x: number, y: number, waypoints: Vec2[]) {\n    super(game, x, y, 'Guard', SPRITE, 10);\n    this.ai = new GuardAI(this, waypoints);\n    this.seen = true;\n    this.sentiment = Sentiment.FRIENDLY;\n  }\n}","import { Item, Sprite } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\nexport class Portal extends Item {\n  other?: Portal;\n  fade: boolean;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, false);\n    this.zIndex = 0;\n    this.fade = false;\n  }\n\n  onBump(_: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n\n    (this.game as Game).warpToPoint(exit);\n    return true;\n  }\n}\n","import { Rect } from \"wglt\";\nimport { Portal } from \"./items/portal\";\n\nexport class Dungeon {\n  readonly rect: Rect;\n  readonly level: number;\n  readonly rooms: Rect[];\n  entrance?: Portal;\n  exit?: Portal;\n\n  constructor(rect: Rect, level: number) {\n    this.rect = rect;\n    this.level = level;\n    this.rooms = [];\n  }\n}\n","import { Game } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\nexport class LockedDoor extends Door {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y);\n    this.keyId = keyId;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (player.keys[this.keyId]) {\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import { Game } from 'wglt';\nimport { Monster } from '../entities/monster';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\nexport class BossDoor extends Door {\n  readonly boss: Monster;\n\n  constructor(game: Game, x: number, y: number, boss: Monster) {\n    super(game, x, y);\n    this.boss = boss;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (this.boss.hp <= 0) {\n      // Boss is dead\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    const dotProduct =\n      (this.x - player.x) * (this.boss.x - player.x) +\n      (this.y - player.y) * (this.boss.y - player.y);\n\n    if (dotProduct > 0) {\n      // Walking toward the boss\n      const dx = this.x - player.x;\n      const dy = this.y - player.y;\n      player.move(dx * 2, dy * 2);\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import {AI, Sprite, Rect, Dialog} from 'wglt';\n\nimport {Game} from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Player } from './player';\nimport { QuestDialog } from '../gui/questdialog';\nimport { Quest } from '../quests/quest';\n\nconst SPRITE = new Sprite(320, 358, 16, 24, 2, true, undefined, 0xA040A0ff);\n\nclass KingAI extends AI {\n  doAi() {\n    const king = this.actor as King;\n    const player = king.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    if (king.sentiment !== Sentiment.HOSTILE) {\n      // Not hostile, do nothing\n      return;\n    }\n\n    if (king.distanceTo(player) > 1.5) {\n      // Move towards player if far away\n      king.moveToward(player.x, player.y);\n\n    } else if (player.hp > 0) {\n      // Close enough, attack! (if the player is still alive.)\n      king.attack(player, king.getDamage());\n    }\n  }\n}\n\nexport class King extends StatsActor {\n  dialog?: Dialog;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'King', SPRITE);\n    this.ai = new KingAI(this);\n    this.level = 99;\n    this.maxHp = 10 + this.level * 2;\n    this.hp = this.maxHp;\n    this.strength = 10 + this.level * 2;\n  }\n\n  onBump(player: Player) {\n    if (!this.dialog) {\n      const desc = [\n        'A THREAT WITHIN',\n        '',\n        'I hope you strapped your belt on tight,',\n        'young paladin, because there is work to',\n        'do here in Northshire.',\n        '',\n        'And I don\\'t mean farming.',\n        '',\n        'The Stormwind guards are hard pressed to',\n        'keep the peace here, with so many of us',\n        'in distant lands and so many threats',\n        'pressing close. And so we\\'re enlisting',\n        'the aid of anyone willing to defend',\n        'their home. And their alliance.',\n        '',\n        'If you\\'re here to answer the call, then',\n        'speak with my superior, Marshal McBride.',\n        'He\\'s inside the abbey behind me.'\n      ];\n\n      const completion = [\n        'Ah, good. Another volunteer.',\n        'I hope it\\'s enough.',\n        'The human lands are threatened from without,',\n        'and so many of our forces have been marchaled abroad.',\n      ];\n\n      const dialog = new QuestDialog(new Rect(10, 40, 200, 200));\n      dialog.quest = new Quest(desc, 40);\n      this.game.gui.add(dialog);\n      this.dialog = dialog;\n    }\n    this.dialog.visible = true;\n    return true;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n}","import {Colors, Dialog, Rect} from 'wglt';\nimport { Quest } from '../quests/quest';\n\nconst MARGIN = 8;\n\nexport class QuestDialog extends Dialog {\n  quest?: Quest;\n\n  constructor(rect: Rect) {\n    super(rect);\n    this.modal = true;\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect || !this.quest) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    for (let i = 0; i < this.quest.description.length; i++) {\n      this.gui.app.drawString(this.quest.description[i], x, y, Colors.WHITE);\n      y += 10;\n    }\n\n    this.rect.height = Math.max(200, (y + MARGIN) - containerRect.y);\n    this.drawChildren();\n  }\n}","\nexport class Quest {\n  description: string[];\n  xpGain: number;\n\n  constructor(description: string[], xpGain: number) {\n    this.description = description;\n    this.xpGain = xpGain;\n  }\n}\n","import { Sprite } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\n\nconst SPRITE = new Sprite(64, 288, 16, 24, 2, true, undefined, 0xE0E0E0A0);\n\nexport class Ghost extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Ghost', SPRITE, level);\n  }\n}\n","import {AI, Sprite, Talent} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(288, 312, 16, 24, 2, true, undefined, 0xAADDFFFF);\nconst DAMAGE = 10;\n\nclass WindElementalAI extends AI {\n  doAi() {\n    const actor = this.actor as WindElemental;\n    const game = actor.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    const dist = actor.distanceTo(player);\n    if (dist <= 2) {\n      actor.attack(player, DAMAGE);\n    } else {\n      const rng = player.game.rng;\n      actor.move(rng.nextRange(-1, 2), rng.nextRange(-1, 2));\n    }\n  }\n}\n\nexport class WindElemental extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Wind', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new WindElementalAI(this);\n    this.talents.add(new Talent(this, new LeapAbility()));\n    this.sentiment = Sentiment.HOSTILE;\n  }\n\n  get leapTalent() {\n    return this.talents.get(0);\n  }\n}\n","import {ButtonSlot, Colors, Dialog, Rect, Button, Keys, Sprite, Message} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nconst MARGIN = 5;\nconst BUTTON_SPACING = 2;\n\nconst CONSTITUTION_SPRITE = new Sprite(688, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst DEXTERITY_SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst INTELLIGENCE_SPRITE = new Sprite(688, 168, 16, 24, 1, false, undefined, 0xC04020FF);\nconst STRENGTH_SPRITE = new Sprite(608, 312, 16, 24, 1, false, undefined, 0xC04020FF);\n\nconst DESCRIPTIONS = [\n  [\n    new Message('Constitution', Colors.YELLOW),\n    new Message('Health, staminal,', Colors.WHITE),\n    new Message('and vital force', Colors.WHITE)\n  ],\n  [\n    new Message('Dexterity', Colors.YELLOW),\n    new Message('Physical agility, reflexes,', Colors.WHITE),\n    new Message('balance, and poise', Colors.WHITE)\n  ],\n  [\n    new Message('Intelligence', Colors.YELLOW),\n    new Message('Mental acuity, recall,', Colors.WHITE),\n    new Message('and analytical skill', Colors.WHITE)\n  ],\n  [\n    new Message('Strength', Colors.YELLOW),\n    new Message('Natural athleticism,', Colors.WHITE),\n    new Message('and bodily power', Colors.WHITE)\n  ],\n];\n\nexport class LevelUpDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const constitutionSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_1);\n    const constitutionBtn = new Button(new Rect(0, 0, 16, 24), CONSTITUTION_SPRITE, undefined, () => this.incConstitution());\n    constitutionSlot.add(constitutionBtn);\n    this.add(constitutionSlot);\n\n    const dexteritySlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_2);\n    const dexterityBtn = new Button(new Rect(0, 0, 16, 24), DEXTERITY_SPRITE, undefined, () => this.incDexterity());\n    dexteritySlot.add(dexterityBtn);\n    this.add(dexteritySlot);\n\n    const intelligenceSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_3);\n    const intelligenceBtn = new Button(new Rect(0, 0, 16, 24), INTELLIGENCE_SPRITE, undefined, () => this.incIntelligence());\n    intelligenceSlot.add(intelligenceBtn);\n    this.add(intelligenceSlot);\n\n    const strengthSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_4);\n    const strengthBtn = new Button(new Rect(0, 0, 16, 24), STRENGTH_SPRITE, undefined, () => this.incStrength());\n    strengthSlot.add(strengthBtn);\n    this.add(strengthSlot);\n  }\n\n  private incConstitution() {\n    this.increaseStat(1, 0, 0, 0);\n  }\n\n  private incDexterity() {\n    this.increaseStat(0, 1, 0, 0);\n  }\n\n  private incIntelligence() {\n    this.increaseStat(0, 0, 1, 0);\n  }\n\n  private incStrength() {\n    this.increaseStat(0, 0, 0, 1);\n  }\n\n  private increaseStat(con: number, dex: number, int: number, str: number) {\n    this.player.constitution += con;\n    this.player.dexterity += dex;\n    this.player.intelligence += int;\n    this.player.strength += str;\n    this.player.remainingAbilityPoints--;\n    if (this.player.remainingAbilityPoints === 0) {\n      this.visible = false;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawString('Leveled up!', x, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Choose ' + this.player.remainingAbilityPoints + ' stats to increase:', x, y, Colors.WHITE);\n    y += 10;\n\n    for (let i = 0; i < 4; i++) {\n      const desc = DESCRIPTIONS[i];\n      for (let j = 0; j < desc.length; j++) {\n        this.gui.app.drawString(desc[j].text, x + 25, y + 1 + j * 8, desc[j].color);\n      }\n\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y;\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Panel, Rect, Colors } from \"wglt\";\nimport { Game } from \"../game\";\nimport { StatsActor, Sentiment } from \"../entities/statsactor\";\nimport { Player } from \"../entities/player\";\n\nexport class EntityFrames extends Panel {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    super(new Rect(0, 40, 40, 200));\n    this.game = game;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const player = this.game.player as Player;\n    const entities = this.game.entities;\n    const x = 2;\n    let y = 40;\n\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities.get(i);\n      if (entity === this.game.player || !(entity instanceof StatsActor)) {\n        continue;\n      }\n      const actor = entity as StatsActor;\n      if (!actor.showFrame || actor.visibleDuration < 0) {\n        continue;\n      }\n\n      // Draw the frame\n      app.drawImage(x, y, 64, 48, 54, 18);\n\n      // Draw the name\n      let nameColor = Colors.YELLOW;\n      if (actor.sentiment === Sentiment.FRIENDLY) {\n        nameColor = Colors.LIGHT_GREEN;\n      } else if (actor.sentiment === Sentiment.HOSTILE) {\n        nameColor = Colors.RED;\n      }\n      app.drawCenteredString(actor.name, x + 20, y + 1, nameColor);\n\n      // Draw the health\n      const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n      app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n      app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n      // Draw the level\n      let levelColor = Colors.YELLOW;\n      if (actor.level > player.level + 3) {\n        levelColor = Colors.RED;\n      } else if (actor.level > player.level + 1) {\n        levelColor = Colors.ORANGE;\n      } else if (actor.level < player.level - 3) {\n        levelColor = Colors.LIGHT_GREEN;\n      } else if (actor.level < player.level - 1) {\n        levelColor = 0xbbee44FF; // Yellow-green\n      }\n      app.drawCenteredString(actor.level.toString(), x + 47, y + 5, levelColor);\n\n      y += 24;\n    }\n  }\n}\n","import {App, AppState, Colors, fromHsv, Keys, Sprite} from 'wglt';\n\nconst OPTIONS = [\n  {display: 'NEW GAME', hash: 'chooserace', enabled: true},\n  {display: 'CONTINUE', hash: 'game', enabled: false},\n  {display: 'ENTER SEED', hash: 'seed', enabled: true},\n  {display: 'TUTORIAL', hash: 'tutorial', enabled: true},\n  {display: 'HIGH SCORES', hash: 'highscores', enabled: true},\n  {display: 'CREDITS', hash: 'credits', enabled: true},\n];\n\nexport class MainMenu extends AppState {\n  private time: number;\n  private sprites: Sprite[];\n  private selectedIndex = 0;\n\n  constructor(app: App) {\n    super(app);\n    this.time = 0;\n    this.sprites = [];\n    this.chooseSprites();\n  }\n\n  private chooseSprites() {\n    this.sprites = [];\n\n    for (let i = 0; i < 4; i++) {\n      const x = 32 * Math.floor(Math.random() * 19);\n      const y = 96 + 24 * Math.floor(Math.random() * 13);\n      const color = fromHsv(Math.random(), 0.9, 0.5);\n      this.sprites.push(new Sprite(x, y, 16, 24, 2, true, undefined, color));\n    }\n  }\n\n  update() {\n    Sprite.updateGlobalAnimations();\n\n    const time2 = this.time % 300;\n    if (time2 < 80 && time2 % 8 === 0) {\n      this.chooseSprites();\n    }\n\n    // Draw the gradient background image\n    this.app.drawImage(this.app.center.x - 128, 0, 0, 800, 256, 128);\n\n    // Draw the title text\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x + 1, 33, Colors.BLACK);\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x, 32);\n\n    // Draw the sprites\n    for (let i = 0; i < 4; i++) {\n      const x = this.app.center.x - 56 + i * 32;\n      const y = 52;\n      this.sprites[i].draw(this.app, x, y);\n    }\n\n    // Draw the menu options\n    const mouse = this.app.mouse;\n    for (let i = 0; i < OPTIONS.length; i++) {\n      const option = OPTIONS[i];\n      const x = this.app.center.x;\n      const y = 90 + 15 * i;\n      let color = Colors.WHITE;\n      if (!option.enabled) {\n        color = Colors.GRAY;\n      } else if (i === this.selectedIndex) {\n        color = Colors.YELLOW;\n      }\n      this.app.drawCenteredString(option.display, x + 1, y + 1, Colors.BLACK);\n      this.app.drawCenteredString(option.display, x, y, color);\n\n      if (mouse.y >= y && mouse.y < y + 14 && mouse.isClicked()) {\n        window.location.hash = option.hash;\n      }\n\n      if (i === this.selectedIndex && this.app.isKeyPressed(Keys.VK_ENTER)) {\n        window.location.hash = option.hash;\n      }\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_UP)) {\n      this.selectedIndex--;\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_DOWN)) {\n      this.selectedIndex++;\n    }\n\n    if (this.selectedIndex < 0) {\n      this.selectedIndex += OPTIONS.length;\n    }\n\n    if (this.selectedIndex >= OPTIONS.length) {\n      this.selectedIndex -= OPTIONS.length;\n    }\n\n    this.time++;\n  }\n}\n","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport {Dwarf} from './races/dwarf';\nimport {Elf} from './races/elf';\nimport {Human} from './races/human';\nimport {Orc} from './races/orc';\nimport {Undead} from './races/undead';\n\nconst RACES = [new Human(), new Dwarf(), new Elf(), new Orc(), new Undead()];\n\nexport class RaceMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your race', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), RACES);\n    selectDialog.renderer = new MenuItemRenderer(60, 40);\n\n    selectDialog.onSelect = (choice: CharacterRace) => {\n      (this.app as App).playerRace = choice;\n      window.location.hash = 'chooseclass';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Dwarf';\nconst ICON = new Sprite(510, 730, 34, 34, undefined, undefined, undefined, 0x4080C0FF);\nconst DESC = 'Bold and hardy, skilled warriors';\nconst DETAILS = [\n  new Message('+4 Constitution, +2 Strength', Colors.LIGHT_GREEN), new Message('Critical strike bonus', Colors.YELLOW),\n  new Message('Stoneform - Removes all curses', Colors.YELLOW)\n];\n\nexport class Dwarf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 4;\n    player.strength += 2;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Elf';\nconst ICON = new Sprite(238, 730, 34, 34, undefined, undefined, undefined, 0xFF8080FF);\nconst DESC = 'Magical people of otherworldly grace';\nconst DETAILS = [\n  new Message('+3 Dexterity, +3 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Shadowmeld - slip into the shadows', Colors.YELLOW)\n];\n\nexport class Elf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 3;\n    player.intelligence += 3;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Orc';\nconst ICON = new Sprite(442, 730, 34, 34, undefined, undefined, undefined, 0x20B020FF);\nconst DESC = 'Noble savages of shamanistic roots';\nconst DETAILS = [\n  new Message('+2 Constitution, +4 Strength', Colors.LIGHT_GREEN),\n  new Message('War Shout - Boost all stats by +1 for 5 turns', Colors.YELLOW)\n];\n\nexport class Orc extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 2;\n    player.strength += 4;\n  }\n}\n","import {Colors, Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Undead';\nconst ICON = new Sprite(578, 730, 34, 34, undefined, undefined, undefined, 0xD040D0FF);\nconst DESC = 'Cursed to wander for eternity';\nconst DETAILS = [\n  new Message('+2 Dexterity, +4 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Cannibalize - 10% of damage returns as health', Colors.YELLOW)\n];\n\nexport class Undead extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 2;\n    player.intelligence += 4;\n  }\n}\n","import { Colors, Item, Message, Sprite } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\nconst SPRITE = new Sprite(848, 168, 16, 24, 1, true, undefined, 0x80C0C0FF);\n\nconst TOOLTIPS = [\n  new Message('Hearthstone', Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Use: Returns you to your home.', Colors.LIGHT_GREEN),\n  new Message('Speak to an Innkeeper in a different', Colors.LIGHT_GREEN),\n  new Message('place to change your home location.', Colors.LIGHT_GREEN),\n];\n\nexport class Hearthstone extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'Hearthstone', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onUse(player: Player) {\n    const game = player.game as Game;\n    game.hideAllDialogs();\n    game.warpToPoint(player.home);\n    return true;\n  }\n}\n"],"sourceRoot":""}