{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/wglt/dist/index.js","webpack:///./src/colors.ts","webpack:///./src/items/itemquality.ts","webpack:///./src/entities/monster.ts","webpack:///./src/equipment/equipmentslot.ts","webpack:///./src/entities/statsactor.ts","webpack:///./src/equipment/equipmentbuilder.ts","webpack:///./src/equipment/equipmenttype.ts","webpack:///./src/equipment/equipmentsprites.ts","webpack:///./src/classes/characterclass.ts","webpack:///./src/items/baseitem.ts","webpack:///./src/items/healthpotion.ts","webpack:///./src/races/characterrace.ts","webpack:///./src/abilities/leap.ts","webpack:///./src/abilities/lightning.ts","webpack:///./src/items/gold.ts","webpack:///./src/mapgen/tiles.ts","webpack:///./src/ai/stunned.ts","webpack:///./src/buffs/buff.ts","webpack:///./src/gui/menuitemrenderer.ts","webpack:///./src/items/portal.ts","webpack:///./src/classes/paladin.ts","webpack:///./src/abilities/flashheal.ts","webpack:///./src/abilities/fireball.ts","webpack:///./src/races/human.ts","webpack:///./src/entities/spider.ts","webpack:///./src/entities/bat.ts","webpack:///./src/entities/troll.ts","webpack:///./src/items/door.ts","webpack:///./src/items/scroll.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/classmenu.ts","webpack:///./src/equipment/equipment.ts","webpack:///./src/animations/guislideanimation.ts","webpack:///./src/classes/priest.ts","webpack:///./src/animations/explosionanimation.ts","webpack:///./src/abilities/bubble.ts","webpack:///./src/buffs/bubble.ts","webpack:///./src/classes/ranger.ts","webpack:///./src/abilities/shoot.ts","webpack:///./src/classes/rogue.ts","webpack:///./src/abilities/shadowstrike.ts","webpack:///./src/classes/warlock.ts","webpack:///./src/abilities/curse.ts","webpack:///./src/buffs/curse.ts","webpack:///./src/abilities/demonicgateway.ts","webpack:///./src/items/gateway.ts","webpack:///./src/classes/warrior.ts","webpack:///./src/abilities/rage.ts","webpack:///./src/buffs/rage.ts","webpack:///./src/game.ts","webpack:///./src/entities/player.ts","webpack:///./src/gui/bottompanel.ts","webpack:///./src/gui/characterdialog.ts","webpack:///./src/gui/toppanel.ts","webpack:///./src/mapgen/mapgen.ts","webpack:///./src/entities/shark.ts","webpack:///./src/mapgen/overworld.ts","webpack:///./src/entities/ghost.ts","webpack:///./src/entities/snake.ts","webpack:///./src/entities/king.ts","webpack:///./src/gui/questdialog.ts","webpack:///./src/quests/quest.ts","webpack:///./src/mapgen/castle.ts","webpack:///./src/entities/guard.ts","webpack:///./src/entities/vendor.ts","webpack:///./src/gui/vendordialog.ts","webpack:///./src/gui/vendorbutton.ts","webpack:///./src/items/grapplinghook.ts","webpack:///./src/mapgen/dungeon.ts","webpack:///./src/mapgen/dungeonlayer.ts","webpack:///./src/entities/reddragon.ts","webpack:///./src/entities/flamecrawler.ts","webpack:///./src/entities/windelemental.ts","webpack:///./src/entities/windcrawler.ts","webpack:///./src/entities/griffon.ts","webpack:///./src/items/key.ts","webpack:///./src/items/bossdoor.ts","webpack:///./src/items/lockeddoor.ts","webpack:///./src/abilities/confuse.ts","webpack:///./src/entities/stonegolem.ts","webpack:///./src/gui/levelupdialog.ts","webpack:///./src/gui/entityframes.ts","webpack:///./src/mainmenu.ts","webpack:///./src/racemenu.ts","webpack:///./src/races/dwarf.ts","webpack:///./src/races/elf.ts","webpack:///./src/races/orc.ts","webpack:///./src/races/undead.ts","webpack:///./src/items/hearthstone.ts","webpack:///./src/seedmenu.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","KNOWN_CLASSES","Serializable","createSerializeMetadata","className","valueType","this","__decorate","arguments","length","getOwnPropertyDescriptor","Reflect","decorate","h","[object Object]","x","y","Vec2","super","width","height","x1","y1","x2","y2","left","top","Rect","gui","rect","children","ArrayList","modal","visible","setGui","parent","add","remove","isDragging","getPanelAt","contains","drawChildren","drawContents","handleChildrenInput","handleInput","dragElement","Panel","VK_CANCEL","VK_HELP","VK_BACK_SPACE","VK_TAB","VK_CLEAR","VK_ENTER","VK_SHIFT","VK_CONTROL","VK_ALT","VK_PAUSE","VK_CAPS_LOCK","VK_ESCAPE","VK_SPACE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_PRINTSCREEN","VK_INSERT","VK_DELETE","VK_0","VK_1","VK_2","VK_3","VK_4","VK_5","VK_6","VK_7","VK_8","VK_9","VK_COLON","VK_SEMICOLON","VK_LESS_THAN","VK_EQUALS","VK_GREATER_THAN","VK_QUESTION_MARK","VK_AT","VK_A","VK_B","VK_C","VK_D","VK_E","VK_F","VK_G","VK_H","VK_I","VK_J","VK_K","VK_L","VK_M","VK_N","VK_O","VK_P","VK_Q","VK_R","VK_S","VK_T","VK_U","VK_V","VK_W","VK_X","VK_Y","VK_Z","VK_CONTEXT_MENU","VK_NUMPAD0","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_MULTIPLY","VK_ADD","VK_SEPARATOR","VK_SUBTRACT","VK_DECIMAL","VK_DIVIDE","VK_F1","VK_F2","VK_F3","VK_F4","VK_F5","VK_F6","VK_F7","VK_F8","VK_F9","VK_F10","VK_F11","VK_F12","VK_F13","VK_F14","VK_F15","VK_F16","VK_F17","VK_F18","VK_F19","VK_F20","VK_F21","VK_F22","VK_F23","VK_F24","VK_NUM_LOCK","VK_SCROLL_LOCK","VK_CIRCUMFLEX","VK_EXCLAMATION","VK_DOUBLE_QUOTE","VK_HASH","VK_DOLLAR","VK_PERCENT","VK_AMPERSAND","VK_UNDERSCORE","VK_OPEN_PAREN","VK_CLOSE_PAREN","VK_ASTERISK","VK_PLUS","VK_PIPE","VK_HYPHEN_MINUS","VK_OPEN_CURLY_BRACKET","VK_CLOSE_CURLY_BRACKET","VK_TILDE","VK_COMMA","VK_PERIOD","VK_SLASH","VK_BACK_QUOTE","VK_OPEN_BRACKET","VK_BACK_SLASH","VK_CLOSE_BRACKET","VK_QUOTE","VK_META","VK_ALTGR","VK_WIN","VK_KANA","VK_HANGUL","VK_EISU","VK_JUNJA","VK_FINAL","VK_HANJA","VK_KANJI","VK_CONVERT","VK_NONCONVERT","VK_ACCEPT","VK_MODECHANGE","VK_SELECT","VK_PRINT","VK_EXECUTE","VK_SLEEP","Keys","Animation","promise","AnimationPromise","countdown","blocking","BLACK","fromRgb","WHITE","GRAY","YELLOW","RED","GREEN","CYAN","BLUE","PINK","ORANGE","StandardColors","fromHsv","a","u","closeButton","renderer","draw","app","isKeyPressed","mouse","isClicked","Dialog","elements","splice","push","listeners","onAdd","indexOf","onRemove","Button","ability","sprite","talent","shortcut","tooltipMessages","use","cooldown","actor","game","cooldownSprite","Math","round","frames","drawImage","drawCenteredString","toString","TalentButton","containerItems","stackItems","player","drawRightString","onUpdateTooltip","updateTooltip","ItemButton","shortcutItem","getItem","countItems","isStackable","ItemShortcutButton","shortcutKey","onClick","start","startDragging","click","down","messages","getTileId","TileMap","depth","tileSize","grid","Array","layers","dirty","originX","originY","visibleRect","prevVisibleRect","TileMapCell","TileMapLayer","clear","isOutOfRange","getTile","setTile","blocked","blockedSight","getCell","seen","isAnimated","setAnimated","copy","max","min","computeOctantY","computeOctantX","f","g","floor","button","buttonSlotRect","String","fromCharCode","ButtonSlot","SELF","ENTITY","TILE","TargetType","offset","blocks","zIndex","pixelX","pixelY","centerPixelX","centerPixelY","hypot","viewport","Entity","AI","alwaysActive","Input","downCount","upCount","DialogRenderer","rootPanel","size","dragOffset","updateDragging","onDrop","move","removeAll","GUI","Message","text","color","drawString","TileMapRenderer","gl","tileMap","quadVertBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","tilemapShader","initShaderProgram","positionAttribute","getAttribLocation","textureAttribute","viewportSizeUniform","getUniformLocation","viewOffsetUniform","mapSizeUniform","tileSizeUniform","animFrameUniform","tileSamplerUniform","spriteSamplerUniform","layerTextures","createTexture","imageData","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","useProgram","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform2f","uniform1f","activeTexture","TEXTURE0","uniform1i","TEXTURE1","isVisible","isSeen","setAlpha","texSubImage2D","drawArrays","TRIANGLES","hp","maxHp","ap","maxAp","inventory","talents","visibleDuration","isBlocked","animations","SlideAnimation","abs","onAttack","takeDamage","BumpAnimation","addFloatingText","onDeath","entities","onPickup","onUse","targetType","cast","startTargeting","FloatingTextAnimation","Actor","entity","dx","dy","update","str","getSerializeMetadata","ctor","SerializeMetadata","_","v","w","b","App","canvas","Error","getContext","alpha","antialias","font","FONT_04B03","fillWindow","scaleFactor","center","disable","DEPTH_TEST","style","outline","tabIndex","focus","mobile","isMobile","renderSet","RenderSet","imageUrl","keyboard","Keyboard","Mouse","addEventListener","handleResizeEvent","renderLoop","innerWidth","innerHeight","navigator","userAgent","match","resetGl","state","flush","requestAnimationFrame","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionArrayIndex","texcoordArrayIndex","colorArrayIndex","getKey","isKeyArrayPressed","keys","setKey","stopPropagation","preventDefault","keyCode","prev","dragDistance","longPress","wheelDelta","lastWheelDelta","handleEvent","handleTouchEvent","handleMouseWheel","touches","updatePosition","clientX","clientY","type","getBoundingClientRect","deltaY","program","viewportSizeLocation","positionLocation","texcoordLocation","colorLocation","positionBuffer","texcoordBuffer","colorBuffer","spriteTexture","positionArray","texcoordArray","colorUint8Array","Uint8Array","colorDataView","DataView","buffer","getStringWidth","split","getHeight","charCodeAt","isInRange","getOffset","getWidth","loaded","setUint32","DYNAMIC_DRAW","createShader","shaderSource","compileShader","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","loadShader","Image","onload","generateMipmap","src","AppState","baseRect","closeButtonRect","viewportFocus","focusMargins","turnIndex","cursor","tooltip","TooltipDialog","rng","RNG","pathIndex","horizontalViewDistance","viewDistance","verticalViewDistance","zoom","mapSize","mapLayers","tileMapRenderer","messageLog","Sprite","updateGlobalAnimations","updateZoom","updateAnimations","updateEntities","onUpdate","updateViewport","drawTileMap","drawTargeting","drawEntities","drawAnimations","tooltipElement","isLongPress","vibrate","showAt","getCenter","isDone","resolve","handlePlayerInput","doAi","nextTurn","ceil","globalAnimIndex","isTargeting","targetSprite","targetAbility","targetCallback","getActorAt","cancelTargeting","ai","isKeyDown","isDownLeftKeyPressed","isDownKeyPressed","isDownRightKeyPressed","isLeftKeyPressed","isRightKeyPressed","isUpLeftKeyPressed","isUpKeyPressed","isUpRightKeyPressed","endTargeting","targetTile","path","computePath","stopAutoWalk","tryMoveOrAttack","isWaitKeyPressed","onBump","endTurn","recomputeFov","startTurn","recalculateViewportFocus","computeFov","Game","reverse","mt","mti","setSeed","nextInt","nextFloat","reduce","nextRange","chooseIndex","loop","ticksPerFrame","colorOverride","animIndex","animDelay","clone","ShortcutButtonSlot","handlers","damageFunc","distanceTo","moveToward","attack","BasicMonster","numTurns","oldAi","ConfusedMonster","FadeInAnimation","duration","blackoutRect","FadeOutAnimation","ProjectileAnimation","position","velocity","Font","MonospacedFont","glyphSize","widths","offsets","ProportionalFont","CompoundMessage","getIndex","options","selectedIndex","DefaultSelectOptionRenderer","drawOption","onSelect","onCancel","ComplexSelectDialog","srcRect","ImagePanel","capacity","items","addListener","addItem","removeItem","ItemContainerButtonSlot","getExistingButton","getNextFreeSlot","ItemContainerDialog","maxItems","MessageLog","message","MessagePanel","callback","close","SelectDialog","spacing","containsTalent","getFreeSlot","containsItem","ShortcutBar","TalentsDialog","pickup","Item","MAGENTA","BROWN","LIGHT_GRAY","DARK_GRAY","LIGHT_BLUE","LIGHT_GREEN","LIGHT_CYAN","LIGHT_RED","LIGHT_MAGENTA","CgaColors","DARK_BLUE","DARK_PURPLE","DARK_GREEN","INDIGO","PEACH","Pico8Colors","Serializer","typeLists","root","serializeObject","refs","constructor","Function","serializeArray","_i","_c","getOwnPropertyNames","rank","Talent","wglt_1","Colors","ItemQuality","statsactor_1","gold_1","equipmentbuilder_1","healthpotion_1","Monster","StatsActor","level","calculateDamage","sentiment","Sentiment","HOSTILE","strength","armor","buildLoot","attacker","target","getDamage","Gold","HealthPotion","EquipmentBuilder","withRandomDrop","build","EquipmentSlot","equipmentslot_1","equipmenttype_1","colors_1","START_BLOOD","END_BLOOD","mp","maxMp","dexterity","constitution","intelligence","recalculateMaxHp","showFrame","NEUTRAL","equipment","proficiencies","buffs","item","addEquipment","removeEquipment","strengthModifier","calculateModifier","dexterityModifier","constitutionModifier","intelligenceModifier","abilityScore","count","dest","check","slot","mainHandWeapon","getEquipment","MAINHAND","weapon","baseDamage","modifier","minDamage","maxDamage","finesse","buffDamage","damage","result","modifyDamageDealt","modifyDamageTaken","FRIENDLY","onTalk","log","xpGain","pow","addXp","location","findFreeTile","loot","buff","EquipmentType","NONE","canEquip","equipped","oldHp","equipment_1","equipmentsprites_1","itemquality_1","DEFAULT_SPRITE","undefined","itemLevel","HEAD","quality","POOR","ranged","statMultiplier","withSprite","chooseQuality","chooseSlot","chooseFlair","EPIC","RARE","UNCOMMON","COMMON","chooseHead","chooseNeck","chooseBack","chooseChest","chooseHands","chooseLegs","chooseFeet","chooseRing","chooseMainHand","chooseOffHand","CLOTH","chooseValue","chooseArrayValue","CLOTH_HELM_SPRITES","LEATHER","LEATHER_HELM_SPRITES","PLATE","PLATE_HELM_SPRITES","NECK","NECKLACE_SPRITE_1","BACK","CLOAK_SPRITES","CHEST","ROBE_SPRITES","SHIRT_SPRITES","HANDS","GLOVES_SPRITES","LEGS","PANTS_SPRITES","FEET","BOOTS_SPRITES","RING","RING_SPRITES","SWORD","SWORD_SPRITES","AXE","AXE_SPRITE_1","MACE","MACE_SPRITES","DAGGER","DAGGER_SPRITE_1","BOW","BOW_SPRITE_1","CROSSBOW","CROSSBOW_SPRITE_1","STAFF","STAFF_SPRITES","OFFHAND","dice","LANTERN_SPRITE","ORB_SPRITE","BOOK_SPRITE","SHIELD_SPRITES","choosePoorFlair","chooseCommonFlair","chooseUncommonFlair","chooseRareFlair","chooseEpicFlair","LEGENDARY","chooseLegendaryFlair","withColor","DARK_MAGENTA","DARK_RED","values","Equipment","W","H","C","SWORD_SPRITE_1","SWORD_SPRITE_2","SWORD_SPRITE_3","SWORD_SPRITE_4","MACE_SPRITE_1","MACE_SPRITE_2","MACE_SPRITE_3","MACE_SPRITE_4","MACE_SPRITE_5","MACE_SPRITE_6","STAFF_SPRITE_1","STAFF_SPRITE_2","STAFF_SPRITE_3","STAFF_SPRITE_4","STAFF_SPRITE_5","SHIRT_SPRITE_1","SHIRT_SPRITE_2","SHIRT_SPRITE_3","SHIRT_SPRITE_4","SHIRT_SPRITE_5","SHIRT_SPRITE_6","SHIRT_SPRITE_7","SHIRT_SPRITE_8","SHIRT_SPRITE_9","SHIRT_SPRITE_10","SHIRT_SPRITE_11","ROBE_SPRITE_1","ROBE_SPRITE_2","ROBE_SPRITE_3","ROBE_SPRITE_4","ROBE_SPRITE_5","ROBE_SPRITE_6","ROBE_SPRITE_7","ROBE_SPRITE_8","ROBE_SPRITE_9","ROBE_SPRITE_10","HELM_SPRITE_1","HELM_SPRITE_2","HELM_SPRITE_3","HELM_SPRITE_4","HELM_SPRITE_5","HELM_SPRITE_6","HELM_SPRITE_7","HELM_SPRITE_8","HELM_SPRITE_9","HELM_SPRITE_10","HELM_SPRITE_11","HELM_SPRITE_12","HELM_SPRITE_13","HELM_SPRITE_14","HELM_SPRITE_15","HELM_SPRITE_16","HELM_SPRITE_17","HELM_SPRITE_18","HELM_SPRITE_19","HELM_SPRITES","GLOVES_SPRITE_1","GLOVES_SPRITE_2","GLOVES_SPRITE_3","GLOVES_SPRITE_4","GLOVES_SPRITE_5","GLOVES_SPRITE_6","GLOVES_SPRITE_7","GLOVES_SPRITE_8","GLOVES_SPRITE_9","GLOVES_SPRITE_10","PANTS_SPRITE_1","PANTS_SPRITE_2","PANTS_SPRITE_3","PANTS_SPRITE_4","PANTS_SPRITE_5","PANTS_SPRITE_6","PANTS_SPRITE_7","BOOTS_SPRITE_1","SHIELD_SPRITE_1","SHIELD_SPRITE_2","SHIELD_SPRITE_3","SHIELD_SPRITE_4","SHIELD_SPRITE_5","SHIELD_SPRITE_6","SHIELD_SPRITE_7","SHIELD_SPRITE_8","SHIELD_SPRITE_9","SHIELD_SPRITE_10","SHIELD_SPRITE_11","SHIELD_SPRITE_12","SHIELD_SPRITE_13","SHIELD_SPRITE_14","SHIELD_SPRITE_15","SHIELD_SPRITE_16","SHIELD_SPRITE_17","RING_SPRITE_1","RING_SPRITE_2","CLOAK_SPRITE_1","CLOAK_SPRITE_2","CLOAK_SPRITE_3","CLOAK_SPRITE_4","CLOAK_SPRITE_5","CLOAK_SPRITE_6","CLOAK_SPRITE_7","CLOCK_SPRITE","CharacterClass","icon","description","details","guislideanimation_1","COLOR_POOR","COLOR_COMMON","COLOR_UNCOMMON","COLOR_RARE","COLOR_EPIC","COLOR_LEGENDARY","BaseItem","maxStack","sellPrice","getColor","end","GuiSlideAnimation","addTooltipDescription","baseitem_1","SPRITE","user","takeHeal","CharacterRace","stunned_1","LEAP_COLOR","LEAP_SPRITE","TOOLTIP_MESSAGES","LeapAbility","minRange","maxRange","caster","xSpeed","ySpeed","addAnimation","then","Stunned","MANA_COST","LightningAbility","monster","getClosestMonster","explosion","range","minDist","dist","distance","TOOLTIPS","Tiles","turns","Buff","MenuItemRenderer","expandedHeight","collapsedHeight","point","option","selected","iconColor","titleColor","descColor","j","msg","Portal","fade","exit","other","warpToPoint","flashheal_1","leap_1","lightning_1","characterclass_1","ICON","DETAILS","Paladin","class","FlashHealAbility","equipItem","withName","withItemLevel","withQuality","withSlot","withType","withArmor","withDamage","healAmount","explosionanimation_1","FIRE_COLOR","FIREBALL_SPRITE","FireballAbility","ExplosionAnimation","characterrace_1","Human","race","monster_1","Spider","BatAI","bat","Bat","Troll","TILE_OPEN_DOOR","Door","map","setBlocked","Scroll","hideAllDialogs","hash","startGame","playGame","chooseSeed","chooseRace","chooseClass","showHighScores","showCredits","showMainMenu","wglt","classmenu_1","game_1","mainmenu_1","racemenu_1","hearthstone_1","seedmenu_1","document","querySelector","mainMenu","MainMenu","seedMenu","SeedMenu","raceMenu","RaceMenu","classMenu","ClassMenu","highScores","credits","seed","Hearthstone","playerRace","initPlayer","playerClass","paladin_1","priest_1","ranger_1","rogue_1","warlock_1","warrior_1","menuitemrenderer_1","CLASSES","Priest","Ranger","Rogue","Warlock","Warrior","selectDialog","choice","history","back","builder","buildComparisonTooltip","buildNormalTooltip","compMessage","current","fireball_1","bubble_1","BubbleAbility","radius","sprites","maxRadius","centerX","centerY","angle","cos","sin","animation","Bubble","absorb","buff_1","remaining","shoot_1","ShootAbility","shadowstrike_1","ShadowStrikeAbility","targetX","targetY","bestTile","bestDistance","curse_1","demonicgateway_1","CurseAbility","DemonicGatewayAbility","Curse","gateway_1","gateway1","Gateway","gateway2","owner","rage_1","RageAbility","Rage","player_1","bottompanel_1","characterdialog_1","toppanel_1","mapgen_1","levelupdialog_1","entityframes_1","scroll_1","TARGET_SPRITE","mapGen","MapGenerator","Player","topPanel","TopPanel","bottomPanel","BottomPanel","EntityFrames","inventoryButton","inventoryDialog","inventorySlot","characterButton","characterDialog","characterSlot","talentsButton","talentsDialog","talentsSlot","menuButton","menuSlot","CharacterDialog","levelUpDialog","LevelUpDialog","shortcutBar","addTalent","createMap","resetViewport","x0","y0","maxDistance","r2","getEntityAt","serialize","console","human_1","PLAYER_SPRITE","xp","maxXp","remainingAbilityPoints","home","levelUp","nextMaxXp","oldMaxXp","MARGIN","BUTTON_SPACING","headSlot","neckSlot","backSlot","chestSlot","handsSlot","legsSlot","feetSlot","ringSlot","mainHandSlot","offHandSlot","getSlot","containerRect","buttonRect","desc","child","inspectSlot","bo","healthWidth","shark_1","portal_1","tiles_1","overworld_1","dungeon_1","MAP_WIDTH","MAP_HEIGHT","nextKeyId","overworld","Overworld","dungeon","Dungeon","portalSprite","portal1","portal2","entrance","touchUp","tile","z","EMPTY","bounds","water","WATER","t1","t2","t3","t4","t5","FLOOR","WALL","HALF_WALL","COBWEB_NORTHWEST","COBWEB_NORTHEAST","COBWEB_SOUTHWEST","COBWEB_SOUTHEAST","CLOSED_DOOR","SHADOW","HALF_WALL2","HALF_WALL3","nearBridge","BRIDGE","Shark","SharkAI","shark","ghost_1","spider_1","snake_1","bat_1","troll_1","king_1","castle_1","vendor_1","grapplinghook_1","OVERWORLD_WIDTH","OVERWORLD_HEIGHT","outerOverworld","clearMap","GRASS","createRiver","graveyards","graveyard","FENCE8","FENCE7","FENCE6","FENCE5","FENCE10","FENCE9","FENCE1","ghost","Ghost","castle","Castle","PATH","treeX","treeY","TREE1","TREE2","roll","pos","Snake","king","King","createVendor","hook","GrapplingHook","vendor","Vendor","SnakeAI","snake","questdialog_1","quest_1","KingAI","dialog","QuestDialog","quest","Quest","guard_1","moat","walls","floors","waypoints","guard","Guard","GuardAI","waypointIndex","waitCount","aggroCount","aggroTarget","otherGuard","waypoint","vendordialog_1","VendorAI","VendorDialog","vendorbutton_1","existingButton","freeSlot","VendorButton","buttonSlot","existing","getFirstItem","initialItem","countGold","moveGold","dst","GrapplingHookAbility","existingDistance","goalX","goalY","dungeonlayer_1","DUNGEON_WIDTH","DUNGEON_HEIGHT","layer","DungeonLayer","reddragon_1","windelemental_1","griffon_1","key_1","bossdoor_1","lockeddoor_1","confuse_1","stonegolem_1","ROOM_MIN_WIDTH","ROOM_MAX_WIDTH","ROOM_MIN_HEIGHT","ROOM_MAX_HEIGHT","MAX_ROOMS","MAX_ROOM_MONSTERS","MAX_ROOM_ITEMS","MAX_ROOM_OBSTACLES","STAIRS_SPRITE","BOSS_LAYOUTS","bossZone","bossRoom","stairsRoom","rooms","keyId","bossLayout","newRoom","failed","intersects","createRoom","STAIRS_UP","createHTunnel","createVTunnel","placeMonsters","placeItems","bossLevel","boss","RedDragon","WindElemental","Griffon","StoneGolem","Key","itemQuality","BossDoor","stairsLoc","STAIRS_DOWN","LockedDoor","placeObstacles","room","dungeonLevel","numMonsters","numItems","ConfuseAbility","BARREL","STATUE","flamecrawler_1","RedDragonAI","dragon","createCrawler","FlameCrawler","FlameCrawlerAI","aliveCount","nextX","nextY","windcrawler_1","WindElementalAI","elemental","WindCrawler","WindCrawlerAI","GriffonAI","griffon","moveTo","door_1","openDoor","CONFUSE_SPRITE","StoneGolemAI","charging","golem","playerDist","targetDist","CONSTITUTION_SPRITE","DEXTERITY_SPRITE","INTELLIGENCE_SPRITE","STRENGTH_SPRITE","DESCRIPTIONS","constitutionSlot","constitutionBtn","incConstitution","dexteritySlot","dexterityBtn","incDexterity","intelligenceSlot","intelligenceBtn","incIntelligence","strengthSlot","strengthBtn","incStrength","increaseStat","con","dex","int","nameColor","levelColor","OPTIONS","display","enabled","time","chooseSprites","random","time2","dwarf_1","elf_1","orc_1","undead_1","RACES","Dwarf","Elf","Orc","Undead","Seed","number","seeds"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"wglt\",[],e):\"object\"==typeof exports?exports.wglt=e():t.wglt=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=41)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(27);e.KNOWN_CLASSES={},e.Serializable=function(t,i){return function(r){const o=s.createSerializeMetadata(r);o.className=t,i&&(o.valueType=!!i.valueType),e.KNOWN_CLASSES[t]=o}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e){this.x=t,this.y=e}add(t){this.x+=t.x,this.y+=t.y}};r=s([i(0).Serializable(\"Vec2\")],r),e.Vec2=r},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);class r extends s.Vec2{constructor(t,e,i,s){super(t,e),this.width=i,this.height=s}get x1(){return this.x}get y1(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get left(){return this.x}get top(){return this.y}clone(){return new r(this.x,this.y,this.width,this.height)}copy(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}getCenter(){return new s.Vec2(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}}e.Rect=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(9);let o=class{constructor(t){this.gui=null,this.rect=t,this.children=new r.ArrayList,this.modal=!1,this.visible=!0}setGui(t){if(!this.gui){this.gui=t;for(let e=0;e<this.children.length;e++)this.children.get(e).setGui(t)}}add(t){t.parent=this,t.setGui(this.gui),this.children.add(t)}remove(t){this.children.remove(t)}move(t){this.parent&&this.parent.remove(this),t.add(this)}getPanelAt(t){for(let e=this.children.length-1;e>=0;e--){const i=this.children.get(e);if(!i.visible)continue;if(i.isDragging())continue;const s=i.getPanelAt(t);if(s)return s}if(this.rect.contains(t))return this}drawContents(){this.drawChildren()}drawChildren(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);e.visible&&e.drawContents()}}handleInput(){return this.handleChildrenInput()}handleChildrenInput(){for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(e.visible&&(e.handleInput()||e.modal))return!0}return!1}isDragging(){return this.gui&&this.gui.dragElement===this}onDrop(t){return!1}updateTooltip(t){t.visible=!1}};o=s([i(0).Serializable(\"Panel\")],o),e.Panel=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{}s.VK_CANCEL=3,s.VK_HELP=6,s.VK_BACK_SPACE=8,s.VK_TAB=9,s.VK_CLEAR=12,s.VK_ENTER=13,s.VK_SHIFT=16,s.VK_CONTROL=17,s.VK_ALT=18,s.VK_PAUSE=19,s.VK_CAPS_LOCK=20,s.VK_ESCAPE=27,s.VK_SPACE=32,s.VK_PAGE_UP=33,s.VK_PAGE_DOWN=34,s.VK_END=35,s.VK_HOME=36,s.VK_LEFT=37,s.VK_UP=38,s.VK_RIGHT=39,s.VK_DOWN=40,s.VK_PRINTSCREEN=44,s.VK_INSERT=45,s.VK_DELETE=46,s.VK_0=48,s.VK_1=49,s.VK_2=50,s.VK_3=51,s.VK_4=52,s.VK_5=53,s.VK_6=54,s.VK_7=55,s.VK_8=56,s.VK_9=57,s.VK_COLON=58,s.VK_SEMICOLON=59,s.VK_LESS_THAN=60,s.VK_EQUALS=61,s.VK_GREATER_THAN=62,s.VK_QUESTION_MARK=63,s.VK_AT=64,s.VK_A=65,s.VK_B=66,s.VK_C=67,s.VK_D=68,s.VK_E=69,s.VK_F=70,s.VK_G=71,s.VK_H=72,s.VK_I=73,s.VK_J=74,s.VK_K=75,s.VK_L=76,s.VK_M=77,s.VK_N=78,s.VK_O=79,s.VK_P=80,s.VK_Q=81,s.VK_R=82,s.VK_S=83,s.VK_T=84,s.VK_U=85,s.VK_V=86,s.VK_W=87,s.VK_X=88,s.VK_Y=89,s.VK_Z=90,s.VK_CONTEXT_MENU=93,s.VK_NUMPAD0=96,s.VK_NUMPAD1=97,s.VK_NUMPAD2=98,s.VK_NUMPAD3=99,s.VK_NUMPAD4=100,s.VK_NUMPAD5=101,s.VK_NUMPAD6=102,s.VK_NUMPAD7=103,s.VK_NUMPAD8=104,s.VK_NUMPAD9=105,s.VK_MULTIPLY=106,s.VK_ADD=107,s.VK_SEPARATOR=108,s.VK_SUBTRACT=109,s.VK_DECIMAL=110,s.VK_DIVIDE=111,s.VK_F1=112,s.VK_F2=113,s.VK_F3=114,s.VK_F4=115,s.VK_F5=116,s.VK_F6=117,s.VK_F7=118,s.VK_F8=119,s.VK_F9=120,s.VK_F10=121,s.VK_F11=122,s.VK_F12=123,s.VK_F13=124,s.VK_F14=125,s.VK_F15=126,s.VK_F16=127,s.VK_F17=128,s.VK_F18=129,s.VK_F19=130,s.VK_F20=131,s.VK_F21=132,s.VK_F22=133,s.VK_F23=134,s.VK_F24=135,s.VK_NUM_LOCK=144,s.VK_SCROLL_LOCK=145,s.VK_CIRCUMFLEX=160,s.VK_EXCLAMATION=161,s.VK_DOUBLE_QUOTE=162,s.VK_HASH=163,s.VK_DOLLAR=164,s.VK_PERCENT=165,s.VK_AMPERSAND=166,s.VK_UNDERSCORE=167,s.VK_OPEN_PAREN=168,s.VK_CLOSE_PAREN=169,s.VK_ASTERISK=170,s.VK_PLUS=171,s.VK_PIPE=172,s.VK_HYPHEN_MINUS=173,s.VK_OPEN_CURLY_BRACKET=174,s.VK_CLOSE_CURLY_BRACKET=175,s.VK_TILDE=176,s.VK_COMMA=188,s.VK_PERIOD=190,s.VK_SLASH=191,s.VK_BACK_QUOTE=192,s.VK_OPEN_BRACKET=219,s.VK_BACK_SLASH=220,s.VK_CLOSE_BRACKET=221,s.VK_QUOTE=222,s.VK_META=224,s.VK_ALTGR=225,s.VK_WIN=91,s.VK_KANA=21,s.VK_HANGUL=21,s.VK_EISU=22,s.VK_JUNJA=23,s.VK_FINAL=24,s.VK_HANJA=25,s.VK_KANJI=25,s.VK_CONVERT=28,s.VK_NONCONVERT=29,s.VK_ACCEPT=30,s.VK_MODECHANGE=31,s.VK_SELECT=41,s.VK_PRINT=42,s.VK_EXECUTE=43,s.VK_SLEEP=95,e.Keys=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(42);e.Animation=class{constructor(t,e){this.promise=new s.AnimationPromise,this.countdown=t,this.blocking=e}isDone(){return this.countdown<=0}update(){this.countdown--}draw(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7);!function(t){t[t.BLACK=s.fromRgb(0,0,0)]=\"BLACK\",t[t.WHITE=s.fromRgb(255,255,255)]=\"WHITE\",t[t.GRAY=s.fromRgb(128,128,128)]=\"GRAY\",t[t.YELLOW=s.fromRgb(255,255,0)]=\"YELLOW\",t[t.RED=s.fromRgb(255,0,0)]=\"RED\",t[t.GREEN=s.fromRgb(0,255,0)]=\"GREEN\",t[t.CYAN=s.fromRgb(0,255,255)]=\"CYAN\",t[t.BLUE=s.fromRgb(0,0,255)]=\"BLUE\",t[t.PINK=s.fromRgb(255,0,255)]=\"PINK\",t[t.ORANGE=s.fromRgb(255,128,0)]=\"ORANGE\"}(e.StandardColors||(e.StandardColors={}))},function(t,e,i){\"use strict\";function s(t,e,i,s){return void 0===s&&(s=255),(t<<24)+(e<<16)+(i<<8)+s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.fromRgb=s,e.fromHsv=function(t,e,i,r){const o=6*t|0,n=6*t-o,h=i*(1-e),a=i*(1-n*e),c=i*(1-(1-n)*e);let l,d,u;switch(o%6){case 0:l=i,d=c,u=h;break;case 1:l=a,d=i,u=h;break;case 2:l=h,d=i,u=c;break;case 3:l=h,d=a,u=i;break;case 4:l=c,d=h,u=i;break;case 5:l=i,d=h,u=a;break;default:l=0,d=0,u=0}return void 0===r&&(r=1),s(255*l|0,255*d|0,255*u|0,255*r|0)}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(3);let n=class extends o.Panel{constructor(t){super(t),this.closeButton=!1}drawContents(){this.gui&&this.gui.renderer.draw(this.gui.app,this)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;if(this.gui.app.isKeyPressed(r.Keys.VK_ESCAPE))return this.visible=!1,!0;const t=this.gui.app.mouse;return!(!t.isClicked()||this.rect.contains(t))&&(this.visible=!1,!0)}close(){this.gui&&this.gui.remove(this)}};n=s([i(0).Serializable(\"Dialog\")],n),e.Dialog=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(){this.elements=[]}get length(){return this.elements.length}clear(){this.elements.splice(0,this.elements.length)}get(t){return this.elements[t]}add(t){if(this.elements.push(t),this.listeners)for(let e=0;e<this.listeners.length;e++)this.listeners[e].onAdd(this,t)}remove(t){const e=this.elements.indexOf(t);if(e>=0&&(this.elements.splice(e,1),this.listeners))for(let e=0;e<this.listeners.length;e++)this.listeners[e].onRemove(this,t)}contains(t){return this.elements.indexOf(t)>=0}addListener(t){this.listeners||(this.listeners=[]),this.listeners.push(t)}};r=s([i(0).Serializable(\"ArrayList\")],r),e.ArrayList=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6),o=i(13);let n=class extends o.Button{constructor(t,e,i){super(t,e.ability.sprite),this.talent=e,this.shortcut=!!i,this.tooltipMessages=e.ability.tooltipMessages}click(){this.talent.use()}drawContents(){if(super.drawContents(),this.talent.cooldown>0){const t=this.talent.actor.game,e=t.cooldownSprite;if(e){const i=1-this.talent.cooldown/this.talent.ability.cooldown,s=Math.round(i*e.frames),o=e.x+s*e.width,n=e.y,h=this.rect.x+(this.rect.width-e.width)/2|0,a=this.rect.y+(this.rect.height-e.height)/2|0;t.app.drawImage(h,a,o,n,e.width,e.height);const c=this.rect.x+this.rect.width/2|0,l=this.rect.y+this.rect.height/2|0;t.app.drawCenteredString(this.talent.cooldown.toString(),c+1,l-2,r.StandardColors.BLACK),t.app.drawCenteredString(this.talent.cooldown.toString(),c,l-3,r.StandardColors.WHITE)}}}};n=s([i(0).Serializable(\"TalentButton\")],n),e.TalentButton=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(9),o=i(13);let n=class extends o.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.stackItems=new r.ArrayList,this.stackItems.add(i),this.tooltipMessages=i.tooltipMessages}click(){if(this.stackItems.length>0){const t=this.stackItems.get(0),e=t.game.player;e&&e.use(t)}}removeAll(){for(let t=this.stackItems.length-1;t>=0;t--)this.containerItems.remove(this.stackItems.get(t))}drawContents(){if(this.gui&&(super.drawContents(),this.stackItems.length>1)){const t=this.rect;this.gui.app.drawRightString(this.stackItems.length.toString(),t.x2-3,t.y2-10)}}updateTooltip(t){if(this.stackItems.length>0){const t=this.stackItems.get(0);t.onUpdateTooltip(),this.tooltipMessages=t.tooltipMessages}super.updateTooltip(t)}};n=s([i(0).Serializable(\"ItemButton\")],n),e.ItemButton=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(13);let o=class extends r.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.shortcutItem=i,this.tooltipMessages=i.tooltipMessages}click(){const t=this.getItem();if(t){const e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),!this.isDragging())){const t=this.rect,e=this.countItems();this.gui.app.drawRightString(e.toString(),t.x2-3,t.y2-10)}}getItem(){for(let t=0;t<this.containerItems.length;t++){const e=this.containerItems.get(t);if(this.shortcutItem.isStackable(e))return e}}countItems(){let t=0;for(let e=0;e<this.containerItems.length;e++)this.shortcutItem.isStackable(this.containerItems.get(e))&&t++;return t}};o=s([i(0).Serializable(\"ItemShortcutButton\")],o),e.ItemShortcutButton=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e,i,s){super(t),this.sprite=e,this.shortcutKey=i,this.onClick=s}drawContents(){if(!this.gui)return;const t=this.sprite,e=this.rect,i=(e.width-t.width)/2|0,s=(e.height-t.height)/2|0;t.draw(this.gui.app,e.x+i,e.y+s)}handleInput(){if(!this.gui)return!1;const t=this.gui.app,e=t.mouse;return this.rect.contains(e.start)&&e.isDragging()?(this.gui.startDragging(this),!0):this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked()?(this.click(),!0):e.down&&this.rect.contains(e)}click(){this.onClick&&this.onClick()}updateTooltip(t){this.tooltipMessages?(t.messages=this.tooltipMessages,t.visible=!0):t.visible=!1}};o=s([i(0).Serializable(\"Button\")],o),e.Button=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(39),r=i(2),o=i(51);e.getTileId=function(t,e){return 64*e+t};e.TileMap=class{constructor(t,e,i,n){this.width=t,this.height=e,this.depth=i,this.tileSize=n,this.grid=new Array(e),this.layers=new Array(i),this.dirty=!0,this.originX=0,this.originY=0,this.visibleRect=new r.Rect(0,0,t,e),this.prevVisibleRect=new r.Rect(0,0,t,e);for(let i=0;i<e;i++){this.grid[i]=new Array(t);for(let e=0;e<t;e++)this.grid[i][e]=new s.TileMapCell(e,i)}for(let s=0;s<i;s++)this.layers[s]=new o.TileMapLayer(t,e)}isOutOfRange(t,e,i){return t<0||t>=this.width||e<0||e>=this.height||i<0||i>=this.depth}clear(){for(let t=0;t<this.layers.length;t++)this.layers[t].clear()}getTile(t,e,i){return this.isOutOfRange(t,e,i)?0:this.layers[i].getTile(t,e)}setTile(t,e,i,s){this.isOutOfRange(t,e,i)||this.layers[i].setTile(t,e,s)}isBlocked(t,e){return!!this.isOutOfRange(t,e,0)||this.grid[e][t].blocked}setBlocked(t,e,i,s){this.isOutOfRange(t,e,0)||(this.grid[e][t].blocked=i,this.grid[e][t].blockedSight=void 0!==s?s:i)}getCell(t,e){return this.isOutOfRange(t,e,0)?null:this.grid[e][t]}isVisible(t,e){return!(t<this.visibleRect.x1||t>=this.visibleRect.x2||e<this.visibleRect.y1||e>=this.visibleRect.y2)&&this.grid[e][t].visible}isSeen(t,e){const i=this.getCell(t,e);return i&&i.seen}setSeen(t,e,i){const s=this.getCell(t,e);s&&(s.seen=i)}isAnimated(t,e,i){return!this.isOutOfRange(t,e,i)&&this.layers[i].isAnimated(t,e)}setAnimated(t,e,i,s){this.isOutOfRange(t,e,i)||this.layers[i].setAnimated(t,e,s)}resetFov(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)this.grid[t][e].seen=!1,this.grid[t][e].visible=!1}computeFov(t,e,i,s){this.originX=t,this.originY=e,this.prevVisibleRect.copy(this.visibleRect);const r=i,o=s||i;this.visibleRect.x=Math.max(0,t-r),this.visibleRect.y=Math.max(0,e-o),this.visibleRect.width=Math.min(this.width-1,t+r)-this.visibleRect.x+1,this.visibleRect.height=Math.min(this.height-1,e+o)-this.visibleRect.y+1;for(let t=this.visibleRect.y1;t<this.visibleRect.y2;t++)for(let e=this.visibleRect.x1;e<this.visibleRect.x2;e++)this.grid[t][e].visible=!1;this.grid[e][t].visible=!0,this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantY(1,-1),this.computeOctantX(1,-1),this.computeOctantY(-1,1),this.computeOctantX(-1,1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1),this.dirty=!0}computeOctantY(t,e){const i=[],s=[];let r,o,n,h,a,c,l,d,u,p,f=1,g=0,y=0,m=0;for(o=this.originY+e;o>=this.visibleRect.y1&&o<this.visibleRect.y2;o+=e,y=g,++f)for(n=.5/f,p=-1,h=Math.floor(m*f+.5),r=this.originX+h*t;h<=f&&r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/f)+n,y>0)if(this.grid[o-e][r].visible&&!this.grid[o-e][r].blockedSight||this.grid[o-e][r-t].visible&&!this.grid[o-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[o][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[o][r].visible=!0,this.grid[o][r].seen=!0,this.grid[o][r].blockedSight&&(m>=d?m=u:c||(i[g]=d,s[g++]=u)))}}computeOctantX(t,e){const i=[],s=[];let r,o,n,h,a,c,l,d,u,p,f=1,g=0,y=0,m=0;for(r=this.originX+t;r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,y=g,++f)for(n=.5/f,p=-1,h=Math.floor(m*f+.5),o=this.originY+h*e;h<=f&&o>=this.visibleRect.y1&&o<this.visibleRect.y2;o+=e,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/f)+n,y>0)if(this.grid[o][r-t].visible&&!this.grid[o][r-t].blockedSight||this.grid[o-e][r-t].visible&&!this.grid[o-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[o][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[o][r].visible=!0,this.grid[o][r].seen=!0,this.grid[o][r].blockedSight&&(m>=d?m=u:c||(i[g]=d,s[g++]=u)))}}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(t),this.shortcutKey=e}get button(){return this.children.length>0?this.children.get(0):void 0}drawContents(){if(!this.gui)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;e&&this.gui.app.drawImage(t.x,t.y,e.x,e.y,t.width,t.height);const i=this.button;i&&!i.isDragging()&&(i.rect.x=this.rect.x,i.rect.y=this.rect.y,i.rect.width=this.rect.width,i.rect.height=this.rect.height,this.drawChildren()),this.shortcutKey&&this.gui.app.drawRightString(String.fromCharCode(this.shortcutKey),t.x2-3,t.y+3)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;const t=this.gui.app,e=t.mouse,i=this.button;return i&&(this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked())?(i.click(),!0):e.down&&this.rect.contains(e)}};o=s([i(0).Serializable(\"ButtonSlot\")],o),e.ButtonSlot=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SELF=0]=\"SELF\",t[t.ENTITY=1]=\"ENTITY\",t[t.TILE=2]=\"TILE\"}(e.TargetType||(e.TargetType={}))},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(1);let o=class extends r.Vec2{constructor(t,e,i,s,o,n){super(e,i),this.game=t,this.offset=new r.Vec2(0,0),this.name=s,this.sprite=o,this.blocks=n,this.zIndex=1}get pixelX(){return this.x*this.game.tileSize.width+this.offset.x}get pixelY(){return this.y*this.game.tileSize.height+this.offset.y}get centerPixelX(){return this.pixelX+this.sprite.width/2|0}get centerPixelY(){return this.pixelY+this.sprite.height/2|0}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}distance(t,e){return Math.hypot(t-this.x,e-this.y)}draw(){this.sprite.draw(this.game.app,this.pixelX-this.game.viewport.x,this.pixelY-this.game.viewport.y)}startTurn(){}endTurn(){}sendToBack(){}onBump(t){return!1}};o=s([i(0).Serializable(\"Entity\")],o),e.Entity=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AI=class{constructor(t){this.actor=t,this.alwaysActive=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Input=class{constructor(){this.down=!1,this.downCount=0,this.upCount=0}update(){this.down?(this.downCount++,this.upCount=0):(this.downCount=0,this.upCount++)}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(34),o=i(12),n=i(3),h=i(10),a=i(2),c=i(1),l=i(11);let d=class{constructor(t){this.app=t,this.renderer=new r.DialogRenderer(new a.Rect(0,0,1,1)),this.rootPanel=new n.Panel(t.size),this.rootPanel.gui=this}add(t){this.rootPanel.add(t)}remove(t){this.rootPanel.remove(t)}getPanelAt(t){return this.rootPanel.getPanelAt(t)}handleInput(){return this.dragElement&&this.dragOffset?(this.updateDragging(),!0):this.rootPanel.handleInput()}draw(){this.rootPanel.drawContents(),this.dragElement&&this.dragElement.drawContents()}startDragging(t){const e=this.app.mouse;this.dragElement=t,this.dragOffset=new c.Vec2(e.start.x-t.rect.x,e.start.y-t.rect.y)}updateDragging(){const t=this.app.mouse,e=this.dragElement,i=this.dragOffset;if(t.down)e.rect.x=t.x-i.x,e.rect.y=t.y-i.y;else{const s=this.rootPanel.getPanelAt(t);s&&s.onDrop(e)?(e.rect.x=s.rect.x,e.rect.y=s.rect.y,e.move(s)):e instanceof l.ItemButton&&s===this.rootPanel?e.removeAll():e instanceof o.ItemShortcutButton&&s===this.rootPanel?e.parent&&e.parent.remove(e):e instanceof h.TalentButton&&e.shortcut&&s===this.rootPanel?e.parent&&e.parent.remove(e):(e.rect.x=t.start.x-i.x,e.rect.y=t.start.y-i.y),this.dragElement=void 0,this.dragOffset=void 0}}};d=s([i(0).Serializable(\"GUI\")],d),e.GUI=d},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Message=class{constructor(t,e){this.text=t,this.color=e}draw(t,e){t.drawString(this.text,e.x,e.y,this.color,e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(32),r=\"precision highp float;attribute vec2 position;attribute vec2 texture;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 viewOffset;uniform vec2 viewportSize;uniform vec2 tileSize;uniform vec2 mapSize;void main(void) {   pixelCoord = (texture * viewportSize) + viewOffset;   texCoord = pixelCoord / mapSize / tileSize;   gl_Position = vec4(position, 0.0, 1.0);}\",o=\"precision highp float;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 tileSize;uniform float animFrame;uniform sampler2D tiles;uniform sampler2D sprites;void main(void) {   vec4 tile = texture2D(tiles, texCoord);   if(tile.x == 0.0 && tile.y == 0.0) { discard; }   vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;   if(tile.z != 0.0) spriteOffset.x += animFrame * tileSize.x;   vec2 spriteCoord = mod(pixelCoord, tileSize);   gl_FragColor = texture2D(sprites, (spriteOffset + spriteCoord) / 1024.0);   if (gl_FragColor.a == 0.0) discard;   gl_FragColor.a *= tile.a;}\";e.TileMapRenderer=class{constructor(t,e){this.gl=t,this.tileMap=e,this.quadVertBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quadVertBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,1,1,1,1,1,0,-1,-1,0,1,1,1,1,0,-1,1,0,0]),t.STATIC_DRAW),this.tilemapShader=s.initShaderProgram(t,r,o),this.positionAttribute=t.getAttribLocation(this.tilemapShader,\"position\"),this.textureAttribute=t.getAttribLocation(this.tilemapShader,\"texture\"),this.viewportSizeUniform=t.getUniformLocation(this.tilemapShader,\"viewportSize\"),this.viewOffsetUniform=t.getUniformLocation(this.tilemapShader,\"viewOffset\"),this.mapSizeUniform=t.getUniformLocation(this.tilemapShader,\"mapSize\"),this.tileSizeUniform=t.getUniformLocation(this.tilemapShader,\"tileSize\"),this.animFrameUniform=t.getUniformLocation(this.tilemapShader,\"animFrame\"),this.tileSamplerUniform=t.getUniformLocation(this.tilemapShader,\"tiles\"),this.spriteSamplerUniform=t.getUniformLocation(this.tilemapShader,\"sprites\"),this.layerTextures=new Array(e.depth);for(let i=0;i<e.depth;i++){const s=t.createTexture(),r=e.layers[i].imageData;t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.layerTextures[i]=s}}draw(t,e,i,s,r){const o=this.gl,n=this.tileMap;o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.tilemapShader),o.bindBuffer(o.ARRAY_BUFFER,this.quadVertBuffer),o.enableVertexAttribArray(this.positionAttribute),o.enableVertexAttribArray(this.textureAttribute),o.vertexAttribPointer(this.positionAttribute,2,o.FLOAT,!1,16,0),o.vertexAttribPointer(this.textureAttribute,2,o.FLOAT,!1,16,8),o.uniform2f(this.viewOffsetUniform,t,e),o.uniform2f(this.viewportSizeUniform,i,s),o.uniform2f(this.tileSizeUniform,n.tileSize.width,n.tileSize.height),o.uniform1f(this.animFrameUniform,r||0),o.activeTexture(o.TEXTURE0),o.uniform1i(this.spriteSamplerUniform,0),o.activeTexture(o.TEXTURE1),o.uniform1i(this.tileSamplerUniform,1);const h=Math.min(n.visibleRect.x1,n.prevVisibleRect.x1),a=Math.min(n.visibleRect.y1,n.prevVisibleRect.y1),c=Math.max(n.visibleRect.x2,n.prevVisibleRect.x2),l=Math.max(n.visibleRect.y2,n.prevVisibleRect.y2);for(let t=0;t<n.depth;t++){const e=n.layers[t],i=this.layerTextures[t];if(o.uniform2f(this.mapSizeUniform,n.width,n.height),o.bindTexture(o.TEXTURE_2D,i),n.dirty){for(let t=a;t<l;t++)for(let i=h;i<c;i++){const s=n.isVisible(i,t)?255:n.isSeen(i,t)?144:0;e.setAlpha(i,t,s)}o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.width,e.height,o.RGBA,o.UNSIGNED_BYTE,e.imageData)}o.drawArrays(o.TRIANGLES,0,6)}n.dirty=!1}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(16),o=i(24),n=i(25),h=i(26),a=i(9),c=i(6),l=i(17);let d=class extends l.Entity{constructor(t,e,i,s,r,o){super(t,e,i,s,r,o),this.hp=100,this.maxHp=100,this.ap=1,this.maxAp=1,this.inventory=new a.ArrayList,this.talents=new a.ArrayList,this.visibleDuration=-1,this.seen=!1}startTurn(){this.ap=this.maxAp;for(let t=0;t<this.talents.length;t++){const e=this.talents.get(t);e.cooldown>0&&e.cooldown--}}move(t,e,i){const s=this.x+t,r=this.y+e;if(this.blocks){if(this.game.isBlocked(s,r))return!1}else if(this.game.tileMap.isBlocked(s,r))return!1;this.x=s,this.y=r,this.ap--,this.offset.x=-t*this.game.tileSize.width,this.offset.y=-e*this.game.tileSize.height;const o=i||4,n=this.game.tileSize.width/o,a=this.game.tileSize.height/o;return this.game.animations.push(new h.SlideAnimation(this,t*n,e*a,o)),this.game.blocked=!0,!0}moveTo(t,e,i){return this.move(t-this.x,e-this.y,i)}moveToward(t,e,i){const s=t-this.x,r=e-this.y;if(s<0&&r<0&&this.move(-1,-1,i))return!0;if(s<0&&r>0&&this.move(-1,1,i))return!0;if(s>0&&r<0&&this.move(1,-1,i))return!0;if(s>0&&r>0&&this.move(1,1,i))return!0;if(Math.abs(s)>Math.abs(r)){if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0;if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0}else{if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0;if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0}return!1}attack(t,e){t!==this&&(this.onAttack(t,e),t.takeDamage(this,e),this.ap--,this.game.animations.push(new o.BumpAnimation(this,t)),this.game.blocked=!0)}takeHeal(t){this.hp=Math.min(this.hp+t,this.maxHp),this.addFloatingText(t.toString(),c.StandardColors.GREEN)}takeDamage(t,e){this.hp<=0||(this.hp-=e,this.addFloatingText(e.toString(),c.StandardColors.RED),this.hp<=0&&(this.hp=0,this.onDeath(t),this.game.entities.remove(this)))}pickup(t){t.onPickup(this),this.inventory.add(t),this.game.entities.remove(t)}use(t){return t.onUse(this)}cast(t,e,i){t.targetType===r.TargetType.SELF||e?t.cast(this,e)&&i&&i():this.game.startTargeting(t,i)}addFloatingText(t,e){this.game.animations.push(new n.FloatingTextAnimation(this,t,e))}onAttack(t,e){}onDeath(t){}};d=s([i(0).Serializable(\"Actor\")],d),e.Actor=d},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=12;e.BumpAnimation=class extends s.Animation{constructor(t,e){super(r,!0),this.entity=t,this.dx=e.x-t.x,this.dy=e.y-t.y}update(){const t=r-this.countdown;t>=0&&t<4&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),t>=4&&t<8&&(this.entity.offset.x-=this.dx,this.entity.offset.y-=this.dy),super.update()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6),r=i(5),o=40;e.FloatingTextAnimation=class extends r.Animation{constructor(t,e,i){super(o,!1),this.actor=t,this.str=e,this.color=i||s.StandardColors.WHITE}draw(t){const e=o-this.countdown,i=this.actor.pixelX+(this.actor.sprite.width/2|0)-t.viewport.x,s=this.actor.pixelY-3-t.viewport.y-Math.min(4,Math.floor(e/2));t.app.drawCenteredString(this.str,i,s,this.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.SlideAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.entity=t,this.dx=e,this.dy=i}update(){this.countdown--,this.countdown>=0&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),0===this.countdown&&(this.entity.offset.x=0,this.entity.offset.y=0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=\"__wgltMetadata\";function r(t){const e=new o(t);return t[s]=e,e}e.createSerializeMetadata=r,e.getSerializeMetadata=function(t){return t[s]||r(t)};class o{constructor(t){this.className=\"Object\",this.valueType=!1,this.ctor=t}}e.SerializeMetadata=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(48),r=i(29),o=i(30),n=i(2),h=i(31),a=i(1),c=i(4),l=400,d=224,u=!1,p=2,f=[c.Keys.VK_NUMPAD7,c.Keys.VK_Y],g=[c.Keys.VK_NUMPAD9,c.Keys.VK_U],y=[c.Keys.VK_NUMPAD1,c.Keys.VK_B],m=[c.Keys.VK_NUMPAD3,c.Keys.VK_N],_=[c.Keys.VK_UP,c.Keys.VK_NUMPAD8,c.Keys.VK_K],v=[c.Keys.VK_LEFT,c.Keys.VK_NUMPAD4,c.Keys.VK_H],w=[c.Keys.VK_DOWN,c.Keys.VK_NUMPAD2,c.Keys.VK_J],x=[c.Keys.VK_RIGHT,c.Keys.VK_NUMPAD6,c.Keys.VK_L],b=[c.Keys.VK_SPACE,c.Keys.VK_NUMPAD5];e.App=class{constructor(t){const e=t.canvas;if(!e)throw new Error(\"Null or missing canvas element\");const i=e.getContext(\"webgl\",{alpha:!1,antialias:!1});if(!i)throw new Error(\"Could not get WebGL context\");this.canvas=e,this.gl=i,this.size=t.size||new n.Rect(0,0,l,d),this.font=t.font||s.FONT_04B03,this.fillWindow=t.fillWindow||u,this.scaleFactor=t.scaleFactor||p,this.center=new a.Vec2(this.size.width/2|0,this.size.height/2|0),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),e.width=this.size.width,e.height=this.size.height,e.style.outline=\"none\",e.tabIndex=0,e.focus(),this.mobile=this.isMobile(),this.renderSet=new h.RenderSet(i,t.imageUrl,this.font),this.keyboard=new r.Keyboard(e),this.mouse=new o.Mouse(this),this.fillWindow&&(window.addEventListener(\"resize\",this.handleResizeEvent.bind(this),!1),this.handleResizeEvent()),this.renderLoop()}handleResizeEvent(){const t=window.innerWidth,e=window.innerHeight,i=this.isMobile(),s=i?320:400,r=i?224:300;this.scaleFactor=1,this.scaleFactor=t>e?Math.max(1,Math.min(Math.round(t/s),Math.round(e/r))):Math.max(1,Math.min(Math.round(t/r),Math.round(e/s))),this.size.width=Math.round(t/this.scaleFactor),this.size.height=Math.round(e/this.scaleFactor),this.center.x=this.size.width/2|0,this.center.y=this.size.height/2|0,this.canvas.width=this.size.width,this.canvas.height=this.size.height,this.canvas.style.left=\"0\",this.canvas.style.top=\"0\",this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"}isMobile(){return!!navigator.userAgent.match(/Android|iPhone|iPod|IEMobile|WPDesktop|Opera Mini/i)}renderLoop(){this.keyboard.update(),this.mouse.update(),this.resetGl(),this.state&&this.state.update(),this.renderSet.flush(this.size.width,this.size.height),requestAnimationFrame(this.renderLoop.bind(this))}resetGl(){const t=this.gl;t.viewport(0,0,this.size.width,this.size.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.renderSet.positionArrayIndex=0,this.renderSet.texcoordArrayIndex=0,this.renderSet.colorArrayIndex=0}drawImage(t,e,i,s,r,o,n,h,a){this.renderSet.drawImage(t,e,i,s,r,o,n,h,a)}drawString(t,e,i,s,r){this.renderSet.drawString(t,e,i,s,r)}drawCenteredString(t,e,i,s){this.renderSet.drawCenteredString(t,e,i,s)}drawRightString(t,e,i,s){this.renderSet.drawRightString(t,e,i,s)}isKeyDown(t){const e=this.keyboard.getKey(t);return e&&e.down}isKeyPressed(t){const e=this.keyboard.getKey(t),i=e?e.downCount:0;return 1===i||i>30}isDownLeftKeyPressed(){return this.isKeyArrayPressed(y)}isDownKeyPressed(){return this.isKeyArrayPressed(w)}isDownRightKeyPressed(){return this.isKeyArrayPressed(m)}isLeftKeyPressed(){return this.isKeyArrayPressed(v)}isWaitKeyPressed(){return this.isKeyArrayPressed(b)}isRightKeyPressed(){return this.isKeyArrayPressed(x)}isUpLeftKeyPressed(){return this.isKeyArrayPressed(f)}isUpKeyPressed(){return this.isKeyArrayPressed(_)}isUpRightKeyPressed(){return this.isKeyArrayPressed(g)}isKeyArrayPressed(t){for(let e=0;e<t.length;e++)if(this.isKeyPressed(t[e]))return!0;return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(19),r=256;e.Keyboard=class{constructor(t){this.keys=new Array(r);for(let t=0;t<r;t++)this.keys[t]=new s.Input;t.addEventListener(\"keydown\",t=>this.setKey(t,!0)),t.addEventListener(\"keyup\",t=>this.setKey(t,!1))}setKey(t,e){t.stopPropagation(),t.preventDefault();const i=t.keyCode;i>=0&&i<r&&(this.keys[i].down=e)}update(){for(let t=0;t<r;t++)this.keys[t].down?this.keys[t].downCount++:this.keys[t].downCount=0}getKey(t){return t>=0&&t<r?this.keys[t]:null}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(19),r=i(2),o=i(1),n=4,h=30;e.Mouse=class extends s.Input{constructor(t){super(),this.app=t,this.prev=new o.Vec2(0,0),this.start=new o.Vec2(0,0),this.x=0,this.y=0,this.dx=0,this.dy=0,this.dragDistance=0,this.longPress=!1,this.wheelDelta=0,this.lastWheelDelta=0;const e=t.canvas,i=this.handleEvent.bind(this);e.addEventListener(\"mousedown\",i),e.addEventListener(\"mouseup\",i),e.addEventListener(\"mousemove\",i),e.addEventListener(\"contextmenu\",i);const s=this.handleTouchEvent.bind(this);e.addEventListener(\"touchstart\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s),e.addEventListener(\"touchmove\",s);const r=this.handleMouseWheel.bind(this);e.addEventListener(\"mousewheel\",r)}handleTouchEvent(t){if(t.stopPropagation(),t.preventDefault(),t.touches.length>0){const e=t.touches[0];this.updatePosition(e.clientX,e.clientY)}\"touchstart\"===t.type&&(this.down=!0,this.prev.x=this.x,this.prev.y=this.y,this.start.x=this.x,this.start.y=this.y,this.dx=0,this.dy=0,this.dragDistance=0),\"touchend\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}handleEvent(t){t.stopPropagation(),t.preventDefault(),this.updatePosition(t.clientX,t.clientY),\"mousedown\"===t.type&&(this.down=!0,this.start.x=this.x,this.start.y=this.y,this.dragDistance=0,this.app.canvas.focus()),\"mouseup\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}updatePosition(t,e){let i=this.app.canvas.getBoundingClientRect();const s=this.app.size.width/this.app.size.height,o=i.width/i.height;if(o-s>.01){const t=s*i.height,e=i.width-t;i=new r.Rect(Math.floor(e/2),0,t,i.height)}if(o-s<-.01){const t=i.width/s,e=i.height-t;i=new r.Rect(0,Math.floor(e/2),i.width,t)}this.x=this.app.size.width*(t-i.left)/i.width|0,this.y=this.app.size.height*(e-i.top)/i.height|0}handleMouseWheel(t){t.stopPropagation(),t.preventDefault();const e=t;return this.lastWheelDelta=Math.max(-1,Math.min(1,e.deltaY)),!1}update(){super.update(),this.dx=this.x-this.prev.x,this.dy=this.y-this.prev.y,this.prev.x=this.x,this.prev.y=this.y,this.wheelDelta=this.lastWheelDelta,this.lastWheelDelta=0,this.down&&(this.dragDistance+=Math.abs(this.dx)+Math.abs(this.dy))}isClicked(){return 1===this.upCount&&this.dragDistance<n&&!this.longPress}isDragging(){return this.down&&this.dragDistance>n}isLongPress(){return this.downCount===h&&!this.isDragging()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(32),r=65536,o=\"uniform vec2 u_viewportSize;attribute vec2 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;void main() {vec2 zeroToOne = a_position / u_viewportSize;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;v_color = a_color;}\",n=\"precision highp float;uniform sampler2D u_image;varying vec2 v_texCoord;varying vec4 v_color;void main() {gl_FragColor = texture2D(u_image, v_texCoord);if (gl_FragColor.a < 0.1) discard;if (v_color.a != 0.0) gl_FragColor = v_color;}\";e.RenderSet=class{constructor(t,e,i){this.gl=t,this.font=i;const h=s.initShaderProgram(t,o,n);this.program=h,this.viewportSizeLocation=t.getUniformLocation(h,\"u_viewportSize\"),this.positionLocation=t.getAttribLocation(h,\"a_position\"),this.texcoordLocation=t.getAttribLocation(h,\"a_texCoord\"),this.colorLocation=t.getAttribLocation(h,\"a_color\"),this.positionBuffer=t.createBuffer(),this.texcoordBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.spriteTexture=s.createTexture(t,e),this.positionArray=new Float32Array(r),this.positionArrayIndex=0,this.texcoordArray=new Float32Array(r),this.texcoordArrayIndex=0,this.colorUint8Array=new Uint8Array(r),this.colorDataView=new DataView(this.colorUint8Array.buffer),this.colorArrayIndex=0}drawCenteredString(t,e,i,s){const r=e-this.font.getStringWidth(t)/2|0;this.drawString(t,r,i,s)}drawRightString(t,e,i,s){const r=e-this.font.getStringWidth(t);this.drawString(t,r,i,s)}drawString(t,e,i,s,r){const o=t.split(\"\\n\"),n=this.font.getHeight();let h=e,a=i;for(let t=0;t<o.length;t++){t>0&&(h=e,a+=n);for(let e=0;e<o[t].length;e++){const i=o[t].charCodeAt(e);if(this.font.isInRange(i)){const t=this.font.getOffset(i),e=this.font.getWidth(i);this.drawImage(h,a,t,0,e,n,s),h+=e}}}r&&(r.x=h,r.y=a)}drawChar(t,e,i,s){if(this.font.isInRange(t)){const r=this.font.getOffset(t),o=this.font.getWidth(t),n=this.font.getHeight();this.drawImage(e,i,r,0,o,n,s)}}drawImage(t,e,i,s,r,o,n,h,a){const c=this.spriteTexture;if(!c.loaded)return;const l=void 0!==h?h:r,d=void 0!==a?a:o,u=t+Math.abs(l),p=e+d,f=i/c.width,g=s/c.height,y=(i+r)/c.width,m=(s+o)/c.height,_=n||0;this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=m,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=m,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=m;for(let t=0;t<6;t++)this.colorDataView.setUint32(this.colorArrayIndex,_,!1),this.colorArrayIndex+=4}flush(t,e){if(!this.spriteTexture.loaded||0===this.positionArrayIndex)return;const i=this.gl;i.useProgram(this.program),i.uniform2f(this.viewportSizeLocation,t,e),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.spriteTexture);{i.enableVertexAttribArray(this.positionLocation),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,this.positionArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,o=0;i.vertexAttribPointer(this.positionLocation,t,e,s,r,o)}{i.enableVertexAttribArray(this.texcoordLocation),i.bindBuffer(i.ARRAY_BUFFER,this.texcoordBuffer),i.bufferData(i.ARRAY_BUFFER,this.texcoordArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,o=0;i.vertexAttribPointer(this.texcoordLocation,t,e,s,r,o)}{i.enableVertexAttribArray(this.colorLocation),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),i.bufferData(i.ARRAY_BUFFER,this.colorUint8Array,i.DYNAMIC_DRAW);const t=4,e=i.UNSIGNED_BYTE,s=!0,r=0,o=0;i.vertexAttribPointer(this.colorLocation,t,e,s,r,o)}const s=i.TRIANGLES,r=this.positionArrayIndex/2;i.drawArrays(s,0,r)}}},function(t,e,i){\"use strict\";function s(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.initShaderProgram=function(t,e,i){const r=s(t,t.VERTEX_SHADER,e),o=s(t,t.FRAGMENT_SHADER,i),n=t.createProgram();return t.attachShader(n,r),t.attachShader(n,o),t.linkProgram(n),n},e.loadShader=s,e.createTexture=function(t,e){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.RGBA,r=t.RGBA,o=t.UNSIGNED_BYTE,n=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,0,s,1,1,0,r,o,n);const h=new Image;return h.onload=(()=>{t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,s,r,o,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.generateMipmap(t.TEXTURE_2D),i.loaded=!0,i.width=h.width,i.height=h.height}),h.src=e,i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(20);e.AppState=class{constructor(t){this.app=t,this.gui=new s.GUI(t)}update(){this.gui.handleInput(),this.gui.draw()}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e){this.baseRect=t,this.closeButtonRect=e}draw(t,e){const i=this.baseRect.x,s=this.baseRect.y,r=this.baseRect.width/3|0,o=this.baseRect.height/3|0,n=i+r,h=s+o,a=i+2*r,c=s+2*r,l=e.rect.x,d=e.rect.y,u=e.rect.width-2*r,p=e.rect.height-2*o,f=l+r,g=d+o,y=f+u,m=g+p;if(t.drawImage(l,d,i,s,r,o,void 0,r,o),t.drawImage(f,d,n,s,r,o,void 0,u,o),t.drawImage(y,d,a,s,r,o,void 0,r,o),t.drawImage(l,g,i,h,r,o,void 0,r,p),t.drawImage(f,g,n,h,r,o,void 0,u,p),t.drawImage(y,g,a,h,r,o,void 0,r,p),t.drawImage(l,m,i,c,r,o,void 0,r,o),t.drawImage(f,m,n,c,r,o,void 0,u,o),t.drawImage(y,m,a,c,r,o,void 0,r,o),this.closeButtonRect&&e.closeButton){const i=this.closeButtonRect.width,s=this.closeButtonRect.height,r=e.rect.x2-i,o=e.rect.y,n=this.closeButtonRect.x,h=this.closeButtonRect.y;t.drawImage(r,o,n,h,i,s)}}};r=s([i(0).Serializable(\"DialogRenderer\")],r),e.DialogRenderer=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(16),o=i(23),n=i(33),h=i(6),a=i(50),c=i(4),l=i(36),d=i(2),u=i(37),p=i(38),f=i(1),g=i(9),y=i(0),m=i(14),_=i(22),v=new d.Rect(0,0,256,256);let w=class extends n.AppState{constructor(t,e){super(t),this.viewport=new d.Rect(0,0,t.size.width,t.size.height),this.viewportFocus=new f.Vec2(0,0),this.focusMargins=e.focusMargins||new f.Vec2(0,0),this.animations=[],this.entities=new g.ArrayList,this.turnIndex=0,this.blocked=!1,this.cursor=new f.Vec2(-1,-1),this.tooltip=new a.TooltipDialog,this.rng=new u.RNG,this.pathIndex=0,this.horizontalViewDistance=e.viewDistance||13,this.verticalViewDistance=e.viewDistance||13,this.zoom=1,e.horizontalViewDistance&&(this.horizontalViewDistance=e.horizontalViewDistance),e.verticalViewDistance&&(this.verticalViewDistance=e.verticalViewDistance);const i=e.mapSize||v,s=e.mapLayers||1,r=e.tileSize||new d.Rect(0,0,16,16);this.tileMap=new m.TileMap(i.width,i.height,s,r),this.tileMapRenderer=new _.TileMapRenderer(t.gl,this.tileMap)}get tileSize(){return this.tileMap.tileSize}log(t,e){this.messageLog&&this.messageLog.add(t,e)}addAnimation(t){return this.animations.push(t),t.promise}update(){p.Sprite.updateGlobalAnimations(),this.updateTooltip(),this.updateZoom(),this.gui.handleInput()||(this.updateAnimations(),this.updateEntities(),this.onUpdate&&this.onUpdate(),this.updateViewport()),this.drawTileMap(),1===this.zoom&&(this.drawTargeting(),this.drawEntities(),this.drawAnimations()),this.gui.draw()}updateTooltip(){if(this.gui.dragElement)return void(this.tooltip.visible=!1);this.tooltip.visible||(this.tooltipElement=void 0);const t=this.app.mouse,e=t.isLongPress();if(!t.down&&(0!==t.dx||0!==t.dy)||e){const i=this.gui.getPanelAt(t);this.tooltipElement!==i&&(this.tooltipElement=i,i&&(i.updateTooltip(this.tooltip),e&&window.navigator.vibrate(100))),this.tooltip.visible&&(this.tooltip.gui||this.gui.add(this.tooltip),this.tooltip.showAt(t.x,t.y),this.tooltip.modal=this.app.mobile)}}updateZoom(){if(0!==this.app.mouse.wheelDelta){const t=this.viewport.getCenter();this.viewportFocus.x=t.x,this.viewportFocus.y=t.y,this.app.mouse.wheelDelta>0?this.zoom*=.5:this.zoom*=2,this.viewport.width=this.zoom*this.app.size.width|0,this.viewport.height=this.zoom*this.app.size.height|0,this.viewport.x=t.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=t.y-(this.app.size.height/this.zoom/2|0)}}updateAnimations(){this.blocked=!1;for(let t=0;t<this.animations.length;t++){const e=this.animations[t];e.update(),e.blocking&&(this.blocked=!0)}for(let t=this.animations.length-1;t>=0;t--)this.animations[t].isDone()&&(this.animations[t].promise.resolve(),this.animations.splice(t,1))}updateEntities(){if(this.player&&this.player.hp<=0)return;let t=0;for(;0!==this.entities.length&&(this.turnIndex>=this.entities.length&&(this.turnIndex=0),!(t>2*this.entities.length));){const e=this.entities.get(this.turnIndex);if(e instanceof o.Actor){if(e.ap>0){if(e===this.player){this.blocked||this.handlePlayerInput();break}this.doAi(e)}e.ap<=0&&(e.ap=0,this.nextTurn())}else this.nextTurn();t++}}resetViewport(){this.player&&(this.viewportFocus.x=this.player.centerPixelX,this.viewportFocus.y=this.player.centerPixelY,this.viewport.x=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0))}updateViewport(){this.viewport.width=this.app.size.width/this.zoom,this.viewport.height=this.app.size.height/this.zoom;const t=this.app.mouse;if(t.isDragging())this.viewport.x-=t.dx/this.zoom,this.viewport.y-=t.dy/this.zoom,this.viewportFocus.x=this.viewport.x+(this.viewport.width/2|0),this.viewportFocus.y=this.viewport.y+(this.viewport.height/2|0);else{const t=.05,e=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0);if(e!==this.viewport.x){let i=t*e-t*this.viewport.x;i=i<0?Math.floor(i):Math.ceil(i),this.viewport.x+=i}const i=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0);if(i!==this.viewport.y){let e=t*i-t*this.viewport.y;e=e<0?Math.floor(e):Math.ceil(e),this.viewport.y+=e}}}drawTileMap(){if(this.app.renderSet.spriteTexture.loaded){const t=(this.viewport.x/this.zoom|0)*this.zoom,e=(this.viewport.y/this.zoom|0)*this.zoom,i=(p.Sprite.globalAnimIndex/30|0)%2;this.tileMapRenderer.draw(t,e,this.viewport.width,this.viewport.height,i)}}drawTargeting(){if(this.isTargeting()&&this.targetSprite){const t=this.cursor.x*this.tileMap.tileSize.width-this.viewport.x,e=this.cursor.y*this.tileMap.tileSize.height-this.viewport.y;this.targetSprite.draw(this.app,t,e)}}drawEntities(){for(let t=0;t<3;t++)for(let e=0;e<this.entities.length;e++){const i=this.entities.get(e);i.zIndex===t&&this.tileMap.isVisible(i.x,i.y)&&i.draw()}}drawAnimations(){let t=0;for(let e=0;e<this.animations.length;e++){const i=this.animations[e];0!==t&&i.blocking||i.draw(this),i.blocking&&t++}}isTargeting(){return!!this.targetAbility}startTargeting(t,e){this.targetAbility=t,this.targetCallback=e,this.player&&(this.cursor.x=this.player.x,this.cursor.y=this.player.y)}endTargeting(){if(this.player&&this.targetAbility){const t=this.targetAbility.targetType;let e=null;t===r.TargetType.ENTITY?e=this.getActorAt(this.cursor.x,this.cursor.y):t===r.TargetType.TILE&&(e=this.tileMap.getCell(this.cursor.x,this.cursor.y)),e&&this.targetAbility.cast(this.player,e)&&this.targetCallback&&this.targetCallback()}this.cancelTargeting()}cancelTargeting(){this.targetAbility=void 0,this.targetCallback=void 0}handlePlayerInput(){if(!this.player||this.blocked)return;if(this.player.ai)return this.player.ai.doAi(),void(this.player.ap=0);const t=this.app.mouse;if((t.down||0!==t.dx||0!==t.dy)&&(this.cursor.x=(this.viewport.x+t.x)/this.tileMap.tileSize.width|0,this.cursor.y=(this.viewport.y+t.y)/this.tileMap.tileSize.height|0),this.app.isKeyDown(c.Keys.VK_SHIFT)){let t=0,e=0;return this.app.isDownLeftKeyPressed()&&(t=-1,e=1),this.app.isDownKeyPressed()&&(e=1),this.app.isDownRightKeyPressed()&&(t=1,e=1),this.app.isLeftKeyPressed()&&(t=-1),this.app.isRightKeyPressed()&&(t=1),this.app.isUpLeftKeyPressed()&&(t=-1,e=-1),this.app.isUpKeyPressed()&&(e=-1),this.app.isUpRightKeyPressed()&&(t=1,e=-1),this.viewportFocus.x-=t*this.tileMap.tileSize.height,void(this.viewportFocus.y-=e*this.tileMap.tileSize.height)}if(this.isTargeting())return(this.app.isKeyPressed(c.Keys.VK_ENTER)||this.app.mouse.isClicked())&&this.endTargeting(),this.app.isKeyPressed(c.Keys.VK_ESCAPE)&&this.cancelTargeting(),this.app.isDownLeftKeyPressed()&&(this.cursor.x--,this.cursor.y++),this.app.isDownKeyPressed()&&this.cursor.y++,this.app.isDownRightKeyPressed()&&(this.cursor.x++,this.cursor.y++),this.app.isLeftKeyPressed()&&this.cursor.x--,this.app.isRightKeyPressed()&&this.cursor.x++,this.app.isUpLeftKeyPressed()&&(this.cursor.x--,this.cursor.y--),this.app.isUpKeyPressed()&&this.cursor.y--,void(this.app.isUpRightKeyPressed()&&(this.cursor.x++,this.cursor.y--));if(t.isClicked()){const e=(this.viewport.x+t.x)/this.tileMap.tileSize.width|0,i=(this.viewport.y+t.y)/this.tileMap.tileSize.height|0,s=this.tileMap.getCell(e,i);s&&s!==this.targetTile&&(this.targetTile=s,this.path=l.computePath(this.tileMap,this.player,this.targetTile,100),this.pathIndex=0)}let e=null;if(this.path){for(e=this.path[this.pathIndex];e&&e.x===this.player.x&&e.y===this.player.y;)this.pathIndex++,e=this.pathIndex<this.path.length?this.path[this.pathIndex]:null;e||this.stopAutoWalk()}if(e){const t=e.x-this.player.x,i=e.y-this.player.y;this.tryMoveOrAttack(t,i)||this.stopAutoWalk()}else this.app.isDownLeftKeyPressed()&&this.tryMoveOrAttack(-1,1)||this.app.isDownKeyPressed()&&this.tryMoveOrAttack(0,1)||this.app.isDownRightKeyPressed()&&this.tryMoveOrAttack(1,1)||this.app.isLeftKeyPressed()&&this.tryMoveOrAttack(-1,0)||this.app.isRightKeyPressed()&&this.tryMoveOrAttack(1,0)||this.app.isUpLeftKeyPressed()&&this.tryMoveOrAttack(-1,-1)||this.app.isUpKeyPressed()&&this.tryMoveOrAttack(0,-1)||this.app.isUpRightKeyPressed()&&this.tryMoveOrAttack(1,-1)||this.app.isWaitKeyPressed()&&(this.player.ap=0)}tryMoveOrAttack(t,e){const i=this.player;if(!i)return!1;const s=i.x+t,r=i.y+e;for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);if(i!==e&&e.x===s&&e.y===r)return this.path&&e instanceof o.Actor?1===this.pathIndex?(this.stopAutoWalk(),e.onBump(i)):(this.stopAutoWalk(),!0):e.onBump(i)}return i.move(t,e)}recalculateViewportFocus(){const t=this.player;if(!t)return;const e=this.tileMap,i=e.tileSize.width,s=e.tileSize.height;let r=t.x*i,n=t.y*s,h=(t.x+1)*i,a=(t.y+1)*s;for(let o=t.y-this.verticalViewDistance;o<=t.y+this.verticalViewDistance;o++)for(let c=t.x-this.horizontalViewDistance;c<=t.x+this.horizontalViewDistance;c++)e.isVisible(c,o)&&(r=Math.min(r,c*i),n=Math.min(n,o*s),h=Math.max(h,(c+1)*i),a=Math.max(a,(o+1)*s));let c=t.x*i,l=t.y*s,d=c+i,u=l+s;if(this.path)for(let t=this.pathIndex;t<this.path.length;t++){const e=this.path[t];c=Math.min(c,e.x*i),l=Math.min(l,e.y*s),d=Math.max(d,(e.x+1)*i),u=Math.max(u,(e.y+1)*s)}else for(let t=0;t<this.entities.length;t++){const r=this.entities.get(t);r instanceof o.Actor&&e.isVisible(r.x,r.y)&&(c=Math.min(c,r.x*i),l=Math.min(l,r.y*s),d=Math.max(d,(r.x+1)*i),u=Math.max(u,(r.y+1)*s))}h-r<=this.viewport.width-2*this.focusMargins.x?this.viewportFocus.x=Math.round((r+h)/2):this.viewportFocus.x=Math.round((c+d)/2),a-n<=this.viewport.height-2*this.focusMargins.y?this.viewportFocus.y=Math.round((n+a)/2):this.viewportFocus.y=Math.round((l+u)/2)}doAi(t){t.ai?((t.visibleDuration>0||t.ai.alwaysActive)&&t.ai.doAi(),t.ap=0):t.ap=0}nextTurn(){if(this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.endTurn(),this.player===t&&this.recomputeFov()}if(this.turnIndex++,this.turnIndex>=this.entities.length&&(this.turnIndex=0),this.turnIndex>=0&&this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.startTurn(),this.player===t&&this.recalculateViewportFocus()}}stopAutoWalk(){this.path=void 0,this.targetTile=void 0}isBlocked(t,e){if(this.tileMap.isBlocked(t,e))return!0;for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.blocks&&s.x===t&&s.y===e)return!0}return!1}getEntityAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.x===t&&s.y===e)return s}}getActorAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s instanceof o.Actor&&s.x===t&&s.y===e)return s}}recomputeFov(){if(this.player){this.tileMap.computeFov(this.player.x,this.player.y,this.horizontalViewDistance,this.verticalViewDistance);for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);e!==this.player&&(e instanceof o.Actor&&(this.tileMap.isVisible(e.x,e.y)?(e.seen||(e.seen=!0,this.player.addFloatingText(\"!\",h.StandardColors.WHITE),this.stopAutoWalk(),this.viewportFocus.x=(this.player.centerPixelX+e.centerPixelX)/2|0,this.viewportFocus.y=(this.player.centerPixelY+e.centerPixelY)/2|0),e.visibleDuration++):e.visibleDuration=-1))}}}};w=s([y.Serializable(\"Game\")],w),e.Game=w},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=[-1,0,1,-1,1,-1,0,1],r=[-1,-1,-1,0,0,1,1,1],o=[1.5,1,1.5,1,1,1.5,1,1.5];function n(t){let e=null,i=-1,s=1/0;for(let r=0;r<t.length;r++){const o=t[r];o.g!==1/0&&o.g+o.h<s&&(e=o,i=r,s=o.g+o.h)}return t.splice(i,1),e}function h(t){const e=[];let i=t;for(;i;)e.push(i),i=i.prev;return e.reverse(),e}e.computePath=function(t,e,i,a){!function(t,e){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const r=t.grid[i][s];r.g=1/0,r.h=Math.min(Math.abs(s-e.x),Math.abs(i-e.y)),r.prev=null}}(t,i);const c=t.grid[e.y][e.x];c.g=0;const l=[c];for(;l.length>0;){const e=n(l);if(e.x===i.x&&e.y===i.y)return h(e);for(let n=0;n<s.length;n++){const h=e.x+s[n],c=e.y+r[n];if(h>=0&&h<t.width&&c>=0&&c<t.height){const s=t.grid[c][h],r=e.g+o[n];r<s.g&&r<=a&&(h===i.x&&c===i.y||!t.grid[c][h].blocked)&&(s.g=r,s.prev=e,l.push(s))}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=624,r=397,o=2567483615,n=2147483648,h=2147483647;e.RNG=class{constructor(t){this.mt=new Array(s),this.mti=s+1,this.setSeed(t||1)}setSeed(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<s;this.mti++){const t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}}nextInt(){let t=0;const e=new Array(0,o);if(this.mti>=s){var i;for(i=0;i<s-r;i++)t=this.mt[i]&n|this.mt[i+1]&h,this.mt[i]=this.mt[i+r]^t>>>1^e[1&t];for(;i<s-1;i++)t=this.mt[i]&n|this.mt[i+1]&h,this.mt[i]=this.mt[i+(r-s)]^t>>>1^e[1&t];t=this.mt[s-1]&n|this.mt[0]&h,this.mt[s-1]=this.mt[r-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0}nextFloat(){return this.nextInt()*(1/4294967296)}nextRange(t,e){return t+(this.nextFloat()*(e-t)|0)}chooseIndex(t){const e=t.reduce((t,e)=>t+e),i=this.nextRange(1,e+1);let s=0;for(let e=0;e<t.length;e++)if(i<=(s+=t[e]))return e;return t.length-1}chooseKey(t){const e=[],i=[];for(const s in t)t.hasOwnProperty(s)&&(e.push(s),i.push(t[s]));return e[this.chooseIndex(i)]}}},function(t,e,i){\"use strict\";var s,r=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const o=i(2),n=i(0);let h=s=class extends o.Rect{constructor(t,e,i,s,r,o,n,h){super(t,e,i,s),this.frames=r||1,this.loop=!!o,this.ticksPerFrame=n||30,this.colorOverride=h,this.animIndex=0,this.animDelay=0}draw(t,e,i,r){let o=this.animIndex;this.loop&&(o=(s.globalAnimIndex/this.ticksPerFrame|0)%this.frames);const n=this.x+o*this.width,h=this.y,a=r||this.colorOverride;t.drawImage(e,i,n,h,this.width,this.height,a),this.animDelay++,this.animDelay>this.ticksPerFrame&&(this.animDelay=0,this.animIndex++,this.animIndex>=this.frames&&(this.loop?this.animIndex=0:this.animIndex=this.frames-1))}clone(){return new s(this.x,this.y,this.width,this.height,this.frames,this.loop,this.ticksPerFrame,this.colorOverride)}static updateGlobalAnimations(){s.globalAnimIndex++}};h.globalAnimIndex=0,h=s=r([n.Serializable(\"Sprite\")],h),e.Sprite=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(1);e.TileMapCell=class extends s.Vec2{constructor(t,e){super(t,e),this.blocked=!0,this.blockedSight=!0,this.visible=!1,this.seen=!1,this.g=0,this.h=0,this.prev=null}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(15),o=i(11),n=i(12),h=i(10);let a=class extends r.ButtonSlot{onDrop(t){if(this.children.length>0)return!1;if(t instanceof o.ItemButton){const e=t,i=e.containerItems,s=e.stackItems.get(0);return this.add(new n.ItemShortcutButton(this.rect.clone(),i,s)),!1}return t instanceof h.TalentButton?!!t.shortcut||(this.add(new h.TalentButton(this.rect.clone(),t.talent,!0)),!1):!!(t instanceof n.ItemShortcutButton||t instanceof h.TalentButton&&t.shortcut)}};a=s([i(0).Serializable(\"ShortcutButtonSlot\")],a),e.ShortcutButtonSlot=a},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(16)),s(i(23)),s(i(18)),s(i(43)),s(i(44)),s(i(5)),s(i(24)),s(i(45)),s(i(46)),s(i(25)),s(i(47)),s(i(26)),s(i(28)),s(i(33)),s(i(9)),s(i(7)),s(i(49)),s(i(17)),s(i(35)),s(i(20)),s(i(13)),s(i(15)),s(i(52)),s(i(8)),s(i(34)),s(i(54)),s(i(11)),s(i(55)),s(i(12)),s(i(57)),s(i(58)),s(i(3)),s(i(59)),s(i(60)),s(i(40)),s(i(10)),s(i(61)),s(i(19)),s(i(62)),s(i(29)),s(i(4)),s(i(21)),s(i(30)),s(i(63)),s(i(64)),s(i(6)),s(i(36)),s(i(2)),s(i(37)),s(i(0)),s(i(65)),s(i(38)),s(i(66)),s(i(14)),s(i(39)),s(i(22)),s(i(1))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AnimationPromise=class{constructor(){this.handlers=[]}then(t){return this.handlers.push(t),this}resolve(){for(let t=0;t<this.handlers.length;t++)this.handlers[t]()}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(18),o=i(0);let n=class extends r.AI{constructor(t,e){super(t),this.damageFunc=e}doAi(){const t=this.actor,e=t.game.player;if(e)if(t.distanceTo(e)>1.5)t.moveToward(e.x,e.y);else if(e.hp>0){const i=this.damageFunc?this.damageFunc(t,e):1;t.attack(e,i)}}};n=s([o.Serializable(\"BasicMonster\")],n),e.BasicMonster=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(18);let o=class extends r.AI{constructor(t){super(t),this.numTurns=10,this.oldAi=t.ai}doAi(){if(this.numTurns>0){const t=this.actor.game.rng;this.actor.move(t.nextRange(-1,2),t.nextRange(-1,2)),this.numTurns--}else this.actor.ai=this.oldAi}};o=s([i(0).Serializable(\"ConfusedMonster\")],o),e.ConfusedMonster=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7),r=i(5);e.FadeInAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),o=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,o,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7),r=i(5);e.FadeOutAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=1-this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),o=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,o,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.ProjectileAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.sprite=t,this.position=e,this.velocity=i,this.duration=s}update(){super.update(),this.position.add(this.velocity)}draw(t){const e=this.position.x-t.viewport.x,i=this.position.y-t.viewport.y;this.sprite.draw(t.app,e,i)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=32,r=126;class o{isInRange(t){return t>=s&&t<=r}getStringWidth(t){let e=0;for(let i=0;i<t.length;i++)e+=this.getWidth(t.charCodeAt(i));return e}}e.Font=o;e.MonospacedFont=class extends o{constructor(t){super(),this.glyphSize=t}getOffset(t){return(t-s)*this.glyphSize.width}getWidth(){return this.glyphSize.width}getHeight(){return this.glyphSize.height}};class n extends o{constructor(t,e){super(),this.height=t,this.widths=e,this.offsets=[0];let i=0;for(let t=0;t<this.widths.length;t++)i+=this.widths[t],this.offsets.push(i)}getOffset(t){return this.offsets[t-s]}getWidth(t){return this.widths[t-s]}getHeight(){return this.height}}e.ProportionalFont=n,e.FONT_04B03=new n(8,[4,2,4,6,5,6,6,2,3,3,4,4,3,4,2,6,5,3,5,5,5,5,5,5,5,5,2,2,4,4,4,5,6,5,5,4,5,4,4,5,5,4,5,5,4,6,5,5,5,5,5,5,4,5,5,6,5,5,4,3,6,3,4,5,3,5,5,4,5,5,4,5,5,2,3,5,2,6,5,5,5,5,4,5,4,5,5,6,4,5,5,4,2,4,5,0])},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(21);e.CompoundMessage=class extends s.Message{constructor(...t){super(\"\",0),this.messages=t}draw(t,e){for(let i=0;i<this.messages.length;i++)this.messages[i].draw(t,e)}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(2),o=i(8),n=i(0),h=i(1);let a=class extends o.Dialog{constructor(){super(new r.Rect(0,0,100,10)),this.messages=[],this.visible=!1}showAt(t,e){if(!this.gui)return;const i=this.gui.app,s=i.font,r=s.getHeight()+2;this.rect.width=10,this.rect.height=10+this.messages.length*r;for(let t=0;t<this.messages.length;t++){const e=this.messages[t],i=10+s.getStringWidth(e.text);this.rect.width=Math.max(this.rect.width,i)}t+this.rect.width>=i.size.width?this.rect.x=t-this.rect.width-2:this.rect.x=t+2,e-this.rect.height<0?this.rect.y=e+2:this.rect.y=e-this.rect.height-2,this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.visible=!0}drawContents(){if(!this.gui)return;super.drawContents();const t=this.gui.app.font.getHeight()+2,e=new h.Vec2(this.rect.x+5,this.rect.y+5);for(let i=0;i<this.messages.length;i++){this.messages[i].draw(this.gui.app,e),e.x=this.rect.x+5,e.y+=t}}handleInput(){return!!this.gui&&(this.gui.app.mouse.isClicked()&&(this.visible=!1),!1)}};a=s([n.Serializable(\"TooltipDialog\")],a),e.TooltipDialog=a},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14);e.TileMapLayer=class{constructor(t,e){this.width=t,this.height=e,this.imageData=new Uint8Array(4*t*e),this.clear()}clear(){let t=0;for(;t<this.imageData.length;)this.imageData[t++]=0}getIndex(t,e){return 4*(e*this.width+t)}setTile(t,e,i){const s=this.getIndex(t,e);this.imageData[s]=i%64|0,this.imageData[s+1]=i/64|0}getTile(t,e){const i=this.getIndex(t,e);return s.getTileId(this.imageData[i],this.imageData[i+1])}isAnimated(t,e){const i=this.getIndex(t,e);return!!this.imageData[i+2]}setAnimated(t,e,i){const s=this.getIndex(t,e);this.imageData[s+2]=i?1:0}getAlpha(t,e){const i=this.getIndex(t,e);return this.imageData[i+3]}setAlpha(t,e,i){const s=this.getIndex(t,e);this.imageData[s+3]=i}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(1),n=i(53),h=i(8),a=i(0);let c=class extends h.Dialog{constructor(t,e){super(t),this.options=e,this.selectedIndex=0,this.renderer=new n.DefaultSelectOptionRenderer}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect,e=new o.Vec2(t.x+4,t.y+4);for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex;this.renderer.drawOption(this.gui,e,i,s),e.y+=this.renderer.getHeight(i,s)}}handleInput(){if(!this.gui)return!1;const t=this.gui.app;for(let e=0;e<this.options.length;e++)t.isKeyPressed(r.Keys.VK_A+e)&&(this.selectedIndex=e,this.onSelect&&this.onSelect(this.options[e]));t.isKeyPressed(r.Keys.VK_ENTER)&&this.onSelect&&this.onSelect(this.options[this.selectedIndex]),t.isKeyPressed(r.Keys.VK_ESCAPE)&&this.onCancel&&this.onCancel(),t.isKeyPressed(r.Keys.VK_UP)&&this.selectedIndex--,t.isKeyPressed(r.Keys.VK_DOWN)&&this.selectedIndex++,this.selectedIndex<0&&(this.selectedIndex+=this.options.length),this.selectedIndex>=this.options.length&&(this.selectedIndex-=this.options.length);const e=t.mouse,i=this.rect;let s=i.y+4;if(1===e.upCount&&e.x>=i.x1&&e.x<i.x2)for(let t=0;t<this.options.length;t++){const i=this.options[t],r=t===this.selectedIndex,o=this.renderer.getHeight(i,r),n=s,h=s+o;e.y>=n&&e.y<h&&(r?this.onSelect&&this.onSelect(i):this.selectedIndex=t),s+=o}return!0}};c=s([a.Serializable(\"ComplexSelectDialog\")],c),e.ComplexSelectDialog=c},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6);let o=class{getHeight(t,e){return 10}drawOption(t,e,i,s){const o=s?r.StandardColors.YELLOW:r.StandardColors.WHITE;t.app.drawString(i.name,e.x,e.y,o)}};o=s([i(0).Serializable(\"DefaultSelectOptionRenderer\")],o),e.DefaultSelectOptionRenderer=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(e),this.srcRect=t}drawContents(){if(!this.gui)return;const t=this.srcRect,e=this.rect;this.gui.app.drawImage(e.x,e.y,t.x,t.y,e.width,e.height)}};o=s([i(0).Serializable(\"ImagePanel\")],o),e.ImagePanel=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(2),n=i(8),h=i(11),a=i(56),c=i(0);let l=class extends n.Dialog{constructor(t,e,i,s){super(t),this.messages=e,this.capacity=i,this.items=s,this.modal=!0,s.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new a.ItemContainerButtonSlot(new o.Rect(0,0,24,24),r.Keys.VK_A+t))}addItem(t){const e=this.getExistingButton(t);if(e)return void e.stackItems.add(t);const i=this.getNextFreeSlot();i&&i.add(new h.ItemButton(i.rect.clone(),this.items,t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof h.ItemButton&&s.stackItems.contains(t)&&(s.stackItems.remove(t),0===s.stackItems.length&&i.remove(s))}}getExistingButton(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e).button;if(i&&i instanceof h.ItemButton){const e=i.stackItems.get(0);if(t.isStackable(e))return i}}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+4,s=t.y+4;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const o=this.children.get(r);o.rect.x=i,o.rect.y=s,o.rect.width=e.width,o.rect.height=e.height,(i+=e.width+2)>t.x2-e.width-4&&(i=t.x+4,s+=e.height+2)}this.rect.height=s+4-t.y,this.drawChildren()}};l=s([c.Serializable(\"ItemContainerDialog\")],l),e.ItemContainerDialog=l},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(15),o=i(11);let n=class extends r.ButtonSlot{constructor(t,e){super(t,e)}onDrop(t){return t instanceof o.ItemButton}};n=s([i(0).Serializable(\"ItemContainerButtonSlot\")],n),e.ItemContainerButtonSlot=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6),o=i(21),n=i(3),h=i(0),a=i(1);let c=class extends n.Panel{constructor(t,e){super(t),this.messages=[],this.maxItems=e||5}add(t,e){t instanceof n.Panel||(t instanceof o.Message?this.messages.push(t):this.messages.push(new o.Message(t,e||r.StandardColors.WHITE)),this.messages.length>this.maxItems&&this.messages.splice(0,this.messages.length-this.maxItems))}drawContents(){if(!this.gui)return;const t=new a.Vec2(this.rect.x,this.rect.y);if(t.y<0){const e=this.gui.app.size.height+t.y+this.rect.height;t.y=e-10*this.messages.length}for(let e=0;e<this.messages.length;e++){this.messages[e].draw(this.gui.app,t),t.x=0,t.y+=10}}handleInput(){return!1}};c=s([h.Serializable(\"MessageLog\")],c),e.MessageLog=c},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(t),this.message=e}drawContents(){if(!this.gui)return;const t=this.message,e=this.rect;this.gui.app.drawString(t.text,e.x,e.y,t.color)}};o=s([i(0).Serializable(\"MessagePanel\")],o),e.MessagePanel=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(8),n=i(0);let h=class extends o.Dialog{constructor(t,e,i){super(t),this.options=e,this.callback=i}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect;for(let e=0;e<this.options.length;e++){const i=String.fromCharCode(65+e)+\" - \"+this.options[e].name;this.gui.app.drawString(i,t.x+4,t.y+4+10*e)}}handleInput(){if(!this.gui)return!1;for(let t=0;t<this.options.length;t++)if(this.gui.app.isKeyPressed(r.Keys.VK_A+t))return this.callback(this.options[t]),this.close(),!0;if(this.gui.app.isKeyPressed(r.Keys.VK_ESCAPE))return this.close(),!0;const t=this.gui.app.mouse,e=this.rect;if(t.isClicked()&&t.x>=e.x1&&t.x<e.x2){if(this.closeButton&&t.x>=e.x2-16&&t.y<e.y+16)return this.close(),!0;for(let i=0;i<this.options.length;i++){const s=e.y+4+10*i,r=s+10;t.y>=s&&t.y<r&&(this.callback(this.options[i]),this.close())}}return!0}};h=s([n.Serializable(\"SelectDialog\")],h),e.SelectDialog=h},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(2),n=i(12),h=i(3),a=i(40),c=i(10),l=i(0);let d=class extends h.Panel{constructor(t,e,i){super(t),this.spacing=void 0!==i?i:2;for(let t=0;t<e;t++){const e=new a.ShortcutButtonSlot(new o.Rect(0,0,24,24),r.Keys.VK_1+t);this.add(e)}}addTalent(t,e){if(this.containsTalent(t))return;const i=this.getFreeSlot(!!e);i&&i.add(new c.TalentButton(i.rect.clone(),t,!0))}containsTalent(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof c.TalentButton&&i.button.talent===t)return!0}return!1}addItem(t,e,i){if(this.containsItem(e))return;const s=this.getFreeSlot(!!i);s&&s.add(new n.ItemShortcutButton(s.rect.clone(),t,e))}containsItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof n.ItemShortcutButton&&t.isStackable(i.button.shortcutItem))return!0}return!1}drawContents(){if(!this.gui)return;const t=this.gui.renderer.buttonSlotRect;if(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);i.rect.x=this.rect.x+e*(t.width+2),i.rect.y=this.rect.y,i.rect.width=t.width,i.rect.height=t.height}this.drawChildren()}}getFreeSlot(t){if(t)for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(!e.button)return e}else for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}};d=s([l.Serializable(\"ShortcutBar\")],d),e.ShortcutBar=d},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(2),n=i(15),h=i(8),a=i(10),c=i(0);let l=class extends h.Dialog{constructor(t,e,i,s){super(t),this.messages=e,this.capacity=i,this.talents=s,this.modal=!0,s.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new n.ButtonSlot(new o.Rect(0,0,24,24),r.Keys.VK_A+t))}addItem(t){const e=this.getNextFreeSlot();e&&e.add(new a.TalentButton(e.rect.clone(),t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof a.TalentButton&&s.talent===t&&i.remove(s)}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+4,s=t.y+4;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const o=this.children.get(r);o.rect.x=i,o.rect.y=s,o.rect.width=e.width,o.rect.height=e.height,(i+=e.width+2)>t.x2-e.width-4&&(i=t.x+4,s+=e.height+2)}this.rect.height=s+4-t.y,this.drawChildren()}};l=s([c.Serializable(\"TalentsDialog\")],l),e.TalentsDialog=l},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(17);let o=class extends r.Entity{isStackable(t){return this.name===t.name}onBump(t){return t.pickup(this),t.moveToward(this.x,this.y),!0}onPickup(t){}onUse(t){return!1}onUpdateTooltip(){}};o=s([i(0).Serializable(\"Item\")],o),e.Item=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7);!function(t){t[t.BLACK=s.fromRgb(0,0,0)]=\"BLACK\",t[t.BLUE=s.fromRgb(0,0,255)]=\"BLUE\",t[t.GREEN=s.fromRgb(0,170,0)]=\"GREEN\",t[t.CYAN=s.fromRgb(0,170,170)]=\"CYAN\",t[t.RED=s.fromRgb(170,0,0)]=\"RED\",t[t.MAGENTA=s.fromRgb(170,0,170)]=\"MAGENTA\",t[t.BROWN=s.fromRgb(170,85,0)]=\"BROWN\",t[t.LIGHT_GRAY=s.fromRgb(170,170,170)]=\"LIGHT_GRAY\",t[t.DARK_GRAY=s.fromRgb(85,85,85)]=\"DARK_GRAY\",t[t.LIGHT_BLUE=s.fromRgb(85,85,255)]=\"LIGHT_BLUE\",t[t.LIGHT_GREEN=s.fromRgb(85,255,85)]=\"LIGHT_GREEN\",t[t.LIGHT_CYAN=s.fromRgb(255,255,255)]=\"LIGHT_CYAN\",t[t.LIGHT_RED=s.fromRgb(255,85,85)]=\"LIGHT_RED\",t[t.LIGHT_MAGENTA=s.fromRgb(255,85,255)]=\"LIGHT_MAGENTA\",t[t.YELLOW=s.fromRgb(255,255,85)]=\"YELLOW\",t[t.WHITE=s.fromRgb(255,255,255)]=\"WHITE\"}(e.CgaColors||(e.CgaColors={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(7);!function(t){t[t.BLACK=s.fromRgb(0,0,0)]=\"BLACK\",t[t.DARK_BLUE=s.fromRgb(29,43,83)]=\"DARK_BLUE\",t[t.DARK_PURPLE=s.fromRgb(126,37,83)]=\"DARK_PURPLE\",t[t.DARK_GREEN=s.fromRgb(0,135,81)]=\"DARK_GREEN\",t[t.BROWN=s.fromRgb(171,82,54)]=\"BROWN\",t[t.DARK_GRAY=s.fromRgb(95,87,79)]=\"DARK_GRAY\",t[t.LIGHT_GRAY=s.fromRgb(194,195,199)]=\"LIGHT_GRAY\",t[t.WHITE=s.fromRgb(255,241,232)]=\"WHITE\",t[t.RED=s.fromRgb(255,0,77)]=\"RED\",t[t.ORANGE=s.fromRgb(255,163,0)]=\"ORANGE\",t[t.YELLOW=s.fromRgb(255,236,39)]=\"YELLOW\",t[t.GREEN=s.fromRgb(0,228,54)]=\"GREEN\",t[t.BLUE=s.fromRgb(41,173,255)]=\"BLUE\",t[t.INDIGO=s.fromRgb(131,118,156)]=\"INDIGO\",t[t.PINK=s.fromRgb(255,119,168)]=\"PINK\",t[t.PEACH=s.fromRgb(255,204,170)]=\"PEACH\"}(e.Pico8Colors||(e.Pico8Colors={}))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(35),r=i(31),o=i(28),n=i(20),h=i(3),a=i(27),c=i(14),l=i(22);e.Serializer=class{constructor(){this.typeLists={}}serialize(t){return{root:this.serializeObject(t),refs:this.typeLists}}serializeObject(t){if(null==t)return t;const e=typeof t;if(\"boolean\"===e||\"number\"===e||\"string\"===e)return t;if(!t.constructor)throw new Error(\"Object does not have a constructor\");if(t instanceof o.App||t instanceof n.GUI||t instanceof h.Panel||t instanceof r.RenderSet||t instanceof c.TileMap||t instanceof l.TileMapRenderer||t instanceof Function)return;if(t instanceof Array)return this.serializeArray(t);const i=a.getSerializeMetadata(t.constructor),d=i.className,u=!i.valueType,p={};if(d&&u){if(void 0!==t._i)return{_c:d,_i:t._i};let e=this.typeLists[d];e||(e=[],this.typeLists[d]=e),t._i=e.length,e.push(p)}const f=Object.getOwnPropertyNames(t);let g=0;for(let e=0;e<f.length;e++){const i=f[e],r=t[i];if(\"_i\"===i)continue;if(t instanceof s.Game&&(\"tooltip\"===i||\"tooltipElement\"===i||\"messageLog\"===i))continue;const o=this.serializeObject(r);void 0!==o&&(p[i]=o,g++)}return 0!==g?d&&u?{_c:d,_i:t._i}:p:void 0}serializeArray(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.serializeObject(t[i]));return e}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e,i){this.actor=t,this.ability=e,this.rank=i||1,this.cooldown=0}use(t){return!(this.cooldown>0)&&(this.actor.cast(this.ability,t,()=>{this.cooldown=this.ability.cooldown}),!0)}};r=s([i(0).Serializable(\"Talent\")],r),e.Talent=r}])});\n//# sourceMappingURL=index.js.map","import { fromRgb } from \"wglt\";\n\nexport enum Colors {\n  BLACK = fromRgb(0, 0, 0),\n  WHITE = fromRgb(0xff, 0xff, 0xff),\n  GRAY = fromRgb(0x80, 0x80, 0x80),\n  LIGHT_GRAY = fromRgb(0xaa, 0xaa, 0xaa),\n  DARK_GRAY = fromRgb(0x55, 0x55, 0x55),\n  YELLOW = fromRgb(0xff, 0xff, 0x55),\n  BROWN = fromRgb(0xaa, 0x55, 0x00),\n  RED = fromRgb(0xff, 0x00, 0x00),\n  LIGHT_RED = fromRgb(0xff, 0x55, 0x55),\n  DARK_RED = fromRgb(0xaa, 0x00, 0x00),\n  GREEN = fromRgb(0x00, 0xff, 0x00),\n  LIGHT_GREEN = fromRgb(0x55, 0xff, 0x55),\n  DARK_GREEN = fromRgb(0x00, 0xaa, 0x00),\n  LIGHT_CYAN = fromRgb(0x55, 0xff, 0xff),\n  DARK_CYAN = fromRgb(0x00, 0xaa, 0xaa),\n  BLUE = fromRgb(0x00, 0x00, 0xff),\n  LIGHT_BLUE = fromRgb(0x55, 0x55, 0xff),\n  DARK_BLUE = fromRgb(0x00, 0x00, 0xaa),\n  LIGHT_MAGENTA = fromRgb(0xff, 0x55, 0xff),\n  DARK_MAGENTA = fromRgb(0xaa, 0x00, 0xaa),\n  ORANGE = fromRgb(0xff, 0x88, 0x00),\n}\n","\nexport enum ItemQuality {\n  POOR = 0,\n  COMMON = 1,\n  UNCOMMON = 2,\n  RARE = 3,\n  EPIC = 4,\n  LEGENDARY = 5\n}\n","import { Actor, BasicMonster, Sprite } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Gold } from '../items/gold';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { HealthPotion } from '../items/healthpotion';\n\nexport abstract class Monster extends StatsActor {\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite, level: number) {\n    super(game, x, y, name, sprite);\n    this.ai = new BasicMonster(this, this.calculateDamage);\n    this.sentiment = Sentiment.HOSTILE;\n    this.level = level;\n    this.strength = 10 + 5 * level;\n    this.maxHp = 10 + 3 * level;\n    this.hp = this.maxHp;\n    this.armor = 4 * level;\n    this.buildLoot();\n  }\n\n  private calculateDamage(attacker: Actor, target: Actor) {\n    return (attacker as StatsActor).getDamage();\n  }\n\n  private buildLoot() {\n    const game = this.game as Game;\n\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      this.inventory.add(new Gold(game, this.x, this.y));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      this.inventory.add(new HealthPotion(game));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 1) {\n      this.inventory.add(new EquipmentBuilder(game).withRandomDrop(Math.round(this.level / 2)).build());\n    }\n  }\n}\n","\nexport enum EquipmentSlot {\n  HEAD = 'Head',\n  NECK = 'Neck',\n  BACK = 'Back',\n  CHEST = 'Chest',\n  HANDS = 'Hands',\n  LEGS = 'Legs',\n  FEET = 'Feet',\n  RING = 'Ring',\n  MAINHAND = 'Main Hand',\n  OFFHAND = 'Off Hand'\n}\n","import {Actor, ArrayList, Sprite, TileMap, CompoundMessage, Message} from 'wglt';\n\nimport {Buff} from '../buffs/buff';\nimport {Game} from '../game';\nimport { Player } from './player';\nimport { Equipment } from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { Gold } from '../items/gold';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { Colors } from '../colors';\n\nconst START_BLOOD = 1367;\nconst END_BLOOD = 1370;\n\nexport enum Sentiment {\n  HOSTILE = -1,\n  NEUTRAL = 0,\n  FRIENDLY = 1\n}\n\nexport abstract class StatsActor extends Actor {\n  level: number;\n  mp: number;\n  maxMp: number;\n  armor: number;\n  strength: number;\n  dexterity: number;\n  constitution: number;\n  intelligence: number;\n  showFrame: boolean;\n  sentiment: Sentiment;\n  readonly equipment: ArrayList<Equipment>;\n  readonly proficiencies: EquipmentType[];\n  readonly buffs: Buff[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, true);\n    this.level = 1;\n    this.mp = 1;\n    this.maxMp = 1;\n    this.armor = 0;\n    this.strength = 10;\n    this.dexterity = 10;\n    this.constitution = 10;\n    this.intelligence = 10;\n    this.recalculateMaxHp();\n    this.hp = this.maxHp;\n    this.showFrame = true;\n    this.sentiment = Sentiment.NEUTRAL;\n    this.equipment = new ArrayList<Equipment>();\n    this.proficiencies = [];\n    this.buffs = [];\n\n    this.equipment.addListener({\n      onAdd: (_, item) => this.addEquipment(item),\n      onRemove: (_, item) => this.removeEquipment(item)\n    });\n  }\n\n  get strengthModifier() {\n    return this.calculateModifier(this.strength);\n  }\n\n  get dexterityModifier() {\n    return this.calculateModifier(this.dexterity);\n  }\n\n  get constitutionModifier() {\n    return this.calculateModifier(this.constitution);\n  }\n\n  get intelligenceModifier() {\n    return this.calculateModifier(this.intelligence);\n  }\n\n  private calculateModifier(abilityScore: number) {\n    return Math.floor((abilityScore - 10) / 2);\n  }\n\n  countGold() {\n    let count = 0;\n    for (let i = 0; i < this.inventory.length; i++) {\n      if (this.inventory.get(i) instanceof Gold) {\n        count++;\n      }\n    }\n    return count;\n  }\n\n  moveGold(dest: Actor, count: number) {\n    let check = 0;\n    for (let i = this.inventory.length - 1; i >= 0; i--) {\n      const item = this.inventory.get(i);\n      if (item instanceof Gold) {\n        this.inventory.remove(item);\n        dest.inventory.add(item);\n        check++;\n        if (check === count) {\n          return;\n        }\n      }\n    }\n  }\n\n  getEquipment(slot: EquipmentSlot) {\n    for (let i = 0; i < this.equipment.length; i++) {\n      const item = this.equipment.get(i);\n      if (item.slot === slot) {\n        return item;\n      }\n    }\n    return undefined;\n  }\n\n  get mainHandWeapon() {\n    return this.getEquipment(EquipmentSlot.MAINHAND);\n  }\n\n  getDamage() {\n    const weapon = this.mainHandWeapon;\n    const rng = this.game.rng;\n    let baseDamage = 1;\n    let modifier = this.strengthModifier;\n\n    if (weapon) {\n      baseDamage = rng.nextRange(weapon.minDamage, weapon.maxDamage + 1);\n      modifier = weapon.finesse ? this.dexterityModifier : this.strengthModifier;\n    }\n\n    return this.buffDamage(baseDamage + modifier);\n  }\n\n  buffDamage(damage: number) {\n    let result = damage;\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageDealt(result);\n    }\n    return result;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    if (attacker === this.game.player) {\n      // If player is attacking, then the actor is now hostile\n      this.sentiment = Sentiment.HOSTILE;\n    }\n\n    // Start by subtracting armor modifier\n    let result = Math.max(0, damage - Math.round(0.1 * this.armor));\n\n    // Apply any buffs from the target\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageTaken(result);\n    }\n\n    // Finally apply the damage\n    super.takeDamage(attacker, result);\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.FRIENDLY) {\n      this.onTalk(player);\n    } else {\n      player.attack(this, player.getDamage());\n    }\n    return true;\n  }\n\n  onTalk(player: Player) {}\n\n  onAttack(target: Actor, damage: number) {\n    if (damage > 0) {\n      this.game.log(this.name + ' attacks ' + target.name + ' for ' + damage + ' hit points.', 0x808080FF);\n    } else {\n      this.game.log(this.name + ' attacks ' + target.name + ' but it has no effect!', 0x808080FF);\n    }\n  }\n\n  onDeath(attacker: StatsActor) {\n    const game = this.game as Game;\n    game.log(this.name + ' is dead');\n    game.entities.remove(this);\n\n    if (attacker === this.game.player) {\n      // Based on DnD xp rules\n      const player = game.player as Player;\n      const xpGain = Math.round(10 * player.level * Math.pow(2.0, (this.level - player.level) * 0.5));\n      player.addXp(xpGain);\n    }\n\n    // Add blood to the map\n    const map = game.tileMap as TileMap;\n    map.setTile(this.x, this.y, 3, game.rng.nextRange(START_BLOOD, END_BLOOD));\n\n    // Drop loot\n    for (let i = 0; i < this.inventory.length; i++) {\n      const location = game.findFreeTile(this.x, this.y, 5);\n      if (!location) {\n        break;\n      }\n      const loot = this.inventory.get(i);\n      loot.x = location.x;\n      loot.y = location.y;\n      game.entities.add(loot);\n    }\n  }\n\n  startTurn() {\n    super.startTurn();\n    for (let i = this.buffs.length - 1; i >= 0; i--) {\n      const buff = this.buffs[i];\n      buff.update();\n      if (buff.isDone()) {\n        this.buffs.splice(i, 1);\n      }\n    }\n  }\n\n  canEquip(item: Equipment) {\n    return item.type === EquipmentType.NONE || this.proficiencies.indexOf(item.type) >= 0;\n  }\n\n  equipItem(item: Equipment) {\n    if (!this.canEquip(item)) {\n      if (this === this.game.player) {\n        this.game.log(new CompoundMessage(\n          new Message('You do not have ', Colors.LIGHT_GRAY),\n          new Message('[' + item.type + ']', Colors.WHITE),\n          new Message(' proficiency', Colors.LIGHT_GRAY),\n        ));\n      }\n      return false;\n    }\n\n    const equipped = this.getEquipment(item.slot);\n    const oldHp = this.hp;\n\n    if (equipped) {\n      this.equipment.remove(equipped);\n    }\n\n    this.inventory.remove(item);\n    this.equipment.add(item);\n\n    if (equipped) {\n      this.inventory.add(equipped);\n    }\n\n    // Have to manually restore HP\n    // When removing equipment, constitution can drop, which can drop max HP\n    // Make sure the player keeps their HP\n    this.hp = Math.min(oldHp, this.maxHp);\n    return true;\n  }\n\n  private addEquipment(item: Equipment) {\n    this.armor += item.armor;\n    this.constitution += item.constitution;\n    this.dexterity += item.dexterity;\n    this.strength += item.strength;\n    this.intelligence += item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  private removeEquipment(item: Equipment) {\n    this.armor -= item.armor;\n    this.constitution -= item.constitution;\n    this.dexterity -= item.dexterity;\n    this.strength -= item.strength;\n    this.intelligence -= item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  recalculateMaxHp() {\n    this.maxHp = 8 + 2 * this.level + this.constitutionModifier;\n    this.hp = Math.min(this.hp, this.maxHp);\n  }\n\n  draw() {\n    super.draw();\n\n    for (let i = 0; i < this.buffs.length; i++) {\n      this.buffs[i].draw();\n    }\n  }\n}\n","import { Sprite, Color } from \"wglt\";\nimport { Game } from \"../game\";\nimport { EquipmentType } from \"./equipmenttype\";\nimport { EquipmentSlot } from \"./equipmentslot\";\nimport { Equipment } from \"./equipment\";\nimport { CLOTH_HELM_SPRITES, LEATHER_HELM_SPRITES, PLATE_HELM_SPRITES, ROBE_SPRITES, SHIRT_SPRITES, GLOVES_SPRITES, PANTS_SPRITES, BOOTS_SPRITES, NECKLACE_SPRITE_1, CLOAK_SPRITES, RING_SPRITES, SWORD_SPRITES, AXE_SPRITE_1, MACE_SPRITES, DAGGER_SPRITE_1, BOW_SPRITE_1, CROSSBOW_SPRITE_1, STAFF_SPRITES, SHIELD_SPRITES, BOOK_SPRITE, LANTERN_SPRITE, ORB_SPRITE } from \"./equipmentsprites\";\nimport { ItemQuality } from \"../items/itemquality\";\nimport { Colors } from \"../colors\";\n\nconst DEFAULT_SPRITE = new Sprite(160, 240, 16, 24, 1, false, undefined, 0x808080FF);\n\nexport class EquipmentBuilder {\n  game: Game;\n  name: string = '';\n  sprite: Sprite = DEFAULT_SPRITE;\n  itemLevel: number = 1;\n  type: EquipmentType = EquipmentType.NONE;\n  slot: EquipmentSlot = EquipmentSlot.HEAD;\n  quality: ItemQuality = ItemQuality.POOR;\n  armor: number = 0;\n  strength: number = 0;\n  dexterity: number = 0;\n  constitution: number = 0;\n  intelligence: number = 0;\n  minDamage: number = 1;\n  maxDamage: number = 2;\n  ranged: boolean = false;\n  finesse: boolean = false;\n  statMultiplier: number = 1.0;\n\n  constructor(game: Game) {\n    this.game = game;\n  }\n\n  withName(name: string) {\n    this.name = name;\n    return this;\n  }\n\n  withSprite(s: Sprite, c: Color) {\n    this.sprite = new Sprite(s.x, s.y, s.width, s.height, s.frames, s.loop, s.ticksPerFrame, c);\n    return this;\n  }\n\n  withColor(color: Color) {\n    this.withSprite(this.sprite, color);\n    return this;\n  }\n\n  withItemLevel(itemLevel: number) {\n    this.itemLevel = itemLevel;\n    return this;\n  }\n\n  withType(type: EquipmentType) {\n    this.type = type;\n    return this;\n  }\n\n  withSlot(slot: EquipmentSlot) {\n    this.slot = slot;\n    return this;\n  }\n\n  withQuality(quality: ItemQuality) {\n    this.quality = quality;\n    return this;\n  }\n\n  withArmor(armor: number) {\n    this.armor = armor;\n    return this;\n  }\n\n  withStrength(strength: number) {\n    this.strength = strength;\n    return this;\n  }\n\n  withDexterity(dexterity: number) {\n    this.dexterity = dexterity;\n    return this;\n  }\n\n  withConstitution(constitution: number) {\n    this.constitution = constitution;\n    return this;\n  }\n\n  withIntelligence(intelligence: number) {\n    this.intelligence = intelligence;\n    return this;\n  }\n\n  withDamage(minDamage: number, maxDamage: number, ranged?: boolean, finesse?: boolean) {\n    this.minDamage = minDamage;\n    this.maxDamage = maxDamage;\n    this.ranged = !!ranged;\n    this.finesse = !!finesse;\n    return this;\n  }\n\n  withRandomDrop(itemLevel: number, quality?: ItemQuality) {\n    this.itemLevel = itemLevel;\n    if (quality !== undefined) {\n      this.quality = quality;\n    } else {\n      this.chooseQuality();\n    }\n    this.chooseSlot();\n    this.chooseFlair();\n    return this;\n  }\n\n  private chooseQuality() {\n    const rng = this.game.rng;\n    const quality = rng.nextRange(0, 100);\n    if (quality > 99) {\n      this.quality = ItemQuality.EPIC;\n      this.statMultiplier = 1.15;\n    } else if (quality > 90) {\n      this.quality = ItemQuality.RARE;\n      this.statMultiplier = 1.10;\n    } else if (quality > 75) {\n      this.quality = ItemQuality.UNCOMMON;\n      this.statMultiplier = 1.05;\n    } else if (quality > 40) {\n      this.quality = ItemQuality.COMMON;\n      this.statMultiplier = 1.00;\n    } else {\n      this.quality = ItemQuality.POOR;\n      this.statMultiplier = 0.50;\n    }\n  }\n\n  private chooseSlot() {\n    switch (this.game.rng.nextRange(0, 10)) {\n      case 0:\n        this.chooseHead();\n        break;\n      case 1:\n        this.chooseNeck();\n        break;\n      case 2:\n        this.chooseBack();\n        break;\n      case 3:\n        this.chooseChest();\n        break;\n      case 4:\n        this.chooseHands();\n        break;\n      case 5:\n        this.chooseLegs();\n        break;\n      case 6:\n        this.chooseFeet();\n        break;\n      case 7:\n        this.chooseRing();\n        break;\n      case 8:\n        this.chooseMainHand();\n        break;\n      case 9:\n        this.chooseOffHand();\n        break;\n    }\n  }\n\n  private chooseHead() {\n    this.slot = EquipmentSlot.HEAD;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.type = EquipmentType.CLOTH;\n        this.name = this.chooseValue('Cowl', 'Crown', 'Hood', 'Wizard Hat');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(CLOTH_HELM_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.LEATHER;\n        this.name = this.chooseValue('Hood', 'Cover', 'Facemask', 'Mask');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(LEATHER_HELM_SPRITES);\n        break;\n      case 2:\n        this.type = EquipmentType.PLATE;\n        this.name = this.chooseValue('Helm', 'Helmet', 'Headguard', 'Faceguard', 'Greathelm');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PLATE_HELM_SPRITES);\n        break;\n    }\n  }\n\n  private chooseNeck() {\n    this.slot = EquipmentSlot.NECK;\n    this.name = this.chooseValue('Necklace');\n    this.sprite = NECKLACE_SPRITE_1;\n  }\n\n  private chooseBack() {\n    this.slot = EquipmentSlot.BACK;\n    this.name = this.chooseValue('Cloak');\n    this.sprite = this.chooseArrayValue(CLOAK_SPRITES);\n    this.armor = Math.ceil(this.itemLevel * this.statMultiplier);\n  }\n\n  private chooseChest() {\n    this.slot = EquipmentSlot.CHEST;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.type = EquipmentType.CLOTH;\n        this.name = this.chooseValue('Robe', 'Tunic');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(ROBE_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.LEATHER;\n        this.name = this.chooseValue('Vest', 'Chestpiece', 'Tunic');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n      case 2:\n        this.type = EquipmentType.PLATE;\n        this.name = this.chooseValue('Breastplate', 'Chestguard');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n    }\n  }\n\n  private chooseHands() {\n    this.slot = EquipmentSlot.HANDS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.type = EquipmentType.CLOTH;\n        this.name = this.chooseValue('Gloves', 'Wraps');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.LEATHER;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 2:\n        this.type = EquipmentType.PLATE;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n    }\n  }\n\n  private chooseLegs() {\n    this.slot = EquipmentSlot.LEGS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.type = EquipmentType.CLOTH;\n        this.name = this.chooseValue('Leggings', 'Pants');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.LEATHER;\n        this.name = this.chooseValue('Legguards', 'Pants');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 2:\n        this.type = EquipmentType.PLATE;\n        this.name = this.chooseValue('Legplates', 'Legguards');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseFeet() {\n    this.slot = EquipmentSlot.FEET;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.type = EquipmentType.CLOTH;\n        this.name = this.chooseValue('Boots', 'Sandals', 'Shoes', 'Slippers', 'Footpads');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.LEATHER;\n        this.name = this.chooseValue('Boots', 'Shoes', 'Treads');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 2:\n        this.type = EquipmentType.PLATE;\n        this.name = this.chooseValue('Boots', 'Greaves', 'Sabatons');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseRing() {\n    this.slot = EquipmentSlot.RING;\n    this.name = this.chooseValue('Ring', 'Band', 'Signet', 'Circle', 'Loop');\n    this.sprite = this.chooseArrayValue(RING_SPRITES);\n  }\n\n  private chooseMainHand() {\n    this.slot = EquipmentSlot.MAINHAND;\n    this.minDamage = Math.floor(1.0 * this.itemLevel * this.statMultiplier);\n    this.maxDamage = Math.ceil(1.2 * this.itemLevel * this.statMultiplier);\n    switch (this.game.rng.nextRange(0, 7)) {\n      case 0:\n        this.type = EquipmentType.SWORD;\n        this.name = this.chooseValue('Sword', 'Blade', 'Slicer', 'Sabre');\n        this.sprite = this.chooseArrayValue(SWORD_SPRITES);\n        break;\n      case 1:\n        this.type = EquipmentType.AXE;\n        this.name = this.chooseValue('Axe', 'Ripper', 'Slicer');\n        this.sprite = AXE_SPRITE_1;\n        break;\n      case 2:\n        this.type = EquipmentType.MACE;\n        this.name = this.chooseValue('Mace', 'Hammer', 'Gavel', 'Club');\n        this.sprite = this.chooseArrayValue(MACE_SPRITES);\n        break;\n      case 3:\n        this.type = EquipmentType.DAGGER;\n        this.name = this.chooseValue('Dagger', 'Knife', 'Edge');\n        this.sprite = DAGGER_SPRITE_1;\n        this.finesse = true;\n        break;\n      case 4:\n        this.type = EquipmentType.BOW;\n        this.name = this.chooseValue('Bow', 'Shortbow', 'Longbow', 'Recurve', 'Greatbow');\n        this.sprite = BOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 5:\n        this.type = EquipmentType.CROSSBOW;\n        this.name = this.chooseValue('Crossbow', 'Bolt-Thrower', 'Speargun', 'Repeater');\n        this.sprite = CROSSBOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 6:\n        this.type = EquipmentType.STAFF;\n        this.name = this.chooseValue('Staff', 'Spellstaff');\n        this.sprite = this.chooseArrayValue(STAFF_SPRITES);\n        break;\n    }\n  }\n\n  private chooseOffHand() {\n    this.slot = EquipmentSlot.OFFHAND;\n    const dice = this.game.rng.nextRange(0, 10);\n    if (dice === 9) {\n      this.name = 'Lantern';\n      this.sprite = LANTERN_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice === 8) {\n      this.name = 'Orb';\n      this.sprite = ORB_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice >= 5) {\n      this.name = this.chooseValue('Spellbook', 'Tome');\n      this.sprite = BOOK_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else {\n      this.name = this.chooseValue('Shield', 'Shield Wall', 'Bulwark', 'Barrier');\n      this.sprite = this.chooseArrayValue(SHIELD_SPRITES);\n      this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n      this.constitution = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n    }\n  }\n\n  private chooseFlair() {\n    switch (this.quality) {\n      case ItemQuality.POOR:\n        this.choosePoorFlair();\n        break;\n      case ItemQuality.COMMON:\n        this.chooseCommonFlair();\n        break;\n      case ItemQuality.UNCOMMON:\n        this.chooseUncommonFlair();\n        break;\n      case ItemQuality.RARE:\n        this.chooseRareFlair();\n        break;\n      case ItemQuality.EPIC:\n        this.chooseEpicFlair();\n        break;\n      case ItemQuality.LEGENDARY:\n        this.chooseLegendaryFlair();\n        break;\n    }\n  }\n\n  private choosePoorFlair() {\n    this.name = this.chooseValue('Patched', 'Ragged', 'Chewed', 'Worn', 'Loose') + ' ' + this.name;\n    this.withColor(Colors.LIGHT_GRAY);\n  }\n\n  private chooseCommonFlair() {\n    this.name = this.chooseValue('Hunting', 'Cadet', 'Veteran', 'Simple', 'Pioneer') + ' ' + this.name;\n    this.withColor(0xC0A080FF);\n  }\n\n  private chooseUncommonFlair() {\n    switch (this.game.rng.nextRange(0, 10)) {\n      case 0:\n        this.name += ' of the Tiger';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.ORANGE);\n        break;\n      case 1:\n        this.name += ' of the Bear';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.BROWN);\n        break;\n      case 2:\n        this.name += ' of the Gorilla';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_CYAN);\n        break;\n      case 3:\n        this.name += ' of the Monkey';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_GREEN);\n        break;\n      case 4:\n        this.name += ' of the Falcon';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_RED);\n        break;\n      case 5:\n        this.name += ' of the Eagle';\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_BLUE);\n        break;\n      case 6:\n        this.name += ' of Constitution';\n        this.constitution += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_BLUE);\n        break;\n      case 7:\n        this.name += ' of Strength';\n        this.strength += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_RED);\n        break;\n      case 8:\n        this.name += ' of Dexterity';\n        this.dexterity += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_CYAN);\n        break;\n      case 9:\n        this.name += ' of Intelligence';\n        this.intelligence += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.WHITE);\n        break;\n    }\n  }\n\n  private chooseRareFlair() {\n    switch (this.game.rng.nextRange(0, 4)) {\n      case 0:\n        this.name = 'Elven ' + this.name;\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_MAGENTA);\n        break;\n      case 1:\n        this.name = 'Obsidian ' + this.name;\n        this.strength += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_MAGENTA);\n        break;\n      case 2:\n        this.name = 'Saphiron ' + this.name;\n        this.dexterity += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_BLUE);\n        break;\n      case 3:\n        this.name = 'Scarlet ' + this.name;\n        this.intelligence += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_RED);\n        break;\n    }\n  }\n\n  private chooseEpicFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseLegendaryFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseValue<T>(...values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  private chooseArrayValue<T>(values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  build() {\n    return new Equipment(this);\n  }\n}\n","\nexport enum EquipmentType {\n  NONE = 'None',\n\n  CLOTH = 'Cloth',\n  LEATHER = 'Leather',\n  MAIL = 'Mail',\n  PLATE = 'Plate',\n  SHIELD = 'Shield',\n\n  AXE = 'Axe',\n  SWORD = 'Sword',\n  MACE = 'Mace',\n  DAGGER = 'Dagger',\n  BOW = 'Bow',\n  CROSSBOW = 'Crossbow',\n  STAFF = 'Staff',\n  WAND = 'Wand',\n}\n","import { Sprite } from \"wglt\";\n\nconst W = 16;\nconst H = 24;\nconst C = 0x808080FF;\n\nexport const SWORD_SPRITE_1 = new Sprite(608, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_2 = new Sprite(624, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_3 = new Sprite(752, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_4 = new Sprite(768, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITES = [\n  SWORD_SPRITE_1,\n  SWORD_SPRITE_2,\n  SWORD_SPRITE_3,\n  SWORD_SPRITE_4,\n];\n\nexport const MACE_SPRITE_1 = new Sprite(640, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_2 = new Sprite(688, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_3 = new Sprite(704, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_4 = new Sprite(720, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_5 = new Sprite(736, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_6 = new Sprite(833, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITES = [\n  MACE_SPRITE_1,\n  MACE_SPRITE_2,\n  MACE_SPRITE_3,\n  MACE_SPRITE_4,\n  MACE_SPRITE_5,\n  MACE_SPRITE_6,\n];\n\nexport const DAGGER_SPRITE_1 = new Sprite(672, 96, W, H, 1, false, undefined, C);\n\nexport const AXE_SPRITE_1 = new Sprite(752, 96, W, H, 1, false, undefined, C);\n\nexport const BOW_SPRITE_1 = new Sprite(880, 96, W, H, 1, false, undefined, C);\n\nexport const CROSSBOW_SPRITE_1 = new Sprite(896, 96, W, H, 1, false, undefined, C);\n\nexport const STAFF_SPRITE_1 = new Sprite(896, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_2 = new Sprite(608, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_3 = new Sprite(624, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_4 = new Sprite(640, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_5 = new Sprite(656, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITES = [\n  STAFF_SPRITE_1,\n  STAFF_SPRITE_2,\n  STAFF_SPRITE_3,\n  STAFF_SPRITE_4,\n  STAFF_SPRITE_5,\n];\n\nexport const SHIRT_SPRITE_1 = new Sprite(608, 144, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_2 = new Sprite(608, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_3 = new Sprite(624, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_4 = new Sprite(640, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_5 = new Sprite(656, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_6 = new Sprite(672, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_7 = new Sprite(688, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_8 = new Sprite(704, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_9 = new Sprite(720, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_10 = new Sprite(736, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_11 = new Sprite(752, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITES = [\n  SHIRT_SPRITE_1,\n  SHIRT_SPRITE_2,\n  SHIRT_SPRITE_3,\n  SHIRT_SPRITE_4,\n  SHIRT_SPRITE_5,\n  SHIRT_SPRITE_6,\n  SHIRT_SPRITE_7,\n  SHIRT_SPRITE_8,\n  SHIRT_SPRITE_9,\n  SHIRT_SPRITE_10,\n  SHIRT_SPRITE_11,\n];\n\nexport const ROBE_SPRITE_1 = new Sprite(608, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_2 = new Sprite(624, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_3 = new Sprite(640, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_4 = new Sprite(656, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_5 = new Sprite(672, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_6 = new Sprite(688, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_7 = new Sprite(704, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_8 = new Sprite(720, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_9 = new Sprite(736, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_10 = new Sprite(752, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITES = [\n  ROBE_SPRITE_1,\n  ROBE_SPRITE_2,\n  ROBE_SPRITE_3,\n  ROBE_SPRITE_4,\n  ROBE_SPRITE_5,\n  ROBE_SPRITE_6,\n  ROBE_SPRITE_7,\n  ROBE_SPRITE_8,\n  ROBE_SPRITE_9,\n  ROBE_SPRITE_10,\n];\n\nexport const HELM_SPRITE_1 = new Sprite(608, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_2 = new Sprite(624, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_3 = new Sprite(640, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_4 = new Sprite(656, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_5 = new Sprite(672, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_6 = new Sprite(688, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_7 = new Sprite(704, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_8 = new Sprite(720, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_9 = new Sprite(736, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_10 = new Sprite(752, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_11 = new Sprite(768, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_12 = new Sprite(784, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_13 = new Sprite(800, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_14 = new Sprite(816, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_15 = new Sprite(832, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_16 = new Sprite(848, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_17 = new Sprite(864, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_18 = new Sprite(880, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_19 = new Sprite(896, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_3,\n  HELM_SPRITE_4,\n  HELM_SPRITE_5,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const CLOTH_HELM_SPRITES = [\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n];\nexport const LEATHER_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_4,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const PLATE_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_4,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_19\n];\n\nexport const GLOVES_SPRITE_1 = new Sprite(608, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_2 = new Sprite(624, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_3 = new Sprite(640, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_4 = new Sprite(656, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_5 = new Sprite(672, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_6 = new Sprite(688, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_7 = new Sprite(704, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_8 = new Sprite(720, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_9 = new Sprite(736, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_10 = new Sprite(752, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITES = [\n  GLOVES_SPRITE_1,\n  GLOVES_SPRITE_2,\n  GLOVES_SPRITE_3,\n  GLOVES_SPRITE_4,\n  GLOVES_SPRITE_5,\n  GLOVES_SPRITE_6,\n  GLOVES_SPRITE_7,\n  GLOVES_SPRITE_8,\n  GLOVES_SPRITE_9,\n  GLOVES_SPRITE_10,\n];\n\nexport const PANTS_SPRITE_1 = new Sprite(656, 144, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_2 = new Sprite(768, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_3 = new Sprite(784, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_4 = new Sprite(800, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_5 = new Sprite(816, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_6 = new Sprite(832, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_7 = new Sprite(848, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITES = [\n  PANTS_SPRITE_1,\n  PANTS_SPRITE_2,\n  PANTS_SPRITE_3,\n  PANTS_SPRITE_4,\n  PANTS_SPRITE_5,\n  PANTS_SPRITE_6,\n  PANTS_SPRITE_7,\n];\n\nexport const BOOTS_SPRITE_1 = new Sprite(640, 144, W, H, 1, false, undefined, C);\nexport const BOOTS_SPRITES = [\n  BOOTS_SPRITE_1,\n];\n\nexport const SHIELD_SPRITE_1 = new Sprite(688, 144, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_2 = new Sprite(608, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_3 = new Sprite(624, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_4 = new Sprite(640, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_5 = new Sprite(656, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_6 = new Sprite(672, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_7 = new Sprite(688, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_8 = new Sprite(704, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_9 = new Sprite(720, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_10 = new Sprite(736, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_11 = new Sprite(752, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_12 = new Sprite(768, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_13 = new Sprite(784, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_14 = new Sprite(800, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_15 = new Sprite(816, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_16 = new Sprite(832, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_17 = new Sprite(848, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITES = [\n  SHIELD_SPRITE_1,\n  SHIELD_SPRITE_2,\n  SHIELD_SPRITE_3,\n  SHIELD_SPRITE_4,\n  SHIELD_SPRITE_5,\n  SHIELD_SPRITE_6,\n  SHIELD_SPRITE_7,\n  SHIELD_SPRITE_8,\n  SHIELD_SPRITE_9,\n  SHIELD_SPRITE_10,\n  SHIELD_SPRITE_11,\n  SHIELD_SPRITE_12,\n  SHIELD_SPRITE_13,\n  SHIELD_SPRITE_14,\n  SHIELD_SPRITE_15,\n  SHIELD_SPRITE_16,\n  SHIELD_SPRITE_17,\n];\n\nexport const NECKLACE_SPRITE_1 = new Sprite(768, 144, W, H, 1, false, undefined, C);\n\nexport const RING_SPRITE_1 = new Sprite(784, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITE_2 = new Sprite(800, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITES = [\n  RING_SPRITE_1,\n  RING_SPRITE_2\n];\n\nexport const CLOAK_SPRITE_1 = new Sprite(768, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_2 = new Sprite(784, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_3 = new Sprite(800, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_4 = new Sprite(816, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_5 = new Sprite(832, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_6 = new Sprite(848, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_7 = new Sprite(864, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITES = [\n  CLOAK_SPRITE_1,\n  CLOAK_SPRITE_2,\n  CLOAK_SPRITE_3,\n  CLOAK_SPRITE_4,\n  CLOAK_SPRITE_5,\n  CLOAK_SPRITE_6,\n  CLOAK_SPRITE_7,\n];\n\nexport const LANTERN_SPRITE = new Sprite(880, 168, W, H, 1, false, undefined, C);\nexport const ORB_SPRITE = new Sprite(848, 168, W, H, 1, false, undefined, C);\nexport const CLOCK_SPRITE = new Sprite(880, 144, W, H, 1, false, undefined, C);\nexport const BOOK_SPRITE = new Sprite(816, 168, W, H, 1, false, undefined, C);\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterClass {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import { Item, Message, Game, Sprite, Actor, Vec2, CompoundMessage } from \"wglt\";\nimport { ItemQuality } from \"./itemquality\";\nimport { GuiSlideAnimation } from \"../animations/guislideanimation\";\nimport { Colors } from \"../colors\";\n\nconst COLOR_POOR = 0x9D9D9DFF;\nconst COLOR_COMMON = 0xFFFFFFFF;\nconst COLOR_UNCOMMON = 0x1EFF00FF;\nconst COLOR_RARE = 0x0070DDFF;\nconst COLOR_EPIC = 0xA335EEFF;\nconst COLOR_LEGENDARY = 0xFF8000FF;\n\nexport abstract class BaseItem extends Item {\n  readonly quality: ItemQuality;\n  readonly itemLevel: number;\n  readonly maxStack: number;\n  readonly sellPrice: number;\n\n  constructor(\n      game: Game,\n      name: string,\n      sprite: Sprite,\n      quality: ItemQuality,\n      itemLevel: number,\n      maxStack: number,\n      sellPrice: number) {\n    super(game, 0, 0, name, sprite, false);\n    this.quality = quality;\n    this.itemLevel = itemLevel;\n    this.maxStack = maxStack;\n    this.sellPrice = sellPrice;\n    this.onUpdateTooltip();\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(new CompoundMessage(\n      new Message(entity.name + ' picked up ', Colors.WHITE),\n      new Message('[' + this.name + ']', this.getColor(this.quality))\n    ));\n\n    const start = new Vec2(this.pixelX - this.game.viewport.x, this.pixelY - this.game.viewport.y);\n    const end = new Vec2(this.game.app.size.width - 16, this.game.app.size.height - 24);\n    this.game.animations.push(new GuiSlideAnimation(this.sprite, start, end, 15));\n  }\n\n  getColor(quality: ItemQuality) {\n    switch (quality) {\n      case ItemQuality.COMMON:\n        return COLOR_COMMON;\n      case ItemQuality.UNCOMMON:\n        return COLOR_UNCOMMON;\n      case ItemQuality.RARE:\n        return COLOR_RARE;\n      case ItemQuality.EPIC:\n        return COLOR_EPIC;\n      case ItemQuality.LEGENDARY:\n        return COLOR_LEGENDARY;\n      default:\n        return COLOR_POOR;\n    }\n  }\n\n  onUpdateTooltip() {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel, Colors.YELLOW));\n\n    this.addTooltipDescription(this.tooltipMessages);\n\n    if (this.maxStack > 1) {\n      this.tooltipMessages.push(new Message('Max Stack: ' + this.maxStack, Colors.WHITE));\n    }\n\n    if (this.sellPrice > 0) {\n      this.tooltipMessages.push(new Message('Sell Price: ' + this.sellPrice, Colors.WHITE));\n    }\n  }\n\n  addTooltipDescription(tooltipMessages: Message[]) { }\n}\n","import {Actor, Game, Message, Sprite, Serializable} from 'wglt';\nimport { BaseItem } from './baseitem';\nimport { ItemQuality } from './itemquality';\nimport { Colors } from '../colors';\n\nconst HEAL_AMOUNT = 4;\n\nconst NAME = 'Healing Potion';\nconst SPRITE = new Sprite(656, 168, 16, 24, 1, true, undefined, 0xFF0000FF);\n\n@Serializable('HealthPotion')\nexport class HealthPotion extends BaseItem {\n  constructor(game: Game) {\n    super(game, NAME, SPRITE, ItemQuality.COMMON, 5, 20, 5);\n  }\n\n  addTooltipDescription(tooltipMessages: Message[]) {\n    tooltipMessages.push(new Message('Use: Restore 10 health', Colors.LIGHT_GREEN));\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterRace {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, fromRgb, Message, SlideAnimation, Sprite, TargetType, TileMapCell, Serializable} from 'wglt';\nimport {Stunned} from '../ai/stunned';\nimport { Colors } from '../colors';\n\nconst LEAP_RANGE = 3;\nconst LEAP_RADIUS = 2;\nconst LEAP_COLOR = fromRgb(0xFF, 0x80, 0x80);\nconst LEAP_SPRITE = new Sprite(720, 336, 16, 24, undefined, undefined, undefined, LEAP_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Heroic Leap', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Stun all enemies within 1 tile.', Colors.YELLOW)\n];\n\n@Serializable('LeapAbility')\nexport class LeapAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = LEAP_SPRITE;\n    this.name = 'leap';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = LEAP_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > LEAP_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && game.tileMap.isBlocked(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target is blocked.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      if (caster === game.player) {\n        game.log('Target is occupied.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = target.x;\n      caster.y = target.y;\n\n      let count = 0;\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities.get(i);\n        if (entity === caster) {\n          continue;\n        }\n        if (entity instanceof Actor && entity.distanceTo(target) < LEAP_RADIUS) {\n          entity.ai = new Stunned(entity, 1);\n          count++;\n        }\n      }\n\n      if (count > 0) {\n        game.log('Stunned ' + count + ' foes!', LEAP_COLOR);\n      }\n      caster.ap--;\n    });\n\n    return true;\n  }\n}\n","import {Ability, Actor, Entity, Game, Message, ProjectileAnimation, Sprite, TargetType, Vec2, Serializable} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst LIGHTNING_RANGE = 5;\nconst MANA_COST = 10;\nconst TOOLTIP_MESSAGES = [\n  new Message('Lightning', Colors.WHITE),\n  new Message(MANA_COST + ' mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Hurls a bolt of lightning at the nearest', Colors.YELLOW),\n  new Message('enemy dealing 4 + INT damage.', Colors.YELLOW),\n];\n\n@Serializable('LightningAbility')\nexport class LightningAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = new Sprite(158, 10, 16, 24, undefined, undefined, undefined, 0xFFFF00FF);\n    this.name = 'lightning';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = LIGHTNING_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    const game = caster.game;\n    // Find closest enemy (inside a maximum range) and damage it\n    const monster = this.getClosestMonster(game, caster, caster.x, caster.y, LIGHTNING_RANGE);\n    if (!monster) {\n      game.log('No enemy is close enough to strike.', Colors.LIGHT_RED);\n      return false;\n    }\n\n    // Zap it!\n    game.log('A lightning bolt strikes the ' + monster.name + ' with a loud thunder!', Colors.LIGHT_BLUE);\n\n    // Calculate damage\n    const damage = 4 + caster.intelligenceModifier;\n\n    // Create lightning animation\n    const explosion = new Sprite(256, 408, 16, 24, 2, true, 8, Colors.YELLOW);\n    game.addAnimation(new ProjectileAnimation(explosion, new Vec2(monster.pixelX, monster.pixelY), new Vec2(0, 0), 32)).then(() => {\n      game.log('The damage is ' + damage + ' hit points', Colors.LIGHT_BLUE);\n      monster.takeDamage(caster, damage);\n      caster.ap--;\n    });\n\n    return true;\n  }\n\n  private getClosestMonster(game: Game, player: Entity, x: number, y: number, range: number) {\n    let minDist = range + 1;\n    let result = null;\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities.get(i);\n      if (entity === player) {\n        continue;\n      }\n      if (!(entity instanceof Actor)) {\n        continue;\n      }\n      if (game.tileMap && !game.tileMap.isVisible(entity.x, entity.y)) {\n        continue;\n      }\n      const dist = entity.distance(x, y);\n      if (dist < minDist) {\n        minDist = dist;\n        result = entity;\n      }\n    }\n    return result;\n  }\n}","import {Actor, Game, Item, Message, Sprite, Serializable} from 'wglt';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(896, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\nconst TOOLTIPS = [\n  new Message('Gold', Colors.WHITE),\n  new Message('The coin of the realm.', Colors.WHITE),\n];\n\n@Serializable('Gold')\nexport class Gold extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'gold', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up gold coins', Colors.WHITE);\n  }\n}\n","import { getTileId } from \"wglt\";\n\nexport enum Tiles {\n  EMPTY = 0,\n  SHADOW = getTileId(0, 3),\n  WALL = getTileId(0, 19),\n  HALF_WALL = getTileId(0, 20),\n  HALF_WALL2 = getTileId(1, 20),\n  HALF_WALL3 = getTileId(2, 20),\n  FLOOR = getTileId(13, 17),\n  WATER = getTileId(0, 18),\n  BRIDGE = getTileId(15, 27),\n  COBWEB_NORTHWEST = getTileId(28, 22),\n  COBWEB_NORTHEAST = getTileId(29, 22),\n  COBWEB_SOUTHWEST = getTileId(30, 22),\n  COBWEB_SOUTHEAST = getTileId(31, 22),\n  CLOSED_DOOR = getTileId(7, 19),\n  STAIRS_DOWN = getTileId(14, 18),\n  STAIRS_UP = getTileId(15, 18),\n  BARREL = getTileId(24, 19),\n  STATUE = getTileId(16, 20),\n  GRASS = getTileId(0, 17),\n  TREE1 = getTileId(20, 23),\n  TREE2 = getTileId(22, 23),\n  PATH = getTileId(18, 17),\n  FENCE1 = getTileId(16, 22),\n  FENCE2 = getTileId(17, 22),\n  FENCE3 = getTileId(18, 22),\n  FENCE4 = getTileId(19, 22),\n  FENCE5 = getTileId(20, 22),\n  FENCE6 = getTileId(21, 22),\n  FENCE7 = getTileId(22, 22),\n  FENCE8 = getTileId(23, 22),\n  FENCE9 = getTileId(24, 22),\n  FENCE10 = getTileId(25, 22),\n};\n","import { Actor, AI, Serializable } from 'wglt';\n\n@Serializable('Stunned')\nexport class Stunned extends AI {\n  numTurns: number;\n  oldAi?: AI;\n\n  constructor(actor: Actor, turns: number) {\n    super(actor);\n    this.numTurns = turns;\n    this.oldAi = actor.ai;\n  }\n\n  doAi() {\n    if (this.numTurns > 0) {\n      // Stunned.  Sit still.\n      this.numTurns--;\n    } else {\n      this.actor.ai = this.oldAi;\n    }\n  }\n}\n","import { StatsActor } from '../entities/statsactor';\n\nexport abstract class Buff {\n  readonly actor: StatsActor;\n\n  constructor(actor: StatsActor) {\n    this.actor = actor;\n  }\n\n  /**\n   * Called once per turn.\n   * For example, a curse might countdown over time.\n   */\n  update() { }\n\n  /**\n   * Modifies damage taken.\n   * For example, a bubble might mitigate incoming damage.\n   * @param damage Original damage taken.\n   */\n  modifyDamageTaken(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Modifies damage dealt.\n   * For example, rage doubles output damage.\n   * @param damage Original damage dealt.\n   */\n  modifyDamageDealt(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Optionally draw an overlay over the player.\n   * For example, a bubble might draw a buble around the player.\n   */\n  draw() { }\n\n  isDone() {\n    return false;\n  }\n}\n","import {Color, GUI, SelectOption, SelectOptionRenderer, Vec2} from 'wglt';\nimport { Colors } from '../colors';\n\nexport class MenuItemRenderer implements SelectOptionRenderer {\n  readonly expandedHeight: number;\n  readonly collapsedHeight: number;\n\n  constructor(expandedHeight: number, collapsedHeight: number) {\n    this.expandedHeight = expandedHeight;\n    this.collapsedHeight = collapsedHeight;\n  }\n\n  drawOption(gui: GUI, point: Vec2, option: SelectOption, selected?: boolean) {\n    const app = gui.app;\n    let x = point.x;\n    const y = point.y;\n    let iconColor: Color|undefined = Colors.GRAY;\n    let titleColor = Colors.GRAY;\n    let descColor = Colors.GRAY;\n\n    if (selected) {\n      iconColor = undefined;\n      titleColor = Colors.YELLOW;\n      descColor = Colors.WHITE;\n    }\n\n    if (option.icon) {\n      option.icon.draw(app, x, y, iconColor);\n      x += option.icon.width + 2;\n    }\n\n    app.drawString(option.name, x, y, titleColor);\n\n    if (option.description) {\n      app.drawString(option.description, x + 3, y + 10, descColor);\n    }\n\n    if (selected && option.details) {\n      for (let j = 0; j < option.details.length; j++) {\n        const msg = option.details[j];\n        const color = selected ? msg.color : Colors.LIGHT_GRAY;\n        app.drawString(msg.text, x + 3, y + 20 + j * 10, color);\n      }\n    }\n  }\n\n  getHeight(_: SelectOption, selected: boolean) {\n    return selected ? this.expandedHeight : this.collapsedHeight;\n  }\n}","import { Item, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\n@Serializable('Portal')\nexport class Portal extends Item {\n  other?: Portal;\n  fade: boolean;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, false);\n    this.zIndex = 0;\n    this.fade = false;\n  }\n\n  onBump(_: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n\n    (this.game as Game).warpToPoint(exit);\n    return true;\n  }\n}\n","import {Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LeapAbility} from '../abilities/leap';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, MACE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { ItemQuality } from '../items/itemquality';\nimport { Colors } from '../colors';\n\nconst NAME = 'Paladin';\nconst ICON = new Sprite(504, 700, 24, 26, undefined, undefined, undefined, 0xFF8080FF);\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0xFF8080FF);\nconst DESC = 'Holy warriors commanding the power of the light';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Paladin')\nexport class Paladin extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.LEATHER);\n    player.proficiencies.push(EquipmentType.PLATE);\n    player.proficiencies.push(EquipmentType.MACE);\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.CHEST)\n        .withType(EquipmentType.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.LEGS)\n        .withType(EquipmentType.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.FEET)\n        .withType(EquipmentType.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Battleworn Hammer')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.SWORD)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withDamage(1, 2)\n        .withSprite(MACE_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.strength += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Message, Sprite, TargetType, Serializable} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(672, 144, 16, 24, 1, false, undefined, 0xFFD0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Flash Heal', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('A fast spell that heals an ally', Colors.YELLOW),\n  new Message('for 1d8 + INT points.', Colors.YELLOW),\n];\n\n@Serializable('FlashHealAbility')\nexport class FlashHealAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Flash Heal';\n    this.targetType = TargetType.SELF;\n    this.minRange = 0;\n    this.maxRange = 0;\n    this.cooldown = 5;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    if (caster.hp === caster.maxHp) {\n      if (caster === caster.game.player) {\n        caster.game.log('You are already at full health.', Colors.DARK_RED);\n      }\n      return false;\n    }\n\n    const healAmount = caster.game.rng.nextRange(1, 8) + caster.intelligenceModifier;\n    caster.takeHeal(healAmount);\n    caster.ap--;\n    return true;\n  }\n}","import {Ability, Actor, Message, ProjectileAnimation, Sprite, TargetType, TileMapCell, Vec2, Serializable} from 'wglt';\n\nimport {ExplosionAnimation} from '../animations/explosionanimation';\nimport { StatsActor } from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst FIREBALL_RANGE = 10;\nconst FIREBALL_RADIUS = 3;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\nconst FIRE_COLOR = Colors.ORANGE;\nconst FIREBALL_SPRITE = new Sprite(512, 336, SPRITE_WIDTH, SPRITE_HEIGHT, undefined, undefined, undefined, FIRE_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Fireball', Colors.WHITE),\n  new Message('2% of base mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Throws a fiery ball causing 8 + INT damage', Colors.YELLOW),\n  new Message('to all enemies within 3 tiles.', Colors.YELLOW),\n];\n\n@Serializable('FireballAbility')\nexport class FireballAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = FIREBALL_SPRITE;\n    this.name = 'fireball';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = FIREBALL_RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > FIREBALL_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const speed = 8;\n    const count = distance * (game.tileSize.width / speed);\n    const dx = (target.x * game.tileSize.width - caster.pixelX) / count;\n    const dy = (target.y * game.tileSize.height - caster.pixelY) / count;\n\n    caster.ap--;\n\n    game.addAnimation(new ProjectileAnimation(FIREBALL_SPRITE, new Vec2(caster.pixelX, caster.pixelY), new Vec2(dx, dy), count)).then(() => {\n      game.addAnimation(new ExplosionAnimation(game, target, FIREBALL_RADIUS, 30)).then(() => {\n        game.log('The fireball explodes, burning everything within ' + FIREBALL_RADIUS + ' tiles!', Colors.ORANGE);\n\n        const damage = caster.buffDamage(8 + caster.intelligenceModifier);\n\n        for (let i = game.entities.length - 1; i >= 0; i--) {\n          const entity = game.entities.get(i);\n          if (entity !== caster && entity instanceof Actor && entity.distanceTo(target) <= FIREBALL_RADIUS) {\n            game.log('The ' + entity.name + ' gets burned for ' + damage + ' hit points.', Colors.ORANGE);\n            entity.takeDamage(caster, damage);\n          }\n        }\n      });\n    });\n\n    return true;\n  }\n}","import {Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\nimport { Colors } from '../colors';\n\nconst NAME = 'Human';\nconst ICON = new Sprite(0, 730, 34, 34, undefined, undefined, undefined, 0xddae62FF);\nconst DESC = 'Young race with lust for power';\nconst DETAILS = [\n  new Message('+1 all attributes', Colors.LIGHT_GREEN),\n  new Message('Reduced stun times', Colors.YELLOW),\n  new Message('Hustle - when active, double actions', Colors.YELLOW),\n];\n\n@Serializable('Human')\nexport class Human extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution++;\n    player.strength++;\n    player.dexterity++;\n    player.intelligence++;\n  }\n}\n","import {Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 144, 16, 24, 2, true, undefined, 0x20e64fFF);\n\n@Serializable('Spider')\nexport class Spider extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Spider', SPRITE, level);\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(192, 144, 16, 24, 2, true, undefined, 0x6757d9FF);\n\n@Serializable('BatAI')\nclass BatAI extends AI {\n  doAi() {\n    const bat = this.actor as Bat;\n    const player = bat.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    if (bat.distanceTo(player) < 3 && rng.nextRange(0, 100) < 33) {\n      bat.attack(player, bat.getDamage());\n    } else {\n      this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n    }\n  }\n}\n\n@Serializable('Bat')\nexport class Bat extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Bat', SPRITE, level);\n    this.ai = new BatAI(this);\n  }\n}\n","import {Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 216, 16, 24, 2, true, undefined, 0x20e64fFF);\n\n@Serializable('Troll')\nexport class Troll extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Troll', SPRITE, level);\n  }\n}\n","import { Game, Item, Sprite, TileMap, getTileId } from 'wglt';\n\nconst TILE_OPEN_DOOR = getTileId(7, 20);\nconst SPRITE = new Sprite(256, 432, 16, 24, 1, true, undefined, 0xAB8730FF);\n\nexport abstract class Door extends Item {\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'door', SPRITE, true);\n    this.zIndex = 0;\n  }\n\n  openDoor() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    game.entities.remove(this);\n    map.setTile(this.x, this.y, 0, TILE_OPEN_DOOR);\n    map.setBlocked(this.x, this.y, false);\n  }\n}\n","import {Ability, Actor, Sprite, TargetType, Serializable} from 'wglt';\nimport { Game } from '../game';\nimport { BaseItem } from './baseitem';\nimport { ItemQuality } from './itemquality';\n\nconst SPRITE = new Sprite(736, 168, 16, 24, 1, true, undefined, 0xF0F0E0FF);\n\n@Serializable('Scroll')\nexport class Scroll extends BaseItem {\n  readonly ability: Ability;\n\n  constructor(game: Game, x: number, y: number, ability: Ability) {\n    super(game, 'scroll of ' + ability.name, SPRITE, ItemQuality.UNCOMMON, 1, 0, 0);\n    this.ability = ability;\n    this.tooltipMessages = ability.tooltipMessages;\n  }\n\n  onUse(user: Actor) {\n    (this.game as Game).hideAllDialogs();\n\n    const ability = this.ability;\n    if (ability.targetType === TargetType.SELF) {\n      if (ability.cast(user)) {\n        user.inventory.remove(this);\n      }\n    } else {\n      this.game.startTargeting(ability, () => {\n        user.inventory.remove(this);\n      });\n    }\n    return true;\n  }\n}","import {App} from './app';\n\nconst app = new App();\n\n// Clear the window hash on load\n// Always start at the root\nif (window.location.hash && window.location.hash !== '#') {\n  window.location.hash = '';\n}\n\n// Subscribe to future window hash change events\nwindow.addEventListener('hashchange', handleHashChange);\n\nfunction handleHashChange() {\n  const hash = window.location.hash;\n\n  if (hash === '#startgame') {\n    app.startGame();\n\n  } else if (hash === '#game') {\n    app.playGame();\n\n  } else if (hash === '#chooseseed') {\n    app.chooseSeed();\n\n  } else if (hash === '#chooserace') {\n    app.chooseRace();\n\n  } else if (hash === '#chooseclass') {\n    app.chooseClass();\n\n  } else if (hash === '#highscores') {\n    app.showHighScores();\n\n  } else if (hash === '#credits') {\n    app.showCredits();\n\n  } else {\n    app.showMainMenu();\n  }\n}\n","\nimport * as wglt from 'wglt';\nimport { AppState, Rect, FadeInAnimation } from 'wglt';\n\nimport { CharacterClass } from './classes/characterclass';\nimport { ClassMenu } from './classmenu';\nimport { Player } from './entities/player';\nimport { Game } from './game';\nimport { MainMenu } from './mainmenu';\nimport { RaceMenu } from './racemenu';\nimport { CharacterRace } from './races/characterrace';\nimport { Hearthstone } from './items/hearthstone';\nimport { SeedMenu } from './seedmenu';\nimport { Gold } from './items/gold';\n\nexport class App extends wglt.App {\n  readonly mainMenu: MainMenu;\n  readonly seedMenu: SeedMenu;\n  readonly raceMenu: RaceMenu;\n  readonly classMenu: ClassMenu;\n  readonly highScores: AppState;\n  readonly credits: AppState;\n  seed: number;\n  game?: Game;\n  playerRace?: CharacterRace;\n  playerClass?: CharacterClass;\n\n  constructor() {\n    super({\n      canvas: document.querySelector('canvas') as HTMLCanvasElement,\n      imageUrl: 'graphics.png',\n      size: new Rect(0, 0, 224, 400),\n      fillWindow: true\n    });\n\n    this.mainMenu = new MainMenu(this);\n    this.seedMenu = new SeedMenu(this);\n    this.raceMenu = new RaceMenu(this);\n    this.classMenu = new ClassMenu(this);\n    this.highScores = new AppState(this);\n    this.credits = new AppState(this);\n    this.seed = 0;\n    this.showMainMenu();\n  }\n\n  showMainMenu() {\n    this.state = this.mainMenu;\n  }\n\n  chooseSeed() {\n    this.state = this.seedMenu;\n  }\n\n  chooseRace() {\n    this.state = this.raceMenu;\n  }\n\n  chooseClass() {\n    this.state = this.classMenu;\n  }\n\n  startGame() {\n    this.game = new Game(this, this.seed);\n\n    // TODO: Where to put this logic?  Game constructor?\n    const player = this.game.player as Player;\n    player.inventory.add(new Hearthstone(this.game));\n    for (let i = 0; i < 20; i++) {\n      player.inventory.add(new Gold(this.game));\n    }\n\n    if (this.playerRace) {\n      this.playerRace.initPlayer(this.game.player as Player);\n    }\n\n    if (this.playerClass) {\n      this.playerClass.initPlayer(this.game.player as Player);\n    }\n\n    window.location.hash = 'game';\n  }\n\n  playGame() {\n    const game = this.game as Game;\n    this.state = game;\n    game.addAnimation(new FadeInAnimation(30));\n  }\n\n  showHighScores() {\n    this.state = this.highScores;\n  }\n\n  showCredits() {\n    this.state = this.credits;\n  }\n}","import {AppState, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {CharacterClass} from './classes/characterclass';\nimport {Paladin} from './classes/paladin';\nimport {Priest} from './classes/priest';\nimport {Ranger} from './classes/ranger';\nimport {Rogue} from './classes/rogue';\nimport {Warlock} from './classes/warlock';\nimport {Warrior} from './classes/warrior';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport { Colors } from './colors';\n\nconst CLASSES = [new Paladin(), new Priest(), new Ranger(), new Rogue(), new Warlock(), new Warrior()];\n\nexport class ClassMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your class', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), CLASSES);\n    selectDialog.renderer = new MenuItemRenderer(60, 30);\n\n    selectDialog.onSelect = (choice: CharacterClass) => {\n      (this.app as App).playerClass = choice;\n      window.location.hash = 'startgame';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import { Message, Serializable, CompoundMessage } from 'wglt';\nimport { Player } from '../entities/player';\nimport { EquipmentBuilder } from './equipmentbuilder';\nimport { EquipmentSlot } from './equipmentslot';\nimport { Game } from '../game';\nimport { BaseItem } from '../items/baseitem';\nimport { EquipmentType } from './equipmenttype';\nimport { Colors } from '../colors';\n\n@Serializable('Equipment')\nexport class Equipment extends BaseItem {\n  readonly type: EquipmentType;\n  readonly slot: EquipmentSlot;\n  readonly armor: number;\n  readonly strength: number;\n  readonly dexterity: number;\n  readonly constitution: number;\n  readonly intelligence: number;\n  readonly minDamage: number;\n  readonly maxDamage: number;\n  readonly ranged: boolean;\n  readonly finesse: boolean;\n\n  constructor(builder: EquipmentBuilder) {\n    const sellPrice = 10 * builder.itemLevel;\n    super(builder.game, builder.name, builder.sprite, builder.quality, builder.itemLevel, 0, sellPrice);\n    this.type = builder.type;\n    this.slot = builder.slot;\n    this.armor = builder.armor;\n    this.strength = builder.strength;\n    this.dexterity = builder.dexterity;\n    this.constitution = builder.constitution;\n    this.intelligence = builder.intelligence;\n    this.minDamage = builder.minDamage;\n    this.maxDamage = builder.maxDamage;\n    this.ranged = builder.ranged;\n    this.finesse = builder.finesse;\n    this.onUpdateTooltip();\n  }\n\n  isStackable() {\n    return false;\n  }\n\n  onUse(player: Player) {\n    return player.equipItem(this);\n  }\n\n  onUpdateTooltip() {\n    const game = this.game as Game;\n    const player = game.player as Player;\n    const equipped = player.getEquipment(this.slot);\n    if (equipped && equipped !== this) {\n      this.buildComparisonTooltip(equipped);\n    } else {\n      this.buildNormalTooltip();\n    }\n  }\n\n  private buildComparisonTooltip(equipped: Equipment) {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new CompoundMessage(\n      new Message('Item Level ' + this.itemLevel, Colors.YELLOW),\n      compMessage(this.itemLevel, equipped.itemLevel),\n    ));\n\n    if (this.type === EquipmentType.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.type, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.minDamage + '-' + this.maxDamage + ' Damage', Colors.YELLOW),\n        compMessage(this.minDamage, equipped.minDamage),\n      ));\n    }\n\n    if (this.armor > 0 || equipped.armor > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.armor + ' Armor', Colors.YELLOW),\n        compMessage(this.armor, equipped.armor),\n      ));\n    }\n\n    if (this.strength > 0 || equipped.strength > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.strength + ' Strength', Colors.LIGHT_GREEN),\n        compMessage(this.strength, equipped.strength),\n      ));\n    }\n\n    if (this.dexterity > 0 || equipped.dexterity > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.dexterity + ' Dexterity', Colors.LIGHT_GREEN),\n        compMessage(this.dexterity, equipped.dexterity),\n      ));\n    }\n\n    if (this.constitution > 0 || equipped.constitution > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.constitution + ' Constitution', Colors.LIGHT_GREEN),\n        compMessage(this.constitution, equipped.constitution),\n      ));\n    }\n\n    if (this.intelligence > 0 || equipped.intelligence > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message(this.intelligence + ' Intelligence', Colors.LIGHT_GREEN),\n        compMessage(this.intelligence, equipped.intelligence),\n      ));\n    }\n\n    if (this.sellPrice > 0 || equipped.sellPrice > 0) {\n      this.tooltipMessages.push(new CompoundMessage(\n        new Message('Sell Price: ' + this.sellPrice, Colors.WHITE),\n        compMessage(this.sellPrice, equipped.sellPrice),\n      ));\n    }\n  }\n\n  private buildNormalTooltip() {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel, Colors.YELLOW));\n\n    if (this.type === EquipmentType.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.type, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new Message(this.minDamage + '-' + this.maxDamage + ' Damage', Colors.YELLOW));\n    }\n\n    if (this.armor > 0) {\n      this.tooltipMessages.push(new Message(this.armor + ' Armor', Colors.YELLOW));\n    }\n\n    if (this.strength > 0) {\n      this.tooltipMessages.push(new Message('+' + this.strength + ' Strength', Colors.LIGHT_GREEN));\n    }\n\n    if (this.dexterity > 0) {\n      this.tooltipMessages.push(new Message('+' + this.dexterity + ' Dexterity', Colors.LIGHT_GREEN));\n    }\n\n    if (this.constitution > 0) {\n      this.tooltipMessages.push(new Message('+' + this.constitution + ' Constitution', Colors.LIGHT_GREEN));\n    }\n\n    if (this.intelligence > 0) {\n      this.tooltipMessages.push(new Message('+' + this.intelligence + ' Intelligence', Colors.LIGHT_GREEN));\n    }\n\n    if (this.sellPrice > 0) {\n      this.tooltipMessages.push(new Message('Sell Price: ' + this.sellPrice, Colors.WHITE));\n    }\n  }\n}\n\nfunction compMessage(current: number, equipped: number) {\n  if (current === equipped) {\n    return new Message('', Colors.WHITE);\n  }\n  if (current < equipped) {\n    return new Message(' (-' + (equipped - current) + ')', Colors.RED);\n  }\n  return new Message(' (+' + (current - equipped) + ')', Colors.LIGHT_GREEN);\n}\n","import { Animation, Game, Sprite, Vec2 } from \"wglt\";\n\nexport class GuiSlideAnimation extends Animation {\n  readonly sprite: Sprite;\n  readonly start: Vec2;\n  readonly end: Vec2;\n  readonly duration: number;\n\n  constructor(sprite: Sprite, start: Vec2, end: Vec2, duration: number) {\n    super(duration, false);\n    this.sprite = sprite;\n    this.start = start;\n    this.end = end;\n    this.duration = duration;\n  }\n\n  draw(game: Game) {\n    const src = game.blackoutRect;\n    if (!src) {\n      return;\n    }\n    const f = this.countdown / this.duration;\n    const x = f * this.start.x + (1.0 - f) * this.end.x;\n    const y = f * this.start.y + (1.0 - f) * this.end.y;\n    this.sprite.draw(game.app, x, y);\n  }\n}\n","import {Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {FireballAbility} from '../abilities/fireball';\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LightningAbility} from '../abilities/lightning';\nimport { Game } from '../game';\nimport {Player} from '../entities/player';\nimport {CharacterClass} from './characterclass';\nimport { BubbleAbility } from '../abilities/bubble';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, BOOTS_SPRITE_1, ROBE_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { ItemQuality } from '../items/itemquality';\nimport { Colors } from '../colors';\n\nconst NAME = 'Priest';\nconst ICON = new Sprite(0, 700, 24, 26, undefined, undefined, undefined, 0xFFFFFFFF);\nconst SPRITE = new Sprite(384, 96, 16, 24, 2, true, undefined, 0xf8f8f8ff);\nconst DESC = 'Devoted to the spiritual, powerful healing magic';\nconst DETAILS = [\n  new Message('+5 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Priest')\nexport class Priest extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.STAFF);\n    player.talents.add(new Talent(player, new FireballAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.talents.add(new Talent(player, new BubbleAbility()));\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withType(EquipmentType.STAFF)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.intelligence += 5;\n  }\n}\n","import {Animation, Game, ProjectileAnimation, Sprite, Vec2} from 'wglt';\nimport { Colors } from '../colors';\n\nexport class ExplosionAnimation extends Animation {\n  readonly game: Game;\n  readonly center: Vec2;\n  readonly radius: number;\n  readonly duration: number;\n  readonly sprites: Sprite[];\n\n  constructor(game: Game, center: Vec2, radius: number, duration: number) {\n    super(duration, true);\n    this.game = game;\n    this.center = center;\n    this.radius = radius;\n    this.duration = duration;\n    this.sprites = [];\n  }\n\n  update() {\n    super.update();\n\n    const game = this.game;\n    const maxRadius = this.radius * (1.0 - (this.countdown + 1) / (this.duration + 1));\n    const centerX = (this.center.x) * game.tileSize.width;\n    const centerY = (this.center.y) * game.tileSize.height;\n\n    for (let i = 0; i < 3; i++) {\n      const radius = maxRadius;\n      const angle = this.countdown + i;\n      const x = centerX + game.tileSize.width * radius * Math.cos(angle);\n      const y = centerY + game.tileSize.height * radius * Math.sin(angle);\n      const explosion = new Sprite(512, 336, 16, 24, 4, false, 4, Colors.ORANGE);\n      const animation = new ProjectileAnimation(explosion, new Vec2(x, y), new Vec2(0, 0), 16);\n      animation.blocking = false;\n      game.animations.push(animation);\n    }\n  }\n}\n","import {Ability, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Bubble } from '../buffs/bubble';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(896, 216, 16, 24, 1, true, undefined, 0xCCEEFFFF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Bubble', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Shields the caster absorbing 4 + INT', Colors.YELLOW),\n  new Message('damage.', Colors.YELLOW),\n];\n\n@Serializable('BubbleAbility')\nexport class BubbleAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Bubble';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Bubble) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have a bubble.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const absorb = 4 + caster.intelligenceModifier;\n    caster.buffs.push(new Bubble(caster, absorb));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\nimport { Sprite, Color, Serializable } from 'wglt';\n\nconst COLOR = 0xAADDFFFF as Color;\nconst SPRITE = new Sprite(608, 408, 16, 24, 2, true, undefined, COLOR);\n\n@Serializable('Bubble')\nexport class Bubble extends Buff {\n  remaining: number;\n\n  constructor(actor: StatsActor, remaining: number) {\n    super(actor);\n    this.remaining = remaining;\n  }\n\n  modifyDamageTaken(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    const absorb = Math.min(this.remaining, damage);\n    this.remaining -= absorb;\n    if (this.remaining <= 0) {\n      this.actor.game.log('Absorbed the last ' + absorb + ' of the bubble!', COLOR);\n    } else {\n      this.actor.game.log('Bubble absorbed ' + absorb + ' damage.', COLOR);\n    }\n    return damage - absorb;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.remaining <= 0;\n  }\n}","import { Message, Sprite, Talent, Serializable } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { ShootAbility } from '../abilities/shoot';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, CROSSBOW_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { Colors } from '../colors';\n\nconst NAME = 'Ranger';\nconst ICON = new Sprite(168, 700, 24, 26, undefined, undefined, undefined, 0x80FF80FF);\nconst SPRITE = new Sprite(64, 120, 16, 24, 2, true, undefined, 0x80FF80FF);\nconst DESC = 'Strategy and finesse, attacking from a distance';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Ranger')\nexport class Ranger extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.LEATHER);\n    player.proficiencies.push(EquipmentType.BOW);\n    player.proficiencies.push(EquipmentType.CROSSBOW);\n    player.talents.add(new Talent(player, new ShootAbility()));\n    player.talents.add(new Talent(player, new LeapAbility()));\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Weathered Crossbow')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.CROSSBOW)\n      .withDamage(1, 2, true, true)\n      .withSprite(CROSSBOW_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.strength += 2;\n    player.dexterity += 2;\n  }\n}\n","import { Ability, Message, Sprite, TargetType, Serializable } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(896, 96, 16, 24, 1, false, undefined, 0x40D0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shoot', Colors.WHITE),\n  new Message('30 yard range', Colors.WHITE),\n  new Message('Requires a ranged weapon.', Colors.WHITE)\n];\n\n@Serializable('ShootAbility')\nexport class ShootAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'shoot';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    const weapon = caster.mainHandWeapon;\n    if (!weapon || !weapon.ranged) {\n      if (caster === game.player) {\n        game.log('Shoot requires a ranged weapon.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.takeDamage(caster, caster.getDamage());\n    caster.ap--;\n    return true;\n  }\n}","import { Message, Sprite, Talent, Serializable } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { ShadowStrikeAbility } from '../abilities/shadowstrike';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, BOOTS_SPRITE_1, DAGGER_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { HealthPotion } from '../items/healthpotion';\nimport { ItemQuality } from '../items/itemquality';\nimport { Colors } from '../colors';\n\nconst NAME = 'Rogue';\nconst ICON = new Sprite(144, 700, 24, 26, undefined, undefined, undefined, 0xA00000FF);\nconst SPRITE = new Sprite(192, 96, 16, 24, 2, true, undefined, 0xA00000FF);\nconst DESC = 'Lethal assasins and masters of stealth';\nconst DETAILS = [\n  new Message('+5 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Stealth - go invisible for 10 turns', Colors.YELLOW),\n  new Message('Shadow Strike - sneak attack from a distance', Colors.YELLOW)\n];\n\n@Serializable('Rogue')\nexport class Rogue extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.LEATHER);\n    player.proficiencies.push(EquipmentType.DAGGER);\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new ShadowStrikeAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(ItemQuality.COMMON)\n      .withType(EquipmentType.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n      .withName('Worn Dirk')\n      .withItemLevel(1)\n      .withType(EquipmentType.DAGGER)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(ItemQuality.COMMON)\n      .withDamage(1, 2, false, true)\n      .withSprite(DAGGER_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.dexterity += 5;\n  }\n}\n","import {Ability, Message, SlideAnimation, Sprite, TargetType, Vec2, Serializable} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xc4c4c4ff);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shadow Strike', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Appear behind your target up to 25 yards away,', Colors.YELLOW),\n  new Message('dealing double damage.', Colors.YELLOW)\n];\n\n@Serializable('ShadowStrikeAbility')\nexport class ShadowStrikeAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Shadow Strike';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    // Find the tile that is closest to the opposite side.\n    // Note that this is different than \"farthest\" tile,\n    // which can result in moving at an angle.\n    const targetX = caster.x + 2 * (target.x - caster.x);\n    const targetY = caster.y + 2 * (target.y - caster.y);\n    let bestTile: Vec2 | null = null;\n    let bestDistance = 1000.0;\n\n    for (let y = target.y - 1; y <= target.y + 1; y++) {\n      for (let x = target.x - 1; x <= target.x + 1; x++) {\n        if (game.isBlocked(x, y)) {\n          // Blocked or occupied\n          continue;\n        }\n        const distance = Math.hypot(x - targetX, y - targetY);\n        if (distance < bestDistance) {\n          bestTile = new Vec2(x, y);\n          bestDistance = distance;\n        }\n      }\n    }\n\n    if (!bestTile) {\n      if (caster === game.player) {\n        game.log('No free spaces available.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (bestTile.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (bestTile.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = (bestTile as Vec2).x;\n      caster.y = (bestTile as Vec2).y;\n      caster.attack(target, caster.getDamage() * 2);\n      caster.ap--;\n    });\n    return true;\n  }\n}\n","import {Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {CurseAbility} from '../abilities/curse';\nimport {DemonicGatewayAbility} from '../abilities/demonicgateway';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, ROBE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentType } from '../equipment/equipmenttype';\n\nimport {CharacterClass} from './characterclass';\nimport { Game } from '../game';\nimport { Colors } from '../colors';\n\nconst NAME = 'Warlock';\nconst ICON = new Sprite(24, 700, 24, 26, undefined, undefined, undefined, 0xA020A0FF);\nconst SPRITE = new Sprite(416, 96, 16, 24, 2, true, undefined, 0xA020A0FF);\nconst DESC = 'Practitioners of the dark arts';\nconst DETAILS = [\n  new Message('+2 Constitution, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Demonic Gateway - teleport by dark magic', Colors.YELLOW)\n];\n\n@Serializable('Warlock')\nexport class Warlock extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.STAFF);\n    player.talents.add(new Talent(player, new CurseAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new DemonicGatewayAbility()));\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withType(EquipmentType.STAFF)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {Curse} from '../buffs/curse';\nimport {StatsActor} from '../entities/statsactor';\nimport { Colors } from '../colors';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(880, 144, 16, 24, 1, false, undefined, 0xC040C0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Curse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Corrupts the target, causing (1 + INT) / 4', Colors.YELLOW),\n  new Message('damage per turn for 8 turns.', Colors.YELLOW),\n];\n\n@Serializable('CurseAbility')\nexport class CurseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Curse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const damage = Math.round((1 + caster.intelligenceModifier) / 4);\n    target.buffs.push(new Curse(caster, target, damage, 8));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\nimport { Serializable } from 'wglt';\n\n@Serializable('Curse')\nexport class Curse extends Buff {\n  caster: StatsActor;\n  damage: number;\n  countdown: number;\n\n  constructor(caster: StatsActor, target: StatsActor, damage: number, duration: number) {\n    super(target);\n    this.caster = caster;\n    this.damage = damage;\n    this.countdown = duration;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.actor.takeDamage(this.caster, this.damage);\n      this.countdown--;\n    }\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import {Ability, Message, Sprite, TargetType, TileMapCell, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport {Gateway} from '../items/gateway';\nimport { Colors } from '../colors';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Demonic Gateway', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Creates a demonic gateway between two', Colors.YELLOW),\n  new Message('locations. User can transport to the other gateway.', Colors.YELLOW),\n];\n\n@Serializable('DemonicGatewayAbility')\nexport class DemonicGatewayAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Demonic Gateway';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const gateway1 = new Gateway(game, caster.x, caster.y, caster);\n    const gateway2 = new Gateway(game, target.x, target.y, caster);\n    gateway1.other = gateway2;\n    gateway2.other = gateway1;\n    game.entities.add(gateway1);\n    game.entities.add(gateway2);\n    caster.move(target.x - caster.x, target.y - caster.y, 16);\n    caster.ap--;\n    return true;\n  }\n}","import { Game, Item, Sprite, Serializable } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\n\n@Serializable('Gateway')\nexport class Gateway extends Item {\n  readonly owner: StatsActor;\n  other?: Gateway;\n\n  constructor(game: Game, x: number, y: number, owner: StatsActor) {\n    super(game, x, y, 'gateway', SPRITE, false);\n    this.owner = owner;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n    player.move(exit.x - player.x, exit.y - player.y, 16);\n    return true;\n  }\n}\n","import {Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { RageAbility } from '../abilities/rage';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, SWORD_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentType } from '../equipment/equipmenttype';\nimport { HealthPotion } from '../items/healthpotion';\nimport { Colors } from '../colors';\n\nconst NAME = 'Warrior';\nconst ICON = new Sprite(216, 700, 24, 26, undefined, undefined, undefined, 0x804000FF);\nconst SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\nconst DESC = 'Lords of war, strength, and combat';\nconst DETAILS = [\n  new Message('+5 Strength, +2 Constitution', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Warrior')\nexport class Warrior extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.proficiencies.push(EquipmentType.CLOTH);\n    player.proficiencies.push(EquipmentType.LEATHER);\n    player.proficiencies.push(EquipmentType.PLATE);\n    player.proficiencies.push(EquipmentType.SWORD);\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new RageAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withType(EquipmentType.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipItem(new EquipmentBuilder(game)\n        .withName('Worn Greatsword')\n        .withItemLevel(1)\n        .withType(EquipmentType.SWORD)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(SWORD_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.strength += 5;\n  }\n}\n","import {Ability, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Rage } from '../buffs/rage';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xDD2222FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Rage', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Become enraged increasing damage by', Colors.YELLOW),\n  new Message('100% for 8 turns.', Colors.YELLOW),\n];\n\n@Serializable('RageAbility')\nexport class RageAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Rage';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Rage) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have rage.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const duration = 8;\n    caster.buffs.push(new Rage(caster, duration));\n    caster.ap--;\n    return true;\n  }\n}","import { StatsActor } from '../entities/statsactor';\n\nimport { Buff } from './buff';\nimport { Sprite, Color, Serializable } from 'wglt';\n\nconst COLOR = 0xDD2222FF as Color;\nconst SPRITE = new Sprite(640, 408, 16, 24, 2, true, undefined, COLOR);\n\n@Serializable('Rage')\nexport class Rage extends Buff {\n  countdown: number;\n\n  constructor(actor: StatsActor, countdown: number) {\n    super(actor);\n    this.countdown = countdown;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.countdown--;\n    }\n  }\n\n  modifyDamageDealt(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    return damage * 2;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import * as wglt from 'wglt';\nimport { App, Button, FadeInAnimation, FadeOutAnimation, ItemContainerDialog, Message, MessageLog, Rect, Sprite, TalentsDialog, Vec2, Serializer } from 'wglt';\n\nimport { Cat } from './entities/cat';\nimport { Player } from './entities/player';\nimport { BottomPanel } from './gui/bottompanel';\nimport { CharacterDialog } from './gui/characterdialog';\nimport { TopPanel } from './gui/toppanel';\nimport { MapGenerator } from './mapgen/mapgen';\nimport { LevelUpDialog } from './gui/levelupdialog';\nimport { EntityFrames } from './gui/entityframes';\nimport { HealthPotion } from './items/healthpotion';\nimport { Scroll } from './items/scroll';\nimport { Colors } from './colors';\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst TARGET_SPRITE = new Sprite(16, 40, SPRITE_WIDTH, SPRITE_HEIGHT);\n\nexport class Game extends wglt.Game {\n  private readonly mapGen: MapGenerator;\n  cat?: Cat;\n  inventoryDialog: ItemContainerDialog;\n  talentsDialog: TalentsDialog;\n  characterDialog: CharacterDialog;\n  levelUpDialog: LevelUpDialog;\n\n  constructor(app: App, seed: number) {\n    super(app, {\n      mapSize: new Rect(0, 0, 512, 512),\n      mapLayers: 4,\n      tileSize: new Rect(0, 0, 16, 24),\n      horizontalViewDistance: 6,\n      verticalViewDistance: 4,\n      focusMargins: new Vec2(0, 40)\n    });\n\n    this.rng.setSeed(seed);\n\n    this.targetSprite = TARGET_SPRITE;\n    this.cooldownSprite = new Sprite(192, 16, 16, 24, 24);\n    this.blackoutRect = new Rect(0, 40, 16, 16);\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.mapGen = new MapGenerator(this);\n\n    const player = new Player(this, 30, 20);\n    this.player = player;\n    this.entities.add(player);\n    this.gui.renderer.baseRect = new Rect(0, 16, 24, 24);\n    this.gui.renderer.buttonSlotRect = new Rect(64, 16, 20, 28);\n    this.messageLog = new MessageLog(new Rect(1, -84, 100, 50));\n    this.gui.add(this.messageLog);\n    this.log('Welcome stranger! Prepare to perish!', Colors.DARK_RED);\n\n    const topPanel = new TopPanel(player);\n    this.gui.add(topPanel);\n\n    const bottomPanel = new BottomPanel();\n    this.gui.add(bottomPanel);\n\n    this.gui.add(new EntityFrames(this));\n\n    const inventoryButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(832, 168, 16, 24, 1, true, 30, 0xe08020ff),\n      undefined,\n      () => {\n        this.hideAllDialogs();\n        this.inventoryDialog.visible = true;\n      });\n    inventoryButton.tooltipMessages = [\n      new Message('Traveler\\'s Backpack', Colors.GREEN),\n      new Message('Item Level 55', Colors.YELLOW),\n      new Message('16 Slot Bag', Colors.WHITE),\n      new Message('Sell Price: 87 coins', Colors.WHITE)\n    ];\n    bottomPanel.inventorySlot.add(inventoryButton);\n\n    const characterButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(640, 240, 16, 24, undefined, undefined, undefined, 0xffcf5cff),\n      undefined,\n      () => {\n        this.hideAllDialogs();\n        this.characterDialog.visible = true;\n      });\n    characterButton.tooltipMessages = [\n      new Message('Character', Colors.WHITE),\n      new Message('Currently equipped items,', Colors.YELLOW),\n      new Message('stats and abilities.', Colors.YELLOW)\n    ];\n    topPanel.characterSlot.add(characterButton);\n\n    const talentsButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(656, 360, 16, 24, undefined, undefined, undefined, Colors.LIGHT_BLUE),\n      undefined, () => {\n        this.hideAllDialogs();\n        this.talentsDialog.visible = true;\n      });\n    talentsButton.tooltipMessages = [\n      new Message('Talents', Colors.WHITE),\n      new Message('A list of all of your', Colors.YELLOW),\n      new Message('character\\'s talents.', Colors.YELLOW)\n    ];\n    topPanel.talentsSlot.add(talentsButton);\n\n    const menuButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(352, 672, 16, 24, undefined, undefined, undefined, Colors.LIGHT_GRAY),\n      undefined,\n      () => {\n        window.location.hash = 'menu';\n      });\n    menuButton.tooltipMessages = [new Message('Main Menu', Colors.WHITE)];\n    topPanel.menuSlot.add(menuButton);\n\n    this.inventoryDialog = new ItemContainerDialog(\n      new Rect(4, 38, 94, 126),\n      [\n        new Message('Traveler\\'s Backpack', Colors.GREEN),\n        new Message('Click an item to use', Colors.LIGHT_GRAY),\n        new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n      ],\n      16,\n      player.inventory);\n    this.inventoryDialog.visible = false;\n    this.gui.add(this.inventoryDialog);\n\n    this.characterDialog = new CharacterDialog(new Rect(4, 38, 120, 126), player);\n    this.characterDialog.visible = false;\n    this.gui.add(this.characterDialog);\n\n    this.talentsDialog = new TalentsDialog(\n      new Rect(4, 38, 94, 126),\n      [\n        new Message('Talents', Colors.GREEN),\n        new Message('Click an ability to use', Colors.LIGHT_GRAY),\n        new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n      ],\n      16,\n      player.talents);\n    this.talentsDialog.visible = false;\n    this.gui.add(this.talentsDialog);\n\n    const levelUpDialog = new LevelUpDialog(new Rect(4, 38, 140, 126), player);\n    levelUpDialog.visible = false;\n    this.gui.add(levelUpDialog);\n    this.levelUpDialog = levelUpDialog;\n\n    player.inventory.addListener({\n      onAdd: (_, item) => {\n        if (!(item instanceof HealthPotion) && !(item instanceof Scroll)) {\n          // Only add health potions and scrolls\n          return;\n        }\n        bottomPanel.shortcutBar.addItem(player.inventory, item, true);\n      },\n      onRemove: () => { }\n    });\n\n    player.talents.addListener({\n      onAdd: (_, talent) => {\n        bottomPanel.shortcutBar.addTalent(talent);\n      },\n      onRemove: () => { }\n    });\n\n    // Generate the map\n    this.mapGen.createMap();\n  }\n\n  hideAllDialogs() {\n    this.inventoryDialog.visible = false;\n    this.characterDialog.visible = false;\n    this.talentsDialog.visible = false;\n  }\n\n  warpToPoint(point: Vec2) {\n    this.addAnimation(new FadeOutAnimation(30)).then(() => {\n      if (this.player) {\n        this.player.x = point.x;\n        this.player.y = point.y;\n      }\n      this.stopAutoWalk();\n      this.resetViewport();\n      this.recomputeFov();\n      this.addAnimation(new FadeInAnimation(30));\n    });\n  }\n\n  findFreeTile(x0: number, y0: number, maxDistance: number) {\n    for (let r = 0; r <= maxDistance; r += 0.5) {\n      const r2 = Math.ceil(r);\n      for (let y = y0 - r2; y <= y0 + r2; y++) {\n        for (let x = x0 - r2; x <= x0 + r2; x++) {\n          if (Math.hypot(x - x0, y - y0) <= r) {\n            if (!this.isBlocked(x, y) && !this.getEntityAt(x, y)) {\n              return new Vec2(x, y);\n            }\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n\n  save() {\n    const serializer = new Serializer();\n    const result = serializer.serialize(this);\n    console.log('result', result);\n  }\n}\n","import { Sprite, Vec2, Serializable } from 'wglt';\n\nimport { CharacterClass } from '../classes/characterclass';\nimport { Paladin } from '../classes/paladin';\nimport { Game } from '../game';\nimport { CharacterRace } from '../races/characterrace';\nimport { Human } from '../races/human';\n\nimport { StatsActor } from './statsactor';\nimport { Colors } from '../colors';\n\nconst PLAYER_SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\n\n@Serializable('Player')\nexport class Player extends StatsActor {\n  xp: number;\n  maxXp: number;\n  race: CharacterRace;\n  class: CharacterClass;\n  remainingAbilityPoints: number;\n  home: Vec2;\n  keys: boolean[];\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Player', PLAYER_SPRITE);\n    this.level = 1;\n    this.hp = 10;\n    this.maxHp = 10;\n    this.xp = 0;\n    this.maxXp = 20;\n    this.race = new Human();\n    this.class = new Paladin();\n    this.remainingAbilityPoints = 0;\n    this.home = new Vec2(x, y);\n    this.keys = new Array(1000);\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    this.game.stopAutoWalk();\n    super.takeDamage(attacker, damage);\n  }\n\n  onDeath() {\n    this.game.log('You died!');\n  }\n\n  addXp(xpGain: number) {\n    this.xp += xpGain;\n    this.addFloatingText('+' + xpGain, Colors.LIGHT_MAGENTA);\n\n    let levelUp = false;\n    while (this.xp >= this.maxXp) {\n      this.level++;\n      this.xp -= this.maxXp;\n      this.maxXp = this.nextMaxXp(this.maxXp);\n      this.remainingAbilityPoints += 2;\n      this.game.log('You reached level ' + this.level, Colors.LIGHT_MAGENTA);\n      levelUp = true;\n    }\n\n    if (levelUp) {\n      this.recalculateMaxHp();\n      (this.game as Game).levelUpDialog.visible = true;\n    }\n  }\n\n  private nextMaxXp(oldMaxXp: number) {\n    return Math.round(oldMaxXp * 1.5 / 10.0) * 10.0;\n  }\n}\n","import {ButtonSlot, Keys, Panel, Rect, ShortcutBar} from 'wglt';\n\nexport class BottomPanel extends Panel {\n  constructor() {\n    super(new Rect(0, -43, 400, 43));\n\n    // Create 6 slots for the action bar\n    this.add(new ShortcutBar(new Rect(0, 0, 6 * 24, 28), 6));\n\n    // Create a slot for the inventory button\n    this.add(new ButtonSlot(new Rect(100, 0, 20, 28), Keys.VK_I));\n  }\n\n  get shortcutBar(): ShortcutBar {\n    return this.children.get(0) as ShortcutBar;\n  }\n\n  get inventorySlot(): ButtonSlot {\n    return this.children.get(this.children.length - 1) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const y = app.size.height - 43;\n    app.drawImage(0, y, 48, 16, 16, 48, undefined, app.size.width, 48);\n\n    // Update button y-positions\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.y = app.size.height - 31;\n    }\n\n    // Update inventory button to be right-aligned\n    this.inventorySlot.rect.x = app.size.width - 22;\n\n    this.drawChildren();\n  }\n}\n","import {ButtonSlot, Dialog, ItemButton, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport {Equipment} from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { Colors } from '../colors';\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\n\nexport class CharacterDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const capacity = 10;\n    for (let i = 0; i < capacity; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24)));\n    }\n\n    player.equipment.addListener(\n        {onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get headSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get neckSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get backSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get chestSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  get handsSlot(): ButtonSlot {\n    return this.children.get(4) as ButtonSlot;\n  }\n\n  get legsSlot(): ButtonSlot {\n    return this.children.get(5) as ButtonSlot;\n  }\n\n  get feetSlot(): ButtonSlot {\n    return this.children.get(6) as ButtonSlot;\n  }\n\n  get ringSlot(): ButtonSlot {\n    return this.children.get(7) as ButtonSlot;\n  }\n\n  get mainHandSlot(): ButtonSlot {\n    return this.children.get(8) as ButtonSlot;\n  }\n\n  get offHandSlot(): ButtonSlot {\n    return this.children.get(9) as ButtonSlot;\n  }\n\n  private addItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      slot.add(new ItemButton(slot.rect.clone(), this.player.inventory, item));\n    }\n  }\n\n  private removeItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      const button = slot.button;\n      if (button) {\n        slot.remove(button);\n      }\n    }\n  }\n\n  private getSlot(item: Equipment) {\n    switch (item.slot) {\n      case EquipmentSlot.HEAD:\n        return this.headSlot;\n      case EquipmentSlot.NECK:\n        return this.neckSlot;\n      case EquipmentSlot.BACK:\n        return this.backSlot;\n      case EquipmentSlot.CHEST:\n        return this.chestSlot;\n      case EquipmentSlot.HANDS:\n        return this.handsSlot;\n      case EquipmentSlot.LEGS:\n        return this.legsSlot;\n      case EquipmentSlot.FEET:\n        return this.feetSlot;\n      case EquipmentSlot.RING:\n        return this.ringSlot;\n      case EquipmentSlot.MAINHAND:\n        return this.mainHandSlot;\n      case EquipmentSlot.OFFHAND:\n        return this.offHandSlot;\n      default:\n        return undefined;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawCenteredString('ORYX THE BRAVE', centerX, y, Colors.WHITE);\n    y += 10;\n\n    const desc = 'Level ' + this.player.level + ' ' + this.player.race.name + ' ' + this.player.class.name;\n\n    this.gui.app.drawCenteredString(desc, centerX, y, Colors.WHITE);\n    y += 10;\n\n    // Draw the player sprite at 2x\n    this.player.sprite.draw(this.gui.app, centerX - 8, y + 32);\n\n    // Left column:  head, neck, back, chest\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    // Right column: hands, legs, ring1, ring2\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(4 + i);\n      child.rect.x = containerRect.x2 - MARGIN - buttonRect.width;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    this.mainHandSlot.rect.x = centerX - buttonRect.width - 1;\n    this.mainHandSlot.rect.y = y + 90;\n    this.mainHandSlot.rect.width = buttonRect.width;\n    this.mainHandSlot.rect.height = buttonRect.height;\n\n    this.offHandSlot.rect.x = centerX + 1;\n    this.offHandSlot.rect.y = y + 90;\n    this.offHandSlot.rect.width = buttonRect.width;\n    this.offHandSlot.rect.height = buttonRect.height;\n\n    y += 4 * (buttonRect.height + BUTTON_SPACING) + MARGIN;\n\n    this.gui.app.drawString('Armor', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.armor.toString(), x + 85, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Constitution', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.constitution.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.constitutionModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Strength', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.strength.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.strengthModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Dexterity', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.dexterity.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.dexterityModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Intelligence', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.intelligence.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.intelligenceModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { ButtonSlot, Keys, Panel, Rect } from 'wglt';\n\nimport { Player } from '../entities/player';\nimport { Colors } from '../colors';\n\nexport class TopPanel extends Panel {\n  readonly player: Player;\n\n  constructor(player: Player) {\n    super(new Rect(0, 0, 400, 42));\n    this.player = player;\n\n    // Character / inventory\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_C));\n\n    // Talents / abilities\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_T));\n\n    // Inspect\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_QUESTION_MARK));\n\n    // Main menu\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_Q));\n  }\n\n  get characterSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get talentsSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get inspectSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get menuSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.player.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n\n    // Draw the overall top panel frame\n    app.drawImage(0, 0, 32, 22, 16, 42, undefined, app.size.width, 42);\n\n    // Draw the frame\n    const x = 2;\n    const y = 2;\n    const actor = this.player;\n    app.drawImage(x, y, 64, 48, 54, 18);\n\n    // Draw the name\n    app.drawCenteredString('ORYX', x + 20, y + 1, Colors.WHITE);\n\n    // Draw the health\n    const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n    app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n    app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n    // Draw the level\n    app.drawCenteredString(actor.level.toString(), x + 47, y + 5, Colors.WHITE);\n\n    // Update button x-positions to right align\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.x = app.size.width - 22 * (4 - i);\n    }\n\n    this.drawChildren();\n  }\n}\n","import { Rect, Sprite, TileMap } from 'wglt';\n\nimport { Player } from '../entities/player';\nimport { Shark } from '../entities/shark';\nimport { Game } from '../game';\nimport { Portal } from '../items/portal';\nimport { Tiles } from './tiles';\nimport { Overworld } from './overworld';\nimport { Dungeon } from './dungeon';\n\n// Size of the map\nconst MAP_WIDTH = 512;\nconst MAP_HEIGHT = 512;\n\nexport class MapGenerator {\n  readonly game: Game;\n  nextKeyId = 0;\n\n  constructor(game: Game) {\n    this.game = game;\n  }\n\n  createMap() {\n    const overworld = new Overworld(this);\n    const dungeon = new Dungeon(this, overworld.rect.x2, 0);\n\n    // Create portal entrance\n    const game = this.game;\n    const player = game.player as Player;\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0x00FFFFFF);\n    const portal1 = new Portal(game, player.x + 4, player.y, 'portal', portalSprite);\n    const portal2 = dungeon.layers[0].entrance as Portal;\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n\n    // Touch-up (add shadows, other ambient effects)\n    this.touchUp(this.game.tileMap as TileMap);\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  clearMap(map: TileMap, rect: Rect, tile: number, blocked: boolean, blockedSight: boolean) {\n    for (let y = rect.y1; y < rect.y2; y++) {\n      for (let x = rect.x1; x < rect.x2; x++) {\n        map.setTile(x, y, 0, tile);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, blocked, blockedSight);\n        for (let z = 1; z < 4; z++) {\n          map.setTile(z, x, y, Tiles.EMPTY);\n          map.setAnimated(x, y, z, false);\n        }\n      }\n    }\n  }\n\n  createRiver(map: TileMap, bounds: Rect, length: number) {\n    const rng = this.game.rng;\n    const water = bounds.getCenter();\n    for (let i = 0; i < length; i++) {\n      map.setTile(water.x, water.y, 0, Tiles.WATER);\n      map.setTile(water.x - 1, water.y, 0, Tiles.WATER);\n      map.setTile(water.x + 1, water.y, 0, Tiles.WATER);\n      map.setTile(water.x, water.y - 1, 0, Tiles.WATER);\n      map.setTile(water.x, water.y + 1, 0, Tiles.WATER);\n      map.setAnimated(water.x, water.y, 0, true);\n      map.setAnimated(water.x - 1, water.y, 0, true);\n      map.setAnimated(water.x + 1, water.y, 0, true);\n      map.setAnimated(water.x, water.y - 1, 0, true);\n      map.setAnimated(water.x, water.y + 1, 0, true);\n      map.setBlocked(water.x, water.y, true, false);\n      map.setBlocked(water.x - 1, water.y, true, false);\n      map.setBlocked(water.x + 1, water.y, true, false);\n      map.setBlocked(water.x, water.y - 1, true, false);\n      map.setBlocked(water.x, water.y + 1, true, false);\n      water.x += rng.nextRange(-1, 2);\n      water.y += rng.nextRange(-1, 2);\n      if (!bounds.contains(water)) {\n        return;\n      }\n    }\n  }\n\n  private touchUp(map: TileMap) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Touch up walls / half walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        const t1 = map.getTile(x, y, 0);\n        const t2 = map.getTile(x, y + 1, 0);\n        const t3 = map.getTile(x - 1, y, 0);\n        const t4 = map.getTile(x + 1, y, 0);\n        const t5 = map.getTile(x, y - 1, 0);\n\n        if (t1 === Tiles.FLOOR && t3 === Tiles.WALL && t5 === Tiles.HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_NORTHWEST);\n        }\n\n        if (t1 === Tiles.FLOOR && t4 === Tiles.WALL && t5 === Tiles.HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_NORTHEAST);\n        }\n\n        if (t1 === Tiles.FLOOR && t3 === Tiles.WALL && t2 === Tiles.WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_SOUTHWEST);\n        }\n\n        if (t1 === Tiles.FLOOR && t4 === Tiles.WALL && t2 === Tiles.WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_SOUTHEAST);\n        }\n\n        if (t1 === Tiles.CLOSED_DOOR && t2 !== Tiles.WALL) {\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        if (t1 === Tiles.WALL && t2 !== Tiles.WALL && t2 !== Tiles.CLOSED_DOOR) {\n          const r = rng.nextRange(0, 20);\n          if (r === 0) {\n            map.setTile(x, y, 0, Tiles.HALF_WALL2);\n          } else if (r === 1) {\n            map.setTile(x, y, 0, Tiles.HALF_WALL3);\n          } else {\n            map.setTile(x, y, 0, Tiles.HALF_WALL);\n          }\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        if (t1 !== Tiles.WATER && t2 === Tiles.WATER) {\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        const nearBridge = t2 === Tiles.BRIDGE || t3 === Tiles.BRIDGE || t4 === Tiles.BRIDGE || t5 === Tiles.BRIDGE;\n        if (t1 === Tiles.WATER && nearBridge && rng.nextRange(0, 20) === 1) {\n          game.entities.add(new Shark(game, x, y, 3));\n        }\n      }\n    }\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(0, 168, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('SharkAI')\nclass SharkAI extends AI {\n  doAi() {\n    const shark = this.actor as Shark;\n    const player = shark.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (shark.distanceTo(player) < 2) {\n      shark.attack(player, shark.getDamage());\n    }\n  }\n}\n\n@Serializable('Shark')\nexport class Shark extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Shark', SPRITE, level);\n    this.ai = new SharkAI(this);\n  }\n}","import { TileMap, Rect, Vec2, computePath, Sprite } from \"wglt\";\nimport { Player } from \"../entities/player\";\nimport { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { Ghost } from \"../entities/ghost\";\nimport { Spider } from \"../entities/spider\";\nimport { Snake } from \"../entities/snake\";\nimport { Bat } from \"../entities/bat\";\nimport { Troll } from \"../entities/troll\";\nimport { Portal } from \"../items/portal\";\nimport { King } from \"../entities/king\";\nimport { Castle } from \"./castle\";\nimport { Vendor } from \"../entities/vendor\";\nimport { HealthPotion } from \"../items/healthpotion\";\nimport { EquipmentBuilder } from \"../equipment/equipmentbuilder\";\nimport { ItemQuality } from \"../items/itemquality\";\nimport { Game } from \"../game\";\nimport { GrapplingHook } from \"../items/grapplinghook\";\n\nconst OVERWORLD_WIDTH = 256;\nconst OVERWORLD_HEIGHT = 256;\n\nexport class Overworld {\n  readonly rect: Rect;\n\n  constructor(mapGen: MapGenerator) {\n    const game = mapGen.game;\n    const map = game.tileMap as TileMap;\n    const player = game.player as Player;\n    const rng = game.rng;\n\n    const outerOverworld = new Rect(0, 0, OVERWORLD_WIDTH, OVERWORLD_HEIGHT);\n    const overworld = new Rect(4, 4, OVERWORLD_WIDTH - 8, OVERWORLD_HEIGHT - 8);\n\n    mapGen.clearMap(map, outerOverworld, Tiles.WATER, true, false);\n    mapGen.clearMap(map, overworld, Tiles.GRASS, false, false);\n\n    player.x = (OVERWORLD_WIDTH / 2) | 0;\n    player.y = (OVERWORLD_HEIGHT / 2) | 0;\n    player.home.x = player.x;\n    player.home.y = player.y;\n\n    // Make sure there's a ring of water around the map\n    const point = new Vec2(0, 0);\n    for (point.y = outerOverworld.y1; point.y < outerOverworld.y2; point.y++) {\n      for (point.x = outerOverworld.x1; point.x < outerOverworld.x2; point.x++) {\n        if (!overworld.contains(point)) {\n          map.setAnimated(point.x, point.y, 0, true);\n        }\n      }\n    }\n\n    // Create a river\n    mapGen.createRiver(map, overworld, 5000);\n\n    // Make sure the player starts on ground\n    for (let y = player.y - 4; y <= player.y + 4; y++) {\n      for (let x = player.x - 4; x <= player.x + 4; x++) {\n        map.setTile(x, y, 0, Tiles.GRASS);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create graveyards\n    const graveyards = [];\n    for (let i = 0; i < 5; i++) {\n      const w = rng.nextRange(14, 18);\n      const h = rng.nextRange(8, 12);\n      const x = rng.nextRange(overworld.x1, overworld.x2 - w);\n      const y = rng.nextRange(overworld.y1, overworld.y2 - h);\n      const graveyard = new Rect(x, y, w, h);\n      const center = graveyard.getCenter();\n      for (let y = graveyard.y1; y < graveyard.y2; y++) {\n        for (let x = graveyard.x1; x < graveyard.x2; x++) {\n          map.setTile(x, y, 0, Tiles.GRASS);\n          map.setAnimated(x, y, 0, false);\n\n          if (x === graveyard.x1 && y === graveyard.y1) {\n            // Top-left corner\n            map.setTile(x, y, 1, Tiles.FENCE8);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y1) {\n            // Top-right corner\n            map.setTile(x, y, 1, Tiles.FENCE7);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x1 && y === graveyard.y2 - 1) {\n            // Bottom-left corner\n            map.setTile(x, y, 1, Tiles.FENCE6);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y2 - 1) {\n            // Bottom-right corner\n            map.setTile(x, y, 1, Tiles.FENCE5);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x1) {\n            // Vertical-left fence\n            map.setTile(x, y, 1, Tiles.FENCE10);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1) {\n            // Vertical-right fence\n            map.setTile(x, y, 1, Tiles.FENCE9);\n            map.setBlocked(x, y, true, false);\n\n          } else if (y === graveyard.y1 || y === graveyard.y2 - 1) {\n            // Horizontal fence\n            map.setTile(x, y, 1, Tiles.FENCE1);\n            map.setBlocked(x, y, true, false);\n\n          } else {\n            // Middle space\n            map.setBlocked(x, y, false);\n          }\n        }\n      }\n\n      // Create entrances\n      map.setTile(center.x, graveyard.y1, 0, Tiles.GRASS);\n      map.setTile(center.x, graveyard.y1, 1, Tiles.EMPTY);\n      map.setBlocked(center.x, graveyard.y1, false);\n\n      map.setTile(center.x, graveyard.y2 - 1, 0, Tiles.GRASS);\n      map.setTile(center.x, graveyard.y2 - 1, 1, Tiles.EMPTY);\n      map.setBlocked(center.x, graveyard.y2 - 1, false);\n\n      // Create a ghost\n      const distance = Math.hypot(center.x - player.x, center.y - player.y);\n      const level = Math.round(distance / 5);\n      const ghost = new Ghost(game, center.x, center.y, level);\n      game.entities.add(ghost);\n\n      graveyards.push(graveyard);\n    }\n\n    // Create the main castle\n    const castle = new Castle(mapGen, new Rect(0, 0, 10, 10));\n\n    // Create a road from the player to the castle\n    let path = computePath(map, player, castle.center, 10000);\n    if (!path) {\n      // Step 1: Create bridges necessary along vertical axis\n      let x = player.x;\n      for (let y = Math.min(player.y, castle.center.y); y <= Math.max(player.y, castle.center.y); y++) {\n        if (map.isBlocked(x, y)) {\n          map.setTile(x, y, 0, Tiles.BRIDGE);\n          map.setAnimated(x, y, 0, false);\n          map.setBlocked(x, y, false);\n        }\n      }\n\n      // Step 2: Create bridges necessary along horizontal axis\n      let y = player.y;\n      for (let x = Math.min(player.x, castle.center.x); x <= Math.max(player.x, castle.center.x); x++) {\n        if (map.isBlocked(x, y)) {\n          map.setTile(x, y, 0, Tiles.BRIDGE);\n          map.setAnimated(x, y, 0, false);\n          map.setBlocked(x, y, false);\n        }\n      }\n\n      // Step 3: Recompute the path\n      path = computePath(map, player, castle.center, 10000);\n    }\n\n    if (path) {\n      for (let i = 0; i < path.length; i++) {\n        if (map.getTile(path[i].x, path[i].y, 0) === Tiles.GRASS) {\n          map.setTile(path[i].x, path[i].y, 1, Tiles.PATH);\n        }\n      }\n    } else {\n      console.log('eek! no path!');\n    }\n\n    // Create trees\n    for (let i = 0; i < 5000; i++) {\n      const treeX = rng.nextRange(overworld.x1, overworld.x2);\n      const treeY = rng.nextRange(overworld.y1, overworld.y2);\n      const distance = Math.hypot(treeX - player.x, treeY - player.y);\n      if (distance < 6) {\n        // Too close to start location\n        continue;\n      }\n      if (map.getTile(treeX, treeY, 0) !== Tiles.GRASS ||\n        map.getTile(treeX, treeY, 1) === Tiles.PATH ||\n        map.isBlocked(treeX, treeY)) {\n        // Already occupied\n        continue;\n      }\n      // Create a tree\n      map.setTile(treeX, treeY, 0, Tiles.GRASS);\n      map.setBlocked(treeX, treeY, true);\n      const treeType = rng.nextRange(0, 2);\n      if (treeType === 0) {\n        map.setTile(treeX, treeY, 1, Tiles.TREE1);\n      } else {\n        map.setTile(treeX, treeY, 1, Tiles.TREE2);\n      }\n    }\n\n    // Create baddies\n    for (let i = 0; i < 600; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(overworld.x1 + 1, overworld.x2 - 2);\n      const y = rng.nextRange(overworld.y1 + 1, overworld.y2 - 2);\n      const distance = Math.hypot(x - player.x, y - player.y);\n      if (distance < 10) {\n        // Too close to start location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n\n      for (let j = 0; j < 3; j++) {\n        const pos = game.findFreeTile(x, y, 3);\n        if (!pos) {\n          // No more free tiles\n          break;\n        }\n\n        if (map.getTile(pos.x, pos.y, 0) !== Tiles.GRASS) {\n          // Not grass, ignore\n          continue;\n        }\n\n        const level = Math.round((distance - 10) / 10) + rng.nextRange(1, 3);\n        let monster = null;\n\n        if (roll < 25) {\n          monster = new Spider(game, pos.x, pos.y, level);\n        } else if (roll < 50) {\n          monster = new Snake(game, pos.x, pos.y, level);\n        } else if (roll < 75) {\n          monster = new Bat(game, pos.x, pos.y, level);\n        } else {\n          monster = new Troll(game, pos.x, pos.y, level);\n        }\n\n        game.entities.add(monster);\n      }\n    }\n\n    // Create portal entrance\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0xFF00FFFF);\n    const portal1 = new Portal(game, player.x + 2, player.y, 'portal', portalSprite);\n    const portal2 = new Portal(game, graveyards[0].x + 2, graveyards[0].y + 2, 'portal', portalSprite);\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n    game.entities.add(portal2);\n\n    const king = new King(game, player.x - 2, player.y);\n    game.entities.add(king);\n\n    // Create one vendor by the player\n    this.createVendor(game, player.x, player.y + 2, 1);\n\n    // Create random vendors\n\n    const hook = new GrapplingHook(game);\n    hook.x = player.x + 2;\n    hook.y = player.y + 2;\n    game.entities.add(hook);\n\n    this.rect = outerOverworld;\n  }\n\n  private createVendor(game: Game, x: number, y: number, level: number) {\n    const vendor = new Vendor(game, x, y, level);\n    for (let i = 0; i < 20; i++) {\n      vendor.inventory.add(new HealthPotion(game));\n    }\n    for (let i = 0; i < 4; i++) {\n      vendor.inventory.add(new EquipmentBuilder(game)\n          .withRandomDrop(level + i, ItemQuality.UNCOMMON)\n          .build());\n    }\n    game.entities.add(vendor);\n  }\n}\n","import { Sprite, Serializable } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\n\nconst SPRITE = new Sprite(64, 288, 16, 24, 2, true, undefined, 0xE0E0E0A0);\n\n@Serializable('Ghost')\nexport class Ghost extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Ghost', SPRITE, level);\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(256, 144, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('SnakeAI')\nclass SnakeAI extends AI {\n  doAi() {\n    const snake = this.actor as Snake;\n    const player = snake.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (snake.distanceTo(player) < 4) {\n      snake.attack(player, snake.getDamage());\n    }\n  }\n}\n\n@Serializable('Snake')\nexport class Snake extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Snake', SPRITE, level);\n    this.ai = new SnakeAI(this);\n  }\n}","import {AI, Sprite, Rect, Dialog, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Player } from './player';\nimport { QuestDialog } from '../gui/questdialog';\nimport { Quest } from '../quests/quest';\n\nconst SPRITE = new Sprite(320, 360, 16, 24, 2, true, undefined, 0xa040a0ff);\n\n@Serializable('KingAI')\nclass KingAI extends AI {\n  doAi() {\n    const king = this.actor as King;\n    const player = king.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    if (king.sentiment !== Sentiment.HOSTILE) {\n      // Not hostile, do nothing\n      return;\n    }\n\n    if (king.distanceTo(player) > 1.5) {\n      // Move towards player if far away\n      king.moveToward(player.x, player.y);\n\n    } else if (player.hp > 0) {\n      // Close enough, attack! (if the player is still alive.)\n      king.attack(player, king.getDamage());\n    }\n  }\n}\n\n@Serializable('King')\nexport class King extends StatsActor {\n  dialog?: Dialog;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'King', SPRITE);\n    this.ai = new KingAI(this);\n    this.level = 99;\n    this.maxHp = 10 + this.level * 2;\n    this.hp = this.maxHp;\n    this.strength = 10 + this.level * 2;\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.HOSTILE) {\n      return super.onBump(player);\n    }\n\n    if (!this.dialog) {\n      const desc = [\n        'A THREAT WITHIN',\n        '',\n        'I hope you strapped your belt on tight,',\n        'young paladin, because there is work to',\n        'do here in Northshire.',\n        '',\n        'And I don\\'t mean farming.',\n        '',\n        'The Stormwind guards are hard pressed to',\n        'keep the peace here, with so many of us',\n        'in distant lands and so many threats',\n        'pressing close. And so we\\'re enlisting',\n        'the aid of anyone willing to defend',\n        'their home. And their alliance.',\n        '',\n        'If you\\'re here to answer the call, then',\n        'speak with my superior, Marshal McBride.',\n        'He\\'s inside the abbey behind me.'\n      ];\n\n      const completion = [\n        'Ah, good. Another volunteer.',\n        'I hope it\\'s enough.',\n        'The human lands are threatened from without,',\n        'and so many of our forces have been marchaled abroad.',\n      ];\n\n      const dialog = new QuestDialog(new Rect(10, 40, 200, 200));\n      dialog.quest = new Quest(desc, 40);\n      this.game.gui.add(dialog);\n      this.dialog = dialog;\n    }\n    this.dialog.visible = true;\n    return true;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n}","import {Dialog, Rect} from 'wglt';\nimport { Quest } from '../quests/quest';\nimport { Colors } from '../colors';\n\nconst MARGIN = 8;\n\nexport class QuestDialog extends Dialog {\n  quest?: Quest;\n\n  constructor(rect: Rect) {\n    super(rect);\n    this.modal = true;\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect || !this.quest) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    for (let i = 0; i < this.quest.description.length; i++) {\n      this.gui.app.drawString(this.quest.description[i], x, y, Colors.WHITE);\n      y += 10;\n    }\n\n    this.rect.height = Math.max(200, (y + MARGIN) - containerRect.y);\n    this.drawChildren();\n  }\n}","import { Serializable } from \"wglt\";\n\n@Serializable('Quest')\nexport class Quest {\n  description: string[];\n  xpGain: number;\n\n  constructor(description: string[], xpGain: number) {\n    this.description = description;\n    this.xpGain = xpGain;\n  }\n}\n","import { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { Vec2, Rect } from \"wglt\";\nimport { Guard } from \"../entities/guard\";\n\nexport class Castle {\n  rect: Rect;\n  center: Vec2;\n\n  constructor(mapGen: MapGenerator, castle: Rect) {\n    const game = mapGen.game;\n    const map = game.tileMap;\n    const rng = game.rng;\n    const center = castle.getCenter();\n    const moat = castle;\n    const walls = new Rect(castle.x + 2, castle.y + 2, castle.width - 4, castle.height - 4);\n    const floors = new Rect(walls.x + 1, walls.y + 1, walls.width - 2, walls.height - 2);\n\n    // Create moat\n    for (let y = moat.y1; y < moat.y2; y++) {\n      for (let x = moat.x1; x < moat.x2; x++) {\n        map.setTile(x, y, 0, Tiles.WATER);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, true);\n        map.setBlocked(x, y, true, false);\n      }\n    }\n\n    // Create castle\n    for (let y = walls.y1; y < walls.y2; y++) {\n      for (let x = walls.x1; x < walls.x2; x++) {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create castle walls\n    for (let x = walls.x1; x < walls.x2; x++) {\n      map.setTile(x, walls.y1, 0, Tiles.WALL);\n      map.setBlocked(x, walls.y1, true);\n      map.setTile(x, walls.y2 - 1, 0, Tiles.WALL);\n      map.setBlocked(x, walls.y2 - 1, true);\n    }\n    for (let y = walls.y1; y < walls.y2; y++) {\n      map.setTile(walls.x1, y, 0, Tiles.WALL);\n      map.setBlocked(walls.x1, y, true);\n      map.setTile(walls.x2 - 1, y, 0, Tiles.WALL);\n      map.setBlocked(walls.x2 - 1, y, true);\n    }\n\n    // Create draw bridges\n    for (let y = moat.y1 - 1; y < moat.y1 + 3; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = moat.y2 - 3; y < moat.y2 + 1; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x1 - 1; x < moat.x1 + 3; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x2 - 3; x < moat.x2 + 1; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create guards\n    for (let i = 0; i < 10; i++) {\n      const waypoints = [new Vec2(rng.nextRange(floors.x1, floors.x2), rng.nextRange(floors.y1, floors.y2))];\n      for (let j = 1; j < 4; j++) {\n        const prev = waypoints[j - 1];\n        if (rng.nextRange(0, 2) === 0) {\n          waypoints.push(new Vec2(prev.x, rng.nextRange(floors.y1, floors.y2)));\n        } else {\n          waypoints.push(new Vec2(rng.nextRange(floors.x1, floors.x2), prev.y));\n        }\n      }\n      const guard = new Guard(game, waypoints[0].x, waypoints[0].y, waypoints);\n      game.entities.add(guard);\n    }\n\n    // return castle;\n    this.rect = castle;\n    this.center = center;\n  }\n}\n","import { AI, Sprite, Vec2, Serializable, Actor } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('GuardAI')\nclass GuardAI extends AI {\n  readonly waypoints: Vec2[];\n  waypointIndex: number;\n  waitCount: number;\n  aggroTarget?: Actor;\n  aggroCount: number;\n\n  constructor(actor: Guard, waypoints: Vec2[]) {\n    super(actor);\n    this.waypoints = waypoints;\n    this.waypointIndex = 0;\n    this.waitCount = 0;\n    this.aggroCount = 0;\n  }\n\n  doAi() {\n    const guard = this.actor as Guard;\n    const game = guard.game as Game;\n    const player = game.player as Player;\n\n    if (this.aggroTarget) {\n      if (this.aggroTarget.hp <= 0) {\n        // Target is dead, so go back to normal\n        this.aggroTarget = undefined;\n        this.aggroCount = 0;\n        return;\n      }\n\n      this.aggroCount++;\n\n      if (this.aggroCount === 1) {\n        // First attack\n        const game = guard.game as Game;\n        game.log('Guard shouts for help!', Colors.LIGHT_BLUE);\n        for (let i = 0; i < game.entities.length; i++) {\n          const entity = game.entities.get(i);\n          if (entity instanceof Guard) {\n            const otherGuard = entity as Guard;\n            if (guard.distanceTo(otherGuard) < 6) {\n              otherGuard.sentiment = guard.sentiment;\n              (otherGuard.ai as GuardAI).aggroTarget = this.aggroTarget;\n            }\n          }\n        }\n      } else {\n        if (guard.distanceTo(this.aggroTarget) > 1.0) {\n          // Move towards target if far away\n          guard.moveToward(this.aggroTarget.x, this.aggroTarget.y);\n        } else {\n          // Close enough, attack!\n          const damage = 10;\n          guard.attack(this.aggroTarget, damage);\n        }\n      }\n\n      return;\n    }\n\n    // Not currently targeting anything\n    this.aggroCount = 0;\n\n    // If hostile against player, then target the player\n    if (guard.sentiment === Sentiment.HOSTILE) {\n      this.aggroTarget = player;\n      return;\n    }\n\n    // If an enemy is visible, then target that enemy\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities.get(i);\n      if (entity instanceof Monster &&\n          !(entity instanceof Guard) &&\n          game.tileMap.isVisible(entity.x, entity.y)) {\n        this.aggroTarget = entity;\n        return;\n      }\n    }\n\n    if (this.waitCount > 0) {\n      this.waitCount--;\n      return;\n    }\n\n    const waypoint = this.waypoints[this.waypointIndex];\n    if (guard.x === waypoint.x && guard.y === waypoint.y) {\n      this.waypointIndex = (this.waypointIndex + 1) % this.waypoints.length;\n      this.waitCount = guard.game.rng.nextRange(5, 15);\n      return;\n    }\n\n    guard.moveToward(waypoint.x, waypoint.y);\n  }\n}\n\n@Serializable('Guard')\nexport class Guard extends Monster {\n\n  constructor(game: Game, x: number, y: number, waypoints: Vec2[]) {\n    super(game, x, y, 'Guard', SPRITE, 10);\n    this.ai = new GuardAI(this, waypoints);\n    this.seen = true;\n    this.sentiment = Sentiment.FRIENDLY;\n  }\n}","import {AI, Sprite, Rect, Dialog, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Player } from './player';\nimport { VendorDialog } from '../gui/vendordialog';\n\nconst SPRITE = new Sprite(224, 360, 16, 24, 2, true, undefined, 0xc3d012ff);\n\n@Serializable('VendorAI')\nclass VendorAI extends AI {\n  doAi() {\n    const vendor = this.actor as Vendor;\n    const player = vendor.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    if (vendor.sentiment !== Sentiment.HOSTILE) {\n      // Not hostile, do nothing\n      return;\n    }\n\n    if (vendor.distanceTo(player) > 1.5) {\n      // Move towards player if far away\n      vendor.moveToward(player.x, player.y);\n\n    } else if (player.hp > 0) {\n      // Close enough, attack! (if the player is still alive.)\n      vendor.attack(player, vendor.getDamage());\n    }\n  }\n}\n\n@Serializable('Vendor')\nexport class Vendor extends StatsActor {\n  dialog?: Dialog;\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Vendor', SPRITE);\n    this.ai = new VendorAI(this);\n    this.level = level;\n    this.maxHp = 10 + this.level * 2;\n    this.hp = this.maxHp;\n    this.strength = 10 + this.level * 2;\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.HOSTILE) {\n      return super.onBump(player);\n    }\n\n    if (!this.dialog) {\n      const dialog = new VendorDialog(new Rect(10, 40, 125, 175), this);\n      this.game.gui.add(dialog);\n      this.dialog = dialog;\n    }\n    this.dialog.visible = true;\n    return true;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n}","import { Serializable, Dialog, Message, ArrayList, Item, Rect, ButtonSlot, Keys, Actor } from \"wglt\";\nimport { VendorButton } from \"./vendorbutton\";\nimport { BaseItem } from \"../items/baseitem\";\nimport { Gold } from \"../items/gold\";\nimport { Colors } from \"../colors\";\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\nconst PAGE_SIZE = 5;\n\n@Serializable('VendorDialog')\nexport class VendorDialog extends Dialog {\n  readonly vendor: Actor;\n  readonly items: ArrayList<Item>;\n  readonly messages: Message[];\n\n  constructor(rect: Rect, vendor: Actor) {\n    super(rect);\n    this.vendor = vendor;\n    this.items = vendor.inventory;\n    this.modal = true;\n\n    for (let i = 0; i < PAGE_SIZE; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_A + i));\n    }\n\n    // Add initial items\n    for (let i = 0; i < vendor.inventory.length; i++) {\n      this.addItem(vendor.inventory.get(i));\n    }\n\n    this.items.addListener({\n      onAdd: (_, item) => this.addItem(item),\n      onRemove: (_, item) => this.removeItem(item)});\n\n    this.messages = [\n      new Message('How are ya?', Colors.WHITE)\n    ];\n  }\n\n  private addItem(item: Item) {\n    if (item instanceof Gold) {\n      // Ignore gold\n      return;\n    }\n\n    const existingButton = this.getExistingButton(item);\n    if (existingButton) {\n      existingButton.stackItems.add(item);\n      return;\n    }\n\n    const freeSlot = this.getNextFreeSlot();\n    if (freeSlot) {\n      freeSlot.add(new VendorButton(freeSlot.rect.clone(), this.vendor, item));\n    }\n  }\n\n  private removeItem(item: Item) {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      const button = buttonSlot.button;\n      if (button && button instanceof VendorButton) {\n        if (button.stackItems.contains(item)) {\n          button.stackItems.remove(item);\n          if (button.stackItems.length === 0) {\n            buttonSlot.remove(button);\n          }\n        }\n      }\n    }\n  }\n\n  private getExistingButton(item: Item) {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      const button = buttonSlot.button;\n      if (button && button instanceof VendorButton) {\n        const existing = button.stackItems.get(0);\n        if (item.isStackable(existing)) {\n          return button;\n        }\n      }\n    }\n    return undefined;\n  }\n\n  private getNextFreeSlot() {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      if (!buttonSlot.button) {\n        return buttonSlot;\n      }\n    }\n    return undefined;\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    for (let i = 0; i < this.messages.length; i++) {\n      const msg = this.messages[i];\n      this.gui.app.drawString(msg.text, x, y, msg.color);\n      y += 10;\n    }\n\n    for (let i = 0; i < PAGE_SIZE; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      buttonSlot.rect.x = x;\n      buttonSlot.rect.y = y;\n      buttonSlot.rect.width = buttonRect.width;\n      buttonSlot.rect.height = buttonRect.height;\n\n      const button = buttonSlot.button as VendorButton | undefined;\n      if (button) {\n        const item = button.getFirstItem();\n        if (item && item instanceof BaseItem) {\n          this.gui.app.drawString(item.name, x + 25, y + 3, Colors.YELLOW);\n          this.gui.app.drawString(item.sellPrice + ' gold', x + 25, y + 11, Colors.WHITE);\n        }\n      }\n\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Button, ArrayList, Item, Serializable, Rect, Actor } from \"wglt\";\nimport { TooltipDialog } from \"wglt/dist/gui/tooltipdialog\";\nimport { Game } from \"../game\";\nimport { Player } from \"../entities/player\";\nimport { BaseItem } from \"../items/baseitem\";\nimport { Colors } from \"../colors\";\n\n@Serializable('VendorButton')\nexport class VendorButton extends Button {\n  readonly vendor: Actor;\n  readonly stackItems: ArrayList<Item>;\n\n  constructor(rect: Rect, vendor: Actor, initialItem: Item) {\n    super(rect, initialItem.sprite);\n    this.vendor = vendor;\n    this.stackItems = new ArrayList<Item>();\n    this.stackItems.add(initialItem);\n    this.tooltipMessages = initialItem.tooltipMessages;\n  }\n\n  getFirstItem() {\n    return this.stackItems.length > 0 ? this.stackItems.get(0) : undefined;\n  }\n\n  click() {\n    const item = this.getFirstItem();\n    if (!item || !(item instanceof BaseItem)) {\n      return;\n    }\n\n    const game = item.game as Game;\n    const player = game.player as Player;\n    if (player.countGold() < item.sellPrice) {\n      game.log('Insufficient funds', Colors.RED);\n      return;\n    }\n\n    this.vendor.inventory.remove(item);\n    player.inventory.add(item);\n    player.moveGold(this.vendor, item.sellPrice);\n    game.log('Purchased ' + item.name);\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    super.drawContents();\n\n    if (this.stackItems.length > 1) {\n      const dst = this.rect;\n      this.gui.app.drawRightString(this.stackItems.length.toString(), dst.x2 - 3, dst.y2 - 10);\n    }\n  }\n\n  updateTooltip(tooltip: TooltipDialog) {\n    if (this.stackItems.length > 0) {\n      const item = this.stackItems.get(0);\n      item.onUpdateTooltip();\n      this.tooltipMessages = item.tooltipMessages;\n    }\n    super.updateTooltip(tooltip);\n  }\n}","import { Ability, Actor, Sprite, TargetType, Serializable, Message, TileMapCell, SlideAnimation } from 'wglt';\nimport { Game } from '../game';\nimport { BaseItem } from './baseitem';\nimport { ItemQuality } from './itemquality';\nimport { StatsActor } from '../entities/statsactor';\nimport { Stunned } from '../ai/stunned';\nimport { Colors } from '../colors';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(832, 120, 16, 24, undefined, undefined, undefined, 0xFF0000FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Grappling Hook', Colors.WHITE),\n  new Message('Use on target to pull to you.', Colors.YELLOW),\n  new Message('Use on tile to pull to tile.', Colors.YELLOW),\n];\n\n@Serializable('GrapplingHookAbility')\nexport class GrapplingHookAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Grappling Hook';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game as Game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && game.tileMap.isBlocked(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target is blocked.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      // Pull the existing actor as close to the player as possible.\n      // The goal tile is the midpoint between the player and 1 tile toward the actor.\n      const existingDistance = caster.distanceTo(existing);\n      const goalX = Math.round((caster.x + (existing.x - caster.x) / existingDistance));\n      const goalY = Math.round((caster.y + (existing.y - caster.y) / existingDistance));\n      const bestTile = game.findFreeTile(goalX, goalY, 2);\n      if (!bestTile) {\n        if (caster === game.player) {\n          game.log('No free space to drag target.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n\n      // Drag the actor to the best tile\n      const count = 4;\n      const xSpeed = (bestTile.x - existing.x) * game.tileSize.width / count;\n      const ySpeed = (bestTile.y - existing.y) * game.tileSize.height / count;\n      game.addAnimation(new SlideAnimation(existing, xSpeed, ySpeed, count)).then(() => {\n        existing.x = bestTile.x;\n        existing.y = bestTile.y;\n        existing.ai = new Stunned(existing, 1);\n        caster.ap--;\n      });\n\n      return true;\n    }\n\n    // Otherwise, target is available.\n    // Jump to the target\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = target.x;\n      caster.y = target.y;\n      caster.ap--;\n    });\n\n    return true;\n  }\n}\n\n@Serializable('GrapplingHook')\nexport class GrapplingHook extends BaseItem {\n  readonly ability: Ability;\n\n  constructor(game: Game) {\n    super(game, 'Grappling Hook', SPRITE, ItemQuality.UNCOMMON, 1, 0, 0);\n    this.ability = new GrapplingHookAbility();\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  onUse(user: Actor) {\n    (this.game as Game).hideAllDialogs();\n    this.game.startTargeting(this.ability);\n    return true;\n  }\n}\n","import { MapGenerator } from \"./mapgen\";\nimport { Rect } from \"wglt\";\nimport { DungeonLayer } from \"./dungeonlayer\";\nimport { Portal } from \"../items/portal\";\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\nexport class Dungeon {\n  readonly layers: DungeonLayer[];\n\n  constructor(mapGen: MapGenerator, x: number, y: number) {\n    this.layers = [];\n\n    for (let i = 0; i < 10; i++) {\n      const x2 = x;\n      const y2 = y + i * DUNGEON_HEIGHT;\n      const layer = new DungeonLayer(mapGen, new Rect(x2, y2, DUNGEON_WIDTH, DUNGEON_HEIGHT), i);\n      this.layers.push(layer);\n    }\n\n    // Connect all of the dungeon floors to each other\n    for (let i = 1; i < 10; i++) {\n      const exit = this.layers[i - 1].exit as Portal;\n      const entrance = this.layers[i].entrance as Portal;\n      exit.other = entrance;\n      entrance.other = exit;\n    }\n  }\n}\n","import { Rect, TileMap, Sprite } from \"wglt\";\nimport { Portal } from \"../items/portal\";\nimport { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { RedDragon } from \"../entities/reddragon\";\nimport { WindElemental } from \"../entities/windelemental\";\nimport { Griffon } from \"../entities/griffon\";\nimport { Key } from \"../items/key\";\nimport { EquipmentBuilder } from \"../equipment/equipmentbuilder\";\nimport { ItemQuality } from \"../items/itemquality\";\nimport { BossDoor } from \"../items/bossdoor\";\nimport { LockedDoor } from \"../items/lockeddoor\";\nimport { Spider } from \"../entities/spider\";\nimport { Bat } from \"../entities/bat\";\nimport { Troll } from \"../entities/troll\";\nimport { HealthPotion } from \"../items/healthpotion\";\nimport { Scroll } from \"../items/scroll\";\nimport { LightningAbility } from \"../abilities/lightning\";\nimport { FireballAbility } from \"../abilities/fireball\";\nimport { ConfuseAbility } from \"../abilities/confuse\";\nimport { StoneGolem } from \"../entities/stonegolem\";\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\n// Parameters for dungeon generator\nconst ROOM_MIN_WIDTH = 6;\nconst ROOM_MAX_WIDTH = 10;\nconst ROOM_MIN_HEIGHT = 4;\nconst ROOM_MAX_HEIGHT = 8;\nconst MAX_ROOMS = 10;\nconst MAX_ROOM_MONSTERS = 3;\nconst MAX_ROOM_ITEMS = 2;\nconst MAX_ROOM_OBSTACLES = 4;\n\nconst STAIRS_SPRITE = new Sprite(700, 500, 16, 24, 1);\n\nconst BOSS_ZONE_HEIGHT = 10;\nconst BOSS_LAYOUTS = [\n  {\n    // Top left\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, 2, 14, 8),\n    stairsRoom: new Rect(2, 4, 4, 4)\n  },\n  {\n    // Top right\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, 2, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, 4, 4, 4)\n  },\n  {\n    // Bottom left\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(2, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n  {\n    // Bottom right\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n];\n\nexport class DungeonLayer {\n  private readonly mapGen: MapGenerator;\n  readonly rect: Rect;\n  readonly level: number;\n  readonly rooms: Rect[];\n  entrance?: Portal;\n  exit?: Portal;\n\n  constructor(mapGen: MapGenerator, rect: Rect, level: number) {\n    this.mapGen = mapGen;\n    this.rect = rect;\n    this.level = level;\n    this.rooms = [];\n\n    const game = mapGen.game;\n    const map = game.tileMap as TileMap;\n    const rng = game.rng;\n    const keyId = mapGen.nextKeyId++;\n\n    // Clear the map to all walls\n    mapGen.clearMap(map, rect, Tiles.WALL, true, true);\n\n    // Create bodies of water\n    mapGen.createRiver(map, rect, 200);\n\n    // Make sure there's a ring of \"empty\" all around\n    for (let x = rect.x1; x < rect.x2; x++) {\n      map.setTile(x, rect.y1, 0, Tiles.EMPTY);\n      map.setAnimated(x, rect.y1, 0, false);\n      map.setBlocked(x, rect.y1, true);\n\n      map.setTile(x, rect.y2 - 1, 0, Tiles.EMPTY);\n      map.setAnimated(x, rect.y2 - 1, 0, false);\n      map.setBlocked(x, rect.y2 - 1, true);\n    }\n    for (let y = rect.y1; y < rect.y2; y++) {\n      map.setTile(rect.x1, y, 0, Tiles.EMPTY);\n      map.setAnimated(rect.x1, y, 0, false);\n      map.setBlocked(rect.x1, y, true);\n\n      map.setTile(rect.x2 - 1, y, 0, Tiles.EMPTY);\n      map.setAnimated(rect.x2 - 1, y, 0, false);\n      map.setBlocked(rect.x2 - 1, y, true);\n    }\n\n    const bossLayout = BOSS_LAYOUTS[rng.nextRange(0, BOSS_LAYOUTS.length)];\n\n    const bossZone = new Rect(\n      bossLayout.bossZone.x + rect.x,\n      bossLayout.bossZone.y + rect.y,\n      bossLayout.bossZone.width,\n      bossLayout.bossZone.height);\n\n    const bossRoom = new Rect(\n      bossLayout.bossRoom.x + rect.x,\n      bossLayout.bossRoom.y + rect.y,\n      bossLayout.bossRoom.width,\n      bossLayout.bossRoom.height);\n\n    const stairsRoom = new Rect(\n      bossLayout.stairsRoom.x + rect.x,\n      bossLayout.stairsRoom.y + rect.y,\n      bossLayout.stairsRoom.width,\n      bossLayout.stairsRoom.height);\n\n    while (this.rooms.length < MAX_ROOMS) {\n      // Random width and height\n      const w = rng.nextRange(ROOM_MIN_WIDTH, ROOM_MAX_WIDTH);\n      const h = rng.nextRange(ROOM_MIN_HEIGHT, ROOM_MAX_HEIGHT);\n\n      // Random position without going out of the boundaries of the map\n      const x = rng.nextRange(rect.x1 + 2, rect.x2 - w - 3);\n      const y = rng.nextRange(rect.y1 + 2, rect.y2 - h - 3);\n\n      // \"Rect\" class makes rectangles easier to work with\n      const newRoom = new Rect(x, y, w, h);\n\n      // Run through the other rooms and see if they intersect with this one\n      let failed = newRoom.intersects(bossZone);\n      for (let j = 0; j < this.rooms.length; j++) {\n        if (newRoom.intersects(this.rooms[j])) {\n          failed = true;\n          break;\n        }\n      }\n\n      if (failed) {\n        continue;\n      }\n\n      // This means there are no intersections, so this room is valid\n\n      // \"paint\" it to the map's tiles\n      this.createRoom(map, newRoom);\n\n      // Center coordinates of new room, will be useful later\n      const center = newRoom.getCenter();\n\n      if (this.rooms.length === 0) {\n        // This is the first room, where the player starts at\n        this.entrance = new Portal(game, center.x, center.y, 'stairs', STAIRS_SPRITE);\n        game.entities.add(this.entrance);\n        map.setTile(center.x, center.y, 0, Tiles.STAIRS_UP);\n\n      } else {\n        // All rooms after the first:\n        // Connect it to the previous room with a tunnel\n\n        // Center coordinates of previous room\n        const prev = this.rooms[this.rooms.length - 1].getCenter();\n\n        // Draw a coin (random number that is either 0 or 1)\n        if (rng.nextRange(0, 1) === 1) {\n          // First move horizontally, then vertically\n          this.createHTunnel(map, prev.x, center.x, prev.y);\n          this.createVTunnel(map, prev.y, center.y, center.x);\n        } else {\n          // First move vertically, then horizontally\n          this.createVTunnel(map, prev.y, center.y, prev.x);\n          this.createHTunnel(map, prev.x, center.x, center.y);\n        }\n\n        this.placeMonsters(newRoom, this.level);\n      }\n\n      // Add items (scrolls and health potions)\n      this.placeItems(newRoom);\n\n      // Finally, append the new room to the list\n      this.rooms.push(newRoom);\n    }\n\n    {\n      // Create boss room\n      this.createRoom(map, bossRoom);\n\n      // Connect boss room to previous room\n      const prev = this.rooms[this.rooms.length - 1].getCenter();\n      const center = bossRoom.getCenter();\n      this.createHTunnel(map, prev.x, center.x, prev.y);\n      this.createVTunnel(map, prev.y, center.y, center.x);\n\n      // Create boss\n      const bossLevel = this.level * 3 + 2;\n      const dice = rng.nextRange(0, 4);\n      let boss = undefined;\n      if (dice === 0) {\n        boss = new RedDragon(game, center.x, center.y, bossLevel, bossRoom);\n      } else if (dice === 1) {\n        boss = new WindElemental(game, center.x, center.y, bossLevel, bossRoom);\n      } else if (dice === 2) {\n        boss = new Griffon(game, center.x, center.y, bossLevel);\n      } else {\n        boss = new StoneGolem(game, center.x, center.y, bossLevel);\n      }\n\n      boss.inventory.add(new Key(game, boss.x, boss.y, keyId));\n\n      const itemLevel = Math.round(bossLevel / 2);\n      const itemQuality = rng.nextRange(0, 3) === 0 ? ItemQuality.EPIC : ItemQuality.RARE;\n      boss.inventory.add(new EquipmentBuilder(game).withRandomDrop(itemLevel, itemQuality).build());\n      game.entities.add(boss);\n\n      // Create a door to boss room\n      if (center.y > prev.y) {\n        map.setTile(center.x, bossRoom.y1, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(center.x, bossRoom.y1, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y1, boss));\n      } else {\n        map.setTile(center.x, bossRoom.y2, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(center.x, bossRoom.y2, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y2, boss));\n      }\n\n      // Create stairs room\n      this.createRoom(map, stairsRoom);\n\n      // Create stairs\n      const stairsLoc = stairsRoom.getCenter();\n      this.createHTunnel(map, center.x, stairsLoc.x, stairsLoc.y);\n      map.setTile(stairsLoc.x, stairsLoc.y, 0, Tiles.STAIRS_DOWN);\n      this.exit = new Portal(game, stairsLoc.x, stairsLoc.y, 'stairs', STAIRS_SPRITE);\n      game.entities.add(this.exit);\n\n      // Create door to stairs room\n      if (center.x > stairsLoc.x) {\n        map.setTile(bossRoom.x1, center.y, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(bossRoom.x1, center.y, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x1, center.y, keyId));\n      } else {\n        map.setTile(bossRoom.x2, center.y, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(bossRoom.x2, center.y, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x2, center.y, keyId));\n      }\n    }\n\n    // Place obstacles after all rooms have been connected\n    for (let i = 0; i < this.rooms.length; i++) {\n      this.placeObstacles(this.rooms[i]);\n    }\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n  private createRoom(map: TileMap, room: Rect) {\n    for (let y = room.y1 + 1; y < room.y2; y++) {\n      for (let x = room.x1 + 1; x < room.x2; x++) {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n  }\n\n  private createHTunnel(map: TileMap, x1: number, x2: number, y: number) {\n    for (let x = Math.min(x1, x2); x <= Math.max(x1, x2); x++) {\n      const existing = map.getTile(x, y, 0);\n      if (existing === Tiles.STAIRS_UP || existing === Tiles.STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === Tiles.WATER) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n      } else {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n      }\n      map.setAnimated(x, y, 0, false);\n      map.setBlocked(x, y, false);\n    }\n  }\n\n  private createVTunnel(map: TileMap, y1: number, y2: number, x: number) {\n    for (let y = Math.min(y1, y2); y <= Math.max(y1, y2); y++) {\n      const existing = map.getTile(x, y, 0);\n      if (existing === Tiles.STAIRS_UP || existing === Tiles.STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === Tiles.WATER) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n      } else {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n      }\n      map.setAnimated(x, y, 0, false);\n      map.setBlocked(x, y, false);\n    }\n  }\n\n  private placeMonsters(room: Rect, dungeonLevel: number) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n\n    // Choose random number of monsters\n    const numMonsters = rng.nextRange(0, MAX_ROOM_MONSTERS);\n\n    for (let i = 0; i < numMonsters; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = dungeonLevel * 2 + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.add(monster);\n    }\n  }\n\n  private placeItems(room: Rect) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n\n    // Choose random number of items\n    const numItems = rng.nextRange(0, MAX_ROOM_ITEMS);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n      let item = null;\n\n      if (dice < 50) {\n        // Create a healing potion (50% chance)\n        item = new HealthPotion(game);\n\n      } else if (dice < 50 + 20) {\n        // Create a lightning bolt scroll (20% chance)\n        item = new Scroll(game, x, y, new LightningAbility());\n\n      } else if (dice < 50 + 20 + 15) {\n        // Create a fireball scroll (15% chance)\n        item = new Scroll(game, x, y, new FireballAbility());\n\n      } else {\n        // Create a confuse scroll (15% chance)\n        item = new Scroll(game, x, y, new ConfuseAbility());\n      }\n\n      item.x = x;\n      item.y = y;\n      game.entities.add(item);\n    }\n  }\n\n  private placeObstacles(room: Rect) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n    const map = game.tileMap as TileMap;\n\n    // Choose random number of obstacles\n    const numItems = rng.nextRange(0, MAX_ROOM_OBSTACLES + 1);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 2, room.x2 - 3);\n      const y = rng.nextRange(room.y1 + 2, room.y2 - 3);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n\n      if (dice < 80) {\n        // Create a barrel\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setTile(x, y, 1, Tiles.BARREL);\n      } else {\n        // Create a statue\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setTile(x, y, 1, Tiles.STATUE);\n      }\n      map.setBlocked(x, y, true, false);\n    }\n  }\n}\n","import {AI, Sprite, Rect, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { FlameCrawler } from './flamecrawler';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(576, 312, 16, 24, 2, true, undefined, 0xd51111ff);\n\n@Serializable('RedDragonAI')\nclass RedDragonAI extends AI {\n  doAi() {\n    const dragon = this.actor as RedDragon;\n    if (dragon.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = dragon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (dragon.sentiment === Sentiment.HOSTILE && dragon.cooldown === 0) {\n      for (let y = dragon.y - 1; y <= dragon.y + 1; y++) {\n        for (let x = dragon.x - 1; x <= dragon.x + 1; x++) {\n          this.createCrawler(x, y, x - dragon.x, y - dragon.y);\n        }\n      }\n\n      dragon.cooldown = 5;\n      return;\n    }\n\n    if (dragon.cooldown > 0) {\n      dragon.cooldown--;\n    }\n\n    // Otherwise, normal AI\n    const dist = dragon.distanceTo(player);\n    if (dist < 2) {\n      dragon.attack(player, dragon.getDamage());\n    } else {\n      dragon.moveToward(player.x, player.y);\n    }\n  }\n\n  private createCrawler(x: number, y: number, dx: number, dy: number) {\n    const dragon = this.actor as RedDragon;\n    const game = dragon.game as Game;\n    if (game.isBlocked(x, y)) {\n      // Ignore blocked\n      return;\n    }\n\n    const player = game.player as Player;\n    if (player && player.x === x && player.y === y) {\n      // Ignore player's current location\n      return;\n    }\n    game.entities.add(new FlameCrawler(game, x, y, dx, dy, dragon.level));\n  }\n}\n\n@Serializable('RedDragon')\nexport class RedDragon extends Monster {\n  readonly room: Rect;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Dragon', SPRITE, level);\n    this.room = room;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new RedDragonAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(256, 312, 16, 24, 2, true, undefined, 0xd51111ff);\n\n@Serializable('FlameCrawlerAI')\nclass FlameCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: FlameCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as FlameCrawler;\n    const game = monster.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, Math.round(monster.getDamage()));\n      player.move(monster.dx, monster.dy);\n    } else if (game.tileMap.isBlocked(nextX, nextY)) {\n      monster.game.entities.remove(monster);\n    } else {\n      monster.move(monster.dx, monster.dy);\n    }\n  }\n}\n\n@Serializable('FlameCrawler')\nexport class FlameCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number, level: number) {\n    super(game, x, y, 'Flame Crawler', SPRITE, level);\n    this.ai = new FlameCrawlerAI(this);\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import {AI, Sprite, Rect, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { Sentiment } from './statsactor';\nimport { WindCrawler } from './windcrawler';\n\nconst SPRITE = new Sprite(288, 312, 16, 24, 2, true, undefined, 0xaad4e2ff);\n\n@Serializable('WindElementalAI')\nclass WindElementalAI extends AI {\n  doAi() {\n    const elemental = this.actor as WindElemental;\n    if (elemental.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = elemental.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (elemental.cooldown === 0) {\n      const room = elemental.room;\n      const rng = game.rng;\n\n      // Top and bottom edges\n      for (let x = room.x1 + 1; x < room.x2 - 1; x++) {\n        if (rng.nextRange(0, 2) === 0) {\n          this.createCrawler(x, room.y1 + 1, 0, 1);\n        } else {\n          this.createCrawler(x, room.y2 - 1, 0, -1);\n        }\n      }\n\n      // Left and right edges\n      for (let y = room.y1 + 1; y < room.y2 - 1; y++) {\n        if (rng.nextRange(0, 2) === 0) {\n          this.createCrawler(room.x1 + 1, y, 1, 0);\n        } else {\n          this.createCrawler(room.x2 - 1, y, -1, 0);\n        }\n      }\n\n      elemental.cooldown = 10;\n      return;\n    }\n\n    if (elemental.cooldown > 0) {\n      elemental.cooldown--;\n    }\n\n    const dist = elemental.distanceTo(player);\n    if (dist <= 2) {\n      elemental.attack(player, elemental.getDamage());\n    }\n  }\n\n  private createCrawler(x: number, y: number, dx: number, dy: number) {\n    const elemental = this.actor as WindElemental;\n    const game = elemental.game as Game;\n    const player = game.player as Player;\n    if (player && player.x === x && player.y === y) {\n      // Ignore player's current location\n      return;\n    }\n    game.entities.add(new WindCrawler(game, x, y, dx, dy, elemental.level));\n  }\n}\n\n@Serializable('WindElemental')\nexport class WindElemental extends Monster {\n  readonly room: Rect;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Wind', SPRITE, level);\n    this.room = room;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new WindElementalAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import { AI, Sprite, Serializable } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(576, 216, 16, 24, 2, true, undefined, 0xaad4e2ff);\n\n@Serializable('WindCrawlerAI')\nclass WindCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: WindCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as WindCrawler;\n    const game = monster.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, Math.round(monster.getDamage() / 2));\n      player.move(monster.dx, monster.dy);\n    } else if (game.tileMap.isBlocked(nextX, nextY)) {\n      monster.game.entities.remove(monster);\n    } else {\n      monster.move(monster.dx, monster.dy);\n    }\n  }\n}\n\n@Serializable('WindCrawler')\nexport class WindCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number, level: number) {\n    super(game, x, y, 'Wind Crawler', SPRITE, level);\n    this.ai = new WindCrawlerAI(this);\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import { AI, Sprite, Serializable, Vec2 } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\nimport { Stunned } from '../ai/stunned';\n\nconst SPRITE = new Sprite(448, 144, 16, 24, 2, true, undefined, 0xf2f261ff);\n\n@Serializable('GriffonAI')\nclass GriffonAI extends AI {\n  countdown: number = 0;\n  cooldown: number = 10;\n  target: Vec2 = new Vec2(0, 0);\n\n  doAi() {\n    const griffon = this.actor as Griffon;\n    if (griffon.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = griffon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    this.cooldown--;\n    if (this.cooldown === 0) {\n      this.cooldown = 10;\n      this.countdown = 5;\n      this.target.x = player.x;\n      this.target.y = player.y;\n      game.log('Griffon looks at the hero and growls.');\n      return;\n    }\n\n    this.countdown--;\n    if (this.countdown > 0) {\n      game.log('Griffon prepares to pounce...');\n      return;\n    }\n\n    if (this.countdown === 0) {\n      game.log('Griffon leaps!');\n\n      if (player.x === this.target.x && player.y === this.target.y) {\n        // Player didn't move\n        griffon.attack(player, 4 * griffon.getDamage());\n\n        const dest = game.findFreeTile(this.target.x, this.target.y, 2);\n        if (dest) {\n          griffon.moveTo(dest.x, dest.y);\n        }\n\n      } else {\n        // Player moved out of the way, so griffon leaps to the target\n        griffon.moveTo(this.target.x, this.target.y);\n\n        if (player.distanceTo(this.target) < 2) {\n          // Player didn't move far enough, so stunned\n          player.ai = new Stunned(player, 2);\n        }\n      }\n\n      return;\n    }\n\n    // Otherwise, normal AI\n    const dist = griffon.distanceTo(player);\n    if (dist < 2) {\n      griffon.attack(player, griffon.getDamage());\n    } else {\n      griffon.moveToward(player.x, player.y);\n    }\n  }\n}\n\n@Serializable('Griffon')\nexport class Griffon extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Griffon', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new GriffonAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import { Game, Item, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(688, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\n@Serializable('Key')\nexport class Key extends Item {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y, 'key', SPRITE, false);\n    this.keyId = keyId;\n  }\n\n  onBump(player: Player) {\n    player.keys[this.keyId] = true;\n    player.moveTo(this.x, this.y);\n    this.game.entities.remove(this);\n    return true;\n  }\n}\n","import { Game, Serializable } from 'wglt';\nimport { Monster } from '../entities/monster';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\n@Serializable('BossDoor')\nexport class BossDoor extends Door {\n  readonly boss: Monster;\n\n  constructor(game: Game, x: number, y: number, boss: Monster) {\n    super(game, x, y);\n    this.boss = boss;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (this.boss.hp <= 0) {\n      // Boss is dead\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    const dotProduct =\n      (this.x - player.x) * (this.boss.x - player.x) +\n      (this.y - player.y) * (this.boss.y - player.y);\n\n    if (dotProduct > 0) {\n      // Walking toward the boss\n      const dx = this.x - player.x;\n      const dy = this.y - player.y;\n      player.move(dx * 2, dy * 2);\n      player.game.log('The door slams shut behind you.');\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import { Game, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\n@Serializable('LockedDoor')\nexport class LockedDoor extends Door {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y);\n    this.keyId = keyId;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (player.keys[this.keyId]) {\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import {Ability, Actor, ConfusedMonster, Message, Sprite, TargetType, Serializable} from 'wglt';\nimport { Colors } from '../colors';\n\nconst CONFUSE_RANGE = 8;\nconst CONFUSE_SPRITE = new Sprite(128, 32, 16, 24, 3, false);\nconst TOOLTIP_MESSAGES = [\n  new Message('Confuse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Befuddles an enemy into a random', Colors.YELLOW),\n  new Message('stupor for 10 turns.', Colors.YELLOW),\n];\n\n@Serializable('ConfuseAbility')\nexport class ConfuseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = CONFUSE_SPRITE;\n    this.name = 'confuse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = CONFUSE_RANGE;\n    this.cooldown = 1;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > CONFUSE_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.ai = new ConfusedMonster(target);\n    game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    caster.ap--;\n    return true;\n  }\n}","import { AI, Sprite, Serializable, Vec2 } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(480, 264, 16, 24, 2, true, undefined, 0xd4d4d4ff);\n\n@Serializable('StoneGolemAI')\nclass StoneGolemAI extends AI {\n  countdown: number = 0;\n  cooldown: number = 10;\n  charging: number = 0;\n  target: Vec2 = new Vec2(0, 0);\n\n  doAi() {\n    const golem = this.actor as StoneGolem;\n    if (golem.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = golem.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    this.cooldown--;\n    if (this.cooldown === 0) {\n      this.cooldown = 15;\n      this.countdown = 3;\n      this.target.x = player.x;\n      this.target.y = player.y;\n      game.log('Golem looks at the hero and growls.');\n      return;\n    }\n\n    this.countdown--;\n    if (this.countdown > 0) {\n      game.log('Golem prepares to charge...');\n      return;\n    }\n\n    if (this.countdown === 0) {\n      game.log('Golem charges!');\n      this.charging = 6;\n    }\n\n    this.charging--;\n    if (this.charging > 0) {\n      // Charging\n      const playerDist = golem.distanceTo(player);\n      const targetDist = golem.distanceTo(this.target);\n      if (playerDist < 2) {\n        golem.attack(player, golem.getDamage());\n      } else if (targetDist >= 2) {\n        const dx = Math.round((this.target.x - golem.x) / targetDist * 2.0);\n        const dy = Math.round((this.target.y - golem.y) / targetDist * 2.0);\n        golem.move(dx, dy);\n      } else {\n        golem.moveToward(this.target.x, this.target.y);\n      }\n      return;\n    }\n\n    // Otherwise, normal AI\n    const dist = golem.distanceTo(player);\n    if (dist < 2) {\n      golem.attack(player, golem.getDamage());\n    } else {\n      golem.moveToward(player.x, player.y);\n    }\n  }\n}\n\n@Serializable('StoneGolem')\nexport class StoneGolem extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Golem', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new StoneGolemAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import {ButtonSlot, Dialog, Rect, Button, Keys, Sprite, Message} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport { Colors } from '../colors';\n\nconst MARGIN = 5;\nconst BUTTON_SPACING = 2;\n\nconst CONSTITUTION_SPRITE = new Sprite(688, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst DEXTERITY_SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst INTELLIGENCE_SPRITE = new Sprite(688, 168, 16, 24, 1, false, undefined, 0xC04020FF);\nconst STRENGTH_SPRITE = new Sprite(608, 312, 16, 24, 1, false, undefined, 0xC04020FF);\n\nconst DESCRIPTIONS = [\n  [\n    new Message('Constitution', Colors.YELLOW),\n    new Message('Health, staminal,', Colors.WHITE),\n    new Message('and vital force', Colors.WHITE)\n  ],\n  [\n    new Message('Dexterity', Colors.YELLOW),\n    new Message('Physical agility, reflexes,', Colors.WHITE),\n    new Message('balance, and poise', Colors.WHITE)\n  ],\n  [\n    new Message('Intelligence', Colors.YELLOW),\n    new Message('Mental acuity, recall,', Colors.WHITE),\n    new Message('and analytical skill', Colors.WHITE)\n  ],\n  [\n    new Message('Strength', Colors.YELLOW),\n    new Message('Natural athleticism,', Colors.WHITE),\n    new Message('and bodily power', Colors.WHITE)\n  ],\n];\n\nexport class LevelUpDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const constitutionSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_1);\n    const constitutionBtn = new Button(new Rect(0, 0, 16, 24), CONSTITUTION_SPRITE, undefined, () => this.incConstitution());\n    constitutionSlot.add(constitutionBtn);\n    this.add(constitutionSlot);\n\n    const dexteritySlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_2);\n    const dexterityBtn = new Button(new Rect(0, 0, 16, 24), DEXTERITY_SPRITE, undefined, () => this.incDexterity());\n    dexteritySlot.add(dexterityBtn);\n    this.add(dexteritySlot);\n\n    const intelligenceSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_3);\n    const intelligenceBtn = new Button(new Rect(0, 0, 16, 24), INTELLIGENCE_SPRITE, undefined, () => this.incIntelligence());\n    intelligenceSlot.add(intelligenceBtn);\n    this.add(intelligenceSlot);\n\n    const strengthSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_4);\n    const strengthBtn = new Button(new Rect(0, 0, 16, 24), STRENGTH_SPRITE, undefined, () => this.incStrength());\n    strengthSlot.add(strengthBtn);\n    this.add(strengthSlot);\n  }\n\n  private incConstitution() {\n    this.increaseStat(1, 0, 0, 0);\n  }\n\n  private incDexterity() {\n    this.increaseStat(0, 1, 0, 0);\n  }\n\n  private incIntelligence() {\n    this.increaseStat(0, 0, 1, 0);\n  }\n\n  private incStrength() {\n    this.increaseStat(0, 0, 0, 1);\n  }\n\n  private increaseStat(con: number, dex: number, int: number, str: number) {\n    this.player.constitution += con;\n    this.player.dexterity += dex;\n    this.player.intelligence += int;\n    this.player.strength += str;\n    this.player.remainingAbilityPoints--;\n    if (this.player.remainingAbilityPoints === 0) {\n      this.visible = false;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawString('Leveled up!', x, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Choose ' + this.player.remainingAbilityPoints + ' stats to increase:', x, y, Colors.WHITE);\n    y += 10;\n\n    for (let i = 0; i < 4; i++) {\n      const desc = DESCRIPTIONS[i];\n      for (let j = 0; j < desc.length; j++) {\n        this.gui.app.drawString(desc[j].text, x + 25, y + 1 + j * 8, desc[j].color);\n      }\n\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y;\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Panel, Rect } from \"wglt\";\nimport { Game } from \"../game\";\nimport { StatsActor, Sentiment } from \"../entities/statsactor\";\nimport { Player } from \"../entities/player\";\nimport { Colors } from \"../colors\";\n\nexport class EntityFrames extends Panel {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    super(new Rect(0, 40, 40, 200));\n    this.game = game;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const player = this.game.player as Player;\n    const entities = this.game.entities;\n    const x = 2;\n    let y = 40;\n\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities.get(i);\n      if (entity === this.game.player || !(entity instanceof StatsActor)) {\n        continue;\n      }\n      const actor = entity as StatsActor;\n      if (!actor.showFrame || actor.visibleDuration < 0) {\n        continue;\n      }\n\n      // Draw the frame\n      app.drawImage(x, y, 64, 48, 54, 18);\n\n      // Draw the name\n      let nameColor = Colors.YELLOW;\n      if (actor.sentiment === Sentiment.FRIENDLY) {\n        nameColor = Colors.LIGHT_GREEN;\n      } else if (actor.sentiment === Sentiment.HOSTILE) {\n        nameColor = Colors.RED;\n      }\n      app.drawCenteredString(actor.name, x + 20, y + 1, nameColor);\n\n      // Draw the health\n      const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n      app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n      app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n      // Draw the level\n      let levelColor = Colors.YELLOW;\n      if (actor.level > player.level + 3) {\n        levelColor = Colors.RED;\n      } else if (actor.level > player.level + 1) {\n        levelColor = Colors.ORANGE;\n      } else if (actor.level < player.level - 3) {\n        levelColor = Colors.LIGHT_GREEN;\n      } else if (actor.level < player.level - 1) {\n        levelColor = 0xbbee44FF; // Yellow-green\n      }\n      app.drawCenteredString(actor.level.toString(), x + 47, y + 5, levelColor);\n\n      y += 24;\n    }\n  }\n}\n","import {AppState, fromHsv, Keys, Sprite} from 'wglt';\nimport { App } from './app';\nimport { Colors } from './colors';\n\nconst OPTIONS = [\n  {display: 'NEW GAME', hash: 'chooseseed', enabled: true},\n  {display: 'CONTINUE', hash: 'game', enabled: false},\n  {display: 'TUTORIAL', hash: 'tutorial', enabled: true},\n  {display: 'HIGH SCORES', hash: 'highscores', enabled: true},\n  {display: 'CREDITS', hash: 'credits', enabled: true},\n];\n\nexport class MainMenu extends AppState {\n  private time: number;\n  private sprites: Sprite[];\n  private selectedIndex = 0;\n\n  constructor(app: App) {\n    super(app);\n    this.time = 0;\n    this.sprites = [];\n    this.chooseSprites();\n  }\n\n  private chooseSprites() {\n    this.sprites = [];\n\n    for (let i = 0; i < 4; i++) {\n      const x = 32 * Math.floor(Math.random() * 19);\n      const y = 96 + 24 * Math.floor(Math.random() * 13);\n      const color = fromHsv(Math.random(), 0.9, 0.5);\n      this.sprites.push(new Sprite(x, y, 16, 24, 2, true, undefined, color));\n    }\n  }\n\n  update() {\n    Sprite.updateGlobalAnimations();\n\n    // \"Continue\" is only enabled if there is an active game\n    const app = this.app as App;\n    OPTIONS[1].enabled = !!app.game;\n\n    const time2 = this.time % 300;\n    if (time2 < 80 && time2 % 8 === 0) {\n      this.chooseSprites();\n    }\n\n    // Draw the gradient background image\n    this.app.drawImage(this.app.center.x - 128, 0, 0, 800, 256, 128);\n\n    // Draw the title text\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x + 1, 33, Colors.BLACK);\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x, 32);\n\n    // Draw the sprites\n    for (let i = 0; i < 4; i++) {\n      const x = this.app.center.x - 56 + i * 32;\n      const y = 52;\n      this.sprites[i].draw(this.app, x, y);\n    }\n\n    // Draw the menu options\n    const mouse = this.app.mouse;\n    for (let i = 0; i < OPTIONS.length; i++) {\n      const option = OPTIONS[i];\n      const x = this.app.center.x;\n      const y = 90 + 15 * i;\n      let color = Colors.WHITE;\n      if (!option.enabled) {\n        color = Colors.GRAY;\n      } else if (i === this.selectedIndex) {\n        color = Colors.YELLOW;\n      }\n      this.app.drawCenteredString(option.display, x + 1, y + 1, Colors.BLACK);\n      this.app.drawCenteredString(option.display, x, y, color);\n\n      if (mouse.y >= y && mouse.y < y + 14 && mouse.isClicked()) {\n        window.location.hash = option.hash;\n      }\n\n      if (i === this.selectedIndex && this.app.isKeyPressed(Keys.VK_ENTER)) {\n        window.location.hash = option.hash;\n      }\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_UP)) {\n      this.selectedIndex--;\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_DOWN)) {\n      this.selectedIndex++;\n    }\n\n    if (this.selectedIndex < 0) {\n      this.selectedIndex += OPTIONS.length;\n    }\n\n    if (this.selectedIndex >= OPTIONS.length) {\n      this.selectedIndex -= OPTIONS.length;\n    }\n\n    this.time++;\n  }\n}\n","import {AppState, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport {Dwarf} from './races/dwarf';\nimport {Elf} from './races/elf';\nimport {Human} from './races/human';\nimport {Orc} from './races/orc';\nimport {Undead} from './races/undead';\nimport { Colors } from './colors';\n\nconst RACES = [new Human(), new Dwarf(), new Elf(), new Orc(), new Undead()];\n\nexport class RaceMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your race', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), RACES);\n    selectDialog.renderer = new MenuItemRenderer(60, 40);\n\n    selectDialog.onSelect = (choice: CharacterRace) => {\n      (this.app as App).playerRace = choice;\n      window.location.hash = 'chooseclass';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\nimport { Colors } from '../colors';\n\nconst NAME = 'Dwarf';\nconst ICON = new Sprite(510, 730, 34, 34, undefined, undefined, undefined, 0x4080C0FF);\nconst DESC = 'Bold and hardy, skilled warriors';\nconst DETAILS = [\n  new Message('+4 Constitution, +2 Strength', Colors.LIGHT_GREEN),\n  new Message('Critical strike bonus', Colors.YELLOW),\n  new Message('Stoneform - Removes all curses', Colors.YELLOW)\n];\n\n@Serializable('Dwarf')\nexport class Dwarf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 4;\n    player.strength += 2;\n  }\n}\n","import {Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\nimport { Colors } from '../colors';\n\nconst NAME = 'Elf';\nconst ICON = new Sprite(238, 730, 34, 34, undefined, undefined, undefined, 0xFF8080FF);\nconst DESC = 'Magical people of otherworldly grace';\nconst DETAILS = [\n  new Message('+3 Dexterity, +3 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Shadowmeld - slip into the shadows', Colors.YELLOW)\n];\n\n@Serializable('Elf')\nexport class Elf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 3;\n    player.intelligence += 3;\n  }\n}\n","import {Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\nimport { Colors } from '../colors';\n\nconst NAME = 'Orc';\nconst ICON = new Sprite(442, 730, 34, 34, undefined, undefined, undefined, 0x20B020FF);\nconst DESC = 'Noble savages of shamanistic roots';\nconst DETAILS = [\n  new Message('+2 Constitution, +4 Strength', Colors.LIGHT_GREEN),\n  new Message('War Shout - Boost all stats by +1 for 5 turns', Colors.YELLOW)\n];\n\n@Serializable('Orc')\nexport class Orc extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 2;\n    player.strength += 4;\n  }\n}\n","import {Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\nimport { Colors } from '../colors';\n\nconst NAME = 'Undead';\nconst ICON = new Sprite(578, 730, 34, 34, undefined, undefined, undefined, 0xD040D0FF);\nconst DESC = 'Cursed to wander for eternity';\nconst DETAILS = [\n  new Message('+2 Dexterity, +4 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Cannibalize - 10% of damage returns as health', Colors.YELLOW)\n];\n\n@Serializable('Undead')\nexport class Undead extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 2;\n    player.intelligence += 4;\n  }\n}\n","import { Item, Message, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\nimport { Colors } from '../colors';\n\nconst SPRITE = new Sprite(848, 168, 16, 24, 1, true, undefined, 0x80C0C0FF);\n\nconst TOOLTIPS = [\n  new Message('Hearthstone', Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Use: Returns you to your home.', Colors.LIGHT_GREEN),\n  new Message('Speak to an Innkeeper in a different', Colors.LIGHT_GREEN),\n  new Message('place to change your home location.', Colors.LIGHT_GREEN),\n];\n\n@Serializable('Hearthstone')\nexport class Hearthstone extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'Hearthstone', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onUse(player: Player) {\n    const game = player.game as Game;\n    game.hideAllDialogs();\n    game.warpToPoint(player.home);\n    return true;\n  }\n}\n","import {AppState, ComplexSelectDialog, Message, MessagePanel, Rect, SelectOption} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport { Colors } from './colors';\n\n\nclass Seed implements SelectOption {\n  number: number;\n  name: string;\n  description: string;\n\n  constructor(number: number, name: string, description?: string) {\n    this.number = number;\n    this.name = name;\n    this.description = description || '';\n  }\n}\n\nexport class SeedMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    const seeds = [\n      new Seed(1, 'One'),\n      new Seed(2, 'Two'),\n      new Seed(3, 'Three'),\n      new Seed(4, 'Four'),\n      new Seed(5, 'Five'),\n      new Seed(Math.round(Math.random() * 1000.0), 'Random'),\n    ];\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your seed', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), seeds);\n    selectDialog.renderer = new MenuItemRenderer(15, 15);\n\n    selectDialog.onSelect = (choice: Seed) => {\n      console.log('set seed', choice.number);\n      (this.app as App).seed = choice.number;\n      window.location.hash = 'chooserace';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n"],"sourceRoot":""}