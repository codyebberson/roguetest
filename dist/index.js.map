{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/wglt/dist/index.js","webpack:///./src/entities/monster.ts","webpack:///./src/items/itemquality.ts","webpack:///./src/equipment/equipmentslot.ts","webpack:///./src/entities/statsactor.ts","webpack:///./src/equipment/equipmentbuilder.ts","webpack:///./src/equipment/equipmentmaterial.ts","webpack:///./src/equipment/equipmentsprites.ts","webpack:///./src/classes/characterclass.ts","webpack:///./src/items/healthpotion.ts","webpack:///./src/items/baseitem.ts","webpack:///./src/races/characterrace.ts","webpack:///./src/abilities/leap.ts","webpack:///./src/abilities/lightning.ts","webpack:///./src/items/gold.ts","webpack:///./src/mapgen/tiles.ts","webpack:///./src/buffs/buff.ts","webpack:///./src/gui/menuitemrenderer.ts","webpack:///./src/items/portal.ts","webpack:///./src/classes/paladin.ts","webpack:///./src/abilities/flashheal.ts","webpack:///./src/ai/stunned.ts","webpack:///./src/abilities/fireball.ts","webpack:///./src/races/human.ts","webpack:///./src/entities/spider.ts","webpack:///./src/entities/bat.ts","webpack:///./src/entities/troll.ts","webpack:///./src/items/door.ts","webpack:///./src/items/scroll.ts","webpack:///./src/index.ts","webpack:///./src/app.ts","webpack:///./src/classmenu.ts","webpack:///./src/equipment/equipment.ts","webpack:///./src/classes/priest.ts","webpack:///./src/animations/explosionanimation.ts","webpack:///./src/abilities/bubble.ts","webpack:///./src/buffs/bubble.ts","webpack:///./src/classes/ranger.ts","webpack:///./src/abilities/shoot.ts","webpack:///./src/classes/rogue.ts","webpack:///./src/abilities/shadowstrike.ts","webpack:///./src/classes/warlock.ts","webpack:///./src/abilities/curse.ts","webpack:///./src/buffs/curse.ts","webpack:///./src/abilities/demonicgateway.ts","webpack:///./src/items/gateway.ts","webpack:///./src/classes/warrior.ts","webpack:///./src/abilities/rage.ts","webpack:///./src/buffs/rage.ts","webpack:///./src/game.ts","webpack:///./src/entities/player.ts","webpack:///./src/gui/bottompanel.ts","webpack:///./src/gui/characterdialog.ts","webpack:///./src/gui/toppanel.ts","webpack:///./src/mapgen/mapgen.ts","webpack:///./src/entities/shark.ts","webpack:///./src/mapgen/overworld.ts","webpack:///./src/entities/ghost.ts","webpack:///./src/entities/snake.ts","webpack:///./src/entities/king.ts","webpack:///./src/gui/questdialog.ts","webpack:///./src/quests/quest.ts","webpack:///./src/mapgen/castle.ts","webpack:///./src/entities/guard.ts","webpack:///./src/entities/vendor.ts","webpack:///./src/gui/vendordialog.ts","webpack:///./src/gui/vendorbutton.ts","webpack:///./src/mapgen/dungeon.ts","webpack:///./src/mapgen/dungeonlayer.ts","webpack:///./src/entities/reddragon.ts","webpack:///./src/entities/flamecrawler.ts","webpack:///./src/entities/windelemental.ts","webpack:///./src/entities/windcrawler.ts","webpack:///./src/entities/griffon.ts","webpack:///./src/items/key.ts","webpack:///./src/items/bossdoor.ts","webpack:///./src/items/lockeddoor.ts","webpack:///./src/abilities/confuse.ts","webpack:///./src/entities/stonegolem.ts","webpack:///./src/gui/levelupdialog.ts","webpack:///./src/gui/entityframes.ts","webpack:///./src/mainmenu.ts","webpack:///./src/racemenu.ts","webpack:///./src/races/dwarf.ts","webpack:///./src/races/elf.ts","webpack:///./src/races/orc.ts","webpack:///./src/races/undead.ts","webpack:///./src/items/hearthstone.ts","webpack:///./src/seedmenu.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","e","default","Serializable","createSerializeMetadata","className","valueType","Vec2","[object Object]","super","this","width","height","x1","x","y1","y","x2","y2","left","top","Rect","__decorate","arguments","length","getOwnPropertyDescriptor","Reflect","decorate","h","gui","rect","children","ArrayList","modal","visible","setGui","parent","add","remove","isDragging","getPanelAt","contains","drawChildren","drawContents","handleChildrenInput","handleInput","dragElement","Panel","VK_CANCEL","VK_HELP","VK_BACK_SPACE","VK_TAB","VK_CLEAR","VK_ENTER","VK_SHIFT","VK_CONTROL","VK_ALT","VK_PAUSE","VK_CAPS_LOCK","VK_ESCAPE","VK_SPACE","VK_PAGE_UP","VK_PAGE_DOWN","VK_END","VK_HOME","VK_LEFT","VK_UP","VK_RIGHT","VK_DOWN","VK_PRINTSCREEN","VK_INSERT","VK_DELETE","VK_0","VK_1","VK_2","VK_3","VK_4","VK_5","VK_6","VK_7","VK_8","VK_9","VK_COLON","VK_SEMICOLON","VK_LESS_THAN","VK_EQUALS","VK_GREATER_THAN","VK_QUESTION_MARK","VK_AT","VK_A","VK_B","VK_C","VK_D","VK_E","VK_F","VK_G","VK_H","VK_I","VK_J","VK_K","VK_L","VK_M","VK_N","VK_O","VK_P","VK_Q","VK_R","VK_S","VK_T","VK_U","VK_V","VK_W","VK_X","VK_Y","VK_Z","VK_CONTEXT_MENU","VK_NUMPAD0","VK_NUMPAD1","VK_NUMPAD2","VK_NUMPAD3","VK_NUMPAD4","VK_NUMPAD5","VK_NUMPAD6","VK_NUMPAD7","VK_NUMPAD8","VK_NUMPAD9","VK_MULTIPLY","VK_ADD","VK_SEPARATOR","VK_SUBTRACT","VK_DECIMAL","VK_DIVIDE","VK_F1","VK_F2","VK_F3","VK_F4","VK_F5","VK_F6","VK_F7","VK_F8","VK_F9","VK_F10","VK_F11","VK_F12","VK_F13","VK_F14","VK_F15","VK_F16","VK_F17","VK_F18","VK_F19","VK_F20","VK_F21","VK_F22","VK_F23","VK_F24","VK_NUM_LOCK","VK_SCROLL_LOCK","VK_CIRCUMFLEX","VK_EXCLAMATION","VK_DOUBLE_QUOTE","VK_HASH","VK_DOLLAR","VK_PERCENT","VK_AMPERSAND","VK_UNDERSCORE","VK_OPEN_PAREN","VK_CLOSE_PAREN","VK_ASTERISK","VK_PLUS","VK_PIPE","VK_HYPHEN_MINUS","VK_OPEN_CURLY_BRACKET","VK_CLOSE_CURLY_BRACKET","VK_TILDE","VK_COMMA","VK_PERIOD","VK_SLASH","VK_BACK_QUOTE","VK_OPEN_BRACKET","VK_BACK_SLASH","VK_CLOSE_BRACKET","VK_QUOTE","VK_META","VK_ALTGR","VK_WIN","VK_KANA","VK_HANGUL","VK_EISU","VK_JUNJA","VK_FINAL","VK_HANJA","VK_KANJI","VK_CONVERT","VK_NONCONVERT","VK_ACCEPT","VK_MODECHANGE","VK_SELECT","VK_PRINT","VK_EXECUTE","VK_SLEEP","Keys","Animation","promise","AnimationPromise","countdown","blocking","BLACK","fromRgb","WHITE","GRAY","LIGHT_GRAY","DARK_GRAY","YELLOW","BROWN","RED","LIGHT_RED","DARK_RED","GREEN","LIGHT_GREEN","DARK_GREEN","LIGHT_CYAN","DARK_CYAN","BLUE","LIGHT_BLUE","DARK_BLUE","LIGHT_MAGENTA","DARK_MAGENTA","ORANGE","Colors","closeButton","renderer","draw","app","isKeyPressed","mouse","isClicked","Dialog","elements","splice","push","listeners","onAdd","indexOf","onRemove","Button","ability","sprite","talent","shortcut","tooltipMessages","use","cooldown","actor","game","cooldownSprite","Math","round","frames","a","drawImage","drawCenteredString","toString","TalentButton","containerItems","stackItems","player","drawRightString","onUpdateTooltip","updateTooltip","ItemButton","fromHsv","u","shortcutItem","getItem","countItems","isStackable","ItemShortcutButton","shortcutKey","onClick","start","startDragging","click","down","messages","getTileId","TileMap","depth","tileSize","grid","Array","layers","dirty","originX","originY","visibleRect","prevVisibleRect","TileMapCell","TileMapLayer","clear","isOutOfRange","getTile","setTile","blocked","blockedSight","getCell","seen","isAnimated","setAnimated","copy","max","min","computeOctantY","computeOctantX","f","g","floor","button","buttonSlotRect","String","fromCharCode","ButtonSlot","SELF","ENTITY","TILE","TargetType","offset","blocks","zIndex","pixelX","pixelY","centerPixelX","centerPixelY","hypot","viewport","Entity","AI","alwaysActive","Input","downCount","upCount","DialogRenderer","rootPanel","size","dragOffset","updateDragging","onDrop","move","removeAll","GUI","Message","text","color","drawString","TileMapRenderer","gl","tileMap","quadVertBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","tilemapShader","initShaderProgram","positionAttribute","getAttribLocation","textureAttribute","viewportSizeUniform","getUniformLocation","viewOffsetUniform","mapSizeUniform","tileSizeUniform","animFrameUniform","tileSamplerUniform","spriteSamplerUniform","layerTextures","createTexture","imageData","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","useProgram","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform2f","uniform1f","activeTexture","TEXTURE0","uniform1i","TEXTURE1","isVisible","isSeen","setAlpha","texSubImage2D","drawArrays","TRIANGLES","hp","maxHp","ap","maxAp","inventory","talents","visibleDuration","isBlocked","animations","SlideAnimation","abs","onAttack","takeDamage","BumpAnimation","addFloatingText","onDeath","entities","onPickup","onUse","targetType","cast","startTargeting","FloatingTextAnimation","Actor","entity","dx","dy","update","str","getSerializeMetadata","SerializeMetadata","_","v","w","b","App","canvas","Error","getContext","alpha","antialias","font","FONT_04B03","fillWindow","scaleFactor","center","disable","DEPTH_TEST","style","outline","tabIndex","focus","mobile","isMobile","renderSet","RenderSet","imageUrl","keyboard","Keyboard","Mouse","addEventListener","handleResizeEvent","renderLoop","innerWidth","innerHeight","navigator","userAgent","match","resetGl","state","flush","requestAnimationFrame","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionArrayIndex","texcoordArrayIndex","colorArrayIndex","getKey","isKeyArrayPressed","keys","setKey","stopPropagation","preventDefault","keyCode","prev","dragDistance","longPress","wheelDelta","lastWheelDelta","handleEvent","handleTouchEvent","handleMouseWheel","touches","updatePosition","clientX","clientY","type","getBoundingClientRect","deltaY","program","viewportSizeLocation","positionLocation","texcoordLocation","colorLocation","positionBuffer","texcoordBuffer","colorBuffer","spriteTexture","positionArray","texcoordArray","colorUint8Array","Uint8Array","colorDataView","DataView","buffer","getStringWidth","split","getHeight","charCodeAt","isInRange","getOffset","getWidth","loaded","setUint32","DYNAMIC_DRAW","createShader","shaderSource","compileShader","ExtendedTexture","WebGLTexture","VERTEX_SHADER","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","loadShader","Image","onload","generateMipmap","src","AppState","baseRect","closeButtonRect","viewportFocus","focusMargins","turnIndex","cursor","tooltip","TooltipDialog","rng","RNG","pathIndex","horizontalViewDistance","viewDistance","verticalViewDistance","zoom","mapSize","mapLayers","tileMapRenderer","messageLog","Sprite","updateGlobalAnimations","updateZoom","updateAnimations","updateEntities","onUpdate","updateViewport","drawTileMap","drawTargeting","drawEntities","drawAnimations","tooltipElement","isLongPress","vibrate","showAt","getCenter","isDone","resolve","handlePlayerInput","doAi","nextTurn","ceil","globalAnimIndex","isTargeting","targetSprite","targetAbility","targetCallback","getActorAt","cancelTargeting","ai","isKeyDown","isDownLeftKeyPressed","isDownKeyPressed","isDownRightKeyPressed","isLeftKeyPressed","isRightKeyPressed","isUpLeftKeyPressed","isUpKeyPressed","isUpRightKeyPressed","endTargeting","targetTile","path","computePath","stopAutoWalk","tryMoveOrAttack","isWaitKeyPressed","onBump","endTurn","recomputeFov","startTurn","recalculateViewportFocus","computeFov","Game","reverse","mt","mti","setSeed","nextInt","nextFloat","reduce","nextRange","chooseIndex","loop","ticksPerFrame","colorOverride","animIndex","animDelay","clone","ShortcutButtonSlot","handlers","damageFunc","distanceTo","moveToward","attack","BasicMonster","numTurns","oldAi","ConfusedMonster","FadeInAnimation","duration","blackoutRect","FadeOutAnimation","ProjectileAnimation","position","velocity","Font","MonospacedFont","glyphSize","widths","offsets","ProportionalFont","CompoundMessage","getIndex","options","selectedIndex","DefaultSelectOptionRenderer","drawOption","onSelect","onCancel","ComplexSelectDialog","srcRect","ImagePanel","capacity","items","addListener","addItem","removeItem","ItemContainerButtonSlot","getExistingButton","getNextFreeSlot","ItemContainerDialog","maxItems","MessageLog","message","MessagePanel","callback","close","SelectDialog","spacing","containsTalent","getFreeSlot","containsItem","ShortcutBar","TalentsDialog","pickup","Item","Serializer","typeLists","root","serializeObject","refs","constructor","Function","serializeArray","__index","__className","getOwnPropertyNames","rank","Talent","wglt_1","statsactor_1","gold_1","equipmentbuilder_1","healthpotion_1","Monster","StatsActor","level","calculateDamage","sentiment","Sentiment","HOSTILE","strength","armor","buildLoot","attacker","target","getDamage","Gold","HealthPotion","EquipmentBuilder","withRandomDrop","build","ItemQuality","EquipmentSlot","equipmentslot_1","START_BLOOD","END_BLOOD","mp","maxMp","dexterity","constitution","intelligence","recalculateMaxHp","showFrame","NEUTRAL","equipment","buffs","item","strengthModifier","calculateModifier","dexterityModifier","constitutionModifier","intelligenceModifier","abilityScore","count","dest","check","slot","mainHandWeapon","getEquipment","MAINHAND","weapon","baseDamage","modifier","minDamage","maxDamage","finesse","buffDamage","damage","result","modifyDamageDealt","modifyDamageTaken","FRIENDLY","onTalk","log","xpGain","pow","addXp","location","findFreeTile","loot","buff","equipped","oldHp","equipmentmaterial_1","equipment_1","equipmentsprites_1","itemquality_1","DEFAULT_SPRITE","undefined","itemLevel","HEAD","material","EquipmentMaterial","NONE","quality","POOR","ranged","statMultiplier","withSprite","chooseQuality","chooseSlot","chooseFlair","EPIC","RARE","UNCOMMON","COMMON","chooseHead","chooseNeck","chooseBack","chooseChest","chooseHands","chooseLegs","chooseFeet","chooseRing","chooseMainHand","chooseOffHand","CLOTH","chooseValue","chooseArrayValue","CLOTH_HELM_SPRITES","LEATHER","LEATHER_HELM_SPRITES","PLATE","PLATE_HELM_SPRITES","NECK","NECKLACE_SPRITE_1","BACK","CLOAK_SPRITES","CHEST","ROBE_SPRITES","SHIRT_SPRITES","HANDS","GLOVES_SPRITES","LEGS","PANTS_SPRITES","FEET","BOOTS_SPRITES","RING","RING_SPRITES","SWORD_SPRITES","AXE_SPRITE_1","MACE_SPRITES","DAGGER_SPRITE_1","BOW_SPRITE_1","CROSSBOW_SPRITE_1","STAFF_SPRITES","OFFHAND","dice","LANTERN_SPRITE","ORB_SPRITE","BOOK_SPRITE","SHIELD_SPRITES","choosePoorFlair","chooseCommonFlair","chooseUncommonFlair","chooseRareFlair","chooseEpicFlair","LEGENDARY","chooseLegendaryFlair","withColor","values","Equipment","W","H","C","SWORD_SPRITE_1","SWORD_SPRITE_2","SWORD_SPRITE_3","SWORD_SPRITE_4","MACE_SPRITE_1","MACE_SPRITE_2","MACE_SPRITE_3","MACE_SPRITE_4","MACE_SPRITE_5","MACE_SPRITE_6","STAFF_SPRITE_1","STAFF_SPRITE_2","STAFF_SPRITE_3","STAFF_SPRITE_4","STAFF_SPRITE_5","SHIRT_SPRITE_1","SHIRT_SPRITE_2","SHIRT_SPRITE_3","SHIRT_SPRITE_4","SHIRT_SPRITE_5","SHIRT_SPRITE_6","SHIRT_SPRITE_7","SHIRT_SPRITE_8","SHIRT_SPRITE_9","SHIRT_SPRITE_10","SHIRT_SPRITE_11","ROBE_SPRITE_1","ROBE_SPRITE_2","ROBE_SPRITE_3","ROBE_SPRITE_4","ROBE_SPRITE_5","ROBE_SPRITE_6","ROBE_SPRITE_7","ROBE_SPRITE_8","ROBE_SPRITE_9","ROBE_SPRITE_10","HELM_SPRITE_1","HELM_SPRITE_2","HELM_SPRITE_3","HELM_SPRITE_4","HELM_SPRITE_5","HELM_SPRITE_6","HELM_SPRITE_7","HELM_SPRITE_8","HELM_SPRITE_9","HELM_SPRITE_10","HELM_SPRITE_11","HELM_SPRITE_12","HELM_SPRITE_13","HELM_SPRITE_14","HELM_SPRITE_15","HELM_SPRITE_16","HELM_SPRITE_17","HELM_SPRITE_18","HELM_SPRITE_19","HELM_SPRITES","GLOVES_SPRITE_1","GLOVES_SPRITE_2","GLOVES_SPRITE_3","GLOVES_SPRITE_4","GLOVES_SPRITE_5","GLOVES_SPRITE_6","GLOVES_SPRITE_7","GLOVES_SPRITE_8","GLOVES_SPRITE_9","GLOVES_SPRITE_10","PANTS_SPRITE_1","PANTS_SPRITE_2","PANTS_SPRITE_3","PANTS_SPRITE_4","PANTS_SPRITE_5","PANTS_SPRITE_6","PANTS_SPRITE_7","BOOTS_SPRITE_1","SHIELD_SPRITE_1","SHIELD_SPRITE_2","SHIELD_SPRITE_3","SHIELD_SPRITE_4","SHIELD_SPRITE_5","SHIELD_SPRITE_6","SHIELD_SPRITE_7","SHIELD_SPRITE_8","SHIELD_SPRITE_9","SHIELD_SPRITE_10","SHIELD_SPRITE_11","SHIELD_SPRITE_12","SHIELD_SPRITE_13","SHIELD_SPRITE_14","SHIELD_SPRITE_15","SHIELD_SPRITE_16","SHIELD_SPRITE_17","RING_SPRITE_1","RING_SPRITE_2","CLOAK_SPRITE_1","CLOAK_SPRITE_2","CLOAK_SPRITE_3","CLOAK_SPRITE_4","CLOAK_SPRITE_5","CLOAK_SPRITE_6","CLOAK_SPRITE_7","CLOCK_SPRITE","CharacterClass","icon","description","details","baseitem_1","SPRITE","BaseItem","user","takeHeal","COLOR_POOR","COLOR_COMMON","COLOR_UNCOMMON","COLOR_RARE","COLOR_EPIC","COLOR_LEGENDARY","maxStack","sellPrice","getColor","addTooltipDescription","CharacterRace","stunned_1","LEAP_COLOR","LEAP_SPRITE","TOOLTIP_MESSAGES","LeapAbility","minRange","maxRange","caster","xSpeed","ySpeed","addAnimation","then","Stunned","MANA_COST","LightningAbility","monster","getClosestMonster","explosion","range","minDist","dist","distance","TOOLTIPS","Tiles","Buff","MenuItemRenderer","expandedHeight","collapsedHeight","point","option","selected","iconColor","titleColor","descColor","j","msg","Portal","fade","exit","other","warpToPoint","flashheal_1","leap_1","lightning_1","characterclass_1","ICON","DETAILS","Paladin","class","FlashHealAbility","withName","withItemLevel","withQuality","withSlot","withMaterial","withArmor","withDamage","healAmount","turns","explosionanimation_1","FIRE_COLOR","FIREBALL_SPRITE","FireballAbility","ExplosionAnimation","characterrace_1","Human","race","monster_1","Spider","BatAI","bat","Bat","Troll","TILE_OPEN_DOOR","Door","map","setBlocked","Scroll","hideAllDialogs","hash","startGame","playGame","chooseSeed","chooseRace","chooseClass","showHighScores","showCredits","showMainMenu","wglt","classmenu_1","game_1","mainmenu_1","racemenu_1","hearthstone_1","seedmenu_1","document","querySelector","mainMenu","MainMenu","seedMenu","SeedMenu","raceMenu","RaceMenu","classMenu","ClassMenu","highScores","credits","seed","Hearthstone","playerRace","initPlayer","playerClass","paladin_1","priest_1","ranger_1","rogue_1","warlock_1","warrior_1","menuitemrenderer_1","CLASSES","Priest","Ranger","Rogue","Warlock","Warrior","selectDialog","choice","history","back","builder","equipItem","buildComparisonTooltip","buildNormalTooltip","fireball_1","bubble_1","BubbleAbility","radius","sprites","maxRadius","centerX","centerY","angle","cos","sin","animation","Bubble","absorb","buff_1","remaining","shoot_1","ShootAbility","shadowstrike_1","ShadowStrikeAbility","farthestTile","farthestDistance","curse_1","demonicgateway_1","CurseAbility","DemonicGatewayAbility","Curse","gateway_1","gateway1","Gateway","gateway2","owner","rage_1","RageAbility","Rage","player_1","bottompanel_1","characterdialog_1","toppanel_1","mapgen_1","levelupdialog_1","entityframes_1","scroll_1","TARGET_SPRITE","mapGen","MapGenerator","Player","topPanel","TopPanel","bottomPanel","BottomPanel","EntityFrames","inventoryButton","inventoryDialog","inventorySlot","characterButton","characterDialog","characterSlot","talentsButton","talentsDialog","talentsSlot","menuButton","menuSlot","CharacterDialog","levelUpDialog","LevelUpDialog","shortcutBar","addTalent","createMap","resetViewport","x0","y0","maxDistance","r2","getEntityAt","serialize","console","human_1","PLAYER_SPRITE","xp","maxXp","remainingAbilityPoints","home","levelUp","nextMaxXp","oldMaxXp","MARGIN","BUTTON_SPACING","headSlot","neckSlot","backSlot","chestSlot","handsSlot","legsSlot","feetSlot","ringSlot","mainHandSlot","offHandSlot","getSlot","containerRect","buttonRect","desc","child","inspectSlot","bo","healthWidth","shark_1","portal_1","tiles_1","overworld_1","dungeon_1","MAP_WIDTH","MAP_HEIGHT","nextKeyId","overworld","Overworld","dungeon","Dungeon","portalSprite","portal1","portal2","entrance","touchUp","tile","z","EMPTY","bounds","water","WATER","t1","t2","t3","t4","t5","FLOOR","WALL","HALF_WALL","COBWEB_NORTHWEST","COBWEB_NORTHEAST","COBWEB_SOUTHWEST","COBWEB_SOUTHEAST","CLOSED_DOOR","SHADOW","HALF_WALL2","HALF_WALL3","nearBridge","BRIDGE","Shark","SharkAI","shark","ghost_1","spider_1","snake_1","bat_1","troll_1","king_1","castle_1","vendor_1","OVERWORLD_WIDTH","OVERWORLD_HEIGHT","outerOverworld","clearMap","GRASS","createRiver","graveyards","graveyard","FENCE8","FENCE7","FENCE6","FENCE5","FENCE10","FENCE9","FENCE1","ghost","Ghost","castle","Castle","PATH","treeX","treeY","TREE1","TREE2","roll","pos","Snake","king","King","createVendor","vendor","Vendor","SnakeAI","snake","questdialog_1","quest_1","KingAI","dialog","QuestDialog","quest","Quest","guard_1","moat","walls","floors","waypoints","guard","Guard","GuardAI","waypointIndex","waitCount","aggroCount","aggroTarget","otherGuard","waypoint","vendordialog_1","VendorAI","VendorDialog","vendorbutton_1","existingButton","freeSlot","VendorButton","buttonSlot","existing","getFirstItem","initialItem","countGold","moveGold","dst","dungeonlayer_1","DUNGEON_WIDTH","DUNGEON_HEIGHT","layer","DungeonLayer","reddragon_1","windelemental_1","griffon_1","key_1","bossdoor_1","lockeddoor_1","confuse_1","stonegolem_1","ROOM_MIN_WIDTH","ROOM_MAX_WIDTH","ROOM_MIN_HEIGHT","ROOM_MAX_HEIGHT","MAX_ROOMS","MAX_ROOM_MONSTERS","MAX_ROOM_ITEMS","MAX_ROOM_OBSTACLES","STAIRS_SPRITE","BOSS_LAYOUTS","bossZone","bossRoom","stairsRoom","rooms","keyId","bossLayout","newRoom","failed","intersects","createRoom","STAIRS_UP","createHTunnel","createVTunnel","placeMonsters","placeItems","bossLevel","boss","RedDragon","WindElemental","Griffon","StoneGolem","Key","itemQuality","BossDoor","stairsLoc","STAIRS_DOWN","LockedDoor","placeObstacles","room","dungeonLevel","numMonsters","numItems","ConfuseAbility","BARREL","STATUE","flamecrawler_1","RedDragonAI","dragon","createCrawler","FlameCrawler","FlameCrawlerAI","aliveCount","nextX","nextY","windcrawler_1","WindElementalAI","elemental","WindCrawler","WindCrawlerAI","GriffonAI","griffon","moveTo","door_1","openDoor","CONFUSE_SPRITE","StoneGolemAI","charging","golem","playerDist","targetDist","CONSTITUTION_SPRITE","DEXTERITY_SPRITE","INTELLIGENCE_SPRITE","STRENGTH_SPRITE","DESCRIPTIONS","constitutionSlot","constitutionBtn","incConstitution","dexteritySlot","dexterityBtn","incDexterity","intelligenceSlot","intelligenceBtn","incIntelligence","strengthSlot","strengthBtn","incStrength","increaseStat","con","dex","int","nameColor","levelColor","OPTIONS","display","enabled","time","chooseSprites","random","time2","dwarf_1","elf_1","orc_1","undead_1","RACES","Dwarf","Elf","Orc","Undead","Seed","number","seeds"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"wglt\",[],e):\"object\"==typeof exports?exports.wglt=e():t.wglt=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=41)}([function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(27);e.Serializable=function(t,e){return function(i){const r=s.createSerializeMetadata(i);r.className=t,e&&(r.valueType=!!e.valueType)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);class r extends s.Vec2{constructor(t,e,i,s){super(t,e),this.width=i,this.height=s}get x1(){return this.x}get y1(){return this.y}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get left(){return this.x}get top(){return this.y}clone(){return new r(this.x,this.y,this.width,this.height)}copy(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}getCenter(){return new s.Vec2(this.x+this.width/2|0,this.y+this.height/2|0)}intersects(t){return this.x<=t.x2&&this.x2>=t.x&&this.y<=t.y2&&this.y2>=t.y}contains(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}}e.Rect=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e){this.x=t,this.y=e}add(t){this.x+=t.x,this.y+=t.y}};r=s([i(0).Serializable(\"Vec2\",{valueType:!0})],r),e.Vec2=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(8);let o=class{constructor(t){this.gui=null,this.rect=t,this.children=new r.ArrayList,this.modal=!1,this.visible=!0}setGui(t){if(!this.gui){this.gui=t;for(let e=0;e<this.children.length;e++)this.children.get(e).setGui(t)}}add(t){t.parent=this,t.setGui(this.gui),this.children.add(t)}remove(t){this.children.remove(t)}move(t){this.parent&&this.parent.remove(this),t.add(this)}getPanelAt(t){for(let e=this.children.length-1;e>=0;e--){const i=this.children.get(e);if(!i.visible)continue;if(i.isDragging())continue;const s=i.getPanelAt(t);if(s)return s}if(this.rect.contains(t))return this}drawContents(){this.drawChildren()}drawChildren(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);e.visible&&e.drawContents()}}handleInput(){return this.handleChildrenInput()}handleChildrenInput(){for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(e.visible&&(e.handleInput()||e.modal))return!0}return!1}isDragging(){return this.gui&&this.gui.dragElement===this}onDrop(t){return!1}updateTooltip(t){t.visible=!1}};o=s([i(0).Serializable(\"Panel\")],o),e.Panel=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});class s{}s.VK_CANCEL=3,s.VK_HELP=6,s.VK_BACK_SPACE=8,s.VK_TAB=9,s.VK_CLEAR=12,s.VK_ENTER=13,s.VK_SHIFT=16,s.VK_CONTROL=17,s.VK_ALT=18,s.VK_PAUSE=19,s.VK_CAPS_LOCK=20,s.VK_ESCAPE=27,s.VK_SPACE=32,s.VK_PAGE_UP=33,s.VK_PAGE_DOWN=34,s.VK_END=35,s.VK_HOME=36,s.VK_LEFT=37,s.VK_UP=38,s.VK_RIGHT=39,s.VK_DOWN=40,s.VK_PRINTSCREEN=44,s.VK_INSERT=45,s.VK_DELETE=46,s.VK_0=48,s.VK_1=49,s.VK_2=50,s.VK_3=51,s.VK_4=52,s.VK_5=53,s.VK_6=54,s.VK_7=55,s.VK_8=56,s.VK_9=57,s.VK_COLON=58,s.VK_SEMICOLON=59,s.VK_LESS_THAN=60,s.VK_EQUALS=61,s.VK_GREATER_THAN=62,s.VK_QUESTION_MARK=63,s.VK_AT=64,s.VK_A=65,s.VK_B=66,s.VK_C=67,s.VK_D=68,s.VK_E=69,s.VK_F=70,s.VK_G=71,s.VK_H=72,s.VK_I=73,s.VK_J=74,s.VK_K=75,s.VK_L=76,s.VK_M=77,s.VK_N=78,s.VK_O=79,s.VK_P=80,s.VK_Q=81,s.VK_R=82,s.VK_S=83,s.VK_T=84,s.VK_U=85,s.VK_V=86,s.VK_W=87,s.VK_X=88,s.VK_Y=89,s.VK_Z=90,s.VK_CONTEXT_MENU=93,s.VK_NUMPAD0=96,s.VK_NUMPAD1=97,s.VK_NUMPAD2=98,s.VK_NUMPAD3=99,s.VK_NUMPAD4=100,s.VK_NUMPAD5=101,s.VK_NUMPAD6=102,s.VK_NUMPAD7=103,s.VK_NUMPAD8=104,s.VK_NUMPAD9=105,s.VK_MULTIPLY=106,s.VK_ADD=107,s.VK_SEPARATOR=108,s.VK_SUBTRACT=109,s.VK_DECIMAL=110,s.VK_DIVIDE=111,s.VK_F1=112,s.VK_F2=113,s.VK_F3=114,s.VK_F4=115,s.VK_F5=116,s.VK_F6=117,s.VK_F7=118,s.VK_F8=119,s.VK_F9=120,s.VK_F10=121,s.VK_F11=122,s.VK_F12=123,s.VK_F13=124,s.VK_F14=125,s.VK_F15=126,s.VK_F16=127,s.VK_F17=128,s.VK_F18=129,s.VK_F19=130,s.VK_F20=131,s.VK_F21=132,s.VK_F22=133,s.VK_F23=134,s.VK_F24=135,s.VK_NUM_LOCK=144,s.VK_SCROLL_LOCK=145,s.VK_CIRCUMFLEX=160,s.VK_EXCLAMATION=161,s.VK_DOUBLE_QUOTE=162,s.VK_HASH=163,s.VK_DOLLAR=164,s.VK_PERCENT=165,s.VK_AMPERSAND=166,s.VK_UNDERSCORE=167,s.VK_OPEN_PAREN=168,s.VK_CLOSE_PAREN=169,s.VK_ASTERISK=170,s.VK_PLUS=171,s.VK_PIPE=172,s.VK_HYPHEN_MINUS=173,s.VK_OPEN_CURLY_BRACKET=174,s.VK_CLOSE_CURLY_BRACKET=175,s.VK_TILDE=176,s.VK_COMMA=188,s.VK_PERIOD=190,s.VK_SLASH=191,s.VK_BACK_QUOTE=192,s.VK_OPEN_BRACKET=219,s.VK_BACK_SLASH=220,s.VK_CLOSE_BRACKET=221,s.VK_QUOTE=222,s.VK_META=224,s.VK_ALTGR=225,s.VK_WIN=91,s.VK_KANA=21,s.VK_HANGUL=21,s.VK_EISU=22,s.VK_JUNJA=23,s.VK_FINAL=24,s.VK_HANJA=25,s.VK_KANJI=25,s.VK_CONVERT=28,s.VK_NONCONVERT=29,s.VK_ACCEPT=30,s.VK_MODECHANGE=31,s.VK_SELECT=41,s.VK_PRINT=42,s.VK_EXECUTE=43,s.VK_SLEEP=95,e.Keys=s},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(42);e.Animation=class{constructor(t,e){this.promise=new s.AnimationPromise,this.countdown=t,this.blocking=e}isDone(){return this.countdown<=0}update(){this.countdown--}draw(t){}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(11);class r{}r.BLACK=s.fromRgb(0,0,0),r.WHITE=s.fromRgb(255,255,255),r.GRAY=s.fromRgb(128,128,128),r.LIGHT_GRAY=s.fromRgb(170,170,170),r.DARK_GRAY=s.fromRgb(85,85,85),r.YELLOW=s.fromRgb(255,255,85),r.BROWN=s.fromRgb(170,85,0),r.RED=s.fromRgb(255,0,0),r.LIGHT_RED=s.fromRgb(255,85,85),r.DARK_RED=s.fromRgb(170,0,0),r.GREEN=s.fromRgb(0,255,0),r.LIGHT_GREEN=s.fromRgb(85,255,85),r.DARK_GREEN=s.fromRgb(0,170,0),r.LIGHT_CYAN=s.fromRgb(85,255,255),r.DARK_CYAN=s.fromRgb(0,170,170),r.BLUE=s.fromRgb(0,0,255),r.LIGHT_BLUE=s.fromRgb(85,85,255),r.DARK_BLUE=s.fromRgb(0,0,170),r.LIGHT_MAGENTA=s.fromRgb(255,85,255),r.DARK_MAGENTA=s.fromRgb(170,0,170),r.ORANGE=s.fromRgb(255,136,0),e.Colors=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(3);let n=class extends o.Panel{constructor(t){super(t),this.closeButton=!1}drawContents(){this.gui&&this.gui.renderer.draw(this.gui.app,this)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;if(this.gui.app.isKeyPressed(r.Keys.VK_ESCAPE))return this.visible=!1,!0;const t=this.gui.app.mouse;return!(!t.isClicked()||this.rect.contains(t))&&(this.visible=!1,!0)}close(){this.gui&&this.gui.remove(this)}};n=s([i(0).Serializable(\"Dialog\")],n),e.Dialog=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(){this.elements=[]}get length(){return this.elements.length}clear(){this.elements.splice(0,this.elements.length)}get(t){return this.elements[t]}add(t){if(this.elements.push(t),this.listeners)for(let e=0;e<this.listeners.length;e++)this.listeners[e].onAdd(this,t)}remove(t){const e=this.elements.indexOf(t);if(e>=0&&(this.elements.splice(e,1),this.listeners))for(let e=0;e<this.listeners.length;e++)this.listeners[e].onRemove(this,t)}contains(t){return this.elements.indexOf(t)>=0}addListener(t){this.listeners||(this.listeners=[]),this.listeners.push(t)}};r=s([i(0).Serializable(\"ArrayList\")],r),e.ArrayList=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6),o=i(13);let n=class extends o.Button{constructor(t,e,i){super(t,e.ability.sprite),this.talent=e,this.shortcut=!!i,this.tooltipMessages=e.ability.tooltipMessages}click(){this.talent.use()}drawContents(){if(super.drawContents(),this.talent.cooldown>0){const t=this.talent.actor.game,e=t.cooldownSprite;if(e){const i=1-this.talent.cooldown/this.talent.ability.cooldown,s=Math.round(i*e.frames),o=e.x+s*e.width,n=e.y,h=this.rect.x+(this.rect.width-e.width)/2|0,a=this.rect.y+(this.rect.height-e.height)/2|0;t.app.drawImage(h,a,o,n,e.width,e.height);const c=this.rect.x+this.rect.width/2|0,l=this.rect.y+this.rect.height/2|0;t.app.drawCenteredString(this.talent.cooldown.toString(),c+1,l-2,r.Colors.BLACK),t.app.drawCenteredString(this.talent.cooldown.toString(),c,l-3,r.Colors.WHITE)}}}};n=s([i(0).Serializable(\"TalentButton\")],n),e.TalentButton=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(8),o=i(13);let n=class extends o.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.stackItems=new r.ArrayList,this.stackItems.add(i),this.tooltipMessages=i.tooltipMessages}click(){if(this.stackItems.length>0){const t=this.stackItems.get(0),e=t.game.player;e&&e.use(t)}}removeAll(){for(let t=this.stackItems.length-1;t>=0;t--)this.containerItems.remove(this.stackItems.get(t))}drawContents(){if(this.gui&&(super.drawContents(),this.stackItems.length>1)){const t=this.rect;this.gui.app.drawRightString(this.stackItems.length.toString(),t.x2-3,t.y2-10)}}updateTooltip(t){if(this.stackItems.length>0){const t=this.stackItems.get(0);t.onUpdateTooltip(),this.tooltipMessages=t.tooltipMessages}super.updateTooltip(t)}};n=s([i(0).Serializable(\"ItemButton\")],n),e.ItemButton=n},function(t,e,i){\"use strict\";function s(t,e,i,s){return void 0===s&&(s=255),(t<<24)+(e<<16)+(i<<8)+s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.fromRgb=s,e.fromHsv=function(t,e,i,r){const o=6*t|0,n=6*t-o,h=i*(1-e),a=i*(1-n*e),c=i*(1-(1-n)*e);let l,d,u;switch(o%6){case 0:l=i,d=c,u=h;break;case 1:l=a,d=i,u=h;break;case 2:l=h,d=i,u=c;break;case 3:l=h,d=a,u=i;break;case 4:l=c,d=h,u=i;break;case 5:l=i,d=h,u=a;break;default:l=0,d=0,u=0}return void 0===r&&(r=1),s(255*l|0,255*d|0,255*u|0,255*r|0)}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(13);let o=class extends r.Button{constructor(t,e,i){super(t,i.sprite),this.containerItems=e,this.shortcutItem=i,this.tooltipMessages=i.tooltipMessages}click(){const t=this.getItem();if(t){const e=t.game.player;e&&e.use(t)}}drawContents(){if(this.gui&&(super.drawContents(),!this.isDragging())){const t=this.rect,e=this.countItems();this.gui.app.drawRightString(e.toString(),t.x2-3,t.y2-10)}}getItem(){for(let t=0;t<this.containerItems.length;t++){const e=this.containerItems.get(t);if(this.shortcutItem.isStackable(e))return e}}countItems(){let t=0;for(let e=0;e<this.containerItems.length;e++)this.shortcutItem.isStackable(this.containerItems.get(e))&&t++;return t}};o=s([i(0).Serializable(\"ItemShortcutButton\")],o),e.ItemShortcutButton=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e,i,s){super(t),this.sprite=e,this.shortcutKey=i,this.onClick=s}drawContents(){if(!this.gui)return;const t=this.sprite,e=this.rect,i=(e.width-t.width)/2|0,s=(e.height-t.height)/2|0;t.draw(this.gui.app,e.x+i,e.y+s)}handleInput(){if(!this.gui)return!1;const t=this.gui.app,e=t.mouse;return this.rect.contains(e.start)&&e.isDragging()?(this.gui.startDragging(this),!0):this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked()?(this.click(),!0):e.down&&this.rect.contains(e)}click(){this.onClick&&this.onClick()}updateTooltip(t){this.tooltipMessages?(t.messages=this.tooltipMessages,t.visible=!0):t.visible=!1}};o=s([i(0).Serializable(\"Button\")],o),e.Button=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(39),r=i(1),o=i(51);e.getTileId=function(t,e){return 64*e+t};e.TileMap=class{constructor(t,e,i,n){this.width=t,this.height=e,this.depth=i,this.tileSize=n,this.grid=new Array(e),this.layers=new Array(i),this.dirty=!0,this.originX=0,this.originY=0,this.visibleRect=new r.Rect(0,0,t,e),this.prevVisibleRect=new r.Rect(0,0,t,e);for(let i=0;i<e;i++){this.grid[i]=new Array(t);for(let e=0;e<t;e++)this.grid[i][e]=new s.TileMapCell(e,i)}for(let s=0;s<i;s++)this.layers[s]=new o.TileMapLayer(t,e)}isOutOfRange(t,e,i){return t<0||t>=this.width||e<0||e>=this.height||i<0||i>=this.depth}clear(){for(let t=0;t<this.layers.length;t++)this.layers[t].clear()}getTile(t,e,i){return this.isOutOfRange(t,e,i)?0:this.layers[i].getTile(t,e)}setTile(t,e,i,s){this.isOutOfRange(t,e,i)||this.layers[i].setTile(t,e,s)}isBlocked(t,e){return!!this.isOutOfRange(t,e,0)||this.grid[e][t].blocked}setBlocked(t,e,i,s){this.isOutOfRange(t,e,0)||(this.grid[e][t].blocked=i,this.grid[e][t].blockedSight=void 0!==s?s:i)}getCell(t,e){return this.isOutOfRange(t,e,0)?null:this.grid[e][t]}isVisible(t,e){return!(t<this.visibleRect.x1||t>=this.visibleRect.x2||e<this.visibleRect.y1||e>=this.visibleRect.y2)&&this.grid[e][t].visible}isSeen(t,e){const i=this.getCell(t,e);return i&&i.seen}setSeen(t,e,i){const s=this.getCell(t,e);s&&(s.seen=i)}isAnimated(t,e,i){return!this.isOutOfRange(t,e,i)&&this.layers[i].isAnimated(t,e)}setAnimated(t,e,i,s){this.isOutOfRange(t,e,i)||this.layers[i].setAnimated(t,e,s)}resetFov(){for(let t=0;t<this.height;t++)for(let e=0;e<this.width;e++)this.grid[t][e].seen=!1,this.grid[t][e].visible=!1}computeFov(t,e,i,s){this.originX=t,this.originY=e,this.prevVisibleRect.copy(this.visibleRect);const r=i,o=s||i;this.visibleRect.x=Math.max(0,t-r),this.visibleRect.y=Math.max(0,e-o),this.visibleRect.width=Math.min(this.width-1,t+r)-this.visibleRect.x+1,this.visibleRect.height=Math.min(this.height-1,e+o)-this.visibleRect.y+1;for(let t=this.visibleRect.y1;t<this.visibleRect.y2;t++)for(let e=this.visibleRect.x1;e<this.visibleRect.x2;e++)this.grid[t][e].visible=!1;this.grid[e][t].visible=!0,this.computeOctantY(1,1),this.computeOctantX(1,1),this.computeOctantY(1,-1),this.computeOctantX(1,-1),this.computeOctantY(-1,1),this.computeOctantX(-1,1),this.computeOctantY(-1,-1),this.computeOctantX(-1,-1),this.dirty=!0}computeOctantY(t,e){const i=[],s=[];let r,o,n,h,a,c,l,d,u,p,f=1,g=0,y=0,m=0;for(o=this.originY+e;o>=this.visibleRect.y1&&o<this.visibleRect.y2;o+=e,y=g,++f)for(n=.5/f,p=-1,h=Math.floor(m*f+.5),r=this.originX+h*t;h<=f&&r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/f)+n,y>0)if(this.grid[o-e][r].visible&&!this.grid[o-e][r].blockedSight||this.grid[o-e][r-t].visible&&!this.grid[o-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[o][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[o][r].visible=!0,this.grid[o][r].seen=!0,this.grid[o][r].blockedSight&&(m>=d?m=u:c||(i[g]=d,s[g++]=u)))}}computeOctantX(t,e){const i=[],s=[];let r,o,n,h,a,c,l,d,u,p,f=1,g=0,y=0,m=0;for(r=this.originX+t;r>=this.visibleRect.x1&&r<this.visibleRect.x2;r+=t,y=g,++f)for(n=.5/f,p=-1,h=Math.floor(m*f+.5),o=this.originY+h*e;h<=f&&o>=this.visibleRect.y1&&o<this.visibleRect.y2;o+=e,++h,p=u){if(a=!0,c=!1,d=p,u=(l=h/f)+n,y>0)if(this.grid[o][r-t].visible&&!this.grid[o][r-t].blockedSight||this.grid[o-e][r-t].visible&&!this.grid[o-e][r-t].blockedSight){for(let t=0;t<y&&a;++t)if(d<=s[t]&&u>=i[t])if(this.grid[o][r].blockedSight){if(d>=i[t]&&u<=s[t]){a=!1;break}i[t]=Math.min(i[t],d),s[t]=Math.max(s[t],u),c=!0}else if(l>i[t]&&l<s[t]){a=!1;break}}else a=!1;a&&(this.grid[o][r].visible=!0,this.grid[o][r].seen=!0,this.grid[o][r].blockedSight&&(m>=d?m=u:c||(i[g]=d,s[g++]=u)))}}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(t),this.shortcutKey=e}get button(){return this.children.length>0?this.children.get(0):void 0}drawContents(){if(!this.gui)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;e&&this.gui.app.drawImage(t.x,t.y,e.x,e.y,t.width,t.height);const i=this.button;i&&!i.isDragging()&&(i.rect.x=this.rect.x,i.rect.y=this.rect.y,i.rect.width=this.rect.width,i.rect.height=this.rect.height,this.drawChildren()),this.shortcutKey&&this.gui.app.drawRightString(String.fromCharCode(this.shortcutKey),t.x2-3,t.y+3)}handleInput(){if(!this.gui)return!1;if(this.handleChildrenInput())return!0;const t=this.gui.app,e=t.mouse,i=this.button;return i&&(this.shortcutKey&&t.isKeyPressed(this.shortcutKey)||this.rect.contains(e)&&e.isClicked())?(i.click(),!0):e.down&&this.rect.contains(e)}};o=s([i(0).Serializable(\"ButtonSlot\")],o),e.ButtonSlot=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){t[t.SELF=0]=\"SELF\",t[t.ENTITY=1]=\"ENTITY\",t[t.TILE=2]=\"TILE\"}(e.TargetType||(e.TargetType={}))},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(2);let o=class extends r.Vec2{constructor(t,e,i,s,o,n){super(e,i),this.game=t,this.offset=new r.Vec2(0,0),this.name=s,this.sprite=o,this.blocks=n,this.zIndex=1}get pixelX(){return this.x*this.game.tileSize.width+this.offset.x}get pixelY(){return this.y*this.game.tileSize.height+this.offset.y}get centerPixelX(){return this.pixelX+this.sprite.width/2|0}get centerPixelY(){return this.pixelY+this.sprite.height/2|0}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}distance(t,e){return Math.hypot(t-this.x,e-this.y)}draw(){this.sprite.draw(this.game.app,this.pixelX-this.game.viewport.x,this.pixelY-this.game.viewport.y)}startTurn(){}endTurn(){}sendToBack(){}onBump(t){return!1}};o=s([i(0).Serializable(\"Entity\")],o),e.Entity=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AI=class{constructor(t){this.actor=t,this.alwaysActive=!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Input=class{constructor(){this.down=!1,this.downCount=0,this.upCount=0}update(){this.down?(this.downCount++,this.upCount=0):(this.downCount=0,this.upCount++)}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(34),o=i(12),n=i(3),h=i(9),a=i(1),c=i(2),l=i(10);let d=class{constructor(t){this.app=t,this.renderer=new r.DialogRenderer(new a.Rect(0,0,1,1)),this.rootPanel=new n.Panel(t.size),this.rootPanel.gui=this}add(t){this.rootPanel.add(t)}remove(t){this.rootPanel.remove(t)}getPanelAt(t){return this.rootPanel.getPanelAt(t)}handleInput(){return this.dragElement&&this.dragOffset?(this.updateDragging(),!0):this.rootPanel.handleInput()}draw(){this.rootPanel.drawContents(),this.dragElement&&this.dragElement.drawContents()}startDragging(t){const e=this.app.mouse;this.dragElement=t,this.dragOffset=new c.Vec2(e.start.x-t.rect.x,e.start.y-t.rect.y)}updateDragging(){const t=this.app.mouse,e=this.dragElement,i=this.dragOffset;if(t.down)e.rect.x=t.x-i.x,e.rect.y=t.y-i.y;else{const s=this.rootPanel.getPanelAt(t);s&&s.onDrop(e)?(e.rect.x=s.rect.x,e.rect.y=s.rect.y,e.move(s)):e instanceof l.ItemButton&&s===this.rootPanel?e.removeAll():e instanceof o.ItemShortcutButton&&s===this.rootPanel?e.parent&&e.parent.remove(e):e instanceof h.TalentButton&&e.shortcut&&s===this.rootPanel?e.parent&&e.parent.remove(e):(e.rect.x=t.start.x-i.x,e.rect.y=t.start.y-i.y),this.dragElement=void 0,this.dragOffset=void 0}}};d=s([i(0).Serializable(\"GUI\")],d),e.GUI=d},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.Message=class{constructor(t,e){this.text=t,this.color=e}draw(t,e){t.drawString(this.text,e.x,e.y,this.color,e)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(32),r=\"precision highp float;attribute vec2 position;attribute vec2 texture;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 viewOffset;uniform vec2 viewportSize;uniform vec2 tileSize;uniform vec2 mapSize;void main(void) {   pixelCoord = (texture * viewportSize) + viewOffset;   texCoord = pixelCoord / mapSize / tileSize;   gl_Position = vec4(position, 0.0, 1.0);}\",o=\"precision highp float;varying vec2 pixelCoord;varying vec2 texCoord;uniform vec2 tileSize;uniform float animFrame;uniform sampler2D tiles;uniform sampler2D sprites;void main(void) {   vec4 tile = texture2D(tiles, texCoord);   if(tile.x == 0.0 && tile.y == 0.0) { discard; }   vec2 spriteOffset = floor(tile.xy * 256.0) * tileSize;   if(tile.z != 0.0) spriteOffset.x += animFrame * tileSize.x;   vec2 spriteCoord = mod(pixelCoord, tileSize);   gl_FragColor = texture2D(sprites, (spriteOffset + spriteCoord) / 1024.0);   if (gl_FragColor.a == 0.0) discard;   gl_FragColor.a *= tile.a;}\";e.TileMapRenderer=class{constructor(t,e){this.gl=t,this.tileMap=e,this.quadVertBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quadVertBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,1,-1,1,1,1,1,1,0,-1,-1,0,1,1,1,1,0,-1,1,0,0]),t.STATIC_DRAW),this.tilemapShader=s.initShaderProgram(t,r,o),this.positionAttribute=t.getAttribLocation(this.tilemapShader,\"position\"),this.textureAttribute=t.getAttribLocation(this.tilemapShader,\"texture\"),this.viewportSizeUniform=t.getUniformLocation(this.tilemapShader,\"viewportSize\"),this.viewOffsetUniform=t.getUniformLocation(this.tilemapShader,\"viewOffset\"),this.mapSizeUniform=t.getUniformLocation(this.tilemapShader,\"mapSize\"),this.tileSizeUniform=t.getUniformLocation(this.tilemapShader,\"tileSize\"),this.animFrameUniform=t.getUniformLocation(this.tilemapShader,\"animFrame\"),this.tileSamplerUniform=t.getUniformLocation(this.tilemapShader,\"tiles\"),this.spriteSamplerUniform=t.getUniformLocation(this.tilemapShader,\"sprites\"),this.layerTextures=new Array(e.depth);for(let i=0;i<e.depth;i++){const s=t.createTexture(),r=e.layers[i].imageData;t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.layerTextures[i]=s}}draw(t,e,i,s,r){const o=this.gl,n=this.tileMap;o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.tilemapShader),o.bindBuffer(o.ARRAY_BUFFER,this.quadVertBuffer),o.enableVertexAttribArray(this.positionAttribute),o.enableVertexAttribArray(this.textureAttribute),o.vertexAttribPointer(this.positionAttribute,2,o.FLOAT,!1,16,0),o.vertexAttribPointer(this.textureAttribute,2,o.FLOAT,!1,16,8),o.uniform2f(this.viewOffsetUniform,t,e),o.uniform2f(this.viewportSizeUniform,i,s),o.uniform2f(this.tileSizeUniform,n.tileSize.width,n.tileSize.height),o.uniform1f(this.animFrameUniform,r||0),o.activeTexture(o.TEXTURE0),o.uniform1i(this.spriteSamplerUniform,0),o.activeTexture(o.TEXTURE1),o.uniform1i(this.tileSamplerUniform,1);const h=Math.min(n.visibleRect.x1,n.prevVisibleRect.x1),a=Math.min(n.visibleRect.y1,n.prevVisibleRect.y1),c=Math.max(n.visibleRect.x2,n.prevVisibleRect.x2),l=Math.max(n.visibleRect.y2,n.prevVisibleRect.y2);for(let t=0;t<n.depth;t++){const e=n.layers[t],i=this.layerTextures[t];if(o.uniform2f(this.mapSizeUniform,n.width,n.height),o.bindTexture(o.TEXTURE_2D,i),n.dirty){for(let t=a;t<l;t++)for(let i=h;i<c;i++){const s=n.isVisible(i,t)?255:n.isSeen(i,t)?144:0;e.setAlpha(i,t,s)}o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.width,e.height,o.RGBA,o.UNSIGNED_BYTE,e.imageData)}o.drawArrays(o.TRIANGLES,0,6)}n.dirty=!1}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(16),o=i(24),n=i(25),h=i(26),a=i(8),c=i(6),l=i(17);let d=class extends l.Entity{constructor(t,e,i,s,r,o){super(t,e,i,s,r,o),this.hp=100,this.maxHp=100,this.ap=1,this.maxAp=1,this.inventory=new a.ArrayList,this.talents=new a.ArrayList,this.visibleDuration=-1,this.seen=!1}startTurn(){this.ap=this.maxAp;for(let t=0;t<this.talents.length;t++){const e=this.talents.get(t);e.cooldown>0&&e.cooldown--}}move(t,e,i){const s=this.x+t,r=this.y+e;if(this.blocks){if(this.game.isBlocked(s,r))return!1}else if(this.game.tileMap.isBlocked(s,r))return!1;this.x=s,this.y=r,this.ap--,this.offset.x=-t*this.game.tileSize.width,this.offset.y=-e*this.game.tileSize.height;const o=i||4,n=this.game.tileSize.width/o,a=this.game.tileSize.height/o;return this.game.animations.push(new h.SlideAnimation(this,t*n,e*a,o)),this.game.blocked=!0,!0}moveTo(t,e,i){return this.move(t-this.x,e-this.y,i)}moveToward(t,e,i){const s=t-this.x,r=e-this.y;if(s<0&&r<0&&this.move(-1,-1,i))return!0;if(s<0&&r>0&&this.move(-1,1,i))return!0;if(s>0&&r<0&&this.move(1,-1,i))return!0;if(s>0&&r>0&&this.move(1,1,i))return!0;if(Math.abs(s)>Math.abs(r)){if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0;if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0}else{if(r<0&&this.move(0,-1,i))return!0;if(r>0&&this.move(0,1,i))return!0;if(s<0&&this.move(-1,0,i))return!0;if(s>0&&this.move(1,0,i))return!0}return!1}attack(t,e){t!==this&&(this.onAttack(t,e),t.takeDamage(this,e),this.ap--,this.game.animations.push(new o.BumpAnimation(this,t)),this.game.blocked=!0)}takeHeal(t){this.hp=Math.min(this.hp+t,this.maxHp),this.addFloatingText(t.toString(),c.Colors.LIGHT_GREEN)}takeDamage(t,e){this.hp<=0||(this.hp-=e,this.addFloatingText(e.toString(),c.Colors.RED),this.hp<=0&&(this.hp=0,this.onDeath(t),this.game.entities.remove(this)))}pickup(t){t.onPickup(this),this.inventory.add(t),this.game.entities.remove(t)}use(t){return t.onUse(this)}cast(t,e,i){t.targetType===r.TargetType.SELF||e?t.cast(this,e)&&i&&i():this.game.startTargeting(t,i)}addFloatingText(t,e){this.game.animations.push(new n.FloatingTextAnimation(this,t,e))}onAttack(t,e){}onDeath(t){}};d=s([i(0).Serializable(\"Actor\")],d),e.Actor=d},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5),r=12;e.BumpAnimation=class extends s.Animation{constructor(t,e){super(r,!0),this.entity=t,this.dx=e.x-t.x,this.dy=e.y-t.y}update(){const t=r-this.countdown;t>=0&&t<4&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),t>=4&&t<8&&(this.entity.offset.x-=this.dx,this.entity.offset.y-=this.dy),super.update()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(6),r=i(5),o=40;e.FloatingTextAnimation=class extends r.Animation{constructor(t,e,i){super(o,!1),this.actor=t,this.str=e,this.color=i||s.Colors.WHITE}draw(t){const e=o-this.countdown,i=this.actor.pixelX+(this.actor.sprite.width/2|0)-t.viewport.x,s=this.actor.pixelY-3-t.viewport.y-Math.min(4,Math.floor(e/2));t.app.drawCenteredString(this.str,i,s,this.color)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.SlideAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.entity=t,this.dx=e,this.dy=i}update(){this.countdown--,this.countdown>=0&&(this.entity.offset.x+=this.dx,this.entity.offset.y+=this.dy),0===this.countdown&&(this.entity.offset.x=0,this.entity.offset.y=0)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=\"__wgltMetadata\";function r(t){const e=new o;return t[s]=e,e}e.createSerializeMetadata=r,e.getSerializeMetadata=function(t){return t[s]||r(t)};class o{constructor(){this.className=\"Object\",this.valueType=!1}}e.SerializeMetadata=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(48),r=i(29),o=i(30),n=i(1),h=i(31),a=i(2),c=i(4),l=400,d=224,u=!1,p=2,f=[c.Keys.VK_NUMPAD7,c.Keys.VK_Y],g=[c.Keys.VK_NUMPAD9,c.Keys.VK_U],y=[c.Keys.VK_NUMPAD1,c.Keys.VK_B],m=[c.Keys.VK_NUMPAD3,c.Keys.VK_N],_=[c.Keys.VK_UP,c.Keys.VK_NUMPAD8,c.Keys.VK_K],x=[c.Keys.VK_LEFT,c.Keys.VK_NUMPAD4,c.Keys.VK_H],v=[c.Keys.VK_DOWN,c.Keys.VK_NUMPAD2,c.Keys.VK_J],w=[c.Keys.VK_RIGHT,c.Keys.VK_NUMPAD6,c.Keys.VK_L],b=[c.Keys.VK_SPACE,c.Keys.VK_NUMPAD5];e.App=class{constructor(t){const e=t.canvas;if(!e)throw new Error(\"Null or missing canvas element\");const i=e.getContext(\"webgl\",{alpha:!1,antialias:!1});if(!i)throw new Error(\"Could not get WebGL context\");this.canvas=e,this.gl=i,this.size=t.size||new n.Rect(0,0,l,d),this.font=t.font||s.FONT_04B03,this.fillWindow=t.fillWindow||u,this.scaleFactor=t.scaleFactor||p,this.center=new a.Vec2(this.size.width/2|0,this.size.height/2|0),i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),e.width=this.size.width,e.height=this.size.height,e.style.outline=\"none\",e.tabIndex=0,e.focus(),this.mobile=this.isMobile(),this.renderSet=new h.RenderSet(i,t.imageUrl,this.font),this.keyboard=new r.Keyboard(e),this.mouse=new o.Mouse(this),this.fillWindow&&(window.addEventListener(\"resize\",this.handleResizeEvent.bind(this),!1),this.handleResizeEvent()),this.renderLoop()}handleResizeEvent(){const t=window.innerWidth,e=window.innerHeight,i=this.isMobile(),s=i?320:400,r=i?224:300;this.scaleFactor=1,this.scaleFactor=t>e?Math.max(1,Math.min(Math.round(t/s),Math.round(e/r))):Math.max(1,Math.min(Math.round(t/r),Math.round(e/s))),this.size.width=Math.round(t/this.scaleFactor),this.size.height=Math.round(e/this.scaleFactor),this.center.x=this.size.width/2|0,this.center.y=this.size.height/2|0,this.canvas.width=this.size.width,this.canvas.height=this.size.height,this.canvas.style.left=\"0\",this.canvas.style.top=\"0\",this.canvas.style.width=t+\"px\",this.canvas.style.height=e+\"px\"}isMobile(){return!!navigator.userAgent.match(/Android|iPhone|iPod|IEMobile|WPDesktop|Opera Mini/i)}renderLoop(){this.keyboard.update(),this.mouse.update(),this.resetGl(),this.state&&this.state.update(),this.renderSet.flush(this.size.width,this.size.height),requestAnimationFrame(this.renderLoop.bind(this))}resetGl(){const t=this.gl;t.viewport(0,0,this.size.width,this.size.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.renderSet.positionArrayIndex=0,this.renderSet.texcoordArrayIndex=0,this.renderSet.colorArrayIndex=0}drawImage(t,e,i,s,r,o,n,h,a){this.renderSet.drawImage(t,e,i,s,r,o,n,h,a)}drawString(t,e,i,s,r){this.renderSet.drawString(t,e,i,s,r)}drawCenteredString(t,e,i,s){this.renderSet.drawCenteredString(t,e,i,s)}drawRightString(t,e,i,s){this.renderSet.drawRightString(t,e,i,s)}isKeyDown(t){const e=this.keyboard.getKey(t);return e&&e.down}isKeyPressed(t){const e=this.keyboard.getKey(t),i=e?e.downCount:0;return 1===i||i>30}isDownLeftKeyPressed(){return this.isKeyArrayPressed(y)}isDownKeyPressed(){return this.isKeyArrayPressed(v)}isDownRightKeyPressed(){return this.isKeyArrayPressed(m)}isLeftKeyPressed(){return this.isKeyArrayPressed(x)}isWaitKeyPressed(){return this.isKeyArrayPressed(b)}isRightKeyPressed(){return this.isKeyArrayPressed(w)}isUpLeftKeyPressed(){return this.isKeyArrayPressed(f)}isUpKeyPressed(){return this.isKeyArrayPressed(_)}isUpRightKeyPressed(){return this.isKeyArrayPressed(g)}isKeyArrayPressed(t){for(let e=0;e<t.length;e++)if(this.isKeyPressed(t[e]))return!0;return!1}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(19),r=256;e.Keyboard=class{constructor(t){this.keys=new Array(r);for(let t=0;t<r;t++)this.keys[t]=new s.Input;t.addEventListener(\"keydown\",t=>this.setKey(t,!0)),t.addEventListener(\"keyup\",t=>this.setKey(t,!1))}setKey(t,e){t.stopPropagation(),t.preventDefault();const i=t.keyCode;i>=0&&i<r&&(this.keys[i].down=e)}update(){for(let t=0;t<r;t++)this.keys[t].down?this.keys[t].downCount++:this.keys[t].downCount=0}getKey(t){return t>=0&&t<r?this.keys[t]:null}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(19),r=i(1),o=i(2),n=4,h=30;e.Mouse=class extends s.Input{constructor(t){super(),this.app=t,this.prev=new o.Vec2(0,0),this.start=new o.Vec2(0,0),this.x=0,this.y=0,this.dx=0,this.dy=0,this.dragDistance=0,this.longPress=!1,this.wheelDelta=0,this.lastWheelDelta=0;const e=t.canvas,i=this.handleEvent.bind(this);e.addEventListener(\"mousedown\",i),e.addEventListener(\"mouseup\",i),e.addEventListener(\"mousemove\",i),e.addEventListener(\"contextmenu\",i);const s=this.handleTouchEvent.bind(this);e.addEventListener(\"touchstart\",s),e.addEventListener(\"touchend\",s),e.addEventListener(\"touchcancel\",s),e.addEventListener(\"touchmove\",s);const r=this.handleMouseWheel.bind(this);e.addEventListener(\"mousewheel\",r)}handleTouchEvent(t){if(t.stopPropagation(),t.preventDefault(),t.touches.length>0){const e=t.touches[0];this.updatePosition(e.clientX,e.clientY)}\"touchstart\"===t.type&&(this.down=!0,this.prev.x=this.x,this.prev.y=this.y,this.start.x=this.x,this.start.y=this.y,this.dx=0,this.dy=0,this.dragDistance=0),\"touchend\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}handleEvent(t){t.stopPropagation(),t.preventDefault(),this.updatePosition(t.clientX,t.clientY),\"mousedown\"===t.type&&(this.down=!0,this.start.x=this.x,this.start.y=this.y,this.dragDistance=0,this.app.canvas.focus()),\"mouseup\"===t.type&&(this.down=!1,this.longPress=this.downCount>=h)}updatePosition(t,e){let i=this.app.canvas.getBoundingClientRect();const s=this.app.size.width/this.app.size.height,o=i.width/i.height;if(o-s>.01){const t=s*i.height,e=i.width-t;i=new r.Rect(Math.floor(e/2),0,t,i.height)}if(o-s<-.01){const t=i.width/s,e=i.height-t;i=new r.Rect(0,Math.floor(e/2),i.width,t)}this.x=this.app.size.width*(t-i.left)/i.width|0,this.y=this.app.size.height*(e-i.top)/i.height|0}handleMouseWheel(t){t.stopPropagation(),t.preventDefault();const e=t;return this.lastWheelDelta=Math.max(-1,Math.min(1,e.deltaY)),!1}update(){super.update(),this.dx=this.x-this.prev.x,this.dy=this.y-this.prev.y,this.prev.x=this.x,this.prev.y=this.y,this.wheelDelta=this.lastWheelDelta,this.lastWheelDelta=0,this.down&&(this.dragDistance+=Math.abs(this.dx)+Math.abs(this.dy))}isClicked(){return 1===this.upCount&&this.dragDistance<n&&!this.longPress}isDragging(){return this.down&&this.dragDistance>n}isLongPress(){return this.downCount===h&&!this.isDragging()}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(32),r=65536,o=\"uniform vec2 u_viewportSize;attribute vec2 a_position;attribute vec2 a_texCoord;attribute vec4 a_color;varying vec2 v_texCoord;varying vec4 v_color;void main() {vec2 zeroToOne = a_position / u_viewportSize;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;v_color = a_color;}\",n=\"precision highp float;uniform sampler2D u_image;varying vec2 v_texCoord;varying vec4 v_color;void main() {gl_FragColor = texture2D(u_image, v_texCoord);if (gl_FragColor.a < 0.1) discard;if (v_color.a != 0.0) gl_FragColor = v_color;}\";e.RenderSet=class{constructor(t,e,i){this.gl=t,this.font=i;const h=s.initShaderProgram(t,o,n);this.program=h,this.viewportSizeLocation=t.getUniformLocation(h,\"u_viewportSize\"),this.positionLocation=t.getAttribLocation(h,\"a_position\"),this.texcoordLocation=t.getAttribLocation(h,\"a_texCoord\"),this.colorLocation=t.getAttribLocation(h,\"a_color\"),this.positionBuffer=t.createBuffer(),this.texcoordBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.spriteTexture=s.createTexture(t,e),this.positionArray=new Float32Array(r),this.positionArrayIndex=0,this.texcoordArray=new Float32Array(r),this.texcoordArrayIndex=0,this.colorUint8Array=new Uint8Array(r),this.colorDataView=new DataView(this.colorUint8Array.buffer),this.colorArrayIndex=0}drawCenteredString(t,e,i,s){const r=e-this.font.getStringWidth(t)/2|0;this.drawString(t,r,i,s)}drawRightString(t,e,i,s){const r=e-this.font.getStringWidth(t);this.drawString(t,r,i,s)}drawString(t,e,i,s,r){const o=t.split(\"\\n\"),n=this.font.getHeight();let h=e,a=i;for(let t=0;t<o.length;t++){t>0&&(h=e,a+=n);for(let e=0;e<o[t].length;e++){const i=o[t].charCodeAt(e);if(this.font.isInRange(i)){const t=this.font.getOffset(i),e=this.font.getWidth(i);this.drawImage(h,a,t,0,e,n,s),h+=e}}}r&&(r.x=h,r.y=a)}drawChar(t,e,i,s){if(this.font.isInRange(t)){const r=this.font.getOffset(t),o=this.font.getWidth(t),n=this.font.getHeight();this.drawImage(e,i,r,0,o,n,s)}}drawImage(t,e,i,s,r,o,n,h,a){const c=this.spriteTexture;if(!c.loaded)return;const l=void 0!==h?h:r,d=void 0!==a?a:o,u=t+Math.abs(l),p=e+d,f=i/c.width,g=s/c.height,y=(i+r)/c.width,m=(s+o)/c.height,_=n||0;this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=m,this.positionArray[this.positionArrayIndex++]=t,this.positionArray[this.positionArrayIndex++]=p,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=e,this.positionArray[this.positionArrayIndex++]=u,this.positionArray[this.positionArrayIndex++]=p,this.texcoordArray[this.texcoordArrayIndex++]=f,this.texcoordArray[this.texcoordArrayIndex++]=m,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=g,this.texcoordArray[this.texcoordArrayIndex++]=y,this.texcoordArray[this.texcoordArrayIndex++]=m;for(let t=0;t<6;t++)this.colorDataView.setUint32(this.colorArrayIndex,_,!1),this.colorArrayIndex+=4}flush(t,e){if(!this.spriteTexture.loaded||0===this.positionArrayIndex)return;const i=this.gl;i.useProgram(this.program),i.uniform2f(this.viewportSizeLocation,t,e),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,this.spriteTexture);{i.enableVertexAttribArray(this.positionLocation),i.bindBuffer(i.ARRAY_BUFFER,this.positionBuffer),i.bufferData(i.ARRAY_BUFFER,this.positionArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,o=0;i.vertexAttribPointer(this.positionLocation,t,e,s,r,o)}{i.enableVertexAttribArray(this.texcoordLocation),i.bindBuffer(i.ARRAY_BUFFER,this.texcoordBuffer),i.bufferData(i.ARRAY_BUFFER,this.texcoordArray,i.DYNAMIC_DRAW);const t=2,e=i.FLOAT,s=!1,r=0,o=0;i.vertexAttribPointer(this.texcoordLocation,t,e,s,r,o)}{i.enableVertexAttribArray(this.colorLocation),i.bindBuffer(i.ARRAY_BUFFER,this.colorBuffer),i.bufferData(i.ARRAY_BUFFER,this.colorUint8Array,i.DYNAMIC_DRAW);const t=4,e=i.UNSIGNED_BYTE,s=!0,r=0,o=0;i.vertexAttribPointer(this.colorLocation,t,e,s,r,o)}const s=i.TRIANGLES,r=this.positionArrayIndex/2;i.drawArrays(s,0,r)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});function s(t,e,i){const s=t.createShader(e);return t.shaderSource(s,i),t.compileShader(s),s}e.ExtendedTexture=class extends WebGLTexture{constructor(){super(),this.loaded=!1,this.width=0,this.height=0}},e.initShaderProgram=function(t,e,i){const r=s(t,t.VERTEX_SHADER,e),o=s(t,t.FRAGMENT_SHADER,i),n=t.createProgram();return t.attachShader(n,r),t.attachShader(n,o),t.linkProgram(n),n},e.loadShader=s,e.createTexture=function(t,e){const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.RGBA,r=t.RGBA,o=t.UNSIGNED_BYTE,n=new Uint8Array([0,0,0,255]);t.texImage2D(t.TEXTURE_2D,0,s,1,1,0,r,o,n);const h=new Image;return h.onload=(()=>{t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,s,r,o,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.generateMipmap(t.TEXTURE_2D),i.loaded=!0,i.width=h.width,i.height=h.height}),h.src=e,i}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(20);e.AppState=class{constructor(t){this.app=t,this.gui=new s.GUI(t)}update(){this.gui.handleInput(),this.gui.draw()}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e){this.baseRect=t,this.closeButtonRect=e}draw(t,e){const i=this.baseRect.x,s=this.baseRect.y,r=this.baseRect.width/3|0,o=this.baseRect.height/3|0,n=i+r,h=s+o,a=i+2*r,c=s+2*r,l=e.rect.x,d=e.rect.y,u=e.rect.width-2*r,p=e.rect.height-2*o,f=l+r,g=d+o,y=f+u,m=g+p;if(t.drawImage(l,d,i,s,r,o,void 0,r,o),t.drawImage(f,d,n,s,r,o,void 0,u,o),t.drawImage(y,d,a,s,r,o,void 0,r,o),t.drawImage(l,g,i,h,r,o,void 0,r,p),t.drawImage(f,g,n,h,r,o,void 0,u,p),t.drawImage(y,g,a,h,r,o,void 0,r,p),t.drawImage(l,m,i,c,r,o,void 0,r,o),t.drawImage(f,m,n,c,r,o,void 0,u,o),t.drawImage(y,m,a,c,r,o,void 0,r,o),this.closeButtonRect&&e.closeButton){const i=this.closeButtonRect.width,s=this.closeButtonRect.height,r=e.rect.x2-i,o=e.rect.y,n=this.closeButtonRect.x,h=this.closeButtonRect.y;t.drawImage(r,o,n,h,i,s)}}};r=s([i(0).Serializable(\"DialogRenderer\")],r),e.DialogRenderer=r},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(16),o=i(23),n=i(33),h=i(6),a=i(50),c=i(4),l=i(36),d=i(1),u=i(37),p=i(38),f=i(2),g=i(8),y=i(0),m=i(14),_=i(22),x=new d.Rect(0,0,256,256);let v=class extends n.AppState{constructor(t,e){super(t),this.viewport=new d.Rect(0,0,t.size.width,t.size.height),this.viewportFocus=new f.Vec2(0,0),this.focusMargins=e.focusMargins||new f.Vec2(0,0),this.animations=[],this.entities=new g.ArrayList,this.turnIndex=0,this.blocked=!1,this.cursor=new f.Vec2(-1,-1),this.tooltip=new a.TooltipDialog,this.rng=new u.RNG,this.pathIndex=0,this.horizontalViewDistance=e.viewDistance||13,this.verticalViewDistance=e.viewDistance||13,this.zoom=1,e.horizontalViewDistance&&(this.horizontalViewDistance=e.horizontalViewDistance),e.verticalViewDistance&&(this.verticalViewDistance=e.verticalViewDistance);const i=e.mapSize||x,s=e.mapLayers||1,r=e.tileSize||new d.Rect(0,0,16,16);this.tileMap=new m.TileMap(i.width,i.height,s,r),this.tileMapRenderer=new _.TileMapRenderer(t.gl,this.tileMap)}get tileSize(){return this.tileMap.tileSize}log(t,e){this.messageLog&&this.messageLog.add(t,e)}addAnimation(t){return this.animations.push(t),t.promise}update(){p.Sprite.updateGlobalAnimations(),this.updateTooltip(),this.updateZoom(),this.gui.handleInput()||(this.updateAnimations(),this.updateEntities(),this.onUpdate&&this.onUpdate(),this.updateViewport()),this.drawTileMap(),1===this.zoom&&(this.drawTargeting(),this.drawEntities(),this.drawAnimations()),this.gui.draw()}updateTooltip(){if(this.gui.dragElement)return void(this.tooltip.visible=!1);this.tooltip.visible||(this.tooltipElement=void 0);const t=this.app.mouse,e=t.isLongPress();if(!t.down&&(0!==t.dx||0!==t.dy)||e){const i=this.gui.getPanelAt(t);this.tooltipElement!==i&&(this.tooltipElement=i,i&&(i.updateTooltip(this.tooltip),e&&window.navigator.vibrate(100))),this.tooltip.visible&&(this.tooltip.gui||this.gui.add(this.tooltip),this.tooltip.showAt(t.x,t.y),this.tooltip.modal=this.app.mobile)}}updateZoom(){if(0!==this.app.mouse.wheelDelta){const t=this.viewport.getCenter();this.viewportFocus.x=t.x,this.viewportFocus.y=t.y,this.app.mouse.wheelDelta>0?this.zoom*=.5:this.zoom*=2,this.viewport.width=this.zoom*this.app.size.width|0,this.viewport.height=this.zoom*this.app.size.height|0,this.viewport.x=t.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=t.y-(this.app.size.height/this.zoom/2|0)}}updateAnimations(){this.blocked=!1;for(let t=0;t<this.animations.length;t++){const e=this.animations[t];e.update(),e.blocking&&(this.blocked=!0)}for(let t=this.animations.length-1;t>=0;t--)this.animations[t].isDone()&&(this.animations[t].promise.resolve(),this.animations.splice(t,1))}updateEntities(){if(this.player&&this.player.hp<=0)return;let t=0;for(;0!==this.entities.length&&(this.turnIndex>=this.entities.length&&(this.turnIndex=0),!(t>2*this.entities.length));){const e=this.entities.get(this.turnIndex);if(e instanceof o.Actor){if(e.ap>0){if(e===this.player){this.blocked||this.handlePlayerInput();break}this.doAi(e)}e.ap<=0&&(e.ap=0,this.nextTurn())}else this.nextTurn();t++}}resetViewport(){this.player&&(this.viewportFocus.x=this.player.centerPixelX,this.viewportFocus.y=this.player.centerPixelY,this.viewport.x=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0),this.viewport.y=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0))}updateViewport(){this.viewport.width=this.app.size.width/this.zoom,this.viewport.height=this.app.size.height/this.zoom;const t=this.app.mouse;if(t.isDragging())this.viewport.x-=t.dx/this.zoom,this.viewport.y-=t.dy/this.zoom,this.viewportFocus.x=this.viewport.x+(this.viewport.width/2|0),this.viewportFocus.y=this.viewport.y+(this.viewport.height/2|0);else{const t=.05,e=this.viewportFocus.x-(this.app.size.width/this.zoom/2|0);if(e!==this.viewport.x){let i=t*e-t*this.viewport.x;i=i<0?Math.floor(i):Math.ceil(i),this.viewport.x+=i}const i=this.viewportFocus.y-(this.app.size.height/this.zoom/2|0);if(i!==this.viewport.y){let e=t*i-t*this.viewport.y;e=e<0?Math.floor(e):Math.ceil(e),this.viewport.y+=e}}}drawTileMap(){if(this.app.renderSet.spriteTexture.loaded){const t=(this.viewport.x/this.zoom|0)*this.zoom,e=(this.viewport.y/this.zoom|0)*this.zoom,i=(p.Sprite.globalAnimIndex/30|0)%2;this.tileMapRenderer.draw(t,e,this.viewport.width,this.viewport.height,i)}}drawTargeting(){if(this.isTargeting()&&this.targetSprite){const t=this.cursor.x*this.tileMap.tileSize.width-this.viewport.x,e=this.cursor.y*this.tileMap.tileSize.height-this.viewport.y;this.targetSprite.draw(this.app,t,e)}}drawEntities(){for(let t=0;t<3;t++)for(let e=0;e<this.entities.length;e++){const i=this.entities.get(e);i.zIndex===t&&this.tileMap.isVisible(i.x,i.y)&&i.draw()}}drawAnimations(){let t=0;for(let e=0;e<this.animations.length;e++){const i=this.animations[e];0!==t&&i.blocking||i.draw(this),i.blocking&&t++}}isTargeting(){return!!this.targetAbility}startTargeting(t,e){this.targetAbility=t,this.targetCallback=e,this.player&&(this.cursor.x=this.player.x,this.cursor.y=this.player.y)}endTargeting(){if(this.player&&this.targetAbility){const t=this.targetAbility.targetType;let e=null;t===r.TargetType.ENTITY?e=this.getActorAt(this.cursor.x,this.cursor.y):t===r.TargetType.TILE&&(e=this.tileMap.getCell(this.cursor.x,this.cursor.y)),e&&this.targetAbility.cast(this.player,e)&&this.targetCallback&&this.targetCallback()}this.cancelTargeting()}cancelTargeting(){this.targetAbility=void 0,this.targetCallback=void 0}handlePlayerInput(){if(!this.player||this.blocked)return;if(this.player.ai)return this.player.ai.doAi(),void(this.player.ap=0);const t=this.app.mouse;if((t.down||0!==t.dx||0!==t.dy)&&(this.cursor.x=(this.viewport.x+t.x)/this.tileMap.tileSize.width|0,this.cursor.y=(this.viewport.y+t.y)/this.tileMap.tileSize.height|0),this.app.isKeyDown(c.Keys.VK_SHIFT)){let t=0,e=0;return this.app.isDownLeftKeyPressed()&&(t=-1,e=1),this.app.isDownKeyPressed()&&(e=1),this.app.isDownRightKeyPressed()&&(t=1,e=1),this.app.isLeftKeyPressed()&&(t=-1),this.app.isRightKeyPressed()&&(t=1),this.app.isUpLeftKeyPressed()&&(t=-1,e=-1),this.app.isUpKeyPressed()&&(e=-1),this.app.isUpRightKeyPressed()&&(t=1,e=-1),this.viewportFocus.x-=t*this.tileMap.tileSize.height,void(this.viewportFocus.y-=e*this.tileMap.tileSize.height)}if(this.isTargeting())return(this.app.isKeyPressed(c.Keys.VK_ENTER)||this.app.mouse.isClicked())&&this.endTargeting(),this.app.isKeyPressed(c.Keys.VK_ESCAPE)&&this.cancelTargeting(),this.app.isDownLeftKeyPressed()&&(this.cursor.x--,this.cursor.y++),this.app.isDownKeyPressed()&&this.cursor.y++,this.app.isDownRightKeyPressed()&&(this.cursor.x++,this.cursor.y++),this.app.isLeftKeyPressed()&&this.cursor.x--,this.app.isRightKeyPressed()&&this.cursor.x++,this.app.isUpLeftKeyPressed()&&(this.cursor.x--,this.cursor.y--),this.app.isUpKeyPressed()&&this.cursor.y--,void(this.app.isUpRightKeyPressed()&&(this.cursor.x++,this.cursor.y--));if(t.isClicked()){const e=(this.viewport.x+t.x)/this.tileMap.tileSize.width|0,i=(this.viewport.y+t.y)/this.tileMap.tileSize.height|0,s=this.tileMap.getCell(e,i);s&&s!==this.targetTile&&(this.targetTile=s,this.path=l.computePath(this.tileMap,this.player,this.targetTile,100),this.pathIndex=0)}let e=null;if(this.path){for(e=this.path[this.pathIndex];e&&e.x===this.player.x&&e.y===this.player.y;)this.pathIndex++,e=this.pathIndex<this.path.length?this.path[this.pathIndex]:null;e||this.stopAutoWalk()}if(e){const t=e.x-this.player.x,i=e.y-this.player.y;this.tryMoveOrAttack(t,i)||this.stopAutoWalk()}else this.app.isDownLeftKeyPressed()&&this.tryMoveOrAttack(-1,1)||this.app.isDownKeyPressed()&&this.tryMoveOrAttack(0,1)||this.app.isDownRightKeyPressed()&&this.tryMoveOrAttack(1,1)||this.app.isLeftKeyPressed()&&this.tryMoveOrAttack(-1,0)||this.app.isRightKeyPressed()&&this.tryMoveOrAttack(1,0)||this.app.isUpLeftKeyPressed()&&this.tryMoveOrAttack(-1,-1)||this.app.isUpKeyPressed()&&this.tryMoveOrAttack(0,-1)||this.app.isUpRightKeyPressed()&&this.tryMoveOrAttack(1,-1)||this.app.isWaitKeyPressed()&&(this.player.ap=0)}tryMoveOrAttack(t,e){const i=this.player;if(!i)return!1;const s=i.x+t,r=i.y+e;for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);if(i!==e&&e.x===s&&e.y===r)return this.path&&e instanceof o.Actor?1===this.pathIndex?(this.stopAutoWalk(),e.onBump(i)):(this.stopAutoWalk(),!0):e.onBump(i)}return i.move(t,e)}recalculateViewportFocus(){const t=this.player;if(!t)return;const e=this.tileMap,i=e.tileSize.width,s=e.tileSize.height;let r=t.x*i,n=t.y*s,h=(t.x+1)*i,a=(t.y+1)*s;for(let o=t.y-this.verticalViewDistance;o<=t.y+this.verticalViewDistance;o++)for(let c=t.x-this.horizontalViewDistance;c<=t.x+this.horizontalViewDistance;c++)e.isVisible(c,o)&&(r=Math.min(r,c*i),n=Math.min(n,o*s),h=Math.max(h,(c+1)*i),a=Math.max(a,(o+1)*s));let c=t.x*i,l=t.y*s,d=c+i,u=l+s;if(this.path)for(let t=this.pathIndex;t<this.path.length;t++){const e=this.path[t];c=Math.min(c,e.x*i),l=Math.min(l,e.y*s),d=Math.max(d,(e.x+1)*i),u=Math.max(u,(e.y+1)*s)}else for(let t=0;t<this.entities.length;t++){const r=this.entities.get(t);r instanceof o.Actor&&e.isVisible(r.x,r.y)&&(c=Math.min(c,r.x*i),l=Math.min(l,r.y*s),d=Math.max(d,(r.x+1)*i),u=Math.max(u,(r.y+1)*s))}h-r<=this.viewport.width-2*this.focusMargins.x?this.viewportFocus.x=Math.round((r+h)/2):this.viewportFocus.x=Math.round((c+d)/2),a-n<=this.viewport.height-2*this.focusMargins.y?this.viewportFocus.y=Math.round((n+a)/2):this.viewportFocus.y=Math.round((l+u)/2)}doAi(t){t.ai?((t.visibleDuration>0||t.ai.alwaysActive)&&t.ai.doAi(),t.ap=0):t.ap=0}nextTurn(){if(this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.endTurn(),this.player===t&&this.recomputeFov()}if(this.turnIndex++,this.turnIndex>=this.entities.length&&(this.turnIndex=0),this.turnIndex>=0&&this.turnIndex<this.entities.length){const t=this.entities.get(this.turnIndex);t.startTurn(),this.player===t&&this.recalculateViewportFocus()}}stopAutoWalk(){this.path=void 0,this.targetTile=void 0}isBlocked(t,e){if(this.tileMap.isBlocked(t,e))return!0;for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.blocks&&s.x===t&&s.y===e)return!0}return!1}getEntityAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s.x===t&&s.y===e)return s}}getActorAt(t,e){for(let i=0;i<this.entities.length;i++){const s=this.entities.get(i);if(s instanceof o.Actor&&s.x===t&&s.y===e)return s}}recomputeFov(){if(this.player){this.tileMap.computeFov(this.player.x,this.player.y,this.horizontalViewDistance,this.verticalViewDistance);for(let t=0;t<this.entities.length;t++){const e=this.entities.get(t);e!==this.player&&(e instanceof o.Actor&&(this.tileMap.isVisible(e.x,e.y)?(e.seen||(e.seen=!0,this.player.addFloatingText(\"!\",h.Colors.WHITE),this.stopAutoWalk(),this.viewportFocus.x=(this.player.centerPixelX+e.centerPixelX)/2|0,this.viewportFocus.y=(this.player.centerPixelY+e.centerPixelY)/2|0),e.visibleDuration++):e.visibleDuration=-1))}}}};v=s([y.Serializable(\"Game\")],v),e.Game=v},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=[-1,0,1,-1,1,-1,0,1],r=[-1,-1,-1,0,0,1,1,1],o=[1.5,1,1.5,1,1,1.5,1,1.5];function n(t){let e=null,i=-1,s=1/0;for(let r=0;r<t.length;r++){const o=t[r];o.g!==1/0&&o.g+o.h<s&&(e=o,i=r,s=o.g+o.h)}return t.splice(i,1),e}function h(t){const e=[];let i=t;for(;i;)e.push(i),i=i.prev;return e.reverse(),e}e.computePath=function(t,e,i,a){!function(t,e){for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const r=t.grid[i][s];r.g=1/0,r.h=Math.min(Math.abs(s-e.x),Math.abs(i-e.y)),r.prev=null}}(t,i);const c=t.grid[e.y][e.x];c.g=0;const l=[c];for(;l.length>0;){const e=n(l);if(e.x===i.x&&e.y===i.y)return h(e);for(let n=0;n<s.length;n++){const h=e.x+s[n],c=e.y+r[n];if(h>=0&&h<t.width&&c>=0&&c<t.height){const s=t.grid[c][h],r=e.g+o[n];r<s.g&&r<=a&&(h===i.x&&c===i.y||!t.grid[c][h].blocked)&&(s.g=r,s.prev=e,l.push(s))}}}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=624,r=397,o=2567483615,n=2147483648,h=2147483647;e.RNG=class{constructor(t){this.mt=new Array(s),this.mti=s+1,this.setSeed(t||1)}setSeed(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<s;this.mti++){const t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}}nextInt(){let t=0;const e=new Array(0,o);if(this.mti>=s){var i;for(i=0;i<s-r;i++)t=this.mt[i]&n|this.mt[i+1]&h,this.mt[i]=this.mt[i+r]^t>>>1^e[1&t];for(;i<s-1;i++)t=this.mt[i]&n|this.mt[i+1]&h,this.mt[i]=this.mt[i+(r-s)]^t>>>1^e[1&t];t=this.mt[s-1]&n|this.mt[0]&h,this.mt[s-1]=this.mt[r-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0}nextFloat(){return this.nextInt()*(1/4294967296)}nextRange(t,e){return t+(this.nextFloat()*(e-t)|0)}chooseIndex(t){const e=t.reduce((t,e)=>t+e),i=this.nextRange(1,e+1);let s=0;for(let e=0;e<t.length;e++)if(i<=(s+=t[e]))return e;return t.length-1}chooseKey(t){const e=[],i=[];for(const s in t)t.hasOwnProperty(s)&&(e.push(s),i.push(t[s]));return e[this.chooseIndex(i)]}}},function(t,e,i){\"use strict\";var s,r=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const o=i(1),n=i(0);let h=s=class extends o.Rect{constructor(t,e,i,s,r,o,n,h){super(t,e,i,s),this.frames=r||1,this.loop=!!o,this.ticksPerFrame=n||30,this.colorOverride=h,this.animIndex=0,this.animDelay=0}draw(t,e,i,r){let o=this.animIndex;this.loop&&(o=(s.globalAnimIndex/this.ticksPerFrame|0)%this.frames);const n=this.x+o*this.width,h=this.y,a=r||this.colorOverride;t.drawImage(e,i,n,h,this.width,this.height,a),this.animDelay++,this.animDelay>this.ticksPerFrame&&(this.animDelay=0,this.animIndex++,this.animIndex>=this.frames&&(this.loop?this.animIndex=0:this.animIndex=this.frames-1))}clone(){return new s(this.x,this.y,this.width,this.height,this.frames,this.loop,this.ticksPerFrame,this.colorOverride)}static updateGlobalAnimations(){s.globalAnimIndex++}};h.globalAnimIndex=0,h=s=r([n.Serializable(\"Sprite\")],h),e.Sprite=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(2);e.TileMapCell=class extends s.Vec2{constructor(t,e){super(t,e),this.blocked=!0,this.blockedSight=!0,this.visible=!1,this.seen=!1,this.g=0,this.h=0,this.prev=null}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(15),o=i(10),n=i(12),h=i(9);let a=class extends r.ButtonSlot{onDrop(t){if(this.children.length>0)return!1;if(t instanceof o.ItemButton){const e=t,i=e.containerItems,s=e.stackItems.get(0);return this.add(new n.ItemShortcutButton(this.rect.clone(),i,s)),!1}return t instanceof h.TalentButton?!!t.shortcut||(this.add(new h.TalentButton(this.rect.clone(),t.talent,!0)),!1):!!(t instanceof n.ItemShortcutButton||t instanceof h.TalentButton&&t.shortcut)}};a=s([i(0).Serializable(\"ShortcutButtonSlot\")],a),e.ShortcutButtonSlot=a},function(t,e,i){\"use strict\";function s(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,\"__esModule\",{value:!0}),s(i(16)),s(i(23)),s(i(18)),s(i(43)),s(i(44)),s(i(5)),s(i(24)),s(i(45)),s(i(46)),s(i(25)),s(i(47)),s(i(26)),s(i(28)),s(i(33)),s(i(8)),s(i(11)),s(i(6)),s(i(49)),s(i(17)),s(i(35)),s(i(20)),s(i(13)),s(i(15)),s(i(52)),s(i(7)),s(i(34)),s(i(54)),s(i(10)),s(i(55)),s(i(12)),s(i(57)),s(i(58)),s(i(3)),s(i(59)),s(i(60)),s(i(40)),s(i(9)),s(i(61)),s(i(19)),s(i(62)),s(i(29)),s(i(4)),s(i(21)),s(i(30)),s(i(36)),s(i(1)),s(i(37)),s(i(0)),s(i(63)),s(i(38)),s(i(64)),s(i(14)),s(i(39)),s(i(22)),s(i(2))},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.AnimationPromise=class{constructor(){this.handlers=[]}then(t){return this.handlers.push(t),this}resolve(){for(let t=0;t<this.handlers.length;t++)this.handlers[t]()}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(18),o=i(0);let n=class extends r.AI{constructor(t,e){super(t),this.damageFunc=e}doAi(){const t=this.actor,e=t.game.player;if(e)if(t.distanceTo(e)>1.5)t.moveToward(e.x,e.y);else if(e.hp>0){const i=this.damageFunc?this.damageFunc(t,e):1;t.attack(e,i)}}};n=s([o.Serializable(\"BasicMonster\")],n),e.BasicMonster=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(18);let o=class extends r.AI{constructor(t){super(t),this.numTurns=10,this.oldAi=t.ai}doAi(){if(this.numTurns>0){const t=this.actor.game.rng;this.actor.move(t.nextRange(-1,2),t.nextRange(-1,2)),this.numTurns--}else this.actor.ai=this.oldAi}};o=s([i(0).Serializable(\"ConfusedMonster\")],o),e.ConfusedMonster=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(11),r=i(5);e.FadeInAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),o=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,o,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(11),r=i(5);e.FadeOutAnimation=class extends r.Animation{constructor(t){super(t,!0),this.duration=t}draw(t){const e=t.blackoutRect;if(!e)return;const i=1-this.countdown/this.duration,r=Math.max(1,Math.min(255,255*i|0)),o=s.fromRgb(0,0,0,r);t.app.drawImage(0,0,e.x,e.y,e.width,e.height,o,t.app.size.width,t.app.size.height)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(5);e.ProjectileAnimation=class extends s.Animation{constructor(t,e,i,s){super(s,!0),this.sprite=t,this.position=e,this.velocity=i,this.duration=s}update(){super.update(),this.position.add(this.velocity)}draw(t){const e=this.position.x-t.viewport.x,i=this.position.y-t.viewport.y;this.sprite.draw(t.app,e,i)}}},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=32,r=126;class o{isInRange(t){return t>=s&&t<=r}getStringWidth(t){let e=0;for(let i=0;i<t.length;i++)e+=this.getWidth(t.charCodeAt(i));return e}}e.Font=o;e.MonospacedFont=class extends o{constructor(t){super(),this.glyphSize=t}getOffset(t){return(t-s)*this.glyphSize.width}getWidth(){return this.glyphSize.width}getHeight(){return this.glyphSize.height}};class n extends o{constructor(t,e){super(),this.height=t,this.widths=e,this.offsets=[0];let i=0;for(let t=0;t<this.widths.length;t++)i+=this.widths[t],this.offsets.push(i)}getOffset(t){return this.offsets[t-s]}getWidth(t){return this.widths[t-s]}getHeight(){return this.height}}e.ProportionalFont=n,e.FONT_04B03=new n(8,[4,2,4,6,5,6,6,2,3,3,4,4,3,4,2,6,5,3,5,5,5,5,5,5,5,5,2,2,4,4,4,5,6,5,5,4,5,4,4,5,5,4,5,5,4,6,5,5,5,5,5,5,4,5,5,6,5,5,4,3,6,3,4,5,3,5,5,4,5,5,4,5,5,2,3,5,2,6,5,5,5,5,4,5,4,5,5,6,4,5,5,4,2,4,5,0])},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(21);e.CompoundMessage=class extends s.Message{constructor(...t){super(\"\",0),this.messages=t}draw(t,e){for(let i=0;i<this.messages.length;i++)this.messages[i].draw(t,e)}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(1),o=i(7),n=i(0);let h=class extends o.Dialog{constructor(){super(new r.Rect(0,0,100,10)),this.messages=[],this.visible=!1}showAt(t,e){if(!this.gui)return;const i=this.gui.app,s=i.font,r=s.getHeight()+2;this.rect.width=10,this.rect.height=10+this.messages.length*r;for(let t=0;t<this.messages.length;t++){const e=this.messages[t],i=10+s.getStringWidth(e.text);this.rect.width=Math.max(this.rect.width,i)}t+this.rect.width>=i.size.width?this.rect.x=t-this.rect.width-2:this.rect.x=t+2,e-this.rect.height<0?this.rect.y=e+2:this.rect.y=e-this.rect.height-2,this.rect.x<0&&(this.rect.x=0),this.rect.y<0&&(this.rect.y=0),this.visible=!0}drawContents(){if(!this.gui)return;super.drawContents();const t=this.gui.app.font.getHeight()+2,e=this.rect.x+5;let i=this.rect.y+5;for(let s=0;s<this.messages.length;s++){const r=this.messages[s];this.gui.app.drawString(r.text,e,i,r.color),i+=t}}handleInput(){return!!this.gui&&(this.gui.app.mouse.isClicked()&&(this.visible=!1),!1)}};h=s([n.Serializable(\"TooltipDialog\")],h),e.TooltipDialog=h},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(14);e.TileMapLayer=class{constructor(t,e){this.width=t,this.height=e,this.imageData=new Uint8Array(4*t*e),this.clear()}clear(){let t=0;for(;t<this.imageData.length;)this.imageData[t++]=0}getIndex(t,e){return 4*(e*this.width+t)}setTile(t,e,i){const s=this.getIndex(t,e);this.imageData[s]=i%64|0,this.imageData[s+1]=i/64|0}getTile(t,e){const i=this.getIndex(t,e);return s.getTileId(this.imageData[i],this.imageData[i+1])}isAnimated(t,e){const i=this.getIndex(t,e);return!!this.imageData[i+2]}setAnimated(t,e,i){const s=this.getIndex(t,e);this.imageData[s+2]=i?1:0}getAlpha(t,e){const i=this.getIndex(t,e);return this.imageData[i+3]}setAlpha(t,e,i){const s=this.getIndex(t,e);this.imageData[s+3]=i}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(2),n=i(53),h=i(7),a=i(0);let c=class extends h.Dialog{constructor(t,e){super(t),this.options=e,this.selectedIndex=0,this.renderer=new n.DefaultSelectOptionRenderer}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect,e=new o.Vec2(t.x+4,t.y+4);for(let t=0;t<this.options.length;t++){const i=this.options[t],s=t===this.selectedIndex;this.renderer.drawOption(this.gui,e,i,s),e.y+=this.renderer.getHeight(i,s)}}handleInput(){if(!this.gui)return!1;const t=this.gui.app;for(let e=0;e<this.options.length;e++)t.isKeyPressed(r.Keys.VK_A+e)&&(this.selectedIndex=e,this.onSelect&&this.onSelect(this.options[e]));t.isKeyPressed(r.Keys.VK_ENTER)&&this.onSelect&&this.onSelect(this.options[this.selectedIndex]),t.isKeyPressed(r.Keys.VK_ESCAPE)&&this.onCancel&&this.onCancel(),t.isKeyPressed(r.Keys.VK_UP)&&this.selectedIndex--,t.isKeyPressed(r.Keys.VK_DOWN)&&this.selectedIndex++,this.selectedIndex<0&&(this.selectedIndex+=this.options.length),this.selectedIndex>=this.options.length&&(this.selectedIndex-=this.options.length);const e=t.mouse,i=this.rect;let s=i.y+4;if(1===e.upCount&&e.x>=i.x1&&e.x<i.x2)for(let t=0;t<this.options.length;t++){const i=this.options[t],r=t===this.selectedIndex,o=this.renderer.getHeight(i,r),n=s,h=s+o;e.y>=n&&e.y<h&&(r?this.onSelect&&this.onSelect(i):this.selectedIndex=t),s+=o}return!0}};c=s([a.Serializable(\"ComplexSelectDialog\")],c),e.ComplexSelectDialog=c},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6);let o=class{getHeight(t,e){return 10}drawOption(t,e,i,s){const o=s?r.Colors.YELLOW:r.Colors.WHITE;t.app.drawString(i.name,e.x,e.y,o)}};o=s([i(0).Serializable(\"DefaultSelectOptionRenderer\")],o),e.DefaultSelectOptionRenderer=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(e),this.srcRect=t}drawContents(){if(!this.gui)return;const t=this.srcRect,e=this.rect;this.gui.app.drawImage(e.x,e.y,t.x,t.y,e.width,e.height)}};o=s([i(0).Serializable(\"ImagePanel\")],o),e.ImagePanel=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(1),n=i(7),h=i(10),a=i(56),c=i(0);let l=class extends n.Dialog{constructor(t,e,i,s){super(t),this.messages=e,this.capacity=i,this.items=s,this.modal=!0,s.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new a.ItemContainerButtonSlot(new o.Rect(0,0,24,24),s,r.Keys.VK_A+t))}addItem(t){const e=this.getExistingButton(t);if(e)return void e.stackItems.add(t);const i=this.getNextFreeSlot();i&&i.add(new h.ItemButton(i.rect.clone(),this.items,t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof h.ItemButton&&s.stackItems.contains(t)&&(s.stackItems.remove(t),0===s.stackItems.length&&i.remove(s))}}getExistingButton(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e).button;if(i&&i instanceof h.ItemButton){const e=i.stackItems.get(0);if(t.isStackable(e))return i}}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+4,s=t.y+4;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const o=this.children.get(r);o.rect.x=i,o.rect.y=s,o.rect.width=e.width,o.rect.height=e.height,(i+=e.width+2)>t.x2-e.width-4&&(i=t.x+4,s+=e.height+2)}this.rect.height=s+4-t.y,this.drawChildren()}};l=s([c.Serializable(\"ItemContainerDialog\")],l),e.ItemContainerDialog=l},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(15),o=i(10);let n=class extends r.ButtonSlot{constructor(t,e,i){super(t,i),this.items=e}onDrop(t){return t instanceof o.ItemButton}};n=s([i(0).Serializable(\"ItemContainerButtonSlot\")],n),e.ItemContainerButtonSlot=n},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(6),o=i(21),n=i(3),h=i(0),a=i(2);let c=class extends n.Panel{constructor(t,e){super(t),this.messages=[],this.maxItems=e||5}add(t,e){t instanceof n.Panel||(t instanceof o.Message?this.messages.push(t):this.messages.push(new o.Message(t,e||r.Colors.WHITE)),this.messages.length>this.maxItems&&this.messages.splice(0,this.messages.length-this.maxItems))}drawContents(){if(!this.gui)return;const t=new a.Vec2(this.rect.x,this.rect.y);if(t.y<0){const e=this.gui.app.size.height+t.y+this.rect.height;t.y=e-10*this.messages.length}for(let e=0;e<this.messages.length;e++){this.messages[e].draw(this.gui.app,t),t.x=0,t.y+=10}}handleInput(){return!1}};c=s([h.Serializable(\"MessageLog\")],c),e.MessageLog=c},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(3);let o=class extends r.Panel{constructor(t,e){super(t),this.message=e}drawContents(){if(!this.gui)return;const t=this.message,e=this.rect;this.gui.app.drawString(t.text,e.x,e.y,t.color)}};o=s([i(0).Serializable(\"MessagePanel\")],o),e.MessagePanel=o},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(7),n=i(0);let h=class extends o.Dialog{constructor(t,e,i){super(t),this.options=e,this.callback=i}drawContents(){if(!this.gui)return;super.drawContents();const t=this.rect;for(let e=0;e<this.options.length;e++){const i=String.fromCharCode(65+e)+\" - \"+this.options[e].name;this.gui.app.drawString(i,t.x+4,t.y+4+10*e)}}handleInput(){if(!this.gui)return!1;for(let t=0;t<this.options.length;t++)if(this.gui.app.isKeyPressed(r.Keys.VK_A+t))return this.callback(this.options[t]),this.close(),!0;if(this.gui.app.isKeyPressed(r.Keys.VK_ESCAPE))return this.close(),!0;const t=this.gui.app.mouse,e=this.rect;if(t.isClicked()&&t.x>=e.x1&&t.x<e.x2){if(this.closeButton&&t.x>=e.x2-16&&t.y<e.y+16)return this.close(),!0;for(let i=0;i<this.options.length;i++){const s=e.y+4+10*i,r=s+10;t.y>=s&&t.y<r&&(this.callback(this.options[i]),this.close())}}return!0}};h=s([n.Serializable(\"SelectDialog\")],h),e.SelectDialog=h},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(1),n=i(12),h=i(3),a=i(40),c=i(9),l=i(0);let d=class extends h.Panel{constructor(t,e,i){super(t),this.spacing=void 0!==i?i:2;for(let t=0;t<e;t++){const e=new a.ShortcutButtonSlot(new o.Rect(0,0,24,24),r.Keys.VK_1+t);this.add(e)}}addTalent(t,e){if(this.containsTalent(t))return;const i=this.getFreeSlot(!!e);i&&i.add(new c.TalentButton(i.rect.clone(),t,!0))}containsTalent(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof c.TalentButton&&i.button.talent===t)return!0}return!1}addItem(t,e,i){if(this.containsItem(e))return;const s=this.getFreeSlot(!!i);s&&s.add(new n.ItemShortcutButton(s.rect.clone(),t,e))}containsItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);if(i.button&&i.button instanceof n.ItemShortcutButton&&t.isStackable(i.button.shortcutItem))return!0}return!1}drawContents(){if(!this.gui)return;const t=this.gui.renderer.buttonSlotRect;if(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e);i.rect.x=this.rect.x+e*(t.width+2),i.rect.y=this.rect.y,i.rect.width=t.width,i.rect.height=t.height}this.drawChildren()}}getFreeSlot(t){if(t)for(let t=this.children.length-1;t>=0;t--){const e=this.children.get(t);if(!e.button)return e}else for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}};d=s([l.Serializable(\"ShortcutBar\")],d),e.ShortcutBar=d},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(4),o=i(1),n=i(15),h=i(7),a=i(9),c=i(0);let l=class extends h.Dialog{constructor(t,e,i,s){super(t),this.messages=e,this.capacity=i,this.talents=s,this.modal=!0,s.addListener({onAdd:(t,e)=>this.addItem(e),onRemove:(t,e)=>this.removeItem(e)});for(let t=0;t<i;t++)this.add(new n.ButtonSlot(new o.Rect(0,0,24,24),r.Keys.VK_A+t))}addItem(t){const e=this.getNextFreeSlot();e&&e.add(new a.TalentButton(e.rect.clone(),t))}removeItem(t){for(let e=0;e<this.children.length;e++){const i=this.children.get(e),s=i.button;s&&s instanceof a.TalentButton&&s.talent===t&&i.remove(s)}}getNextFreeSlot(){for(let t=0;t<this.children.length;t++){const e=this.children.get(t);if(!e.button)return e}}drawContents(){if(super.drawContents(),!this.gui||!this.gui.renderer.buttonSlotRect)return;const t=this.rect,e=this.gui.renderer.buttonSlotRect;let i=t.x+4,s=t.y+4;for(let t=0;t<this.messages.length;t++){const e=this.messages[t];this.gui.app.drawString(e.text,i,s,e.color),s+=10}for(let r=0;r<this.capacity;r++){const o=this.children.get(r);o.rect.x=i,o.rect.y=s,o.rect.width=e.width,o.rect.height=e.height,(i+=e.width+2)>t.x2-e.width-4&&(i=t.x+4,s+=e.height+2)}this.rect.height=s+4-t.y,this.drawChildren()}};l=s([c.Serializable(\"TalentsDialog\")],l),e.TalentsDialog=l},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});const r=i(17);let o=class extends r.Entity{isStackable(t){return this.name===t.name}onBump(t){return t.pickup(this),t.moveToward(this.x,this.y),!0}onPickup(t){}onUse(t){return!1}onUpdateTooltip(){}};o=s([i(0).Serializable(\"Item\")],o),e.Item=o},function(t,e,i){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});const s=i(35),r=i(31),o=i(28),n=i(20),h=i(3),a=i(27),c=i(14),l=i(22);e.Serializer=class{constructor(){this.typeLists={}}serialize(t){return{root:this.serializeObject(t),refs:this.typeLists}}serializeObject(t){if(null==t)return t;const e=typeof t;if(\"boolean\"===e||\"number\"===e||\"string\"===e)return t;if(!t.constructor)throw new Error(\"Object does not have a constructor\");if(t instanceof o.App||t instanceof n.GUI||t instanceof h.Panel||t instanceof r.RenderSet||t instanceof c.TileMap||t instanceof l.TileMapRenderer||t instanceof Function)return;if(t instanceof Array)return this.serializeArray(t);const i=a.getSerializeMetadata(t.constructor),d=i.className,u=!i.valueType,p={};if(d&&u){if(void 0!==t.__index)return{__className:d,__index:t.__index};let e=this.typeLists[d];e||(e=[],this.typeLists[d]=e),t.__index=e.length,e.push(p)}const f=Object.getOwnPropertyNames(t);let g=0;for(let e=0;e<f.length;e++){const i=f[e],r=t[i];if(\"__index\"===i)continue;if(t instanceof s.Game&&(\"tooltip\"===i||\"tooltipElement\"===i||\"messageLog\"===i))continue;const o=this.serializeObject(r);void 0!==o&&(p[i]=o,g++)}return 0!==g?d&&u?{__className:d,__index:t.__index}:p:void 0}serializeArray(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.serializeObject(t[i]));return e}}},function(t,e,i){\"use strict\";var s=this&&this.__decorate||function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(e,\"__esModule\",{value:!0});let r=class{constructor(t,e,i){this.actor=t,this.ability=e,this.rank=i||1,this.cooldown=0}use(t){return!(this.cooldown>0)&&(this.actor.cast(this.ability,t,()=>{this.cooldown=this.ability.cooldown}),!0)}};r=s([i(0).Serializable(\"Talent\")],r),e.Talent=r}])});\n//# sourceMappingURL=index.js.map","import { Actor, BasicMonster, Sprite } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Gold } from '../items/gold';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { HealthPotion } from '../items/healthpotion';\n\nexport abstract class Monster extends StatsActor {\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite, level: number) {\n    super(game, x, y, name, sprite);\n    this.ai = new BasicMonster(this, this.calculateDamage);\n    this.sentiment = Sentiment.HOSTILE;\n    this.level = level;\n    this.strength = 10 + 5 * level;\n    this.maxHp = 10 + 3 * level;\n    this.hp = this.maxHp;\n    this.armor = 4 * level;\n    this.buildLoot();\n  }\n\n  private calculateDamage(attacker: Actor, target: Actor) {\n    return (attacker as StatsActor).getDamage();\n  }\n\n  private buildLoot() {\n    const game = this.game as Game;\n\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      this.inventory.add(new Gold(game, this.x, this.y));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 2) {\n      this.inventory.add(new HealthPotion(game));\n    }\n    if (this.game.rng.nextRange(0, 6) <= 1) {\n      this.inventory.add(new EquipmentBuilder(game).withRandomDrop(Math.round(this.level / 2)).build());\n    }\n  }\n}\n","\nexport enum ItemQuality {\n  POOR = 0,\n  COMMON = 1,\n  UNCOMMON = 2,\n  RARE = 3,\n  EPIC = 4,\n  LEGENDARY = 5\n}\n","\nexport enum EquipmentSlot {\n  HEAD = 'Head',\n  NECK = 'Neck',\n  BACK = 'Back',\n  CHEST = 'Chest',\n  HANDS = 'Hands',\n  LEGS = 'Legs',\n  FEET = 'Feet',\n  RING = 'Ring',\n  MAINHAND = 'Main Hand',\n  OFFHAND = 'Off Hand'\n}\n","import {Actor, ArrayList, Sprite, TileMap} from 'wglt';\n\nimport {Buff} from '../buffs/buff';\nimport {Game} from '../game';\nimport { Player } from './player';\nimport { Equipment } from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { Gold } from '../items/gold';\n\nconst START_BLOOD = 1367;\nconst END_BLOOD = 1370;\n\nexport enum Sentiment {\n  HOSTILE = -1,\n  NEUTRAL = 0,\n  FRIENDLY = 1\n}\n\nexport abstract class StatsActor extends Actor {\n  level: number;\n  mp: number;\n  maxMp: number;\n  armor: number;\n  strength: number;\n  dexterity: number;\n  constitution: number;\n  intelligence: number;\n  showFrame: boolean;\n  sentiment: Sentiment;\n  readonly equipment: ArrayList<Equipment>;\n  readonly buffs: Buff[];\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, true);\n    this.level = 1;\n    this.mp = 1;\n    this.maxMp = 1;\n    this.armor = 0;\n    this.strength = 10;\n    this.dexterity = 10;\n    this.constitution = 10;\n    this.intelligence = 10;\n    this.recalculateMaxHp();\n    this.hp = this.maxHp;\n    this.showFrame = true;\n    this.sentiment = Sentiment.NEUTRAL;\n    this.equipment = new ArrayList<Equipment>();\n    this.buffs = [];\n\n    this.equipment.addListener({\n      onAdd: (_, item) => this.addItem(item),\n      onRemove: (_, item) => this.removeItem(item)\n    });\n  }\n\n  get strengthModifier() {\n    return this.calculateModifier(this.strength);\n  }\n\n  get dexterityModifier() {\n    return this.calculateModifier(this.dexterity);\n  }\n\n  get constitutionModifier() {\n    return this.calculateModifier(this.constitution);\n  }\n\n  get intelligenceModifier() {\n    return this.calculateModifier(this.intelligence);\n  }\n\n  private calculateModifier(abilityScore: number) {\n    return Math.floor((abilityScore - 10) / 2);\n  }\n\n  countGold() {\n    let count = 0;\n    for (let i = 0; i < this.inventory.length; i++) {\n      if (this.inventory.get(i) instanceof Gold) {\n        count++;\n      }\n    }\n    return count;\n  }\n\n  moveGold(dest: Actor, count: number) {\n    let check = 0;\n    for (let i = this.inventory.length - 1; i >= 0; i--) {\n      const item = this.inventory.get(i);\n      if (item instanceof Gold) {\n        this.inventory.remove(item);\n        dest.inventory.add(item);\n        check++;\n        if (check === count) {\n          return;\n        }\n      }\n    }\n  }\n\n  getEquipment(slot: EquipmentSlot) {\n    for (let i = 0; i < this.equipment.length; i++) {\n      const item = this.equipment.get(i);\n      if (item.slot === slot) {\n        return item;\n      }\n    }\n    return undefined;\n  }\n\n  get mainHandWeapon() {\n    return this.getEquipment(EquipmentSlot.MAINHAND);\n  }\n\n  getDamage() {\n    const weapon = this.mainHandWeapon;\n    const rng = this.game.rng;\n    let baseDamage = 1;\n    let modifier = this.strengthModifier;\n\n    if (weapon) {\n      baseDamage = rng.nextRange(weapon.minDamage, weapon.maxDamage + 1);\n      modifier = weapon.finesse ? this.dexterityModifier : this.strengthModifier;\n    }\n\n    return this.buffDamage(baseDamage + modifier);\n  }\n\n  buffDamage(damage: number) {\n    let result = damage;\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageDealt(result);\n    }\n    return result;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    if (attacker === this.game.player) {\n      // If player is attacking, then the actor is now hostile\n      this.sentiment = Sentiment.HOSTILE;\n    }\n\n    // Start by subtracting armor modifier\n    let result = Math.max(0, damage - Math.round(0.1 * this.armor));\n\n    // Apply any buffs from the target\n    for (let i = 0; i < this.buffs.length; i++) {\n      result = this.buffs[i].modifyDamageTaken(result);\n    }\n\n    // Finally apply the damage\n    super.takeDamage(attacker, result);\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.FRIENDLY) {\n      this.onTalk(player);\n    } else {\n      player.attack(this, player.getDamage());\n    }\n    return true;\n  }\n\n  onTalk(player: Player) {}\n\n  onAttack(target: Actor, damage: number) {\n    if (damage > 0) {\n      this.game.log(this.name + ' attacks ' + target.name + ' for ' + damage + ' hit points.', 0x808080FF);\n    } else {\n      this.game.log(this.name + ' attacks ' + target.name + ' but it has no effect!', 0x808080FF);\n    }\n  }\n\n  onDeath(attacker: StatsActor) {\n    const game = this.game as Game;\n    game.log(this.name + ' is dead');\n    game.entities.remove(this);\n\n    if (attacker === this.game.player) {\n      // Based on DnD xp rules\n      const player = game.player as Player;\n      const xpGain = Math.round(10 * player.level * Math.pow(2.0, (this.level - player.level) * 0.5));\n      player.addXp(xpGain);\n    }\n\n    // Add blood to the map\n    const map = game.tileMap as TileMap;\n    map.setTile(this.x, this.y, 3, game.rng.nextRange(START_BLOOD, END_BLOOD));\n\n    // Drop loot\n    for (let i = 0; i < this.inventory.length; i++) {\n      const location = game.findFreeTile(this.x, this.y, 5);\n      if (!location) {\n        break;\n      }\n      const loot = this.inventory.get(i);\n      loot.x = location.x;\n      loot.y = location.y;\n      game.entities.add(loot);\n    }\n  }\n\n  startTurn() {\n    super.startTurn();\n    for (let i = this.buffs.length - 1; i >= 0; i--) {\n      const buff = this.buffs[i];\n      buff.update();\n      if (buff.isDone()) {\n        this.buffs.splice(i, 1);\n      }\n    }\n  }\n\n  equipItem(item: Equipment) {\n    const equipped = this.getEquipment(item.slot);\n    const oldHp = this.hp;\n\n    if (equipped) {\n      this.equipment.remove(equipped);\n    }\n\n    this.inventory.remove(item);\n    this.equipment.add(item);\n\n    if (equipped) {\n      this.inventory.add(equipped);\n    }\n\n    // Have to manually restore HP\n    // When removing equipment, constitution can drop, which can drop max HP\n    // Make sure the player keeps their HP\n    this.hp = Math.min(oldHp, this.maxHp);\n  }\n\n  private addItem(item: Equipment) {\n    this.armor += item.armor;\n    this.constitution += item.constitution;\n    this.dexterity += item.dexterity;\n    this.strength += item.strength;\n    this.intelligence += item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  private removeItem(item: Equipment) {\n    this.armor -= item.armor;\n    this.constitution -= item.constitution;\n    this.dexterity -= item.dexterity;\n    this.strength -= item.strength;\n    this.intelligence -= item.intelligence;\n    this.recalculateMaxHp();\n  }\n\n  recalculateMaxHp() {\n    this.maxHp = 8 + 2 * this.level + this.constitutionModifier;\n    this.hp = Math.min(this.hp, this.maxHp);\n  }\n\n  draw() {\n    super.draw();\n\n    for (let i = 0; i < this.buffs.length; i++) {\n      this.buffs[i].draw();\n    }\n  }\n}\n","import { Sprite, Color, Colors } from \"wglt\";\nimport { Game } from \"../game\";\nimport { EquipmentSlot } from \"./equipmentslot\";\nimport { EquipmentMaterial } from \"./equipmentmaterial\";\nimport { Equipment } from \"./equipment\";\nimport { CLOTH_HELM_SPRITES, LEATHER_HELM_SPRITES, PLATE_HELM_SPRITES, ROBE_SPRITES, SHIRT_SPRITES, GLOVES_SPRITES, PANTS_SPRITES, BOOTS_SPRITES, NECKLACE_SPRITE_1, CLOAK_SPRITES, RING_SPRITES, SWORD_SPRITES, AXE_SPRITE_1, MACE_SPRITES, DAGGER_SPRITE_1, BOW_SPRITE_1, CROSSBOW_SPRITE_1, STAFF_SPRITES, SHIELD_SPRITES, BOOK_SPRITE, LANTERN_SPRITE, ORB_SPRITE } from \"./equipmentsprites\";\nimport { ItemQuality } from \"../items/itemquality\";\n\nconst DEFAULT_SPRITE = new Sprite(160, 240, 16, 24, 1, false, undefined, 0x808080FF);\n\nexport class EquipmentBuilder {\n  game: Game;\n  name: string = '';\n  sprite: Sprite = DEFAULT_SPRITE;\n  itemLevel: number = 1;\n  slot: EquipmentSlot = EquipmentSlot.HEAD;\n  material: EquipmentMaterial = EquipmentMaterial.NONE;\n  quality: ItemQuality = ItemQuality.POOR;\n  armor: number = 0;\n  strength: number = 0;\n  dexterity: number = 0;\n  constitution: number = 0;\n  intelligence: number = 0;\n  minDamage: number = 1;\n  maxDamage: number = 2;\n  ranged: boolean = false;\n  finesse: boolean = false;\n  statMultiplier: number = 1.0;\n\n  constructor(game: Game) {\n    this.game = game;\n  }\n\n  withName(name: string) {\n    this.name = name;\n    return this;\n  }\n\n  withSprite(s: Sprite, c: Color) {\n    this.sprite = new Sprite(s.x, s.y, s.width, s.height, s.frames, s.loop, s.ticksPerFrame, c);\n    return this;\n  }\n\n  withColor(color: Color) {\n    this.withSprite(this.sprite, color);\n    return this;\n  }\n\n  withItemLevel(itemLevel: number) {\n    this.itemLevel = itemLevel;\n    return this;\n  }\n\n  withSlot(slot: EquipmentSlot) {\n    this.slot = slot;\n    return this;\n  }\n\n  withMaterial(material: EquipmentMaterial) {\n    this.material = material;\n    return this;\n  }\n\n  withQuality(quality: ItemQuality) {\n    this.quality = quality;\n    return this;\n  }\n\n  withArmor(armor: number) {\n    this.armor = armor;\n    return this;\n  }\n\n  withStrength(strength: number) {\n    this.strength = strength;\n    return this;\n  }\n\n  withDexterity(dexterity: number) {\n    this.dexterity = dexterity;\n    return this;\n  }\n\n  withConstitution(constitution: number) {\n    this.constitution = constitution;\n    return this;\n  }\n\n  withIntelligence(intelligence: number) {\n    this.intelligence = intelligence;\n    return this;\n  }\n\n  withDamage(minDamage: number, maxDamage: number, ranged?: boolean, finesse?: boolean) {\n    this.minDamage = minDamage;\n    this.maxDamage = maxDamage;\n    this.ranged = !!ranged;\n    this.finesse = !!finesse;\n    return this;\n  }\n\n  withRandomDrop(itemLevel: number, quality?: ItemQuality) {\n    this.itemLevel = itemLevel;\n    if (quality !== undefined) {\n      this.quality = quality;\n    } else {\n      this.chooseQuality();\n    }\n    this.chooseSlot();\n    this.chooseFlair();\n    return this;\n  }\n\n  private chooseQuality() {\n    const rng = this.game.rng;\n    const quality = rng.nextRange(0, 100);\n    if (quality > 99) {\n      this.quality = ItemQuality.EPIC;\n      this.statMultiplier = 1.15;\n    } else if (quality > 90) {\n      this.quality = ItemQuality.RARE;\n      this.statMultiplier = 1.10;\n    } else if (quality > 75) {\n      this.quality = ItemQuality.UNCOMMON;\n      this.statMultiplier = 1.05;\n    } else if (quality > 40) {\n      this.quality = ItemQuality.COMMON;\n      this.statMultiplier = 1.00;\n    } else {\n      this.quality = ItemQuality.POOR;\n      this.statMultiplier = 0.50;\n    }\n  }\n\n  private chooseSlot() {\n    switch (this.game.rng.nextRange(0, 10)) {\n      case 0:\n        this.chooseHead();\n        break;\n      case 1:\n        this.chooseNeck();\n        break;\n      case 2:\n        this.chooseBack();\n        break;\n      case 3:\n        this.chooseChest();\n        break;\n      case 4:\n        this.chooseHands();\n        break;\n      case 5:\n        this.chooseLegs();\n        break;\n      case 6:\n        this.chooseFeet();\n        break;\n      case 7:\n        this.chooseRing();\n        break;\n      case 8:\n        this.chooseMainHand();\n        break;\n      case 9:\n        this.chooseOffHand();\n        break;\n    }\n  }\n\n  private chooseHead() {\n    this.slot = EquipmentSlot.HEAD;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Cowl', 'Crown', 'Hood', 'Wizard Hat');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(CLOTH_HELM_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Hood', 'Cover', 'Facemask', 'Mask');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(LEATHER_HELM_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Helm', 'Helmet', 'Headguard', 'Faceguard', 'Greathelm');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PLATE_HELM_SPRITES);\n        break;\n    }\n  }\n\n  private chooseNeck() {\n    this.slot = EquipmentSlot.NECK;\n    this.name = this.chooseValue('Necklace');\n    this.sprite = NECKLACE_SPRITE_1;\n  }\n\n  private chooseBack() {\n    this.slot = EquipmentSlot.BACK;\n    this.name = this.chooseValue('Cloak');\n    this.sprite = this.chooseArrayValue(CLOAK_SPRITES);\n    this.armor = Math.ceil(this.itemLevel * this.statMultiplier);\n  }\n\n  private chooseChest() {\n    this.slot = EquipmentSlot.CHEST;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Robe', 'Tunic');\n        this.armor = Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(ROBE_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Vest', 'Chestpiece', 'Tunic');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Breastplate', 'Chestguard');\n        this.armor = Math.ceil(4.5 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(SHIRT_SPRITES);\n        break;\n    }\n  }\n\n  private chooseHands() {\n    this.slot = EquipmentSlot.HANDS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Gloves', 'Wraps');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Gloves', 'Gauntlets');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(GLOVES_SPRITES);\n        break;\n    }\n  }\n\n  private chooseLegs() {\n    this.slot = EquipmentSlot.LEGS;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Leggings', 'Pants');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Legguards', 'Pants');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Legplates', 'Legguards');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(PANTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseFeet() {\n    this.slot = EquipmentSlot.FEET;\n    switch (this.game.rng.nextRange(0, 3)) {\n      case 0:\n        this.material = EquipmentMaterial.CLOTH;\n        this.name = this.chooseValue('Boots', 'Sandals', 'Shoes', 'Slippers', 'Footpads');\n        this.armor = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 1:\n        this.material = EquipmentMaterial.LEATHER;\n        this.name = this.chooseValue('Boots', 'Shoes', 'Treads');\n        this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n      case 2:\n        this.material = EquipmentMaterial.PLATE;\n        this.name = this.chooseValue('Boots', 'Greaves', 'Sabatons');\n        this.armor = Math.ceil(3.0 * this.itemLevel * this.statMultiplier);\n        this.sprite = this.chooseArrayValue(BOOTS_SPRITES);\n        break;\n    }\n  }\n\n  private chooseRing() {\n    this.slot = EquipmentSlot.RING;\n    this.name = this.chooseValue('Ring', 'Band', 'Signet', 'Circle', 'Loop');\n    this.sprite = this.chooseArrayValue(RING_SPRITES);\n  }\n\n  private chooseMainHand() {\n    this.slot = EquipmentSlot.MAINHAND;\n    this.minDamage = Math.floor(1.0 * this.itemLevel * this.statMultiplier);\n    this.maxDamage = Math.ceil(1.2 * this.itemLevel * this.statMultiplier);\n    switch (this.game.rng.nextRange(0, 7)) {\n      case 0:\n        this.name = this.chooseValue('Sword', 'Blade', 'Slicer', 'Sabre');\n        this.sprite = this.chooseArrayValue(SWORD_SPRITES);\n        break;\n      case 1:\n        this.name = this.chooseValue('Axe', 'Ripper', 'Slicer');\n        this.sprite = AXE_SPRITE_1;\n        break;\n      case 2:\n        this.name = this.chooseValue('Mace', 'Hammer', 'Gavel', 'Club');\n        this.sprite = this.chooseArrayValue(MACE_SPRITES);\n        break;\n      case 3:\n        this.name = this.chooseValue('Dagger', 'Knife', 'Edge');\n        this.sprite = DAGGER_SPRITE_1;\n        this.finesse = true;\n        break;\n      case 4:\n        this.name = this.chooseValue('Bow', 'Shortbow', 'Longbow', 'Recurve', 'Greatbow');\n        this.sprite = BOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 5:\n        this.name = this.chooseValue('Crossbow', 'Bolt-Thrower', 'Speargun', 'Repeater');\n        this.sprite = CROSSBOW_SPRITE_1;\n        this.finesse = true;\n        this.ranged = true;\n        break;\n      case 6:\n        this.name = this.chooseValue('Staff', 'Spellstaff');\n        this.sprite = this.chooseArrayValue(STAFF_SPRITES);\n        break;\n    }\n  }\n\n  private chooseOffHand() {\n    this.slot = EquipmentSlot.OFFHAND;\n    const dice = this.game.rng.nextRange(0, 10);\n    if (dice === 9) {\n      this.name = 'Lantern';\n      this.sprite = LANTERN_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice === 8) {\n      this.name = 'Orb';\n      this.sprite = ORB_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else if (dice >= 5) {\n      this.name = this.chooseValue('Spellbook', 'Tome');\n      this.sprite = BOOK_SPRITE;\n      this.intelligence = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n\n    } else {\n      this.name = this.chooseValue('Shield', 'Shield Wall', 'Bulwark', 'Barrier');\n      this.sprite = this.chooseArrayValue(SHIELD_SPRITES);\n      this.armor = Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n      this.constitution = Math.ceil(1.0 * this.itemLevel * this.statMultiplier);\n    }\n  }\n\n  private chooseFlair() {\n    switch (this.quality) {\n      case ItemQuality.POOR:\n        this.choosePoorFlair();\n        break;\n      case ItemQuality.COMMON:\n        this.chooseCommonFlair();\n        break;\n      case ItemQuality.UNCOMMON:\n        this.chooseUncommonFlair();\n        break;\n      case ItemQuality.RARE:\n        this.chooseRareFlair();\n        break;\n      case ItemQuality.EPIC:\n        this.chooseEpicFlair();\n        break;\n      case ItemQuality.LEGENDARY:\n        this.chooseLegendaryFlair();\n        break;\n    }\n  }\n\n  private choosePoorFlair() {\n    this.name = this.chooseValue('Patched', 'Ragged', 'Chewed', 'Worn', 'Loose') + ' ' + this.name;\n    this.withColor(Colors.LIGHT_GRAY);\n  }\n\n  private chooseCommonFlair() {\n    this.name = this.chooseValue('Hunting', 'Cadet', 'Veteran', 'Simple', 'Pioneer') + ' ' + this.name;\n    this.withColor(0xC0A080FF);\n  }\n\n  private chooseUncommonFlair() {\n    switch (this.game.rng.nextRange(0, 10)) {\n      case 0:\n        this.name += ' of the Tiger';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.ORANGE);\n        break;\n      case 1:\n        this.name += ' of the Bear';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.BROWN);\n        break;\n      case 2:\n        this.name += ' of the Gorilla';\n        this.strength += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_CYAN);\n        break;\n      case 3:\n        this.name += ' of the Monkey';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_GREEN);\n        break;\n      case 4:\n        this.name += ' of the Falcon';\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_RED);\n        break;\n      case 5:\n        this.name += ' of the Eagle';\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_BLUE);\n        break;\n      case 6:\n        this.name += ' of Constitution';\n        this.constitution += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_BLUE);\n        break;\n      case 7:\n        this.name += ' of Strength';\n        this.strength += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_RED);\n        break;\n      case 8:\n        this.name += ' of Dexterity';\n        this.dexterity += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_CYAN);\n        break;\n      case 9:\n        this.name += ' of Intelligence';\n        this.intelligence += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.WHITE);\n        break;\n    }\n  }\n\n  private chooseRareFlair() {\n    switch (this.game.rng.nextRange(0, 4)) {\n      case 0:\n        this.name = 'Elven ' + this.name;\n        this.dexterity += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.intelligence += Math.ceil(this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.LIGHT_MAGENTA);\n        break;\n      case 1:\n        this.name = 'Obsidian ' + this.name;\n        this.strength += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_MAGENTA);\n        break;\n      case 2:\n        this.name = 'Saphiron ' + this.name;\n        this.dexterity += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_BLUE);\n        break;\n      case 3:\n        this.name = 'Scarlet ' + this.name;\n        this.intelligence += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.constitution += Math.ceil(1.5 * this.itemLevel * this.statMultiplier);\n        this.withColor(Colors.DARK_RED);\n        break;\n    }\n  }\n\n  private chooseEpicFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.0 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseLegendaryFlair() {\n    this.name = 'Cody\\'s ' + this.name;\n    this.dexterity += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.strength += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.intelligence += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.constitution += Math.ceil(2.5 * this.itemLevel * this.statMultiplier);\n    this.withColor(Colors.LIGHT_BLUE);\n  }\n\n  private chooseValue<T>(...values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  private chooseArrayValue<T>(values: T[]): T {\n    return values[this.game.rng.nextRange(0, values.length)];\n  }\n\n  build() {\n    return new Equipment(this);\n  }\n}\n","\nexport enum EquipmentMaterial {\n  NONE = '',\n  CLOTH = 'Cloth',\n  LEATHER = 'Leather',\n  MAIL = 'Mail',\n  PLATE = 'Plate'\n}\n","import { Sprite } from \"wglt\";\n\nconst W = 16;\nconst H = 24;\nconst C = 0x808080FF;\n\nexport const SWORD_SPRITE_1 = new Sprite(608, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_2 = new Sprite(624, 96, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_3 = new Sprite(752, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITE_4 = new Sprite(768, 120, W, H, 1, false, undefined, C);\nexport const SWORD_SPRITES = [\n  SWORD_SPRITE_1,\n  SWORD_SPRITE_2,\n  SWORD_SPRITE_3,\n  SWORD_SPRITE_4,\n];\n\nexport const MACE_SPRITE_1 = new Sprite(640, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_2 = new Sprite(688, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_3 = new Sprite(704, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_4 = new Sprite(720, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_5 = new Sprite(736, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITE_6 = new Sprite(833, 96, W, H, 1, false, undefined, C);\nexport const MACE_SPRITES = [\n  MACE_SPRITE_1,\n  MACE_SPRITE_2,\n  MACE_SPRITE_3,\n  MACE_SPRITE_4,\n  MACE_SPRITE_5,\n  MACE_SPRITE_6,\n];\n\nexport const DAGGER_SPRITE_1 = new Sprite(672, 96, W, H, 1, false, undefined, C);\n\nexport const AXE_SPRITE_1 = new Sprite(752, 96, W, H, 1, false, undefined, C);\n\nexport const BOW_SPRITE_1 = new Sprite(880, 96, W, H, 1, false, undefined, C);\n\nexport const CROSSBOW_SPRITE_1 = new Sprite(896, 96, W, H, 1, false, undefined, C);\n\nexport const STAFF_SPRITE_1 = new Sprite(896, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_2 = new Sprite(608, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_3 = new Sprite(624, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_4 = new Sprite(640, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITE_5 = new Sprite(656, 120, W, H, 1, false, undefined, C);\nexport const STAFF_SPRITES = [\n  STAFF_SPRITE_1,\n  STAFF_SPRITE_2,\n  STAFF_SPRITE_3,\n  STAFF_SPRITE_4,\n  STAFF_SPRITE_5,\n];\n\nexport const SHIRT_SPRITE_1 = new Sprite(608, 144, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_2 = new Sprite(608, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_3 = new Sprite(624, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_4 = new Sprite(640, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_5 = new Sprite(656, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_6 = new Sprite(672, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_7 = new Sprite(688, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_8 = new Sprite(704, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_9 = new Sprite(720, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_10 = new Sprite(736, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITE_11 = new Sprite(752, 264, W, H, 1, false, undefined, C);\nexport const SHIRT_SPRITES = [\n  SHIRT_SPRITE_1,\n  SHIRT_SPRITE_2,\n  SHIRT_SPRITE_3,\n  SHIRT_SPRITE_4,\n  SHIRT_SPRITE_5,\n  SHIRT_SPRITE_6,\n  SHIRT_SPRITE_7,\n  SHIRT_SPRITE_8,\n  SHIRT_SPRITE_9,\n  SHIRT_SPRITE_10,\n  SHIRT_SPRITE_11,\n];\n\nexport const ROBE_SPRITE_1 = new Sprite(608, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_2 = new Sprite(624, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_3 = new Sprite(640, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_4 = new Sprite(656, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_5 = new Sprite(672, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_6 = new Sprite(688, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_7 = new Sprite(704, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_8 = new Sprite(720, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_9 = new Sprite(736, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITE_10 = new Sprite(752, 288, W, H, 1, false, undefined, C);\nexport const ROBE_SPRITES = [\n  ROBE_SPRITE_1,\n  ROBE_SPRITE_2,\n  ROBE_SPRITE_3,\n  ROBE_SPRITE_4,\n  ROBE_SPRITE_5,\n  ROBE_SPRITE_6,\n  ROBE_SPRITE_7,\n  ROBE_SPRITE_8,\n  ROBE_SPRITE_9,\n  ROBE_SPRITE_10,\n];\n\nexport const HELM_SPRITE_1 = new Sprite(608, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_2 = new Sprite(624, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_3 = new Sprite(640, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_4 = new Sprite(656, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_5 = new Sprite(672, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_6 = new Sprite(688, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_7 = new Sprite(704, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_8 = new Sprite(720, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_9 = new Sprite(736, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_10 = new Sprite(752, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_11 = new Sprite(768, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_12 = new Sprite(784, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_13 = new Sprite(800, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_14 = new Sprite(816, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_15 = new Sprite(832, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_16 = new Sprite(848, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_17 = new Sprite(864, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_18 = new Sprite(880, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITE_19 = new Sprite(896, 240, W, H, 1, false, undefined, C);\nexport const HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_3,\n  HELM_SPRITE_4,\n  HELM_SPRITE_5,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const CLOTH_HELM_SPRITES = [\n  HELM_SPRITE_12,\n  HELM_SPRITE_13,\n  HELM_SPRITE_14,\n  HELM_SPRITE_15,\n  HELM_SPRITE_16,\n];\nexport const LEATHER_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_2,\n  HELM_SPRITE_4,\n  HELM_SPRITE_6,\n  HELM_SPRITE_7,\n  HELM_SPRITE_17,\n  HELM_SPRITE_18,\n  HELM_SPRITE_19,\n];\nexport const PLATE_HELM_SPRITES = [\n  HELM_SPRITE_1,\n  HELM_SPRITE_4,\n  HELM_SPRITE_8,\n  HELM_SPRITE_9,\n  HELM_SPRITE_10,\n  HELM_SPRITE_11,\n  HELM_SPRITE_19\n];\n\nexport const GLOVES_SPRITE_1 = new Sprite(608, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_2 = new Sprite(624, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_3 = new Sprite(640, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_4 = new Sprite(656, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_5 = new Sprite(672, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_6 = new Sprite(688, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_7 = new Sprite(704, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_8 = new Sprite(720, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_9 = new Sprite(736, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITE_10 = new Sprite(752, 312, W, H, 1, false, undefined, C);\nexport const GLOVES_SPRITES = [\n  GLOVES_SPRITE_1,\n  GLOVES_SPRITE_2,\n  GLOVES_SPRITE_3,\n  GLOVES_SPRITE_4,\n  GLOVES_SPRITE_5,\n  GLOVES_SPRITE_6,\n  GLOVES_SPRITE_7,\n  GLOVES_SPRITE_8,\n  GLOVES_SPRITE_9,\n  GLOVES_SPRITE_10,\n];\n\nexport const PANTS_SPRITE_1 = new Sprite(656, 144, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_2 = new Sprite(768, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_3 = new Sprite(784, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_4 = new Sprite(800, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_5 = new Sprite(816, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_6 = new Sprite(832, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITE_7 = new Sprite(848, 312, W, H, 1, false, undefined, C);\nexport const PANTS_SPRITES = [\n  PANTS_SPRITE_1,\n  PANTS_SPRITE_2,\n  PANTS_SPRITE_3,\n  PANTS_SPRITE_4,\n  PANTS_SPRITE_5,\n  PANTS_SPRITE_6,\n  PANTS_SPRITE_7,\n];\n\nexport const BOOTS_SPRITE_1 = new Sprite(640, 144, W, H, 1, false, undefined, C);\nexport const BOOTS_SPRITES = [\n  BOOTS_SPRITE_1,\n];\n\nexport const SHIELD_SPRITE_1 = new Sprite(688, 144, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_2 = new Sprite(608, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_3 = new Sprite(624, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_4 = new Sprite(640, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_5 = new Sprite(656, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_6 = new Sprite(672, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_7 = new Sprite(688, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_8 = new Sprite(704, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_9 = new Sprite(720, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_10 = new Sprite(736, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_11 = new Sprite(752, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_12 = new Sprite(768, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_13 = new Sprite(784, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_14 = new Sprite(800, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_15 = new Sprite(816, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_16 = new Sprite(832, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITE_17 = new Sprite(848, 216, W, H, 1, false, undefined, C);\nexport const SHIELD_SPRITES = [\n  SHIELD_SPRITE_1,\n  SHIELD_SPRITE_2,\n  SHIELD_SPRITE_3,\n  SHIELD_SPRITE_4,\n  SHIELD_SPRITE_5,\n  SHIELD_SPRITE_6,\n  SHIELD_SPRITE_7,\n  SHIELD_SPRITE_8,\n  SHIELD_SPRITE_9,\n  SHIELD_SPRITE_10,\n  SHIELD_SPRITE_11,\n  SHIELD_SPRITE_12,\n  SHIELD_SPRITE_13,\n  SHIELD_SPRITE_14,\n  SHIELD_SPRITE_15,\n  SHIELD_SPRITE_16,\n  SHIELD_SPRITE_17,\n];\n\nexport const NECKLACE_SPRITE_1 = new Sprite(768, 144, W, H, 1, false, undefined, C);\n\nexport const RING_SPRITE_1 = new Sprite(784, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITE_2 = new Sprite(800, 144, W, H, 1, false, undefined, C);\nexport const RING_SPRITES = [\n  RING_SPRITE_1,\n  RING_SPRITE_2\n];\n\nexport const CLOAK_SPRITE_1 = new Sprite(768, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_2 = new Sprite(784, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_3 = new Sprite(800, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_4 = new Sprite(816, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_5 = new Sprite(832, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_6 = new Sprite(848, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITE_7 = new Sprite(864, 288, W, H, 1, false, undefined, C);\nexport const CLOAK_SPRITES = [\n  CLOAK_SPRITE_1,\n  CLOAK_SPRITE_2,\n  CLOAK_SPRITE_3,\n  CLOAK_SPRITE_4,\n  CLOAK_SPRITE_5,\n  CLOAK_SPRITE_6,\n  CLOAK_SPRITE_7,\n];\n\nexport const LANTERN_SPRITE = new Sprite(880, 168, W, H, 1, false, undefined, C);\nexport const ORB_SPRITE = new Sprite(848, 168, W, H, 1, false, undefined, C);\nexport const CLOCK_SPRITE = new Sprite(880, 144, W, H, 1, false, undefined, C);\nexport const BOOK_SPRITE = new Sprite(816, 168, W, H, 1, false, undefined, C);\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterClass {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Actor, Colors, Game, Message, Sprite, Serializable} from 'wglt';\nimport { BaseItem } from './baseitem';\nimport { ItemQuality } from './itemquality';\n\nconst HEAL_AMOUNT = 4;\n\nconst NAME = 'Healing Potion';\nconst SPRITE = new Sprite(656, 168, 16, 24, 1, true, undefined, 0xFF0000FF);\n\n@Serializable('HealthPotion')\nexport class HealthPotion extends BaseItem {\n  constructor(game: Game) {\n    super(game, NAME, SPRITE, ItemQuality.COMMON, 5, 20, 5);\n  }\n\n  addTooltipDescription(tooltipMessages: Message[]) {\n    tooltipMessages.push(new Message('Use: Restore 10 health', Colors.LIGHT_GREEN));\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    if (user.hp === user.maxHp) {\n      this.game.log('You are already at full health.', Colors.DARK_RED);\n      return false;\n    }\n\n    this.game.log('Your wounds start to feel better!', Colors.LIGHT_MAGENTA);\n    user.takeHeal(HEAL_AMOUNT);\n    user.inventory.remove(this);\n    user.ap--;\n    return true;\n  }\n}\n","import { Item, Message, Game, Sprite, Colors } from \"wglt\";\nimport { ItemQuality } from \"./itemquality\";\n\nconst COLOR_POOR = 0x9D9D9DFF;\nconst COLOR_COMMON = 0xFFFFFFFF;\nconst COLOR_UNCOMMON = 0x1EFF00FF;\nconst COLOR_RARE = 0x0070DDFF;\nconst COLOR_EPIC = 0xA335EEFF;\nconst COLOR_LEGENDARY = 0xFF8000FF;\n\nexport abstract class BaseItem extends Item {\n  readonly quality: ItemQuality;\n  readonly itemLevel: number;\n  readonly maxStack: number;\n  readonly sellPrice: number;\n\n  constructor(\n      game: Game,\n      name: string,\n      sprite: Sprite,\n      quality: ItemQuality,\n      itemLevel: number,\n      maxStack: number,\n      sellPrice: number) {\n    super(game, 0, 0, name, sprite, false);\n    this.quality = quality;\n    this.itemLevel = itemLevel;\n    this.maxStack = maxStack;\n    this.sellPrice = sellPrice;\n    this.onUpdateTooltip();\n  }\n\n  getColor(quality: ItemQuality) {\n    switch (quality) {\n      case ItemQuality.COMMON:\n        return COLOR_COMMON;\n      case ItemQuality.UNCOMMON:\n        return COLOR_UNCOMMON;\n      case ItemQuality.RARE:\n        return COLOR_RARE;\n      case ItemQuality.EPIC:\n        return COLOR_EPIC;\n      case ItemQuality.LEGENDARY:\n        return COLOR_LEGENDARY;\n      default:\n        return COLOR_POOR;\n    }\n  }\n\n  onUpdateTooltip() {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel, Colors.YELLOW));\n\n    this.addTooltipDescription(this.tooltipMessages);\n\n    if (this.maxStack > 1) {\n      this.tooltipMessages.push(new Message('Max Stack: ' + this.maxStack, Colors.WHITE));\n    }\n\n    if (this.sellPrice > 1) {\n      this.tooltipMessages.push(new Message('Sell Price: ' + this.sellPrice, Colors.WHITE));\n    }\n  }\n\n  addTooltipDescription(tooltipMessages: Message[]) { }\n}\n","import {Message, Sprite} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nexport abstract class CharacterRace {\n  readonly name: string;\n  readonly icon: Sprite;\n  readonly description: string;\n  readonly details: Message[];\n\n  constructor(name: string, icon: Sprite, description: string, details: Message[]) {\n    this.name = name;\n    this.icon = icon;\n    this.description = description;\n    this.details = details;\n  }\n\n  abstract initPlayer(player: Player): void;\n}","import {Ability, Actor, Colors, fromRgb, Message, SlideAnimation, Sprite, TargetType, TileMapCell, Serializable} from 'wglt';\nimport {Stunned} from '../ai/stunned';\n\nconst LEAP_RANGE = 3;\nconst LEAP_RADIUS = 2;\nconst LEAP_COLOR = fromRgb(0xFF, 0x80, 0x80);\nconst LEAP_SPRITE = new Sprite(720, 336, 16, 24, undefined, undefined, undefined, LEAP_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Heroic Leap', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Stun all enemies within 1 tile.', Colors.YELLOW)\n];\n\n@Serializable('LeapAbility')\nexport class LeapAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = LEAP_SPRITE;\n    this.name = 'leap';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = LEAP_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > LEAP_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && game.tileMap.isBlocked(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target is blocked.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const existing = game.getActorAt(target.x, target.y);\n    if (existing) {\n      if (caster === game.player) {\n        game.log('Target is occupied.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (target.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (target.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = target.x;\n      caster.y = target.y;\n\n      let count = 0;\n      for (let i = game.entities.length - 1; i >= 0; i--) {\n        const entity = game.entities.get(i);\n        if (entity === caster) {\n          continue;\n        }\n        if (entity instanceof Actor && entity.distanceTo(target) < LEAP_RADIUS) {\n          entity.ai = new Stunned(entity, 1);\n          count++;\n        }\n      }\n\n      if (count > 0) {\n        game.log('Stunned ' + count + ' foes!', LEAP_COLOR);\n      }\n      caster.ap--;\n    });\n\n    return true;\n  }\n}\n","import {Ability, Actor, Colors, Entity, Game, Message, ProjectileAnimation, Sprite, TargetType, Vec2, Serializable} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst LIGHTNING_RANGE = 5;\nconst MANA_COST = 10;\nconst TOOLTIP_MESSAGES = [\n  new Message('Lightning', Colors.WHITE),\n  new Message(MANA_COST + ' mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Hurls a bolt of lightning at the nearest', Colors.YELLOW),\n  new Message('enemy dealing 4 + INT damage.', Colors.YELLOW),\n];\n\n@Serializable('LightningAbility')\nexport class LightningAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = new Sprite(158, 10, 16, 24, undefined, undefined, undefined, 0xFFFF00FF);\n    this.name = 'lightning';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = LIGHTNING_RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    const game = caster.game;\n    // Find closest enemy (inside a maximum range) and damage it\n    const monster = this.getClosestMonster(game, caster, caster.x, caster.y, LIGHTNING_RANGE);\n    if (!monster) {\n      game.log('No enemy is close enough to strike.', Colors.LIGHT_RED);\n      return false;\n    }\n\n    // Zap it!\n    game.log('A lightning bolt strikes the ' + monster.name + ' with a loud thunder!', Colors.LIGHT_BLUE);\n\n    // Calculate damage\n    const damage = 4 + caster.intelligenceModifier;\n\n    // Create lightning animation\n    const explosion = new Sprite(256, 408, 16, 24, 2, true, 8, Colors.YELLOW);\n    game.addAnimation(new ProjectileAnimation(explosion, new Vec2(monster.pixelX, monster.pixelY), new Vec2(0, 0), 32)).then(() => {\n      game.log('The damage is ' + damage + ' hit points', Colors.LIGHT_BLUE);\n      monster.takeDamage(caster, damage);\n      caster.ap--;\n    });\n\n    return true;\n  }\n\n  private getClosestMonster(game: Game, player: Entity, x: number, y: number, range: number) {\n    let minDist = range + 1;\n    let result = null;\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities.get(i);\n      if (entity === player) {\n        continue;\n      }\n      if (!(entity instanceof Actor)) {\n        continue;\n      }\n      if (game.tileMap && !game.tileMap.isVisible(entity.x, entity.y)) {\n        continue;\n      }\n      const dist = entity.distance(x, y);\n      if (dist < minDist) {\n        minDist = dist;\n        result = entity;\n      }\n    }\n    return result;\n  }\n}","import {Actor, Colors, Game, Item, Message, Sprite, Serializable} from 'wglt';\n\nconst SPRITE = new Sprite(896, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\nconst TOOLTIPS = [\n  new Message('Gold', Colors.WHITE),\n  new Message('The coin of the realm.', Colors.WHITE),\n];\n\n@Serializable('Gold')\nexport class Gold extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'gold', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up gold coins', Colors.LIGHT_GREEN);\n  }\n}\n","import { getTileId } from \"wglt\";\n\nexport enum Tiles {\n  EMPTY = 0,\n  SHADOW = getTileId(0, 3),\n  WALL = getTileId(0, 19),\n  HALF_WALL = getTileId(0, 20),\n  HALF_WALL2 = getTileId(1, 20),\n  HALF_WALL3 = getTileId(2, 20),\n  FLOOR = getTileId(13, 17),\n  WATER = getTileId(0, 18),\n  BRIDGE = getTileId(15, 27),\n  COBWEB_NORTHWEST = getTileId(28, 22),\n  COBWEB_NORTHEAST = getTileId(29, 22),\n  COBWEB_SOUTHWEST = getTileId(30, 22),\n  COBWEB_SOUTHEAST = getTileId(31, 22),\n  CLOSED_DOOR = getTileId(7, 19),\n  STAIRS_DOWN = getTileId(14, 18),\n  STAIRS_UP = getTileId(15, 18),\n  BARREL = getTileId(24, 19),\n  STATUE = getTileId(16, 20),\n  GRASS = getTileId(0, 17),\n  TREE1 = getTileId(20, 23),\n  TREE2 = getTileId(22, 23),\n  PATH = getTileId(18, 17),\n  FENCE1 = getTileId(16, 22),\n  FENCE2 = getTileId(17, 22),\n  FENCE3 = getTileId(18, 22),\n  FENCE4 = getTileId(19, 22),\n  FENCE5 = getTileId(20, 22),\n  FENCE6 = getTileId(21, 22),\n  FENCE7 = getTileId(22, 22),\n  FENCE8 = getTileId(23, 22),\n  FENCE9 = getTileId(24, 22),\n  FENCE10 = getTileId(25, 22),\n};\n","import { StatsActor } from '../entities/statsactor';\n\nexport abstract class Buff {\n  readonly actor: StatsActor;\n\n  constructor(actor: StatsActor) {\n    this.actor = actor;\n  }\n\n  /**\n   * Called once per turn.\n   * For example, a curse might countdown over time.\n   */\n  update() { }\n\n  /**\n   * Modifies damage taken.\n   * For example, a bubble might mitigate incoming damage.\n   * @param damage Original damage taken.\n   */\n  modifyDamageTaken(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Modifies damage dealt.\n   * For example, rage doubles output damage.\n   * @param damage Original damage dealt.\n   */\n  modifyDamageDealt(damage: number) {\n    return damage;\n  }\n\n  /**\n   * Optionally draw an overlay over the player.\n   * For example, a bubble might draw a buble around the player.\n   */\n  draw() { }\n\n  isDone() {\n    return false;\n  }\n}\n","import {Color, Colors, GUI, SelectOption, SelectOptionRenderer, Vec2} from 'wglt';\n\n\nexport class MenuItemRenderer implements SelectOptionRenderer {\n  readonly expandedHeight: number;\n  readonly collapsedHeight: number;\n\n  constructor(expandedHeight: number, collapsedHeight: number) {\n    this.expandedHeight = expandedHeight;\n    this.collapsedHeight = collapsedHeight;\n  }\n\n  drawOption(gui: GUI, point: Vec2, option: SelectOption, selected?: boolean) {\n    const app = gui.app;\n    let x = point.x;\n    const y = point.y;\n    let iconColor: Color|undefined = Colors.GRAY;\n    let titleColor = Colors.GRAY;\n    let descColor = Colors.GRAY;\n\n    if (selected) {\n      iconColor = undefined;\n      titleColor = Colors.YELLOW;\n      descColor = Colors.WHITE;\n    }\n\n    if (option.icon) {\n      option.icon.draw(app, x, y, iconColor);\n      x += option.icon.width + 2;\n    }\n\n    app.drawString(option.name, x, y, titleColor);\n\n    if (option.description) {\n      app.drawString(option.description, x + 3, y + 10, descColor);\n    }\n\n    if (selected && option.details) {\n      for (let j = 0; j < option.details.length; j++) {\n        const msg = option.details[j];\n        const color = selected ? msg.color : Colors.LIGHT_GRAY;\n        app.drawString(msg.text, x + 3, y + 20 + j * 10, color);\n      }\n    }\n  }\n\n  getHeight(_: SelectOption, selected: boolean) {\n    return selected ? this.expandedHeight : this.collapsedHeight;\n  }\n}","import { Item, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\n@Serializable('Portal')\nexport class Portal extends Item {\n  other?: Portal;\n  fade: boolean;\n\n  constructor(game: Game, x: number, y: number, name: string, sprite: Sprite) {\n    super(game, x, y, name, sprite, false);\n    this.zIndex = 0;\n    this.fade = false;\n  }\n\n  onBump(_: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n\n    (this.game as Game).warpToPoint(exit);\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LeapAbility} from '../abilities/leap';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, MACE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { ItemQuality } from '../items/itemquality';\n\nconst NAME = 'Paladin';\nconst ICON = new Sprite(504, 700, 24, 26, undefined, undefined, undefined, 0xFF8080FF);\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0xFF8080FF);\nconst DESC = 'Holy warriors commanding the power of the light';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Paladin')\nexport class Paladin extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.CHEST)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.LEGS)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.FEET)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Battleworn Hammer')\n        .withItemLevel(1)\n        .withQuality(ItemQuality.COMMON)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withDamage(1, 2)\n        .withSprite(MACE_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.strength += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, Serializable} from 'wglt';\nimport {StatsActor} from '../entities/statsactor';\n\nconst SPRITE = new Sprite(672, 144, 16, 24, 1, false, undefined, 0xFFD0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Flash Heal', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('A fast spell that heals an ally', Colors.YELLOW),\n  new Message('for 1d8 + INT points.', Colors.YELLOW),\n];\n\n@Serializable('FlashHealAbility')\nexport class FlashHealAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Flash Heal';\n    this.targetType = TargetType.SELF;\n    this.minRange = 0;\n    this.maxRange = 0;\n    this.cooldown = 5;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    if (caster.hp === caster.maxHp) {\n      if (caster === caster.game.player) {\n        caster.game.log('You are already at full health.', Colors.DARK_RED);\n      }\n      return false;\n    }\n\n    const healAmount = caster.game.rng.nextRange(1, 8) + caster.intelligenceModifier;\n    caster.takeHeal(healAmount);\n    caster.ap--;\n    return true;\n  }\n}","import { Actor, AI, Serializable } from 'wglt';\n\n@Serializable('Stunned')\nexport class Stunned extends AI {\n  numTurns: number;\n  oldAi?: AI;\n\n  constructor(actor: Actor, turns: number) {\n    super(actor);\n    this.numTurns = turns;\n    this.oldAi = actor.ai;\n  }\n\n  doAi() {\n    if (this.numTurns > 0) {\n      // Stunned.  Sit still.\n      this.numTurns--;\n    } else {\n      this.actor.ai = this.oldAi;\n    }\n  }\n}\n","import {Ability, Actor, Colors, Message, ProjectileAnimation, Sprite, TargetType, TileMapCell, Vec2, Serializable} from 'wglt';\n\nimport {ExplosionAnimation} from '../animations/explosionanimation';\nimport { StatsActor } from '../entities/statsactor';\n\nconst FIREBALL_RANGE = 10;\nconst FIREBALL_RADIUS = 3;\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\nconst FIRE_COLOR = Colors.ORANGE;\nconst FIREBALL_SPRITE = new Sprite(512, 336, SPRITE_WIDTH, SPRITE_HEIGHT, undefined, undefined, undefined, FIRE_COLOR);\nconst TOOLTIP_MESSAGES = [\n  new Message('Fireball', Colors.WHITE),\n  new Message('2% of base mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Throws a fiery ball causing 8 + INT damage', Colors.YELLOW),\n  new Message('to all enemies within 3 tiles.', Colors.YELLOW),\n];\n\n@Serializable('FireballAbility')\nexport class FireballAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = FIREBALL_SPRITE;\n    this.name = 'fireball';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = FIREBALL_RANGE;\n    this.cooldown = 30;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > FIREBALL_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const speed = 8;\n    const count = distance * (game.tileSize.width / speed);\n    const dx = (target.x * game.tileSize.width - caster.pixelX) / count;\n    const dy = (target.y * game.tileSize.height - caster.pixelY) / count;\n\n    caster.ap--;\n\n    game.addAnimation(new ProjectileAnimation(FIREBALL_SPRITE, new Vec2(caster.pixelX, caster.pixelY), new Vec2(dx, dy), count)).then(() => {\n      game.addAnimation(new ExplosionAnimation(game, target, FIREBALL_RADIUS, 30)).then(() => {\n        game.log('The fireball explodes, burning everything within ' + FIREBALL_RADIUS + ' tiles!', Colors.ORANGE);\n\n        const damage = caster.buffDamage(8 + caster.intelligenceModifier);\n\n        for (let i = game.entities.length - 1; i >= 0; i--) {\n          const entity = game.entities.get(i);\n          if (entity !== caster && entity instanceof Actor && entity.distanceTo(target) <= FIREBALL_RADIUS) {\n            game.log('The ' + entity.name + ' gets burned for ' + damage + ' hit points.', Colors.ORANGE);\n            entity.takeDamage(caster, damage);\n          }\n        }\n      });\n    });\n\n    return true;\n  }\n}","import {Colors, Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Human';\nconst ICON = new Sprite(0, 730, 34, 34, undefined, undefined, undefined, 0xddae62FF);\nconst DESC = 'Young race with lust for power';\nconst DETAILS = [\n  new Message('+1 all attributes', Colors.LIGHT_GREEN),\n  new Message('Reduced stun times', Colors.YELLOW),\n  new Message('Hustle - when active, double actions', Colors.YELLOW),\n];\n\n@Serializable('Human')\nexport class Human extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution++;\n    player.strength++;\n    player.dexterity++;\n    player.intelligence++;\n  }\n}\n","import {Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 144, 16, 24, 2, true, undefined, 0x20e64fFF);\n\n@Serializable('Spider')\nexport class Spider extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Spider', SPRITE, level);\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(192, 144, 16, 24, 2, true, undefined, 0x6757d9FF);\n\n@Serializable('BatAI')\nclass BatAI extends AI {\n  doAi() {\n    const bat = this.actor as Bat;\n    const player = bat.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    const rng = player.game.rng;\n    if (bat.distanceTo(player) < 3 && rng.nextRange(0, 100) < 33) {\n      bat.attack(player, bat.getDamage());\n    } else {\n      this.actor.move(rng.nextRange(-2, 3), rng.nextRange(-2, 3));\n    }\n  }\n}\n\n@Serializable('Bat')\nexport class Bat extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Bat', SPRITE, level);\n    this.ai = new BatAI(this);\n  }\n}\n","import {Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(64, 216, 16, 24, 2, true, undefined, 0x20e64fFF);\n\n@Serializable('Troll')\nexport class Troll extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Troll', SPRITE, level);\n  }\n}\n","import { Game, Item, Sprite, TileMap, getTileId } from 'wglt';\n\nconst TILE_OPEN_DOOR = getTileId(7, 20);\nconst SPRITE = new Sprite(256, 432, 16, 24, 1, true, undefined, 0xAB8730FF);\n\nexport abstract class Door extends Item {\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'door', SPRITE, true);\n    this.zIndex = 0;\n  }\n\n  openDoor() {\n    const game = this.game;\n    const map = game.tileMap as TileMap;\n    game.entities.remove(this);\n    map.setTile(this.x, this.y, 0, TILE_OPEN_DOOR);\n    map.setBlocked(this.x, this.y, false);\n  }\n}\n","import {Ability, Actor, Colors, Sprite, TargetType, Serializable} from 'wglt';\nimport { Game } from '../game';\nimport { BaseItem } from './baseitem';\nimport { ItemQuality } from './itemquality';\n\nconst SPRITE = new Sprite(736, 168, 16, 24, 1, true, undefined, 0xF0F0E0FF);\n\n@Serializable('Scroll')\nexport class Scroll extends BaseItem {\n  readonly ability: Ability;\n\n  constructor(game: Game, x: number, y: number, ability: Ability) {\n    super(game, 'scroll of ' + ability.name, SPRITE, ItemQuality.UNCOMMON, 1, 0, 0);\n    this.ability = ability;\n    this.tooltipMessages = ability.tooltipMessages;\n  }\n\n  onPickup(entity: Actor) {\n    this.game.log(entity.name + ' picked up a ' + this.name, Colors.LIGHT_GREEN);\n  }\n\n  onUse(user: Actor) {\n    (this.game as Game).hideAllDialogs();\n\n    const ability = this.ability;\n    if (ability.targetType === TargetType.SELF) {\n      if (ability.cast(user)) {\n        user.inventory.remove(this);\n      }\n    } else {\n      this.game.startTargeting(ability, () => {\n        user.inventory.remove(this);\n      });\n    }\n    return true;\n  }\n}","import {App} from './app';\n\nconst app = new App();\n\n// Clear the window hash on load\n// Always start at the root\nif (window.location.hash && window.location.hash !== '#') {\n  window.location.hash = '';\n}\n\n// Subscribe to future window hash change events\nwindow.addEventListener('hashchange', handleHashChange);\n\nfunction handleHashChange() {\n  const hash = window.location.hash;\n\n  if (hash === '#startgame') {\n    app.startGame();\n\n  } else if (hash === '#game') {\n    app.playGame();\n\n  } else if (hash === '#chooseseed') {\n    app.chooseSeed();\n\n  } else if (hash === '#chooserace') {\n    app.chooseRace();\n\n  } else if (hash === '#chooseclass') {\n    app.chooseClass();\n\n  } else if (hash === '#highscores') {\n    app.showHighScores();\n\n  } else if (hash === '#credits') {\n    app.showCredits();\n\n  } else {\n    app.showMainMenu();\n  }\n}\n","\nimport * as wglt from 'wglt';\nimport { AppState, Rect, FadeInAnimation } from 'wglt';\n\nimport { CharacterClass } from './classes/characterclass';\nimport { ClassMenu } from './classmenu';\nimport { Player } from './entities/player';\nimport { Game } from './game';\nimport { MainMenu } from './mainmenu';\nimport { RaceMenu } from './racemenu';\nimport { CharacterRace } from './races/characterrace';\nimport { Hearthstone } from './items/hearthstone';\nimport { SeedMenu } from './seedmenu';\nimport { Gold } from './items/gold';\n\nexport class App extends wglt.App {\n  readonly mainMenu: MainMenu;\n  readonly seedMenu: SeedMenu;\n  readonly raceMenu: RaceMenu;\n  readonly classMenu: ClassMenu;\n  readonly highScores: AppState;\n  readonly credits: AppState;\n  seed: number;\n  game?: Game;\n  playerRace?: CharacterRace;\n  playerClass?: CharacterClass;\n\n  constructor() {\n    super({\n      canvas: document.querySelector('canvas') as HTMLCanvasElement,\n      imageUrl: 'graphics.png',\n      size: new Rect(0, 0, 224, 400),\n      fillWindow: true\n    });\n\n    this.mainMenu = new MainMenu(this);\n    this.seedMenu = new SeedMenu(this);\n    this.raceMenu = new RaceMenu(this);\n    this.classMenu = new ClassMenu(this);\n    this.highScores = new AppState(this);\n    this.credits = new AppState(this);\n    this.seed = 0;\n    this.showMainMenu();\n  }\n\n  showMainMenu() {\n    this.state = this.mainMenu;\n  }\n\n  chooseSeed() {\n    this.state = this.seedMenu;\n  }\n\n  chooseRace() {\n    this.state = this.raceMenu;\n  }\n\n  chooseClass() {\n    this.state = this.classMenu;\n  }\n\n  startGame() {\n    this.game = new Game(this, this.seed);\n\n    // TODO: Where to put this logic?  Game constructor?\n    const player = this.game.player as Player;\n    player.inventory.add(new Hearthstone(this.game));\n    for (let i = 0; i < 20; i++) {\n      player.inventory.add(new Gold(this.game));\n    }\n\n    if (this.playerRace) {\n      this.playerRace.initPlayer(this.game.player as Player);\n    }\n\n    if (this.playerClass) {\n      this.playerClass.initPlayer(this.game.player as Player);\n    }\n\n    window.location.hash = 'game';\n  }\n\n  playGame() {\n    const game = this.game as Game;\n    this.state = game;\n    game.addAnimation(new FadeInAnimation(30));\n  }\n\n  showHighScores() {\n    this.state = this.highScores;\n  }\n\n  showCredits() {\n    this.state = this.credits;\n  }\n}","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {CharacterClass} from './classes/characterclass';\nimport {Paladin} from './classes/paladin';\nimport {Priest} from './classes/priest';\nimport {Ranger} from './classes/ranger';\nimport {Rogue} from './classes/rogue';\nimport {Warlock} from './classes/warlock';\nimport {Warrior} from './classes/warrior';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\n\nconst CLASSES = [new Paladin(), new Priest(), new Ranger(), new Rogue(), new Warlock(), new Warrior()];\n\nexport class ClassMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your class', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), CLASSES);\n    selectDialog.renderer = new MenuItemRenderer(60, 30);\n\n    selectDialog.onSelect = (choice: CharacterClass) => {\n      (this.app as App).playerClass = choice;\n      window.location.hash = 'startgame';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import { Colors, Message, CompoundMessage, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { EquipmentBuilder } from './equipmentbuilder';\nimport { EquipmentSlot } from './equipmentslot';\nimport { EquipmentMaterial } from './equipmentmaterial';\nimport { Game } from '../game';\nimport { BaseItem } from '../items/baseitem';\n\n@Serializable('Equipment')\nexport class Equipment extends BaseItem {\n  readonly slot: EquipmentSlot;\n  readonly material: EquipmentMaterial;\n  readonly armor: number;\n  readonly strength: number;\n  readonly dexterity: number;\n  readonly constitution: number;\n  readonly intelligence: number;\n  readonly minDamage: number;\n  readonly maxDamage: number;\n  readonly ranged: boolean;\n  readonly finesse: boolean;\n\n  constructor(builder: EquipmentBuilder) {\n    const sellPrice = 10 * builder.itemLevel;\n    super(builder.game, builder.name, builder.sprite, builder.quality, builder.itemLevel, 0, sellPrice);\n    this.slot = builder.slot;\n    this.material = builder.material;\n    this.armor = builder.armor;\n    this.strength = builder.strength;\n    this.dexterity = builder.dexterity;\n    this.constitution = builder.constitution;\n    this.intelligence = builder.intelligence;\n    this.minDamage = builder.minDamage;\n    this.maxDamage = builder.maxDamage;\n    this.ranged = builder.ranged;\n    this.finesse = builder.finesse;\n    this.onUpdateTooltip();\n  }\n\n  isStackable() {\n    return false;\n  }\n\n  onPickup(player: Player) {\n    this.game.log(new CompoundMessage(\n      new Message(player.name + ' picked up ', Colors.WHITE),\n      new Message('[' + this.name + ']', this.getColor(this.quality))\n    ));\n  }\n\n  onUse(player: Player) {\n    player.equipItem(this);\n    return false;\n  }\n\n  onUpdateTooltip() {\n    const game = this.game as Game;\n    const player = game.player as Player;\n    const equipped = player.getEquipment(this.slot);\n    if (equipped && equipped !== this) {\n      this.buildComparisonTooltip(equipped);\n    } else {\n      this.buildNormalTooltip();\n    }\n  }\n\n  private buildComparisonTooltip(equipped: Equipment) {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel + ' (vs ' + equipped.itemLevel + ')', Colors.YELLOW));\n\n    if (this.material === EquipmentMaterial.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.material, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new Message(this.minDamage + '-' + this.maxDamage + ' Damage (vs ' + equipped.minDamage + '-' + equipped.maxDamage + ')', Colors.YELLOW));\n    }\n\n    if (this.armor > 0 || equipped.armor > 0) {\n      this.tooltipMessages.push(new Message(this.armor + ' Armor (vs ' + equipped.armor + ')', Colors.YELLOW));\n    }\n\n    if (this.strength > 0 || equipped.strength > 0) {\n      this.tooltipMessages.push(new Message('+' + this.strength + ' Strength (vs ' + equipped.strength + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.dexterity > 0 || equipped.dexterity > 0) {\n      this.tooltipMessages.push(new Message('+' + this.dexterity + ' Dexterity (vs ' + equipped.dexterity + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.constitution > 0 || equipped.constitution > 0) {\n      this.tooltipMessages.push(new Message('+' + this.constitution + ' Constitution (vs ' + equipped.constitution + ')', Colors.LIGHT_GREEN));\n    }\n\n    if (this.intelligence > 0 || equipped.intelligence > 0) {\n      this.tooltipMessages.push(new Message('+' + this.intelligence + ' Intelligence (vs ' + equipped.intelligence + ')', Colors.LIGHT_GREEN));\n    }\n  }\n\n  private buildNormalTooltip() {\n    this.tooltipMessages = [];\n    this.tooltipMessages.push(new Message(this.name, this.getColor(this.quality)));\n    this.tooltipMessages.push(new Message('Item Level ' + this.itemLevel, Colors.YELLOW));\n\n    if (this.material === EquipmentMaterial.NONE) {\n      this.tooltipMessages.push(new Message(this.slot, Colors.WHITE));\n    } else {\n      this.tooltipMessages.push(new Message(this.slot + ', ' + this.material, Colors.WHITE));\n    }\n\n    if (this.slot === EquipmentSlot.MAINHAND) {\n      this.tooltipMessages.push(new Message(this.minDamage + '-' + this.maxDamage + ' Damage', Colors.YELLOW));\n    }\n\n    if (this.armor > 0) {\n      this.tooltipMessages.push(new Message(this.armor + ' Armor', Colors.YELLOW));\n    }\n\n    if (this.strength > 0) {\n      this.tooltipMessages.push(new Message('+' + this.strength + ' Strength', Colors.LIGHT_GREEN));\n    }\n\n    if (this.dexterity > 0) {\n      this.tooltipMessages.push(new Message('+' + this.dexterity + ' Dexterity', Colors.LIGHT_GREEN));\n    }\n\n    if (this.constitution > 0) {\n      this.tooltipMessages.push(new Message('+' + this.constitution + ' Constitution', Colors.LIGHT_GREEN));\n    }\n\n    if (this.intelligence > 0) {\n      this.tooltipMessages.push(new Message('+' + this.intelligence + ' Intelligence', Colors.LIGHT_GREEN));\n    }\n  }\n}\n","import {Colors, Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {FireballAbility} from '../abilities/fireball';\nimport {FlashHealAbility} from '../abilities/flashheal';\nimport {LightningAbility} from '../abilities/lightning';\nimport { Game } from '../game';\nimport {Player} from '../entities/player';\nimport {CharacterClass} from './characterclass';\nimport { BubbleAbility } from '../abilities/bubble';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, BOOTS_SPRITE_1, ROBE_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { ItemQuality } from '../items/itemquality';\n\nconst NAME = 'Priest';\nconst ICON = new Sprite(0, 700, 24, 26, undefined, undefined, undefined, 0xFFFFFFFF);\nconst SPRITE = new Sprite(384, 96, 16, 24, 2, true, undefined, 0xf8f8f8ff);\nconst DESC = 'Devoted to the spiritual, powerful healing magic';\nconst DETAILS = [\n  new Message('+5 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Priest')\nexport class Priest extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new FireballAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new FlashHealAbility()));\n    player.talents.add(new Talent(player, new BubbleAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Neophyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.intelligence += 5;\n  }\n}\n","import {Colors, Animation, Game, ProjectileAnimation, Sprite, Vec2} from 'wglt';\n\nexport class ExplosionAnimation extends Animation {\n  readonly game: Game;\n  readonly center: Vec2;\n  readonly radius: number;\n  readonly duration: number;\n  readonly sprites: Sprite[];\n\n  constructor(game: Game, center: Vec2, radius: number, duration: number) {\n    super(duration, true);\n    this.game = game;\n    this.center = center;\n    this.radius = radius;\n    this.duration = duration;\n    this.sprites = [];\n  }\n\n  update() {\n    super.update();\n\n    const game = this.game;\n    const maxRadius = this.radius * (1.0 - (this.countdown + 1) / (this.duration + 1));\n    const centerX = (this.center.x) * game.tileSize.width;\n    const centerY = (this.center.y) * game.tileSize.height;\n\n    for (let i = 0; i < 3; i++) {\n      const radius = maxRadius;\n      const angle = this.countdown + i;\n      const x = centerX + game.tileSize.width * radius * Math.cos(angle);\n      const y = centerY + game.tileSize.height * radius * Math.sin(angle);\n      const explosion = new Sprite(512, 336, 16, 24, 4, false, 4, Colors.ORANGE);\n      const animation = new ProjectileAnimation(explosion, new Vec2(x, y), new Vec2(0, 0), 16);\n      animation.blocking = false;\n      game.animations.push(animation);\n    }\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Bubble } from '../buffs/bubble';\n\nconst SPRITE = new Sprite(896, 216, 16, 24, 1, true, undefined, 0xCCEEFFFF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Bubble', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Shields the caster absorbing 4 + INT', Colors.YELLOW),\n  new Message('damage.', Colors.YELLOW),\n];\n\n@Serializable('BubbleAbility')\nexport class BubbleAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Bubble';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Bubble) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have a bubble.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const absorb = 4 + caster.intelligenceModifier;\n    caster.buffs.push(new Bubble(caster, absorb));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\nimport { Sprite, Color, Serializable } from 'wglt';\n\nconst COLOR = 0xAADDFFFF as Color;\nconst SPRITE = new Sprite(608, 408, 16, 24, 2, true, undefined, COLOR);\n\n@Serializable('Bubble')\nexport class Bubble extends Buff {\n  remaining: number;\n\n  constructor(actor: StatsActor, remaining: number) {\n    super(actor);\n    this.remaining = remaining;\n  }\n\n  modifyDamageTaken(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    const absorb = Math.min(this.remaining, damage);\n    this.remaining -= absorb;\n    if (this.remaining <= 0) {\n      this.actor.game.log('Absorbed the last ' + absorb + ' of the bubble!', COLOR);\n    } else {\n      this.actor.game.log('Bubble absorbed ' + absorb + ' damage.', COLOR);\n    }\n    return damage - absorb;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.remaining <= 0;\n  }\n}","import { Colors, Message, Sprite, Talent, Serializable } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { ShootAbility } from '../abilities/shoot';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, CROSSBOW_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nconst NAME = 'Ranger';\nconst ICON = new Sprite(168, 700, 24, 26, undefined, undefined, undefined, 0x80FF80FF);\nconst SPRITE = new Sprite(64, 120, 16, 24, 2, true, undefined, 0x80FF80FF);\nconst DESC = 'Strategy and finesse, attacking from a distance';\nconst DETAILS = [\n  new Message('+2 Strength, +2 Dexterity', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Ranger')\nexport class Ranger extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new ShootAbility()));\n    player.talents.add(new Talent(player, new LeapAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Trapper\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Weathered Crossbow')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(ItemQuality.COMMON)\n      .withDamage(1, 2, true, true)\n      .withSprite(CROSSBOW_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.strength += 2;\n    player.dexterity += 2;\n  }\n}\n","import { Ability, Colors, Message, Sprite, TargetType, Serializable } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(896, 96, 16, 24, 1, false, undefined, 0x40D0D0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shoot', Colors.WHITE),\n  new Message('30 yard range', Colors.WHITE),\n  new Message('Requires a ranged weapon.', Colors.WHITE)\n];\n\n@Serializable('ShootAbility')\nexport class ShootAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'shoot';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    const weapon = caster.mainHandWeapon;\n    if (!weapon || !weapon.ranged) {\n      if (caster === game.player) {\n        game.log('Shoot requires a ranged weapon.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.takeDamage(caster, caster.getDamage());\n    caster.ap--;\n    return true;\n  }\n}","import { Colors, Message, Sprite, Talent, Serializable } from 'wglt';\n\nimport { LeapAbility } from '../abilities/leap';\nimport { ShadowStrikeAbility } from '../abilities/shadowstrike';\nimport { Player } from '../entities/player';\n\nimport { CharacterClass } from './characterclass';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, BOOTS_SPRITE_1, DAGGER_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { HealthPotion } from '../items/healthpotion';\nimport { ItemQuality } from '../items/itemquality';\n\nconst NAME = 'Rogue';\nconst ICON = new Sprite(144, 700, 24, 26, undefined, undefined, undefined, 0xA00000FF);\nconst SPRITE = new Sprite(192, 96, 16, 24, 2, true, undefined, 0xA00000FF);\nconst DESC = 'Lethal assasins and masters of stealth';\nconst DETAILS = [\n  new Message('+5 Dexterity', Colors.LIGHT_GREEN), new Message('Stealth - go invisible for 10 turns', Colors.YELLOW),\n  new Message('Shadow Strike - sneak attack from a distance', Colors.YELLOW)\n];\n\n@Serializable('Rogue')\nexport class Rogue extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new ShadowStrikeAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Vest')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.CHEST)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n      .withArmor(7)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Pants')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.LEGS)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(6)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Footpad\\'s Boots')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.FEET)\n      .withQuality(ItemQuality.COMMON)\n      .withMaterial(EquipmentMaterial.LEATHER)\n      .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n      .withArmor(5)\n      .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n      .withName('Worn Dirk')\n      .withItemLevel(1)\n      .withSlot(EquipmentSlot.MAINHAND)\n      .withQuality(ItemQuality.COMMON)\n      .withDamage(1, 2, false, true)\n      .withSprite(DAGGER_SPRITE_1, 0xC0A080FF)\n      .build());\n\n    player.dexterity += 5;\n  }\n}\n","import {Ability, Colors, Message, SlideAnimation, Sprite, TargetType, Vec2, Serializable} from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xc4c4c4ff);\nconst TOOLTIP_MESSAGES = [\n  new Message('Shadow Strike', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Appear behind your target up to 25 yards away,', Colors.YELLOW),\n  new Message('dealing double damage.', Colors.YELLOW)\n];\n\n@Serializable('ShadowStrikeAbility')\nexport class ShadowStrikeAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Shadow Strike';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    let farthestTile: Vec2 | null = null;\n    let farthestDistance = 0.0;\n\n    for (let y = target.y - 1; y <= target.y + 1; y++) {\n      for (let x = target.x - 1; x <= target.x + 1; x++) {\n        if (game.isBlocked(x, y)) {\n          // Blocked or occupied\n          continue;\n        }\n        const distance = caster.distance(x, y);\n        if (distance > farthestDistance) {\n          farthestTile = new Vec2(x, y);\n          farthestDistance = distance;\n        }\n      }\n    }\n\n    if (!farthestTile) {\n      if (caster === game.player) {\n        game.log('No free spaces available.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const count = 4;\n    const xSpeed = (farthestTile.x - caster.x) * game.tileSize.width / count;\n    const ySpeed = (farthestTile.y - caster.y) * game.tileSize.height / count;\n    game.addAnimation(new SlideAnimation(caster, xSpeed, ySpeed, count)).then(() => {\n      caster.x = (farthestTile as Vec2).x;\n      caster.y = (farthestTile as Vec2).y;\n      caster.attack(target, caster.getDamage() * 2);\n      caster.ap--;\n    });\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {CurseAbility} from '../abilities/curse';\nimport {DemonicGatewayAbility} from '../abilities/demonicgateway';\nimport {LightningAbility} from '../abilities/lightning';\nimport {Player} from '../entities/player';\nimport { PANTS_SPRITE_1, STAFF_SPRITE_1, ROBE_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\n\nimport {CharacterClass} from './characterclass';\nimport { Game } from '../game';\n\nconst NAME = 'Warlock';\nconst ICON = new Sprite(24, 700, 24, 26, undefined, undefined, undefined, 0xA020A0FF);\nconst SPRITE = new Sprite(416, 96, 16, 24, 2, true, undefined, 0xA020A0FF);\nconst DESC = 'Practitioners of the dark arts';\nconst DETAILS = [\n  new Message('+2 Constitution, +2 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Demonic Gateway - teleport by dark magic', Colors.YELLOW)\n];\n\n@Serializable('Warlock')\nexport class Warlock extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new CurseAbility()));\n    player.talents.add(new Talent(player, new LightningAbility()));\n    player.talents.add(new Talent(player, new DemonicGatewayAbility()));\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Robe')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(ROBE_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(2)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Acolyte\\'s Shoes')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.CLOTH)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(1)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Bent Staff')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(STAFF_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.intelligence += 2;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {Curse} from '../buffs/curse';\nimport {StatsActor} from '../entities/statsactor';\n\nconst RANGE = 8;\nconst SPRITE = new Sprite(880, 144, 16, 24, 1, false, undefined, 0xC040C0FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Curse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Corrupts the target, causing (1 + INT) / 4', Colors.YELLOW),\n  new Message('damage per turn for 8 turns.', Colors.YELLOW),\n];\n\n@Serializable('CurseAbility')\nexport class CurseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Curse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 3;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: StatsActor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const damage = Math.round((1 + caster.intelligenceModifier) / 4);\n    target.buffs.push(new Curse(caster, target, damage, 8));\n    caster.ap--;\n    return true;\n  }\n}","import {StatsActor} from '../entities/statsactor';\n\nimport {Buff} from './buff';\nimport { Serializable } from 'wglt';\n\n@Serializable('Curse')\nexport class Curse extends Buff {\n  caster: StatsActor;\n  damage: number;\n  countdown: number;\n\n  constructor(caster: StatsActor, target: StatsActor, damage: number, duration: number) {\n    super(target);\n    this.caster = caster;\n    this.damage = damage;\n    this.countdown = duration;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.actor.takeDamage(this.caster, this.damage);\n      this.countdown--;\n    }\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import {Ability, Colors, Message, Sprite, TargetType, TileMapCell, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport {Gateway} from '../items/gateway';\n\nconst RANGE = 10;\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Demonic Gateway', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('2 turn cast', Colors.WHITE),\n  new Message('Creates a demonic gateway between two', Colors.YELLOW),\n  new Message('locations. User can transport to the other gateway.', Colors.YELLOW),\n];\n\n@Serializable('DemonicGatewayAbility')\nexport class DemonicGatewayAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Demonic Gateway';\n    this.targetType = TargetType.TILE;\n    this.minRange = 1;\n    this.maxRange = RANGE;\n    this.cooldown = 10;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor, target: TileMapCell) {\n    const game = caster.game;\n    const distance = caster.distanceTo(target);\n    if (distance > RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    const gateway1 = new Gateway(game, caster.x, caster.y, caster);\n    const gateway2 = new Gateway(game, target.x, target.y, caster);\n    gateway1.other = gateway2;\n    gateway2.other = gateway1;\n    game.entities.add(gateway1);\n    game.entities.add(gateway2);\n    caster.move(target.x - caster.x, target.y - caster.y, 16);\n    caster.ap--;\n    return true;\n  }\n}","import { Game, Item, Sprite, Serializable } from 'wglt';\nimport { StatsActor } from '../entities/statsactor';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(432, 408, 16, 24, 1, true, undefined, 0xc3d012FF);\n\n@Serializable('Gateway')\nexport class Gateway extends Item {\n  readonly owner: StatsActor;\n  other?: Gateway;\n\n  constructor(game: Game, x: number, y: number, owner: StatsActor) {\n    super(game, x, y, 'gateway', SPRITE, false);\n    this.owner = owner;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    const exit = this.other;\n    if (!exit) {\n      return false;\n    }\n    player.move(exit.x - player.x, exit.y - player.y, 16);\n    return true;\n  }\n}\n","import {Colors, Message, Sprite, Talent, Serializable} from 'wglt';\n\nimport {LeapAbility} from '../abilities/leap';\nimport {Player} from '../entities/player';\n\nimport {CharacterClass} from './characterclass';\nimport { RageAbility } from '../abilities/rage';\nimport { EquipmentBuilder } from '../equipment/equipmentbuilder';\nimport { Game } from '../game';\nimport { SHIRT_SPRITE_1, PANTS_SPRITE_1, SWORD_SPRITE_1, BOOTS_SPRITE_1 } from '../equipment/equipmentsprites';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\nimport { ItemQuality } from '../items/itemquality';\nimport { EquipmentMaterial } from '../equipment/equipmentmaterial';\nimport { HealthPotion } from '../items/healthpotion';\n\nconst NAME = 'Warrior';\nconst ICON = new Sprite(216, 700, 24, 26, undefined, undefined, undefined, 0x804000FF);\nconst SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\nconst DESC = 'Lords of war, strength, and combat';\nconst DETAILS = [\n  new Message('+5 Strength, +2 Constitution', Colors.LIGHT_GREEN),\n  new Message('Heroic Leap - jump up to 3 tiles and stun enemies', Colors.YELLOW)\n];\n\n@Serializable('Warrior')\nexport class Warrior extends CharacterClass {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    const game = player.game as Game;\n\n    player.class = this;\n    player.sprite = SPRITE;\n    player.talents.add(new Talent(player, new LeapAbility()));\n    player.talents.add(new Talent(player, new RageAbility()));\n\n    for (let i = 0; i < 5; i++) {\n      player.inventory.add(new HealthPotion(game));\n    }\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Vest')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.CHEST)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(SHIRT_SPRITE_1, 0xC0A080FF)\n        .withArmor(7)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Pants')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.LEGS)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(PANTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(6)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Squire\\'s Boots')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.FEET)\n        .withQuality(ItemQuality.COMMON)\n        .withMaterial(EquipmentMaterial.PLATE)\n        .withSprite(BOOTS_SPRITE_1, 0xC0A080FF)\n        .withArmor(5)\n        .build());\n\n    player.equipment.add(new EquipmentBuilder(game)\n        .withName('Worn Greatsword')\n        .withItemLevel(1)\n        .withSlot(EquipmentSlot.MAINHAND)\n        .withQuality(ItemQuality.COMMON)\n        .withDamage(1, 2)\n        .withSprite(SWORD_SPRITE_1, 0xC0A080FF)\n        .build());\n\n    player.constitution += 2;\n    player.strength += 5;\n  }\n}\n","import {Ability, Colors, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nimport {StatsActor} from '../entities/statsactor';\nimport { Rage } from '../buffs/rage';\n\nconst SPRITE = new Sprite(656, 192, 16, 24, undefined, undefined, undefined, 0xDD2222FF);\nconst TOOLTIP_MESSAGES = [\n  new Message('Rage', Colors.WHITE),\n  new Message('Instant cast', Colors.WHITE),\n  new Message('Become enraged increasing damage by', Colors.YELLOW),\n  new Message('100% for 8 turns.', Colors.YELLOW),\n];\n\n@Serializable('RageAbility')\nexport class RageAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = SPRITE;\n    this.name = 'Rage';\n    this.targetType = TargetType.SELF;\n    this.minRange = 1;\n    this.maxRange = 1;\n    this.cooldown = 20;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: StatsActor) {\n    for (let i = 0; i < caster.buffs.length; i++) {\n      if (caster.buffs[i] instanceof Rage) {\n        if (caster === caster.game.player) {\n          caster.game.log('You already have rage.', Colors.LIGHT_GRAY);\n        }\n        return false;\n      }\n    }\n\n    const duration = 8;\n    caster.buffs.push(new Rage(caster, duration));\n    caster.ap--;\n    return true;\n  }\n}","import { StatsActor } from '../entities/statsactor';\n\nimport { Buff } from './buff';\nimport { Sprite, Color, Serializable } from 'wglt';\n\nconst COLOR = 0xDD2222FF as Color;\nconst SPRITE = new Sprite(640, 408, 16, 24, 2, true, undefined, COLOR);\n\n@Serializable('Rage')\nexport class Rage extends Buff {\n  countdown: number;\n\n  constructor(actor: StatsActor, countdown: number) {\n    super(actor);\n    this.countdown = countdown;\n  }\n\n  update() {\n    if (this.countdown > 0) {\n      this.countdown--;\n    }\n  }\n\n  modifyDamageDealt(damage: number) {\n    if (damage <= 0) {\n      return damage;\n    }\n\n    return damage * 2;\n  }\n\n  draw() {\n    const actor = this.actor;\n    const game = actor.game;\n    const app = game.app;\n    SPRITE.draw(app, actor.pixelX - game.viewport.x, actor.pixelY - game.viewport.y);\n  }\n\n  isDone() {\n    return this.countdown <= 0;\n  }\n}","import * as wglt from 'wglt';\nimport { App, Button, Colors, FadeInAnimation, FadeOutAnimation, ItemContainerDialog, Message, MessageLog, Rect, Sprite, TalentsDialog, Vec2, Serializer } from 'wglt';\n\nimport { Cat } from './entities/cat';\nimport { Player } from './entities/player';\nimport { BottomPanel } from './gui/bottompanel';\nimport { CharacterDialog } from './gui/characterdialog';\nimport { TopPanel } from './gui/toppanel';\nimport { MapGenerator } from './mapgen/mapgen';\nimport { LevelUpDialog } from './gui/levelupdialog';\nimport { EntityFrames } from './gui/entityframes';\nimport { HealthPotion } from './items/healthpotion';\nimport { Scroll } from './items/scroll';\n\nconst SPRITE_WIDTH = 16;\nconst SPRITE_HEIGHT = 24;\n\nconst TARGET_SPRITE = new Sprite(16, 40, SPRITE_WIDTH, SPRITE_HEIGHT);\n\nexport class Game extends wglt.Game {\n  private readonly mapGen: MapGenerator;\n  cat?: Cat;\n  inventoryDialog: ItemContainerDialog;\n  talentsDialog: TalentsDialog;\n  characterDialog: CharacterDialog;\n  levelUpDialog: LevelUpDialog;\n\n  constructor(app: App, seed: number) {\n    super(app, {\n      mapSize: new Rect(0, 0, 512, 512),\n      mapLayers: 4,\n      tileSize: new Rect(0, 0, 16, 24),\n      horizontalViewDistance: 6,\n      verticalViewDistance: 4,\n      focusMargins: new Vec2(0, 40)\n    });\n\n    this.rng.setSeed(seed);\n\n    this.targetSprite = TARGET_SPRITE;\n    this.cooldownSprite = new Sprite(192, 16, 16, 24, 24);\n    this.blackoutRect = new Rect(0, 40, 16, 16);\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.mapGen = new MapGenerator(this);\n\n    const player = new Player(this, 30, 20);\n    this.player = player;\n    this.entities.add(player);\n    this.gui.renderer.baseRect = new Rect(0, 16, 24, 24);\n    this.gui.renderer.buttonSlotRect = new Rect(64, 16, 20, 28);\n    this.messageLog = new MessageLog(new Rect(1, -84, 100, 50));\n    this.gui.add(this.messageLog);\n    this.log('Welcome stranger! Prepare to perish!', Colors.DARK_RED);\n\n    const topPanel = new TopPanel(player);\n    this.gui.add(topPanel);\n\n    const bottomPanel = new BottomPanel();\n    this.gui.add(bottomPanel);\n\n    this.gui.add(new EntityFrames(this));\n\n    const inventoryButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(832, 168, 16, 24, 1, true, 30, 0xe08020ff),\n      undefined,\n      () => {\n        this.hideAllDialogs();\n        this.inventoryDialog.visible = true;\n      });\n    inventoryButton.tooltipMessages = [\n      new Message('Traveler\\'s Backpack', Colors.GREEN),\n      new Message('Item Level 55', Colors.YELLOW),\n      new Message('16 Slot Bag', Colors.WHITE),\n      new Message('Sell Price: 87 coins', Colors.WHITE)\n    ];\n    bottomPanel.inventorySlot.add(inventoryButton);\n\n    const characterButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(640, 240, 16, 24, undefined, undefined, undefined, 0xffcf5cff),\n      undefined,\n      () => {\n        this.hideAllDialogs();\n        this.characterDialog.visible = true;\n      });\n    characterButton.tooltipMessages = [\n      new Message('Character', Colors.WHITE),\n      new Message('Currently equipped items,', Colors.YELLOW),\n      new Message('stats and abilities.', Colors.YELLOW)\n    ];\n    topPanel.characterSlot.add(characterButton);\n\n    const talentsButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(656, 360, 16, 24, undefined, undefined, undefined, Colors.LIGHT_BLUE),\n      undefined, () => {\n        this.hideAllDialogs();\n        this.talentsDialog.visible = true;\n      });\n    talentsButton.tooltipMessages = [\n      new Message('Talents', Colors.WHITE),\n      new Message('A list of all of your', Colors.YELLOW),\n      new Message('character\\'s talents.', Colors.YELLOW)\n    ];\n    topPanel.talentsSlot.add(talentsButton);\n\n    const menuButton = new Button(\n      new Rect(0, 0, 20, 28),\n      new Sprite(352, 672, 16, 24, undefined, undefined, undefined, Colors.LIGHT_GRAY),\n      undefined,\n      () => {\n        window.location.hash = 'menu';\n      });\n    menuButton.tooltipMessages = [new Message('Main Menu', Colors.WHITE)];\n    topPanel.menuSlot.add(menuButton);\n\n    this.inventoryDialog = new ItemContainerDialog(\n      new Rect(4, 38, 94, 126),\n      [\n        new Message('Traveler\\'s Backpack', Colors.GREEN),\n        new Message('Click an item to use', Colors.LIGHT_GRAY),\n        new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n      ],\n      16,\n      player.inventory);\n    this.inventoryDialog.visible = false;\n    this.gui.add(this.inventoryDialog);\n\n    this.characterDialog = new CharacterDialog(new Rect(4, 38, 120, 126), player);\n    this.characterDialog.visible = false;\n    this.gui.add(this.characterDialog);\n\n    this.talentsDialog = new TalentsDialog(\n      new Rect(4, 38, 94, 126),\n      [\n        new Message('Talents', Colors.GREEN),\n        new Message('Click an ability to use', Colors.LIGHT_GRAY),\n        new Message('Drag for shortcut', Colors.LIGHT_GRAY)\n      ],\n      16,\n      player.talents);\n    this.talentsDialog.visible = false;\n    this.gui.add(this.talentsDialog);\n\n    const levelUpDialog = new LevelUpDialog(new Rect(4, 38, 140, 126), player);\n    levelUpDialog.visible = false;\n    this.gui.add(levelUpDialog);\n    this.levelUpDialog = levelUpDialog;\n\n    player.inventory.addListener({\n      onAdd: (_, item) => {\n        if (!(item instanceof HealthPotion) && !(item instanceof Scroll)) {\n          // Only add health potions and scrolls\n          return;\n        }\n        bottomPanel.shortcutBar.addItem(player.inventory, item, true);\n      },\n      onRemove: () => { }\n    });\n\n    player.talents.addListener({\n      onAdd: (_, talent) => {\n        bottomPanel.shortcutBar.addTalent(talent);\n      },\n      onRemove: () => { }\n    });\n\n    // Generate the map\n    this.mapGen.createMap();\n  }\n\n  hideAllDialogs() {\n    this.inventoryDialog.visible = false;\n    this.characterDialog.visible = false;\n    this.talentsDialog.visible = false;\n  }\n\n  warpToPoint(point: Vec2) {\n    this.addAnimation(new FadeOutAnimation(30)).then(() => {\n      if (this.player) {\n        this.player.x = point.x;\n        this.player.y = point.y;\n      }\n      this.stopAutoWalk();\n      this.resetViewport();\n      this.recomputeFov();\n      this.addAnimation(new FadeInAnimation(30));\n    });\n  }\n\n  findFreeTile(x0: number, y0: number, maxDistance: number) {\n    for (let r = 0; r <= maxDistance; r += 0.5) {\n      const r2 = Math.ceil(r);\n      for (let y = y0 - r2; y <= y0 + r2; y++) {\n        for (let x = x0 - r2; x <= x0 + r2; x++) {\n          if (Math.hypot(x - x0, y - y0) <= r) {\n            if (!this.isBlocked(x, y) && !this.getEntityAt(x, y)) {\n              return new Vec2(x, y);\n            }\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n\n  save() {\n    const serializer = new Serializer();\n    const result = serializer.serialize(this);\n    console.log('result', result);\n  }\n}\n","import { Colors, Sprite, Vec2, Serializable } from 'wglt';\n\nimport { CharacterClass } from '../classes/characterclass';\nimport { Paladin } from '../classes/paladin';\nimport { Game } from '../game';\nimport { CharacterRace } from '../races/characterrace';\nimport { Human } from '../races/human';\n\nimport { StatsActor } from './statsactor';\n\nconst PLAYER_SPRITE = new Sprite(0, 96, 16, 24, 2, true, undefined, 0xffcf5cff);\n\n@Serializable('Player')\nexport class Player extends StatsActor {\n  xp: number;\n  maxXp: number;\n  race: CharacterRace;\n  class: CharacterClass;\n  remainingAbilityPoints: number;\n  home: Vec2;\n  keys: boolean[];\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'Player', PLAYER_SPRITE);\n    this.level = 1;\n    this.hp = 10;\n    this.maxHp = 10;\n    this.xp = 0;\n    this.maxXp = 20;\n    this.race = new Human();\n    this.class = new Paladin();\n    this.remainingAbilityPoints = 0;\n    this.home = new Vec2(x, y);\n    this.keys = new Array(1000);\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    this.game.stopAutoWalk();\n    super.takeDamage(attacker, damage);\n  }\n\n  onDeath() {\n    this.game.log('You died!');\n  }\n\n  addXp(xpGain: number) {\n    this.xp += xpGain;\n    this.addFloatingText('+' + xpGain, Colors.LIGHT_MAGENTA);\n\n    let levelUp = false;\n    while (this.xp >= this.maxXp) {\n      this.level++;\n      this.xp -= this.maxXp;\n      this.maxXp = this.nextMaxXp(this.maxXp);\n      this.remainingAbilityPoints += 2;\n      this.game.log('You reached level ' + this.level, Colors.LIGHT_MAGENTA);\n      levelUp = true;\n    }\n\n    if (levelUp) {\n      this.recalculateMaxHp();\n      (this.game as Game).levelUpDialog.visible = true;\n    }\n  }\n\n  private nextMaxXp(oldMaxXp: number) {\n    return Math.round(oldMaxXp * 1.5 / 10.0) * 10.0;\n  }\n}\n","import {ButtonSlot, Keys, Panel, Rect, ShortcutBar} from 'wglt';\n\nexport class BottomPanel extends Panel {\n  constructor() {\n    super(new Rect(0, -43, 400, 43));\n\n    // Create 6 slots for the action bar\n    this.add(new ShortcutBar(new Rect(0, 0, 6 * 24, 28), 6));\n\n    // Create a slot for the inventory button\n    this.add(new ButtonSlot(new Rect(100, 0, 20, 28), Keys.VK_I));\n  }\n\n  get shortcutBar(): ShortcutBar {\n    return this.children.get(0) as ShortcutBar;\n  }\n\n  get inventorySlot(): ButtonSlot {\n    return this.children.get(this.children.length - 1) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const y = app.size.height - 43;\n    app.drawImage(0, y, 48, 16, 16, 48, undefined, app.size.width, 48);\n\n    // Update button y-positions\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.y = app.size.height - 31;\n    }\n\n    // Update inventory button to be right-aligned\n    this.inventorySlot.rect.x = app.size.width - 22;\n\n    this.drawChildren();\n  }\n}\n","import {ButtonSlot, Colors, Dialog, ItemButton, Rect} from 'wglt';\n\nimport {Player} from '../entities/player';\nimport {Equipment} from '../equipment/equipment';\nimport { EquipmentSlot } from '../equipment/equipmentslot';\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\n\nexport class CharacterDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const capacity = 10;\n    for (let i = 0; i < capacity; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24)));\n    }\n\n    player.equipment.addListener(\n        {onAdd: (_, item) => this.addItem(item), onRemove: (_, item) => this.removeItem(item)});\n  }\n\n  get headSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get neckSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get backSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get chestSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  get handsSlot(): ButtonSlot {\n    return this.children.get(4) as ButtonSlot;\n  }\n\n  get legsSlot(): ButtonSlot {\n    return this.children.get(5) as ButtonSlot;\n  }\n\n  get feetSlot(): ButtonSlot {\n    return this.children.get(6) as ButtonSlot;\n  }\n\n  get ringSlot(): ButtonSlot {\n    return this.children.get(7) as ButtonSlot;\n  }\n\n  get mainHandSlot(): ButtonSlot {\n    return this.children.get(8) as ButtonSlot;\n  }\n\n  get offHandSlot(): ButtonSlot {\n    return this.children.get(9) as ButtonSlot;\n  }\n\n  private addItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      slot.add(new ItemButton(slot.rect.clone(), this.player.inventory, item));\n    }\n  }\n\n  private removeItem(item: Equipment) {\n    const slot = this.getSlot(item);\n    if (slot) {\n      const button = slot.button;\n      if (button) {\n        slot.remove(button);\n      }\n    }\n  }\n\n  private getSlot(item: Equipment) {\n    switch (item.slot) {\n      case EquipmentSlot.HEAD:\n        return this.headSlot;\n      case EquipmentSlot.NECK:\n        return this.neckSlot;\n      case EquipmentSlot.BACK:\n        return this.backSlot;\n      case EquipmentSlot.CHEST:\n        return this.chestSlot;\n      case EquipmentSlot.HANDS:\n        return this.handsSlot;\n      case EquipmentSlot.LEGS:\n        return this.legsSlot;\n      case EquipmentSlot.FEET:\n        return this.feetSlot;\n      case EquipmentSlot.RING:\n        return this.ringSlot;\n      case EquipmentSlot.MAINHAND:\n        return this.mainHandSlot;\n      case EquipmentSlot.OFFHAND:\n        return this.offHandSlot;\n      default:\n        return undefined;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawCenteredString('ORYX THE BRAVE', centerX, y, Colors.WHITE);\n    y += 10;\n\n    const desc = 'Level ' + this.player.level + ' ' + this.player.race.name + ' ' + this.player.class.name;\n\n    this.gui.app.drawCenteredString(desc, centerX, y, Colors.WHITE);\n    y += 10;\n\n    // Draw the player sprite at 2x\n    this.player.sprite.draw(this.gui.app, centerX - 8, y + 32);\n\n    // Left column:  head, neck, back, chest\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    // Right column: hands, legs, ring1, ring2\n    for (let i = 0; i < 4; i++) {\n      const child = this.children.get(4 + i);\n      child.rect.x = containerRect.x2 - MARGIN - buttonRect.width;\n      child.rect.y = y + i * (buttonRect.height + BUTTON_SPACING);\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n    }\n\n    this.mainHandSlot.rect.x = centerX - buttonRect.width - 1;\n    this.mainHandSlot.rect.y = y + 90;\n    this.mainHandSlot.rect.width = buttonRect.width;\n    this.mainHandSlot.rect.height = buttonRect.height;\n\n    this.offHandSlot.rect.x = centerX + 1;\n    this.offHandSlot.rect.y = y + 90;\n    this.offHandSlot.rect.width = buttonRect.width;\n    this.offHandSlot.rect.height = buttonRect.height;\n\n    y += 4 * (buttonRect.height + BUTTON_SPACING) + MARGIN;\n\n    this.gui.app.drawString('Armor', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.armor.toString(), x + 85, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Constitution', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.constitution.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.constitutionModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Strength', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.strength.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.strengthModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Dexterity', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.dexterity.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.dexterityModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.gui.app.drawString('Intelligence', x + 2, y, Colors.YELLOW);\n    this.gui.app.drawRightString(this.player.intelligence.toString(), x + 85, y, Colors.WHITE);\n    this.gui.app.drawString('+' + this.player.intelligenceModifier, x + 95, y, Colors.LIGHT_GREEN);\n    y += 10;\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { ButtonSlot, Colors, Keys, Panel, Rect } from 'wglt';\n\nimport { Player } from '../entities/player';\n\nexport class TopPanel extends Panel {\n  readonly player: Player;\n\n  constructor(player: Player) {\n    super(new Rect(0, 0, 400, 42));\n    this.player = player;\n\n    // Character / inventory\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_C));\n\n    // Talents / abilities\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_T));\n\n    // Inspect\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_QUESTION_MARK));\n\n    // Main menu\n    this.add(new ButtonSlot(new Rect(0, 3, 20, 28), Keys.VK_Q));\n  }\n\n  get characterSlot(): ButtonSlot {\n    return this.children.get(0) as ButtonSlot;\n  }\n\n  get talentsSlot(): ButtonSlot {\n    return this.children.get(1) as ButtonSlot;\n  }\n\n  get inspectSlot(): ButtonSlot {\n    return this.children.get(2) as ButtonSlot;\n  }\n\n  get menuSlot(): ButtonSlot {\n    return this.children.get(3) as ButtonSlot;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.player.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n\n    // Draw the overall top panel frame\n    app.drawImage(0, 0, 32, 22, 16, 42, undefined, app.size.width, 42);\n\n    // Draw the frame\n    const x = 2;\n    const y = 2;\n    const actor = this.player;\n    app.drawImage(x, y, 64, 48, 54, 18);\n\n    // Draw the name\n    app.drawCenteredString('ORYX', x + 20, y + 1, Colors.WHITE);\n\n    // Draw the health\n    const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n    app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n    app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n    // Draw the level\n    app.drawCenteredString(actor.level.toString(), x + 47, y + 5, Colors.WHITE);\n\n    // Update button x-positions to right align\n    // This will normally be a no-op\n    for (let i = 0; i < this.children.length; i++) {\n      this.children.get(i).rect.x = app.size.width - 22 * (4 - i);\n    }\n\n    this.drawChildren();\n  }\n}\n","import { Rect, Sprite, TileMap } from 'wglt';\n\nimport { Player } from '../entities/player';\nimport { Shark } from '../entities/shark';\nimport { Game } from '../game';\nimport { Portal } from '../items/portal';\nimport { Tiles } from './tiles';\nimport { Overworld } from './overworld';\nimport { Dungeon } from './dungeon';\n\n// Size of the map\nconst MAP_WIDTH = 512;\nconst MAP_HEIGHT = 512;\n\nexport class MapGenerator {\n  readonly game: Game;\n  nextKeyId = 0;\n\n  constructor(game: Game) {\n    this.game = game;\n  }\n\n  createMap() {\n    const overworld = new Overworld(this);\n    const dungeon = new Dungeon(this, overworld.rect.x2, 0);\n\n    // Create portal entrance\n    const game = this.game;\n    const player = game.player as Player;\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0x00FFFFFF);\n    const portal1 = new Portal(game, player.x + 4, player.y, 'portal', portalSprite);\n    const portal2 = dungeon.layers[0].entrance as Portal;\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n\n    // Touch-up (add shadows, other ambient effects)\n    this.touchUp(this.game.tileMap as TileMap);\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n\n  clearMap(map: TileMap, rect: Rect, tile: number, blocked: boolean, blockedSight: boolean) {\n    for (let y = rect.y1; y < rect.y2; y++) {\n      for (let x = rect.x1; x < rect.x2; x++) {\n        map.setTile(x, y, 0, tile);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, blocked, blockedSight);\n        for (let z = 1; z < 4; z++) {\n          map.setTile(z, x, y, Tiles.EMPTY);\n          map.setAnimated(x, y, z, false);\n        }\n      }\n    }\n  }\n\n  createRiver(map: TileMap, bounds: Rect, length: number) {\n    const rng = this.game.rng;\n    const water = bounds.getCenter();\n    for (let i = 0; i < length; i++) {\n      map.setTile(water.x, water.y, 0, Tiles.WATER);\n      map.setTile(water.x - 1, water.y, 0, Tiles.WATER);\n      map.setTile(water.x + 1, water.y, 0, Tiles.WATER);\n      map.setTile(water.x, water.y - 1, 0, Tiles.WATER);\n      map.setTile(water.x, water.y + 1, 0, Tiles.WATER);\n      map.setAnimated(water.x, water.y, 0, true);\n      map.setAnimated(water.x - 1, water.y, 0, true);\n      map.setAnimated(water.x + 1, water.y, 0, true);\n      map.setAnimated(water.x, water.y - 1, 0, true);\n      map.setAnimated(water.x, water.y + 1, 0, true);\n      map.setBlocked(water.x, water.y, true, false);\n      map.setBlocked(water.x - 1, water.y, true, false);\n      map.setBlocked(water.x + 1, water.y, true, false);\n      map.setBlocked(water.x, water.y - 1, true, false);\n      map.setBlocked(water.x, water.y + 1, true, false);\n      water.x += rng.nextRange(-1, 2);\n      water.y += rng.nextRange(-1, 2);\n      if (!bounds.contains(water)) {\n        return;\n      }\n    }\n  }\n\n  private touchUp(map: TileMap) {\n    const game = this.game;\n    const rng = game.rng;\n\n    // Touch up walls / half walls\n    for (let y = 0; y < MAP_HEIGHT; y++) {\n      for (let x = 0; x < MAP_WIDTH; x++) {\n        const t1 = map.getTile(x, y, 0);\n        const t2 = map.getTile(x, y + 1, 0);\n        const t3 = map.getTile(x - 1, y, 0);\n        const t4 = map.getTile(x + 1, y, 0);\n        const t5 = map.getTile(x, y - 1, 0);\n\n        if (t1 === Tiles.FLOOR && t3 === Tiles.WALL && t5 === Tiles.HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_NORTHWEST);\n        }\n\n        if (t1 === Tiles.FLOOR && t4 === Tiles.WALL && t5 === Tiles.HALF_WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_NORTHEAST);\n        }\n\n        if (t1 === Tiles.FLOOR && t3 === Tiles.WALL && t2 === Tiles.WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_SOUTHWEST);\n        }\n\n        if (t1 === Tiles.FLOOR && t4 === Tiles.WALL && t2 === Tiles.WALL && rng.nextRange(0, 4) === 0) {\n          map.setTile(x, y, 1, Tiles.COBWEB_SOUTHEAST);\n        }\n\n        if (t1 === Tiles.CLOSED_DOOR && t2 !== Tiles.WALL) {\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        if (t1 === Tiles.WALL && t2 !== Tiles.WALL && t2 !== Tiles.CLOSED_DOOR) {\n          const r = rng.nextRange(0, 20);\n          if (r === 0) {\n            map.setTile(x, y, 0, Tiles.HALF_WALL2);\n          } else if (r === 1) {\n            map.setTile(x, y, 0, Tiles.HALF_WALL3);\n          } else {\n            map.setTile(x, y, 0, Tiles.HALF_WALL);\n          }\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        if (t1 !== Tiles.WATER && t2 === Tiles.WATER) {\n          map.setTile(x, y + 1, 2, Tiles.SHADOW);\n        }\n\n        const nearBridge = t2 === Tiles.BRIDGE || t3 === Tiles.BRIDGE || t4 === Tiles.BRIDGE || t5 === Tiles.BRIDGE;\n        if (t1 === Tiles.WATER && nearBridge && rng.nextRange(0, 20) === 1) {\n          game.entities.add(new Shark(game, x, y, 3));\n        }\n      }\n    }\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(0, 168, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('SharkAI')\nclass SharkAI extends AI {\n  doAi() {\n    const shark = this.actor as Shark;\n    const player = shark.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (shark.distanceTo(player) < 2) {\n      shark.attack(player, shark.getDamage());\n    }\n  }\n}\n\n@Serializable('Shark')\nexport class Shark extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Shark', SPRITE, level);\n    this.ai = new SharkAI(this);\n  }\n}","import { TileMap, Rect, Vec2, computePath, Sprite } from \"wglt\";\nimport { Player } from \"../entities/player\";\nimport { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { Ghost } from \"../entities/ghost\";\nimport { Spider } from \"../entities/spider\";\nimport { Snake } from \"../entities/snake\";\nimport { Bat } from \"../entities/bat\";\nimport { Troll } from \"../entities/troll\";\nimport { Portal } from \"../items/portal\";\nimport { King } from \"../entities/king\";\nimport { Castle } from \"./castle\";\nimport { Vendor } from \"../entities/vendor\";\nimport { HealthPotion } from \"../items/healthpotion\";\nimport { EquipmentBuilder } from \"../equipment/equipmentbuilder\";\nimport { ItemQuality } from \"../items/itemquality\";\nimport { Game } from \"../game\";\n\nconst OVERWORLD_WIDTH = 256;\nconst OVERWORLD_HEIGHT = 256;\n\nexport class Overworld {\n  readonly rect: Rect;\n\n  constructor(mapGen: MapGenerator) {\n    const game = mapGen.game;\n    const map = game.tileMap as TileMap;\n    const player = game.player as Player;\n    const rng = game.rng;\n\n    const outerOverworld = new Rect(0, 0, OVERWORLD_WIDTH, OVERWORLD_HEIGHT);\n    const overworld = new Rect(4, 4, OVERWORLD_WIDTH - 8, OVERWORLD_HEIGHT - 8);\n\n    mapGen.clearMap(map, outerOverworld, Tiles.WATER, true, false);\n    mapGen.clearMap(map, overworld, Tiles.GRASS, false, false);\n\n    player.x = (OVERWORLD_WIDTH / 2) | 0;\n    player.y = (OVERWORLD_HEIGHT / 2) | 0;\n    player.home.x = player.x;\n    player.home.y = player.y;\n\n    // Make sure there's a ring of water around the map\n    const point = new Vec2(0, 0);\n    for (point.y = outerOverworld.y1; point.y < outerOverworld.y2; point.y++) {\n      for (point.x = outerOverworld.x1; point.x < outerOverworld.x2; point.x++) {\n        if (!overworld.contains(point)) {\n          map.setAnimated(point.x, point.y, 0, true);\n        }\n      }\n    }\n\n    // Create a river\n    mapGen.createRiver(map, overworld, 5000);\n\n    // Make sure the player starts on ground\n    for (let y = player.y - 4; y <= player.y + 4; y++) {\n      for (let x = player.x - 4; x <= player.x + 4; x++) {\n        map.setTile(x, y, 0, Tiles.GRASS);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create graveyards\n    const graveyards = [];\n    for (let i = 0; i < 5; i++) {\n      const w = rng.nextRange(14, 18);\n      const h = rng.nextRange(8, 12);\n      const x = rng.nextRange(overworld.x1, overworld.x2 - w);\n      const y = rng.nextRange(overworld.y1, overworld.y2 - h);\n      const graveyard = new Rect(x, y, w, h);\n      const center = graveyard.getCenter();\n      for (let y = graveyard.y1; y < graveyard.y2; y++) {\n        for (let x = graveyard.x1; x < graveyard.x2; x++) {\n          map.setTile(x, y, 0, Tiles.GRASS);\n          map.setAnimated(x, y, 0, false);\n\n          if (x === graveyard.x1 && y === graveyard.y1) {\n            // Top-left corner\n            map.setTile(x, y, 1, Tiles.FENCE8);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y1) {\n            // Top-right corner\n            map.setTile(x, y, 1, Tiles.FENCE7);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x1 && y === graveyard.y2 - 1) {\n            // Bottom-left corner\n            map.setTile(x, y, 1, Tiles.FENCE6);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1 && y === graveyard.y2 - 1) {\n            // Bottom-right corner\n            map.setTile(x, y, 1, Tiles.FENCE5);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x1) {\n            // Vertical-left fence\n            map.setTile(x, y, 1, Tiles.FENCE10);\n            map.setBlocked(x, y, true, false);\n\n          } else if (x === graveyard.x2 - 1) {\n            // Vertical-right fence\n            map.setTile(x, y, 1, Tiles.FENCE9);\n            map.setBlocked(x, y, true, false);\n\n          } else if (y === graveyard.y1 || y === graveyard.y2 - 1) {\n            // Horizontal fence\n            map.setTile(x, y, 1, Tiles.FENCE1);\n            map.setBlocked(x, y, true, false);\n\n          } else {\n            // Middle space\n            map.setBlocked(x, y, false);\n          }\n        }\n      }\n\n      // Create entrances\n      map.setTile(center.x, graveyard.y1, 0, Tiles.GRASS);\n      map.setTile(center.x, graveyard.y1, 1, Tiles.EMPTY);\n      map.setBlocked(center.x, graveyard.y1, false);\n\n      map.setTile(center.x, graveyard.y2 - 1, 0, Tiles.GRASS);\n      map.setTile(center.x, graveyard.y2 - 1, 1, Tiles.EMPTY);\n      map.setBlocked(center.x, graveyard.y2 - 1, false);\n\n      // Create a ghost\n      const distance = Math.hypot(center.x - player.x, center.y - player.y);\n      const level = Math.round(distance / 5);\n      const ghost = new Ghost(game, center.x, center.y, level);\n      game.entities.add(ghost);\n\n      graveyards.push(graveyard);\n    }\n\n    // Create the main castle\n    const castle = new Castle(mapGen, new Rect(0, 0, 10, 10));\n\n    // Create a road from the player to the castle\n    let path = computePath(map, player, castle.center, 10000);\n    if (!path) {\n      // Step 1: Create bridges necessary along vertical axis\n      let x = player.x;\n      for (let y = Math.min(player.y, castle.center.y); y <= Math.max(player.y, castle.center.y); y++) {\n        if (map.isBlocked(x, y)) {\n          map.setTile(x, y, 0, Tiles.BRIDGE);\n          map.setAnimated(x, y, 0, false);\n          map.setBlocked(x, y, false);\n        }\n      }\n\n      // Step 2: Create bridges necessary along horizontal axis\n      let y = player.y;\n      for (let x = Math.min(player.x, castle.center.x); x <= Math.max(player.x, castle.center.x); x++) {\n        if (map.isBlocked(x, y)) {\n          map.setTile(x, y, 0, Tiles.BRIDGE);\n          map.setAnimated(x, y, 0, false);\n          map.setBlocked(x, y, false);\n        }\n      }\n\n      // Step 3: Recompute the path\n      path = computePath(map, player, castle.center, 10000);\n    }\n\n    if (path) {\n      for (let i = 0; i < path.length; i++) {\n        if (map.getTile(path[i].x, path[i].y, 0) === Tiles.GRASS) {\n          map.setTile(path[i].x, path[i].y, 1, Tiles.PATH);\n        }\n      }\n    } else {\n      console.log('eek! no path!');\n    }\n\n    // Create trees\n    for (let i = 0; i < 5000; i++) {\n      const treeX = rng.nextRange(overworld.x1, overworld.x2);\n      const treeY = rng.nextRange(overworld.y1, overworld.y2);\n      const distance = Math.hypot(treeX - player.x, treeY - player.y);\n      if (distance < 6) {\n        // Too close to start location\n        continue;\n      }\n      if (map.getTile(treeX, treeY, 0) !== Tiles.GRASS ||\n        map.getTile(treeX, treeY, 1) === Tiles.PATH ||\n        map.isBlocked(treeX, treeY)) {\n        // Already occupied\n        continue;\n      }\n      // Create a tree\n      map.setTile(treeX, treeY, 0, Tiles.GRASS);\n      map.setBlocked(treeX, treeY, true);\n      const treeType = rng.nextRange(0, 2);\n      if (treeType === 0) {\n        map.setTile(treeX, treeY, 1, Tiles.TREE1);\n      } else {\n        map.setTile(treeX, treeY, 1, Tiles.TREE2);\n      }\n    }\n\n    // Create baddies\n    for (let i = 0; i < 600; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(overworld.x1 + 1, overworld.x2 - 2);\n      const y = rng.nextRange(overworld.y1 + 1, overworld.y2 - 2);\n      const distance = Math.hypot(x - player.x, y - player.y);\n      if (distance < 10) {\n        // Too close to start location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n\n      for (let j = 0; j < 3; j++) {\n        const pos = game.findFreeTile(x, y, 3);\n        if (!pos) {\n          // No more free tiles\n          break;\n        }\n\n        if (map.getTile(pos.x, pos.y, 0) !== Tiles.GRASS) {\n          // Not grass, ignore\n          continue;\n        }\n\n        const level = Math.round((distance - 10) / 10) + rng.nextRange(1, 3);\n        let monster = null;\n\n        if (roll < 25) {\n          monster = new Spider(game, pos.x, pos.y, level);\n        } else if (roll < 50) {\n          monster = new Snake(game, pos.x, pos.y, level);\n        } else if (roll < 75) {\n          monster = new Bat(game, pos.x, pos.y, level);\n        } else {\n          monster = new Troll(game, pos.x, pos.y, level);\n        }\n\n        game.entities.add(monster);\n      }\n    }\n\n    // Create portal entrance\n    const portalSprite = new Sprite(528, 408, 16, 24, 1, false, undefined, 0xFF00FFFF);\n    const portal1 = new Portal(game, player.x + 2, player.y, 'portal', portalSprite);\n    const portal2 = new Portal(game, graveyards[0].x + 2, graveyards[0].y + 2, 'portal', portalSprite);\n    portal1.other = portal2;\n    portal2.other = portal1;\n    game.entities.add(portal1);\n    game.entities.add(portal2);\n\n    const king = new King(game, player.x - 2, player.y);\n    game.entities.add(king);\n\n    // Create one vendor by the player\n    this.createVendor(game, player.x, player.y + 2, 1);\n\n    // Create random vendors\n\n    this.rect = outerOverworld;\n  }\n\n  private createVendor(game: Game, x: number, y: number, level: number) {\n    const vendor = new Vendor(game, x, y, level);\n    for (let i = 0; i < 20; i++) {\n      vendor.inventory.add(new HealthPotion(game));\n    }\n    for (let i = 0; i < 4; i++) {\n      vendor.inventory.add(new EquipmentBuilder(game)\n          .withRandomDrop(level + i, ItemQuality.UNCOMMON)\n          .build());\n    }\n    game.entities.add(vendor);\n  }\n}\n","import { Sprite, Serializable } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\n\nconst SPRITE = new Sprite(64, 288, 16, 24, 2, true, undefined, 0xE0E0E0A0);\n\n@Serializable('Ghost')\nexport class Ghost extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Ghost', SPRITE, level);\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\n\nconst SPRITE = new Sprite(256, 144, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('SnakeAI')\nclass SnakeAI extends AI {\n  doAi() {\n    const snake = this.actor as Snake;\n    const player = snake.game.player;\n    if (!player) {\n      return;\n    }\n\n    if (snake.distanceTo(player) < 4) {\n      snake.attack(player, snake.getDamage());\n    }\n  }\n}\n\n@Serializable('Snake')\nexport class Snake extends Monster {\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Snake', SPRITE, level);\n    this.ai = new SnakeAI(this);\n  }\n}","import {AI, Sprite, Rect, Dialog, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Player } from './player';\nimport { QuestDialog } from '../gui/questdialog';\nimport { Quest } from '../quests/quest';\n\nconst SPRITE = new Sprite(320, 360, 16, 24, 2, true, undefined, 0xa040a0ff);\n\n@Serializable('KingAI')\nclass KingAI extends AI {\n  doAi() {\n    const king = this.actor as King;\n    const player = king.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    if (king.sentiment !== Sentiment.HOSTILE) {\n      // Not hostile, do nothing\n      return;\n    }\n\n    if (king.distanceTo(player) > 1.5) {\n      // Move towards player if far away\n      king.moveToward(player.x, player.y);\n\n    } else if (player.hp > 0) {\n      // Close enough, attack! (if the player is still alive.)\n      king.attack(player, king.getDamage());\n    }\n  }\n}\n\n@Serializable('King')\nexport class King extends StatsActor {\n  dialog?: Dialog;\n\n  constructor(game: Game, x: number, y: number) {\n    super(game, x, y, 'King', SPRITE);\n    this.ai = new KingAI(this);\n    this.level = 99;\n    this.maxHp = 10 + this.level * 2;\n    this.hp = this.maxHp;\n    this.strength = 10 + this.level * 2;\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.HOSTILE) {\n      return super.onBump(player);\n    }\n\n    if (!this.dialog) {\n      const desc = [\n        'A THREAT WITHIN',\n        '',\n        'I hope you strapped your belt on tight,',\n        'young paladin, because there is work to',\n        'do here in Northshire.',\n        '',\n        'And I don\\'t mean farming.',\n        '',\n        'The Stormwind guards are hard pressed to',\n        'keep the peace here, with so many of us',\n        'in distant lands and so many threats',\n        'pressing close. And so we\\'re enlisting',\n        'the aid of anyone willing to defend',\n        'their home. And their alliance.',\n        '',\n        'If you\\'re here to answer the call, then',\n        'speak with my superior, Marshal McBride.',\n        'He\\'s inside the abbey behind me.'\n      ];\n\n      const completion = [\n        'Ah, good. Another volunteer.',\n        'I hope it\\'s enough.',\n        'The human lands are threatened from without,',\n        'and so many of our forces have been marchaled abroad.',\n      ];\n\n      const dialog = new QuestDialog(new Rect(10, 40, 200, 200));\n      dialog.quest = new Quest(desc, 40);\n      this.game.gui.add(dialog);\n      this.dialog = dialog;\n    }\n    this.dialog.visible = true;\n    return true;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n}","import {Colors, Dialog, Rect} from 'wglt';\nimport { Quest } from '../quests/quest';\n\nconst MARGIN = 8;\n\nexport class QuestDialog extends Dialog {\n  quest?: Quest;\n\n  constructor(rect: Rect) {\n    super(rect);\n    this.modal = true;\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect || !this.quest) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const centerX = ((containerRect.x1 + containerRect.x2) / 2) | 0;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    for (let i = 0; i < this.quest.description.length; i++) {\n      this.gui.app.drawString(this.quest.description[i], x, y, Colors.WHITE);\n      y += 10;\n    }\n\n    this.rect.height = Math.max(200, (y + MARGIN) - containerRect.y);\n    this.drawChildren();\n  }\n}","import { Serializable } from \"wglt\";\n\n@Serializable('Quest')\nexport class Quest {\n  description: string[];\n  xpGain: number;\n\n  constructor(description: string[], xpGain: number) {\n    this.description = description;\n    this.xpGain = xpGain;\n  }\n}\n","import { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { Vec2, Rect } from \"wglt\";\nimport { Guard } from \"../entities/guard\";\n\nexport class Castle {\n  rect: Rect;\n  center: Vec2;\n\n  constructor(mapGen: MapGenerator, castle: Rect) {\n    const game = mapGen.game;\n    const map = game.tileMap;\n    const rng = game.rng;\n    const center = castle.getCenter();\n    const moat = castle;\n    const walls = new Rect(castle.x + 2, castle.y + 2, castle.width - 4, castle.height - 4);\n    const floors = new Rect(walls.x + 1, walls.y + 1, walls.width - 2, walls.height - 2);\n\n    // Create moat\n    for (let y = moat.y1; y < moat.y2; y++) {\n      for (let x = moat.x1; x < moat.x2; x++) {\n        map.setTile(x, y, 0, Tiles.WATER);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, true);\n        map.setBlocked(x, y, true, false);\n      }\n    }\n\n    // Create castle\n    for (let y = walls.y1; y < walls.y2; y++) {\n      for (let x = walls.x1; x < walls.x2; x++) {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create castle walls\n    for (let x = walls.x1; x < walls.x2; x++) {\n      map.setTile(x, walls.y1, 0, Tiles.WALL);\n      map.setBlocked(x, walls.y1, true);\n      map.setTile(x, walls.y2 - 1, 0, Tiles.WALL);\n      map.setBlocked(x, walls.y2 - 1, true);\n    }\n    for (let y = walls.y1; y < walls.y2; y++) {\n      map.setTile(walls.x1, y, 0, Tiles.WALL);\n      map.setBlocked(walls.x1, y, true);\n      map.setTile(walls.x2 - 1, y, 0, Tiles.WALL);\n      map.setBlocked(walls.x2 - 1, y, true);\n    }\n\n    // Create draw bridges\n    for (let y = moat.y1 - 1; y < moat.y1 + 3; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = moat.y2 - 3; y < moat.y2 + 1; y++) {\n      for (let x = center.x - 1; x <= center.x; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x1 - 1; x < moat.x1 + 3; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n    for (let y = center.y - 1; y <= center.y; y++) {\n      for (let x = moat.x2 - 3; x < moat.x2 + 1; x++) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n        map.setTile(x, y, 1, Tiles.EMPTY);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n\n    // Create guards\n    for (let i = 0; i < 10; i++) {\n      const waypoints = [new Vec2(rng.nextRange(floors.x1, floors.x2), rng.nextRange(floors.y1, floors.y2))];\n      for (let j = 1; j < 4; j++) {\n        const prev = waypoints[j - 1];\n        if (rng.nextRange(0, 2) === 0) {\n          waypoints.push(new Vec2(prev.x, rng.nextRange(floors.y1, floors.y2)));\n        } else {\n          waypoints.push(new Vec2(rng.nextRange(floors.x1, floors.x2), prev.y));\n        }\n      }\n      const guard = new Guard(game, waypoints[0].x, waypoints[0].y, waypoints);\n      game.entities.add(guard);\n    }\n\n    // return castle;\n    this.rect = castle;\n    this.center = center;\n  }\n}\n","import { AI, Sprite, Vec2, Colors, Serializable, Actor } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(320, 96, 16, 24, 2, true, undefined, 0x5790b7FF);\n\n@Serializable('GuardAI')\nclass GuardAI extends AI {\n  readonly waypoints: Vec2[];\n  waypointIndex: number;\n  waitCount: number;\n  aggroTarget?: Actor;\n  aggroCount: number;\n\n  constructor(actor: Guard, waypoints: Vec2[]) {\n    super(actor);\n    this.waypoints = waypoints;\n    this.waypointIndex = 0;\n    this.waitCount = 0;\n    this.aggroCount = 0;\n  }\n\n  doAi() {\n    const guard = this.actor as Guard;\n    const game = guard.game as Game;\n    const player = game.player as Player;\n\n    if (this.aggroTarget) {\n      if (this.aggroTarget.hp <= 0) {\n        // Target is dead, so go back to normal\n        this.aggroTarget = undefined;\n        this.aggroCount = 0;\n        return;\n      }\n\n      this.aggroCount++;\n\n      if (this.aggroCount === 1) {\n        // First attack\n        const game = guard.game as Game;\n        game.log('Guard shouts for help!', Colors.LIGHT_BLUE);\n        for (let i = 0; i < game.entities.length; i++) {\n          const entity = game.entities.get(i);\n          if (entity instanceof Guard) {\n            const otherGuard = entity as Guard;\n            if (guard.distanceTo(otherGuard) < 6) {\n              otherGuard.sentiment = guard.sentiment;\n              (otherGuard.ai as GuardAI).aggroTarget = this.aggroTarget;\n            }\n          }\n        }\n      } else {\n        if (guard.distanceTo(this.aggroTarget) > 1.0) {\n          // Move towards target if far away\n          guard.moveToward(this.aggroTarget.x, this.aggroTarget.y);\n        } else {\n          // Close enough, attack!\n          const damage = 10;\n          guard.attack(this.aggroTarget, damage);\n        }\n      }\n\n      return;\n    }\n\n    // Not currently targeting anything\n    this.aggroCount = 0;\n\n    // If hostile against player, then target the player\n    if (guard.sentiment === Sentiment.HOSTILE) {\n      this.aggroTarget = player;\n      return;\n    }\n\n    // If an enemy is visible, then target that enemy\n    for (let i = 0; i < game.entities.length; i++) {\n      const entity = game.entities.get(i);\n      if (entity instanceof Monster &&\n          !(entity instanceof Guard) &&\n          game.tileMap.isVisible(entity.x, entity.y)) {\n        this.aggroTarget = entity;\n        return;\n      }\n    }\n\n    if (this.waitCount > 0) {\n      this.waitCount--;\n      return;\n    }\n\n    const waypoint = this.waypoints[this.waypointIndex];\n    if (guard.x === waypoint.x && guard.y === waypoint.y) {\n      this.waypointIndex = (this.waypointIndex + 1) % this.waypoints.length;\n      this.waitCount = guard.game.rng.nextRange(5, 15);\n      return;\n    }\n\n    guard.moveToward(waypoint.x, waypoint.y);\n  }\n}\n\n@Serializable('Guard')\nexport class Guard extends Monster {\n\n  constructor(game: Game, x: number, y: number, waypoints: Vec2[]) {\n    super(game, x, y, 'Guard', SPRITE, 10);\n    this.ai = new GuardAI(this, waypoints);\n    this.seen = true;\n    this.sentiment = Sentiment.FRIENDLY;\n  }\n}","import {AI, Sprite, Rect, Dialog, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport { StatsActor, Sentiment } from './statsactor';\nimport { Player } from './player';\nimport { VendorDialog } from '../gui/vendordialog';\n\nconst SPRITE = new Sprite(224, 360, 16, 24, 2, true, undefined, 0xc3d012ff);\n\n@Serializable('VendorAI')\nclass VendorAI extends AI {\n  doAi() {\n    const vendor = this.actor as Vendor;\n    const player = vendor.game.player as Player;\n    if (!player) {\n      return;\n    }\n\n    if (vendor.sentiment !== Sentiment.HOSTILE) {\n      // Not hostile, do nothing\n      return;\n    }\n\n    if (vendor.distanceTo(player) > 1.5) {\n      // Move towards player if far away\n      vendor.moveToward(player.x, player.y);\n\n    } else if (player.hp > 0) {\n      // Close enough, attack! (if the player is still alive.)\n      vendor.attack(player, vendor.getDamage());\n    }\n  }\n}\n\n@Serializable('Vendor')\nexport class Vendor extends StatsActor {\n  dialog?: Dialog;\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Vendor', SPRITE);\n    this.ai = new VendorAI(this);\n    this.level = level;\n    this.maxHp = 10 + this.level * 2;\n    this.hp = this.maxHp;\n    this.strength = 10 + this.level * 2;\n  }\n\n  onBump(player: Player) {\n    if (this.sentiment === Sentiment.HOSTILE) {\n      return super.onBump(player);\n    }\n\n    if (!this.dialog) {\n      const dialog = new VendorDialog(new Rect(10, 40, 125, 175), this);\n      this.game.gui.add(dialog);\n      this.dialog = dialog;\n    }\n    this.dialog.visible = true;\n    return true;\n  }\n\n  takeDamage(attacker: StatsActor, damage: number) {\n    super.takeDamage(attacker, damage);\n    this.sentiment = Sentiment.HOSTILE;\n  }\n}","import { Serializable, Dialog, Message, ArrayList, Item, Rect, ButtonSlot, Keys, Actor, Colors, Button } from \"wglt\";\nimport { VendorButton } from \"./vendorbutton\";\nimport { BaseItem } from \"../items/baseitem\";\nimport { Gold } from \"../items/gold\";\n\nconst MARGIN = 4;\nconst BUTTON_SPACING = 2;\nconst PAGE_SIZE = 5;\n\n@Serializable('VendorDialog')\nexport class VendorDialog extends Dialog {\n  readonly vendor: Actor;\n  readonly items: ArrayList<Item>;\n  readonly messages: Message[];\n\n  constructor(rect: Rect, vendor: Actor) {\n    super(rect);\n    this.vendor = vendor;\n    this.items = vendor.inventory;\n    this.modal = true;\n\n    for (let i = 0; i < PAGE_SIZE; i++) {\n      // Slots are repositioned at render time\n      this.add(new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_A + i));\n    }\n\n    // Add initial items\n    for (let i = 0; i < vendor.inventory.length; i++) {\n      this.addItem(vendor.inventory.get(i));\n    }\n\n    this.items.addListener({\n      onAdd: (_, item) => this.addItem(item),\n      onRemove: (_, item) => this.removeItem(item)});\n\n    this.messages = [\n      new Message('How are ya?', Colors.WHITE)\n    ];\n  }\n\n  private addItem(item: Item) {\n    if (item instanceof Gold) {\n      // Ignore gold\n      return;\n    }\n\n    const existingButton = this.getExistingButton(item);\n    if (existingButton) {\n      existingButton.stackItems.add(item);\n      return;\n    }\n\n    const freeSlot = this.getNextFreeSlot();\n    if (freeSlot) {\n      freeSlot.add(new VendorButton(freeSlot.rect.clone(), this.vendor, item));\n    }\n  }\n\n  private removeItem(item: Item) {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      const button = buttonSlot.button;\n      if (button && button instanceof VendorButton) {\n        if (button.stackItems.contains(item)) {\n          button.stackItems.remove(item);\n          if (button.stackItems.length === 0) {\n            buttonSlot.remove(button);\n          }\n        }\n      }\n    }\n  }\n\n  private getExistingButton(item: Item) {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      const button = buttonSlot.button;\n      if (button && button instanceof VendorButton) {\n        const existing = button.stackItems.get(0);\n        if (item.isStackable(existing)) {\n          return button;\n        }\n      }\n    }\n    return undefined;\n  }\n\n  private getNextFreeSlot() {\n    for (let i = 0; i < this.children.length; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      if (!buttonSlot.button) {\n        return buttonSlot;\n      }\n    }\n    return undefined;\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    for (let i = 0; i < this.messages.length; i++) {\n      const msg = this.messages[i];\n      this.gui.app.drawString(msg.text, x, y, msg.color);\n      y += 10;\n    }\n\n    for (let i = 0; i < PAGE_SIZE; i++) {\n      const buttonSlot = this.children.get(i) as ButtonSlot;\n      buttonSlot.rect.x = x;\n      buttonSlot.rect.y = y;\n      buttonSlot.rect.width = buttonRect.width;\n      buttonSlot.rect.height = buttonRect.height;\n\n      const button = buttonSlot.button as VendorButton | undefined;\n      if (button) {\n        const item = button.getFirstItem();\n        if (item && item instanceof BaseItem) {\n          this.gui.app.drawString(item.name, x + 25, y + 3, Colors.YELLOW);\n          this.gui.app.drawString(item.sellPrice + ' gold', x + 25, y + 11, Colors.WHITE);\n        }\n      }\n\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Button, ArrayList, Item, Serializable, Rect, Actor, Colors } from \"wglt\";\nimport { TooltipDialog } from \"wglt/dist/gui/tooltipdialog\";\nimport { Game } from \"../game\";\nimport { Player } from \"../entities/player\";\nimport { BaseItem } from \"../items/baseitem\";\n\n@Serializable('VendorButton')\nexport class VendorButton extends Button {\n  readonly vendor: Actor;\n  readonly stackItems: ArrayList<Item>;\n\n  constructor(rect: Rect, vendor: Actor, initialItem: Item) {\n    super(rect, initialItem.sprite);\n    this.vendor = vendor;\n    this.stackItems = new ArrayList<Item>();\n    this.stackItems.add(initialItem);\n    this.tooltipMessages = initialItem.tooltipMessages;\n  }\n\n  getFirstItem() {\n    return this.stackItems.length > 0 ? this.stackItems.get(0) : undefined;\n  }\n\n  click() {\n    const item = this.getFirstItem();\n    if (!item || !(item instanceof BaseItem)) {\n      return;\n    }\n\n    const game = item.game as Game;\n    const player = game.player as Player;\n    if (player.countGold() < item.sellPrice) {\n      game.log('Insufficient funds', Colors.RED);\n      return;\n    }\n\n    this.vendor.inventory.remove(item);\n    player.inventory.add(item);\n    player.moveGold(this.vendor, item.sellPrice);\n    game.log('Purchased ' + item.name);\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    super.drawContents();\n\n    if (this.stackItems.length > 1) {\n      const dst = this.rect;\n      this.gui.app.drawRightString(this.stackItems.length.toString(), dst.x2 - 3, dst.y2 - 10);\n    }\n  }\n\n  updateTooltip(tooltip: TooltipDialog) {\n    if (this.stackItems.length > 0) {\n      const item = this.stackItems.get(0);\n      item.onUpdateTooltip();\n      this.tooltipMessages = item.tooltipMessages;\n    }\n    super.updateTooltip(tooltip);\n  }\n}","import { MapGenerator } from \"./mapgen\";\nimport { Rect } from \"wglt\";\nimport { DungeonLayer } from \"./dungeonlayer\";\nimport { Portal } from \"../items/portal\";\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\nexport class Dungeon {\n  readonly layers: DungeonLayer[];\n\n  constructor(mapGen: MapGenerator, x: number, y: number) {\n    this.layers = [];\n\n    for (let i = 0; i < 10; i++) {\n      const x2 = x;\n      const y2 = y + i * DUNGEON_HEIGHT;\n      const layer = new DungeonLayer(mapGen, new Rect(x2, y2, DUNGEON_WIDTH, DUNGEON_HEIGHT), i);\n      this.layers.push(layer);\n    }\n\n    // Connect all of the dungeon floors to each other\n    for (let i = 1; i < 10; i++) {\n      const exit = this.layers[i - 1].exit as Portal;\n      const entrance = this.layers[i].entrance as Portal;\n      exit.other = entrance;\n      entrance.other = exit;\n    }\n  }\n}\n","import { Rect, TileMap, Sprite } from \"wglt\";\nimport { Portal } from \"../items/portal\";\nimport { MapGenerator } from \"./mapgen\";\nimport { Tiles } from \"./tiles\";\nimport { RedDragon } from \"../entities/reddragon\";\nimport { WindElemental } from \"../entities/windelemental\";\nimport { Griffon } from \"../entities/griffon\";\nimport { Key } from \"../items/key\";\nimport { EquipmentBuilder } from \"../equipment/equipmentbuilder\";\nimport { ItemQuality } from \"../items/itemquality\";\nimport { BossDoor } from \"../items/bossdoor\";\nimport { LockedDoor } from \"../items/lockeddoor\";\nimport { Spider } from \"../entities/spider\";\nimport { Bat } from \"../entities/bat\";\nimport { Troll } from \"../entities/troll\";\nimport { HealthPotion } from \"../items/healthpotion\";\nimport { Scroll } from \"../items/scroll\";\nimport { LightningAbility } from \"../abilities/lightning\";\nimport { FireballAbility } from \"../abilities/fireball\";\nimport { ConfuseAbility } from \"../abilities/confuse\";\nimport { StoneGolem } from \"../entities/stonegolem\";\n\nconst DUNGEON_WIDTH = 64;\nconst DUNGEON_HEIGHT = 48;\n\n// Parameters for dungeon generator\nconst ROOM_MIN_WIDTH = 6;\nconst ROOM_MAX_WIDTH = 10;\nconst ROOM_MIN_HEIGHT = 4;\nconst ROOM_MAX_HEIGHT = 8;\nconst MAX_ROOMS = 10;\nconst MAX_ROOM_MONSTERS = 3;\nconst MAX_ROOM_ITEMS = 2;\nconst MAX_ROOM_OBSTACLES = 4;\n\nconst STAIRS_SPRITE = new Sprite(700, 500, 16, 24, 1);\n\nconst BOSS_ZONE_HEIGHT = 10;\nconst BOSS_LAYOUTS = [\n  {\n    // Top left\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, 2, 14, 8),\n    stairsRoom: new Rect(2, 4, 4, 4)\n  },\n  {\n    // Top right\n    bossZone: new Rect(0, 0, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, 2, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, 4, 4, 4)\n  },\n  {\n    // Bottom left\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(8, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(2, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n  {\n    // Bottom right\n    bossZone: new Rect(0, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, DUNGEON_WIDTH, BOSS_ZONE_HEIGHT),\n    bossRoom: new Rect(DUNGEON_WIDTH - 22, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT, 14, 8),\n    stairsRoom: new Rect(DUNGEON_WIDTH - 6, DUNGEON_HEIGHT - BOSS_ZONE_HEIGHT + 2, 4, 4)\n  },\n];\n\nexport class DungeonLayer {\n  private readonly mapGen: MapGenerator;\n  readonly rect: Rect;\n  readonly level: number;\n  readonly rooms: Rect[];\n  entrance?: Portal;\n  exit?: Portal;\n\n  constructor(mapGen: MapGenerator, rect: Rect, level: number) {\n    this.mapGen = mapGen;\n    this.rect = rect;\n    this.level = level;\n    this.rooms = [];\n\n    const game = mapGen.game;\n    const map = game.tileMap as TileMap;\n    const rng = game.rng;\n    const keyId = mapGen.nextKeyId++;\n\n    // Clear the map to all walls\n    mapGen.clearMap(map, rect, Tiles.WALL, true, true);\n\n    // Create bodies of water\n    mapGen.createRiver(map, rect, 200);\n\n    // Make sure there's a ring of \"empty\" all around\n    for (let x = rect.x1; x < rect.x2; x++) {\n      map.setTile(x, rect.y1, 0, Tiles.EMPTY);\n      map.setAnimated(x, rect.y1, 0, false);\n      map.setBlocked(x, rect.y1, true);\n\n      map.setTile(x, rect.y2 - 1, 0, Tiles.EMPTY);\n      map.setAnimated(x, rect.y2 - 1, 0, false);\n      map.setBlocked(x, rect.y2 - 1, true);\n    }\n    for (let y = rect.y1; y < rect.y2; y++) {\n      map.setTile(rect.x1, y, 0, Tiles.EMPTY);\n      map.setAnimated(rect.x1, y, 0, false);\n      map.setBlocked(rect.x1, y, true);\n\n      map.setTile(rect.x2 - 1, y, 0, Tiles.EMPTY);\n      map.setAnimated(rect.x2 - 1, y, 0, false);\n      map.setBlocked(rect.x2 - 1, y, true);\n    }\n\n    const bossLayout = BOSS_LAYOUTS[rng.nextRange(0, BOSS_LAYOUTS.length)];\n\n    const bossZone = new Rect(\n      bossLayout.bossZone.x + rect.x,\n      bossLayout.bossZone.y + rect.y,\n      bossLayout.bossZone.width,\n      bossLayout.bossZone.height);\n\n    const bossRoom = new Rect(\n      bossLayout.bossRoom.x + rect.x,\n      bossLayout.bossRoom.y + rect.y,\n      bossLayout.bossRoom.width,\n      bossLayout.bossRoom.height);\n\n    const stairsRoom = new Rect(\n      bossLayout.stairsRoom.x + rect.x,\n      bossLayout.stairsRoom.y + rect.y,\n      bossLayout.stairsRoom.width,\n      bossLayout.stairsRoom.height);\n\n    while (this.rooms.length < MAX_ROOMS) {\n      // Random width and height\n      const w = rng.nextRange(ROOM_MIN_WIDTH, ROOM_MAX_WIDTH);\n      const h = rng.nextRange(ROOM_MIN_HEIGHT, ROOM_MAX_HEIGHT);\n\n      // Random position without going out of the boundaries of the map\n      const x = rng.nextRange(rect.x1 + 2, rect.x2 - w - 3);\n      const y = rng.nextRange(rect.y1 + 2, rect.y2 - h - 3);\n\n      // \"Rect\" class makes rectangles easier to work with\n      const newRoom = new Rect(x, y, w, h);\n\n      // Run through the other rooms and see if they intersect with this one\n      let failed = newRoom.intersects(bossZone);\n      for (let j = 0; j < this.rooms.length; j++) {\n        if (newRoom.intersects(this.rooms[j])) {\n          failed = true;\n          break;\n        }\n      }\n\n      if (failed) {\n        continue;\n      }\n\n      // This means there are no intersections, so this room is valid\n\n      // \"paint\" it to the map's tiles\n      this.createRoom(map, newRoom);\n\n      // Center coordinates of new room, will be useful later\n      const center = newRoom.getCenter();\n\n      if (this.rooms.length === 0) {\n        // This is the first room, where the player starts at\n        this.entrance = new Portal(game, center.x, center.y, 'stairs', STAIRS_SPRITE);\n        game.entities.add(this.entrance);\n        map.setTile(center.x, center.y, 0, Tiles.STAIRS_UP);\n\n      } else {\n        // All rooms after the first:\n        // Connect it to the previous room with a tunnel\n\n        // Center coordinates of previous room\n        const prev = this.rooms[this.rooms.length - 1].getCenter();\n\n        // Draw a coin (random number that is either 0 or 1)\n        if (rng.nextRange(0, 1) === 1) {\n          // First move horizontally, then vertically\n          this.createHTunnel(map, prev.x, center.x, prev.y);\n          this.createVTunnel(map, prev.y, center.y, center.x);\n        } else {\n          // First move vertically, then horizontally\n          this.createVTunnel(map, prev.y, center.y, prev.x);\n          this.createHTunnel(map, prev.x, center.x, center.y);\n        }\n\n        this.placeMonsters(newRoom, this.level);\n      }\n\n      // Add items (scrolls and health potions)\n      this.placeItems(newRoom);\n\n      // Finally, append the new room to the list\n      this.rooms.push(newRoom);\n    }\n\n    {\n      // Create boss room\n      this.createRoom(map, bossRoom);\n\n      // Connect boss room to previous room\n      const prev = this.rooms[this.rooms.length - 1].getCenter();\n      const center = bossRoom.getCenter();\n      this.createHTunnel(map, prev.x, center.x, prev.y);\n      this.createVTunnel(map, prev.y, center.y, center.x);\n\n      // Create boss\n      const bossLevel = this.level * 3 + 2;\n      const dice = rng.nextRange(0, 4);\n      let boss = undefined;\n      if (dice === 0) {\n        boss = new RedDragon(game, center.x, center.y, bossLevel, bossRoom);\n      } else if (dice === 1) {\n        boss = new WindElemental(game, center.x, center.y, bossLevel, bossRoom);\n      } else if (dice === 2) {\n        boss = new Griffon(game, center.x, center.y, bossLevel);\n      } else {\n        boss = new StoneGolem(game, center.x, center.y, bossLevel);\n      }\n\n      boss.inventory.add(new Key(game, boss.x, boss.y, keyId));\n\n      const itemLevel = Math.round(bossLevel / 2);\n      const itemQuality = rng.nextRange(0, 3) === 0 ? ItemQuality.EPIC : ItemQuality.RARE;\n      boss.inventory.add(new EquipmentBuilder(game).withRandomDrop(itemLevel, itemQuality).build());\n      game.entities.add(boss);\n\n      // Create a door to boss room\n      if (center.y > prev.y) {\n        map.setTile(center.x, bossRoom.y1, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(center.x, bossRoom.y1, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y1, boss));\n      } else {\n        map.setTile(center.x, bossRoom.y2, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(center.x, bossRoom.y2, true);\n        game.entities.add(new BossDoor(game, center.x, bossRoom.y2, boss));\n      }\n\n      // Create stairs room\n      this.createRoom(map, stairsRoom);\n\n      // Create stairs\n      const stairsLoc = stairsRoom.getCenter();\n      this.createHTunnel(map, center.x, stairsLoc.x, stairsLoc.y);\n      map.setTile(stairsLoc.x, stairsLoc.y, 0, Tiles.STAIRS_DOWN);\n      this.exit = new Portal(game, stairsLoc.x, stairsLoc.y, 'stairs', STAIRS_SPRITE);\n      game.entities.add(this.exit);\n\n      // Create door to stairs room\n      if (center.x > stairsLoc.x) {\n        map.setTile(bossRoom.x1, center.y, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(bossRoom.x1, center.y, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x1, center.y, keyId));\n      } else {\n        map.setTile(bossRoom.x2, center.y, 0, Tiles.CLOSED_DOOR);\n        map.setBlocked(bossRoom.x2, center.y, true);\n        game.entities.add(new LockedDoor(game, bossRoom.x2, center.y, keyId));\n      }\n    }\n\n    // Place obstacles after all rooms have been connected\n    for (let i = 0; i < this.rooms.length; i++) {\n      this.placeObstacles(this.rooms[i]);\n    }\n\n    // Initial FOV\n    game.resetViewport();\n    game.recomputeFov();\n  }\n  private createRoom(map: TileMap, room: Rect) {\n    for (let y = room.y1 + 1; y < room.y2; y++) {\n      for (let x = room.x1 + 1; x < room.x2; x++) {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setAnimated(x, y, 0, false);\n        map.setBlocked(x, y, false);\n      }\n    }\n  }\n\n  private createHTunnel(map: TileMap, x1: number, x2: number, y: number) {\n    for (let x = Math.min(x1, x2); x <= Math.max(x1, x2); x++) {\n      const existing = map.getTile(x, y, 0);\n      if (existing === Tiles.STAIRS_UP || existing === Tiles.STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === Tiles.WATER) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n      } else {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n      }\n      map.setAnimated(x, y, 0, false);\n      map.setBlocked(x, y, false);\n    }\n  }\n\n  private createVTunnel(map: TileMap, y1: number, y2: number, x: number) {\n    for (let y = Math.min(y1, y2); y <= Math.max(y1, y2); y++) {\n      const existing = map.getTile(x, y, 0);\n      if (existing === Tiles.STAIRS_UP || existing === Tiles.STAIRS_DOWN) {\n        continue;\n      }\n      if (existing === Tiles.WATER) {\n        map.setTile(x, y, 0, Tiles.BRIDGE);\n      } else {\n        map.setTile(x, y, 0, Tiles.FLOOR);\n      }\n      map.setAnimated(x, y, 0, false);\n      map.setBlocked(x, y, false);\n    }\n  }\n\n  private placeMonsters(room: Rect, dungeonLevel: number) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n\n    // Choose random number of monsters\n    const numMonsters = rng.nextRange(0, MAX_ROOM_MONSTERS);\n\n    for (let i = 0; i < numMonsters; i++) {\n      // Choose random spot for this monster\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const roll = rng.nextRange(0, 100);\n      const level = dungeonLevel * 2 + rng.nextRange(1, 3);\n      let monster = null;\n\n      if (roll < 40) {\n        monster = new Spider(game, x, y, level);\n      } else if (roll < 80) {\n        monster = new Bat(game, x, y, level);\n      } else {\n        monster = new Troll(game, x, y, level);\n      }\n\n      game.entities.add(monster);\n    }\n  }\n\n  private placeItems(room: Rect) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n\n    // Choose random number of items\n    const numItems = rng.nextRange(0, MAX_ROOM_ITEMS);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 1, room.x2 - 1);\n      const y = rng.nextRange(room.y1 + 1, room.y2 - 1);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n      let item = null;\n\n      if (dice < 50) {\n        // Create a healing potion (50% chance)\n        item = new HealthPotion(game);\n\n      } else if (dice < 50 + 20) {\n        // Create a lightning bolt scroll (20% chance)\n        item = new Scroll(game, x, y, new LightningAbility());\n\n      } else if (dice < 50 + 20 + 15) {\n        // Create a fireball scroll (15% chance)\n        item = new Scroll(game, x, y, new FireballAbility());\n\n      } else {\n        // Create a confuse scroll (15% chance)\n        item = new Scroll(game, x, y, new ConfuseAbility());\n      }\n\n      item.x = x;\n      item.y = y;\n      game.entities.add(item);\n    }\n  }\n\n  private placeObstacles(room: Rect) {\n    const game = this.mapGen.game;\n    const rng = game.rng;\n    const map = game.tileMap as TileMap;\n\n    // Choose random number of obstacles\n    const numItems = rng.nextRange(0, MAX_ROOM_OBSTACLES + 1);\n\n    for (let i = 0; i < numItems; i++) {\n      // Choose random spot for this item\n      const x = rng.nextRange(room.x1 + 2, room.x2 - 3);\n      const y = rng.nextRange(room.y1 + 2, room.y2 - 3);\n\n      if (game.getEntityAt(x, y)) {\n        // Something already at this location\n        continue;\n      }\n\n      const dice = rng.nextRange(0, 100);\n\n      if (dice < 80) {\n        // Create a barrel\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setTile(x, y, 1, Tiles.BARREL);\n      } else {\n        // Create a statue\n        map.setTile(x, y, 0, Tiles.FLOOR);\n        map.setTile(x, y, 1, Tiles.STATUE);\n      }\n      map.setBlocked(x, y, true, false);\n    }\n  }\n}\n","import {AI, Sprite, Rect, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { FlameCrawler } from './flamecrawler';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(576, 312, 16, 24, 2, true, undefined, 0xd51111ff);\n\n@Serializable('RedDragonAI')\nclass RedDragonAI extends AI {\n  doAi() {\n    const dragon = this.actor as RedDragon;\n    if (dragon.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = dragon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (dragon.sentiment === Sentiment.HOSTILE && dragon.cooldown === 0) {\n      for (let y = dragon.y - 1; y <= dragon.y + 1; y++) {\n        for (let x = dragon.x - 1; x <= dragon.x + 1; x++) {\n          this.createCrawler(x, y, x - dragon.x, y - dragon.y);\n        }\n      }\n\n      dragon.cooldown = 5;\n      return;\n    }\n\n    if (dragon.cooldown > 0) {\n      dragon.cooldown--;\n    }\n\n    // Otherwise, normal AI\n    const dist = dragon.distanceTo(player);\n    if (dist < 2) {\n      dragon.attack(player, dragon.getDamage());\n    } else {\n      dragon.moveToward(player.x, player.y);\n    }\n  }\n\n  private createCrawler(x: number, y: number, dx: number, dy: number) {\n    const dragon = this.actor as RedDragon;\n    const game = dragon.game as Game;\n    if (game.isBlocked(x, y)) {\n      // Ignore blocked\n      return;\n    }\n\n    const player = game.player as Player;\n    if (player && player.x === x && player.y === y) {\n      // Ignore player's current location\n      return;\n    }\n    game.entities.add(new FlameCrawler(game, x, y, dx, dy, dragon.level));\n  }\n}\n\n@Serializable('RedDragon')\nexport class RedDragon extends Monster {\n  readonly room: Rect;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Dragon', SPRITE, level);\n    this.room = room;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new RedDragonAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import {AI, Sprite, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(256, 312, 16, 24, 2, true, undefined, 0xd51111ff);\n\n@Serializable('FlameCrawlerAI')\nclass FlameCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: FlameCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as FlameCrawler;\n    const game = monster.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, Math.round(monster.getDamage()));\n      player.move(monster.dx, monster.dy);\n    } else if (game.tileMap.isBlocked(nextX, nextY)) {\n      monster.game.entities.remove(monster);\n    } else {\n      monster.move(monster.dx, monster.dy);\n    }\n  }\n}\n\n@Serializable('FlameCrawler')\nexport class FlameCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number, level: number) {\n    super(game, x, y, 'Flame Crawler', SPRITE, level);\n    this.ai = new FlameCrawlerAI(this);\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import {AI, Sprite, Rect, Serializable} from 'wglt';\n\nimport {Game} from '../game';\n\nimport {Monster} from './monster';\nimport {Player} from './player';\nimport { Sentiment } from './statsactor';\nimport { WindCrawler } from './windcrawler';\n\nconst SPRITE = new Sprite(288, 312, 16, 24, 2, true, undefined, 0xaad4e2ff);\n\n@Serializable('WindElementalAI')\nclass WindElementalAI extends AI {\n  doAi() {\n    const elemental = this.actor as WindElemental;\n    if (elemental.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = elemental.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    if (elemental.cooldown === 0) {\n      const room = elemental.room;\n      const rng = game.rng;\n\n      // Top and bottom edges\n      for (let x = room.x1 + 1; x < room.x2 - 1; x++) {\n        if (rng.nextRange(0, 2) === 0) {\n          this.createCrawler(x, room.y1 + 1, 0, 1);\n        } else {\n          this.createCrawler(x, room.y2 - 1, 0, -1);\n        }\n      }\n\n      // Left and right edges\n      for (let y = room.y1 + 1; y < room.y2 - 1; y++) {\n        if (rng.nextRange(0, 2) === 0) {\n          this.createCrawler(room.x1 + 1, y, 1, 0);\n        } else {\n          this.createCrawler(room.x2 - 1, y, -1, 0);\n        }\n      }\n\n      elemental.cooldown = 10;\n      return;\n    }\n\n    if (elemental.cooldown > 0) {\n      elemental.cooldown--;\n    }\n\n    const dist = elemental.distanceTo(player);\n    if (dist <= 2) {\n      elemental.attack(player, elemental.getDamage());\n    }\n  }\n\n  private createCrawler(x: number, y: number, dx: number, dy: number) {\n    const elemental = this.actor as WindElemental;\n    const game = elemental.game as Game;\n    const player = game.player as Player;\n    if (player && player.x === x && player.y === y) {\n      // Ignore player's current location\n      return;\n    }\n    game.entities.add(new WindCrawler(game, x, y, dx, dy, elemental.level));\n  }\n}\n\n@Serializable('WindElemental')\nexport class WindElemental extends Monster {\n  readonly room: Rect;\n  cooldown = 0;\n\n  constructor(game: Game, x: number, y: number, level: number, room: Rect) {\n    super(game, x, y, 'Wind', SPRITE, level);\n    this.room = room;\n    this.maxHp = 10 * level;\n    this.hp = this.maxHp;\n    this.ai = new WindElementalAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import { AI, Sprite, Serializable } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\n\nconst SPRITE = new Sprite(576, 216, 16, 24, 2, true, undefined, 0xaad4e2ff);\n\n@Serializable('WindCrawlerAI')\nclass WindCrawlerAI extends AI {\n  aliveCount: number;\n\n  constructor(actor: WindCrawler) {\n    super(actor);\n    this.alwaysActive = true;\n    this.aliveCount = 0;\n  }\n\n  doAi() {\n    const monster = this.actor as WindCrawler;\n    const game = monster.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    // Count how long it has been alive\n    this.aliveCount++;\n\n    if (this.aliveCount === 1) {\n      // Do nothing on the first turn\n      return;\n    }\n\n    const nextX = monster.x + monster.dx;\n    const nextY = monster.y + monster.dy;\n\n    if (player.x === nextX && player.y === nextY) {\n      monster.attack(player, Math.round(monster.getDamage() / 2));\n      player.move(monster.dx, monster.dy);\n    } else if (game.tileMap.isBlocked(nextX, nextY)) {\n      monster.game.entities.remove(monster);\n    } else {\n      monster.move(monster.dx, monster.dy);\n    }\n  }\n}\n\n@Serializable('WindCrawler')\nexport class WindCrawler extends Monster {\n  readonly dx: number;\n  readonly dy: number;\n\n  constructor(game: Game, x: number, y: number, dx: number, dy: number, level: number) {\n    super(game, x, y, 'Wind Crawler', SPRITE, level);\n    this.ai = new WindCrawlerAI(this);\n    this.dx = dx;\n    this.dy = dy;\n    this.showFrame = false;\n    this.seen = true;\n    this.blocks = false;\n  }\n}","import { AI, Sprite, Serializable, Vec2 } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\nimport { Stunned } from '../ai/stunned';\n\nconst SPRITE = new Sprite(448, 144, 16, 24, 2, true, undefined, 0xf2f261ff);\n\n@Serializable('GriffonAI')\nclass GriffonAI extends AI {\n  countdown: number = 0;\n  cooldown: number = 10;\n  target: Vec2 = new Vec2(0, 0);\n\n  doAi() {\n    const griffon = this.actor as Griffon;\n    if (griffon.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = griffon.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    this.cooldown--;\n    if (this.cooldown === 0) {\n      this.cooldown = 10;\n      this.countdown = 5;\n      this.target.x = player.x;\n      this.target.y = player.y;\n      game.log('Griffon looks at the hero and growls.');\n      return;\n    }\n\n    this.countdown--;\n    if (this.countdown > 0) {\n      game.log('Griffon prepares to pounce...');\n      return;\n    }\n\n    if (this.countdown === 0) {\n      game.log('Griffon leaps!');\n\n      if (player.x === this.target.x && player.y === this.target.y) {\n        // Player didn't move\n        griffon.attack(player, 4 * griffon.getDamage());\n\n        const dest = game.findFreeTile(this.target.x, this.target.y, 2);\n        if (dest) {\n          griffon.moveTo(dest.x, dest.y);\n        }\n\n      } else {\n        // Player moved out of the way, so griffon leaps to the target\n        griffon.moveTo(this.target.x, this.target.y);\n\n        if (player.distanceTo(this.target) < 2) {\n          // Player didn't move far enough, so stunned\n          player.ai = new Stunned(player, 2);\n        }\n      }\n\n      return;\n    }\n\n    // Otherwise, normal AI\n    const dist = griffon.distanceTo(player);\n    if (dist < 2) {\n      griffon.attack(player, griffon.getDamage());\n    } else {\n      griffon.moveToward(player.x, player.y);\n    }\n  }\n}\n\n@Serializable('Griffon')\nexport class Griffon extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Griffon', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new GriffonAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import { Game, Item, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\n\nconst SPRITE = new Sprite(688, 168, 16, 24, 1, true, undefined, 0xFFFF00FF);\n\n@Serializable('Key')\nexport class Key extends Item {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y, 'key', SPRITE, false);\n    this.keyId = keyId;\n  }\n\n  onBump(player: Player) {\n    player.keys[this.keyId] = true;\n    player.moveTo(this.x, this.y);\n    this.game.entities.remove(this);\n    return true;\n  }\n}\n","import { Game, Serializable } from 'wglt';\nimport { Monster } from '../entities/monster';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\n@Serializable('BossDoor')\nexport class BossDoor extends Door {\n  readonly boss: Monster;\n\n  constructor(game: Game, x: number, y: number, boss: Monster) {\n    super(game, x, y);\n    this.boss = boss;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (this.boss.hp <= 0) {\n      // Boss is dead\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    const dotProduct =\n      (this.x - player.x) * (this.boss.x - player.x) +\n      (this.y - player.y) * (this.boss.y - player.y);\n\n    if (dotProduct > 0) {\n      // Walking toward the boss\n      const dx = this.x - player.x;\n      const dy = this.y - player.y;\n      player.move(dx * 2, dy * 2);\n      player.game.log('The door slams shut behind you.');\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import { Game, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Door } from './door';\n\n@Serializable('LockedDoor')\nexport class LockedDoor extends Door {\n  readonly keyId: number;\n\n  constructor(game: Game, x: number, y: number, keyId: number) {\n    super(game, x, y);\n    this.keyId = keyId;\n    this.zIndex = 0;\n  }\n\n  onBump(player: Player) {\n    if (player.keys[this.keyId]) {\n      this.openDoor();\n      player.moveTo(this.x, this.y);\n      return true;\n    }\n\n    // Otherwise, door is locked\n    return false;\n  }\n}\n","import {Ability, Actor, Colors, ConfusedMonster, Message, Sprite, TargetType, Serializable} from 'wglt';\n\nconst CONFUSE_RANGE = 8;\nconst CONFUSE_SPRITE = new Sprite(128, 32, 16, 24, 3, false);\nconst TOOLTIP_MESSAGES = [\n  new Message('Confuse', Colors.WHITE),\n  new Message('20 mana', Colors.WHITE),\n  new Message('Befuddles an enemy into a random', Colors.YELLOW),\n  new Message('stupor for 10 turns.', Colors.YELLOW),\n];\n\n@Serializable('ConfuseAbility')\nexport class ConfuseAbility implements Ability {\n  readonly sprite: Sprite;\n  readonly name: string;\n  readonly targetType: TargetType;\n  readonly minRange: number;\n  readonly maxRange: number;\n  readonly cooldown: number;\n  readonly tooltipMessages: Message[];\n\n  constructor() {\n    this.sprite = CONFUSE_SPRITE;\n    this.name = 'confuse';\n    this.targetType = TargetType.ENTITY;\n    this.minRange = 1;\n    this.maxRange = CONFUSE_RANGE;\n    this.cooldown = 1;\n    this.tooltipMessages = TOOLTIP_MESSAGES;\n  }\n\n  cast(caster: Actor, target: Actor) {\n    const game = caster.game;\n\n    if (caster.distanceTo(target) > CONFUSE_RANGE) {\n      if (caster === game.player) {\n        game.log('Target out of range.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    if (game.tileMap && !game.tileMap.isVisible(target.x, target.y)) {\n      if (caster === game.player) {\n        game.log('Target not visible.', Colors.LIGHT_GRAY);\n      }\n      return false;\n    }\n\n    target.ai = new ConfusedMonster(target);\n    game.log('The eyes of the ' + target.name + ' look vacant, as he stumbles around!', Colors.LIGHT_GREEN);\n    caster.ap--;\n    return true;\n  }\n}","import { AI, Sprite, Serializable, Vec2 } from 'wglt';\n\nimport { Game } from '../game';\n\nimport { Monster } from './monster';\nimport { Player } from './player';\nimport { Sentiment } from './statsactor';\n\nconst SPRITE = new Sprite(480, 264, 16, 24, 2, true, undefined, 0xd4d4d4ff);\n\n@Serializable('StoneGolemAI')\nclass StoneGolemAI extends AI {\n  countdown: number = 0;\n  cooldown: number = 10;\n  charging: number = 0;\n  target: Vec2 = new Vec2(0, 0);\n\n  doAi() {\n    const golem = this.actor as StoneGolem;\n    if (golem.sentiment !== Sentiment.HOSTILE) {\n      // Do nothing until player attacks\n      return;\n    }\n\n    const game = golem.game as Game;\n    const player = game.player as Player;\n    if (!player || player.hp <= 0) {\n      return;\n    }\n\n    this.cooldown--;\n    if (this.cooldown === 0) {\n      this.cooldown = 15;\n      this.countdown = 3;\n      this.target.x = player.x;\n      this.target.y = player.y;\n      game.log('Golem looks at the hero and growls.');\n      return;\n    }\n\n    this.countdown--;\n    if (this.countdown > 0) {\n      game.log('Golem prepares to charge...');\n      return;\n    }\n\n    if (this.countdown === 0) {\n      game.log('Golem charges!');\n      this.charging = 6;\n    }\n\n    this.charging--;\n    if (this.charging > 0) {\n      // Charging\n      const playerDist = golem.distanceTo(player);\n      const targetDist = golem.distanceTo(this.target);\n      if (playerDist < 2) {\n        golem.attack(player, golem.getDamage());\n      } else if (targetDist >= 2) {\n        const dx = Math.round((this.target.x - golem.x) / targetDist * 2.0);\n        const dy = Math.round((this.target.y - golem.y) / targetDist * 2.0);\n        golem.move(dx, dy);\n      } else {\n        golem.moveToward(this.target.x, this.target.y);\n      }\n      return;\n    }\n\n    // Otherwise, normal AI\n    const dist = golem.distanceTo(player);\n    if (dist < 2) {\n      golem.attack(player, golem.getDamage());\n    } else {\n      golem.moveToward(player.x, player.y);\n    }\n  }\n}\n\n@Serializable('StoneGolem')\nexport class StoneGolem extends Monster {\n\n  constructor(game: Game, x: number, y: number, level: number) {\n    super(game, x, y, 'Golem', SPRITE, level);\n    this.maxHp = 10 * this.level;\n    this.hp = this.maxHp;\n    this.ai = new StoneGolemAI(this);\n    this.sentiment = Sentiment.NEUTRAL;\n  }\n}\n","import {ButtonSlot, Colors, Dialog, Rect, Button, Keys, Sprite, Message} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nconst MARGIN = 5;\nconst BUTTON_SPACING = 2;\n\nconst CONSTITUTION_SPRITE = new Sprite(688, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst DEXTERITY_SPRITE = new Sprite(640, 144, 16, 24, 1, false, undefined, 0xC04020FF);\nconst INTELLIGENCE_SPRITE = new Sprite(688, 168, 16, 24, 1, false, undefined, 0xC04020FF);\nconst STRENGTH_SPRITE = new Sprite(608, 312, 16, 24, 1, false, undefined, 0xC04020FF);\n\nconst DESCRIPTIONS = [\n  [\n    new Message('Constitution', Colors.YELLOW),\n    new Message('Health, staminal,', Colors.WHITE),\n    new Message('and vital force', Colors.WHITE)\n  ],\n  [\n    new Message('Dexterity', Colors.YELLOW),\n    new Message('Physical agility, reflexes,', Colors.WHITE),\n    new Message('balance, and poise', Colors.WHITE)\n  ],\n  [\n    new Message('Intelligence', Colors.YELLOW),\n    new Message('Mental acuity, recall,', Colors.WHITE),\n    new Message('and analytical skill', Colors.WHITE)\n  ],\n  [\n    new Message('Strength', Colors.YELLOW),\n    new Message('Natural athleticism,', Colors.WHITE),\n    new Message('and bodily power', Colors.WHITE)\n  ],\n];\n\nexport class LevelUpDialog extends Dialog {\n  readonly player: Player;\n\n  constructor(rect: Rect, player: Player) {\n    super(rect);\n    this.player = player;\n    this.modal = true;\n\n    const constitutionSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_1);\n    const constitutionBtn = new Button(new Rect(0, 0, 16, 24), CONSTITUTION_SPRITE, undefined, () => this.incConstitution());\n    constitutionSlot.add(constitutionBtn);\n    this.add(constitutionSlot);\n\n    const dexteritySlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_2);\n    const dexterityBtn = new Button(new Rect(0, 0, 16, 24), DEXTERITY_SPRITE, undefined, () => this.incDexterity());\n    dexteritySlot.add(dexterityBtn);\n    this.add(dexteritySlot);\n\n    const intelligenceSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_3);\n    const intelligenceBtn = new Button(new Rect(0, 0, 16, 24), INTELLIGENCE_SPRITE, undefined, () => this.incIntelligence());\n    intelligenceSlot.add(intelligenceBtn);\n    this.add(intelligenceSlot);\n\n    const strengthSlot = new ButtonSlot(new Rect(0, 0, 24, 24), Keys.VK_4);\n    const strengthBtn = new Button(new Rect(0, 0, 16, 24), STRENGTH_SPRITE, undefined, () => this.incStrength());\n    strengthSlot.add(strengthBtn);\n    this.add(strengthSlot);\n  }\n\n  private incConstitution() {\n    this.increaseStat(1, 0, 0, 0);\n  }\n\n  private incDexterity() {\n    this.increaseStat(0, 1, 0, 0);\n  }\n\n  private incIntelligence() {\n    this.increaseStat(0, 0, 1, 0);\n  }\n\n  private incStrength() {\n    this.increaseStat(0, 0, 0, 1);\n  }\n\n  private increaseStat(con: number, dex: number, int: number, str: number) {\n    this.player.constitution += con;\n    this.player.dexterity += dex;\n    this.player.intelligence += int;\n    this.player.strength += str;\n    this.player.remainingAbilityPoints--;\n    if (this.player.remainingAbilityPoints === 0) {\n      this.visible = false;\n    }\n  }\n\n  drawContents() {\n    super.drawContents();\n\n    if (!this.gui || !this.gui.renderer.buttonSlotRect) {\n      return;\n    }\n\n    // Update positions of button slots\n    const containerRect = this.rect;\n    const buttonRect = this.gui.renderer.buttonSlotRect;\n    const x = containerRect.x + MARGIN;\n    let y = containerRect.y + MARGIN;\n\n    this.gui.app.drawString('Leveled up!', x, y, Colors.WHITE);\n    y += 10;\n\n    this.gui.app.drawString('Choose ' + this.player.remainingAbilityPoints + ' stats to increase:', x, y, Colors.WHITE);\n    y += 10;\n\n    for (let i = 0; i < 4; i++) {\n      const desc = DESCRIPTIONS[i];\n      for (let j = 0; j < desc.length; j++) {\n        this.gui.app.drawString(desc[j].text, x + 25, y + 1 + j * 8, desc[j].color);\n      }\n\n      const child = this.children.get(i);\n      child.rect.x = x;\n      child.rect.y = y;\n      child.rect.width = buttonRect.width;\n      child.rect.height = buttonRect.height;\n      y += buttonRect.height + BUTTON_SPACING;\n    }\n\n    this.rect.height = (y + MARGIN) - containerRect.y;\n    this.drawChildren();\n  }\n}","import { Panel, Rect, Colors } from \"wglt\";\nimport { Game } from \"../game\";\nimport { StatsActor, Sentiment } from \"../entities/statsactor\";\nimport { Player } from \"../entities/player\";\n\nexport class EntityFrames extends Panel {\n  readonly game: Game;\n\n  constructor(game: Game) {\n    super(new Rect(0, 40, 40, 200));\n    this.game = game;\n  }\n\n  drawContents() {\n    if (!this.gui) {\n      return;\n    }\n\n    const bo = this.game.blackoutRect;\n    if (!bo) {\n      return;\n    }\n\n    const app = this.gui.app;\n    const player = this.game.player as Player;\n    const entities = this.game.entities;\n    const x = 2;\n    let y = 40;\n\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities.get(i);\n      if (entity === this.game.player || !(entity instanceof StatsActor)) {\n        continue;\n      }\n      const actor = entity as StatsActor;\n      if (!actor.showFrame || actor.visibleDuration < 0) {\n        continue;\n      }\n\n      // Draw the frame\n      app.drawImage(x, y, 64, 48, 54, 18);\n\n      // Draw the name\n      let nameColor = Colors.YELLOW;\n      if (actor.sentiment === Sentiment.FRIENDLY) {\n        nameColor = Colors.LIGHT_GREEN;\n      } else if (actor.sentiment === Sentiment.HOSTILE) {\n        nameColor = Colors.RED;\n      }\n      app.drawCenteredString(actor.name, x + 20, y + 1, nameColor);\n\n      // Draw the health\n      const healthWidth = Math.round(38.0 * actor.hp / actor.maxHp);\n      app.drawImage(x + 1, y + 9, bo.x, bo.y, bo.width, bo.height, Colors.DARK_GREEN, healthWidth, 7);\n      app.drawCenteredString(actor.hp + '/' + actor.maxHp, x + 20, y + 9, Colors.WHITE);\n\n      // Draw the level\n      let levelColor = Colors.YELLOW;\n      if (actor.level > player.level + 3) {\n        levelColor = Colors.RED;\n      } else if (actor.level > player.level + 1) {\n        levelColor = Colors.ORANGE;\n      } else if (actor.level < player.level - 3) {\n        levelColor = Colors.LIGHT_GREEN;\n      } else if (actor.level < player.level - 1) {\n        levelColor = 0xbbee44FF; // Yellow-green\n      }\n      app.drawCenteredString(actor.level.toString(), x + 47, y + 5, levelColor);\n\n      y += 24;\n    }\n  }\n}\n","import {AppState, Colors, fromHsv, Keys, Sprite} from 'wglt';\nimport { App } from './app';\n\nconst OPTIONS = [\n  {display: 'NEW GAME', hash: 'chooseseed', enabled: true},\n  {display: 'CONTINUE', hash: 'game', enabled: false},\n  {display: 'TUTORIAL', hash: 'tutorial', enabled: true},\n  {display: 'HIGH SCORES', hash: 'highscores', enabled: true},\n  {display: 'CREDITS', hash: 'credits', enabled: true},\n];\n\nexport class MainMenu extends AppState {\n  private time: number;\n  private sprites: Sprite[];\n  private selectedIndex = 0;\n\n  constructor(app: App) {\n    super(app);\n    this.time = 0;\n    this.sprites = [];\n    this.chooseSprites();\n  }\n\n  private chooseSprites() {\n    this.sprites = [];\n\n    for (let i = 0; i < 4; i++) {\n      const x = 32 * Math.floor(Math.random() * 19);\n      const y = 96 + 24 * Math.floor(Math.random() * 13);\n      const color = fromHsv(Math.random(), 0.9, 0.5);\n      this.sprites.push(new Sprite(x, y, 16, 24, 2, true, undefined, color));\n    }\n  }\n\n  update() {\n    Sprite.updateGlobalAnimations();\n\n    // \"Continue\" is only enabled if there is an active game\n    const app = this.app as App;\n    OPTIONS[1].enabled = !!app.game;\n\n    const time2 = this.time % 300;\n    if (time2 < 80 && time2 % 8 === 0) {\n      this.chooseSprites();\n    }\n\n    // Draw the gradient background image\n    this.app.drawImage(this.app.center.x - 128, 0, 0, 800, 256, 128);\n\n    // Draw the title text\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x + 1, 33, Colors.BLACK);\n    this.app.drawCenteredString('KOPI LUWAK DUNGEON', this.app.center.x, 32);\n\n    // Draw the sprites\n    for (let i = 0; i < 4; i++) {\n      const x = this.app.center.x - 56 + i * 32;\n      const y = 52;\n      this.sprites[i].draw(this.app, x, y);\n    }\n\n    // Draw the menu options\n    const mouse = this.app.mouse;\n    for (let i = 0; i < OPTIONS.length; i++) {\n      const option = OPTIONS[i];\n      const x = this.app.center.x;\n      const y = 90 + 15 * i;\n      let color = Colors.WHITE;\n      if (!option.enabled) {\n        color = Colors.GRAY;\n      } else if (i === this.selectedIndex) {\n        color = Colors.YELLOW;\n      }\n      this.app.drawCenteredString(option.display, x + 1, y + 1, Colors.BLACK);\n      this.app.drawCenteredString(option.display, x, y, color);\n\n      if (mouse.y >= y && mouse.y < y + 14 && mouse.isClicked()) {\n        window.location.hash = option.hash;\n      }\n\n      if (i === this.selectedIndex && this.app.isKeyPressed(Keys.VK_ENTER)) {\n        window.location.hash = option.hash;\n      }\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_UP)) {\n      this.selectedIndex--;\n    }\n\n    if (this.app.isKeyPressed(Keys.VK_DOWN)) {\n      this.selectedIndex++;\n    }\n\n    if (this.selectedIndex < 0) {\n      this.selectedIndex += OPTIONS.length;\n    }\n\n    if (this.selectedIndex >= OPTIONS.length) {\n      this.selectedIndex -= OPTIONS.length;\n    }\n\n    this.time++;\n  }\n}\n","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\nimport {Dwarf} from './races/dwarf';\nimport {Elf} from './races/elf';\nimport {Human} from './races/human';\nimport {Orc} from './races/orc';\nimport {Undead} from './races/undead';\n\nconst RACES = [new Human(), new Dwarf(), new Elf(), new Orc(), new Undead()];\n\nexport class RaceMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your race', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), RACES);\n    selectDialog.renderer = new MenuItemRenderer(60, 40);\n\n    selectDialog.onSelect = (choice: CharacterRace) => {\n      (this.app as App).playerRace = choice;\n      window.location.hash = 'chooseclass';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n","import {Colors, Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Dwarf';\nconst ICON = new Sprite(510, 730, 34, 34, undefined, undefined, undefined, 0x4080C0FF);\nconst DESC = 'Bold and hardy, skilled warriors';\nconst DETAILS = [\n  new Message('+4 Constitution, +2 Strength', Colors.LIGHT_GREEN), new Message('Critical strike bonus', Colors.YELLOW),\n  new Message('Stoneform - Removes all curses', Colors.YELLOW)\n];\n\n@Serializable('Dwarf')\nexport class Dwarf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 4;\n    player.strength += 2;\n  }\n}\n","import {Colors, Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Elf';\nconst ICON = new Sprite(238, 730, 34, 34, undefined, undefined, undefined, 0xFF8080FF);\nconst DESC = 'Magical people of otherworldly grace';\nconst DETAILS = [\n  new Message('+3 Dexterity, +3 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Shadowmeld - slip into the shadows', Colors.YELLOW)\n];\n\n@Serializable('Elf')\nexport class Elf extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 3;\n    player.intelligence += 3;\n  }\n}\n","import {Colors, Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Orc';\nconst ICON = new Sprite(442, 730, 34, 34, undefined, undefined, undefined, 0x20B020FF);\nconst DESC = 'Noble savages of shamanistic roots';\nconst DETAILS = [\n  new Message('+2 Constitution, +4 Strength', Colors.LIGHT_GREEN),\n  new Message('War Shout - Boost all stats by +1 for 5 turns', Colors.YELLOW)\n];\n\n@Serializable('Orc')\nexport class Orc extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.constitution += 2;\n    player.strength += 4;\n  }\n}\n","import {Colors, Message, Sprite, Serializable} from 'wglt';\n\nimport {Player} from '../entities/player';\n\nimport {CharacterRace} from './characterrace';\n\nconst NAME = 'Undead';\nconst ICON = new Sprite(578, 730, 34, 34, undefined, undefined, undefined, 0xD040D0FF);\nconst DESC = 'Cursed to wander for eternity';\nconst DETAILS = [\n  new Message('+2 Dexterity, +4 Intelligence', Colors.LIGHT_GREEN),\n  new Message('Cannibalize - 10% of damage returns as health', Colors.YELLOW)\n];\n\n@Serializable('Undead')\nexport class Undead extends CharacterRace {\n  constructor() {\n    super(NAME, ICON, DESC, DETAILS);\n  }\n\n  initPlayer(player: Player) {\n    player.race = this;\n    player.dexterity += 2;\n    player.intelligence += 4;\n  }\n}\n","import { Colors, Item, Message, Sprite, Serializable } from 'wglt';\nimport { Player } from '../entities/player';\nimport { Game } from '../game';\n\nconst SPRITE = new Sprite(848, 168, 16, 24, 1, true, undefined, 0x80C0C0FF);\n\nconst TOOLTIPS = [\n  new Message('Hearthstone', Colors.WHITE),\n  new Message('Item Level 1', Colors.YELLOW),\n  new Message('Use: Returns you to your home.', Colors.LIGHT_GREEN),\n  new Message('Speak to an Innkeeper in a different', Colors.LIGHT_GREEN),\n  new Message('place to change your home location.', Colors.LIGHT_GREEN),\n];\n\n@Serializable('Hearthstone')\nexport class Hearthstone extends Item {\n  constructor(game: Game, x?: number, y?: number) {\n    super(game, x || 0, y || 0, 'Hearthstone', SPRITE, false);\n    this.tooltipMessages = TOOLTIPS;\n  }\n\n  onUse(player: Player) {\n    const game = player.game as Game;\n    game.hideAllDialogs();\n    game.warpToPoint(player.home);\n    return true;\n  }\n}\n","import {AppState, Colors, ComplexSelectDialog, Message, MessagePanel, Rect, SelectOption} from 'wglt';\n\nimport {App} from './app';\nimport {MenuItemRenderer} from './gui/menuitemrenderer';\nimport {CharacterRace} from './races/characterrace';\n\n\nclass Seed implements SelectOption {\n  number: number;\n  name: string;\n  description: string;\n\n  constructor(number: number, name: string, description?: string) {\n    this.number = number;\n    this.name = name;\n    this.description = description || '';\n  }\n}\n\nexport class SeedMenu extends AppState {\n  constructor(app: App) {\n    super(app);\n\n    this.gui.renderer.baseRect = new Rect(0, 64, 24, 24);\n\n    const seeds = [\n      new Seed(1, 'One'),\n      new Seed(2, 'Two'),\n      new Seed(3, 'Three'),\n      new Seed(4, 'Four'),\n      new Seed(5, 'Five'),\n      new Seed(Math.round(Math.random() * 1000.0), 'Random'),\n    ];\n\n    this.gui.add(new MessagePanel(new Rect(2, 2, 256, 10), new Message('Choose your seed', Colors.WHITE)));\n\n    const selectDialog = new ComplexSelectDialog(new Rect(2, 15, 246, 204), seeds);\n    selectDialog.renderer = new MenuItemRenderer(15, 15);\n\n    selectDialog.onSelect = (choice: Seed) => {\n      console.log('set seed', choice.number);\n      (this.app as App).seed = choice.number;\n      window.location.hash = 'chooserace';\n    };\n\n    selectDialog.onCancel = () => {\n      window.history.back();\n    };\n\n    this.gui.add(selectDialog);\n  }\n}\n"],"sourceRoot":""}